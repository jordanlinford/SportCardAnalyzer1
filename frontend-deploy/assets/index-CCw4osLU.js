var Ine=Object.defineProperty;var nL=t=>{throw TypeError(t)};var One=(t,e,n)=>e in t?Ine(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>One(t,typeof e!="symbol"?e+"":e,n),fk=(t,e,n)=>e.has(t)||nL("Cannot "+n);var Y=(t,e,n)=>(fk(t,e,"read from private field"),n?n.call(t):e.get(t)),tt=(t,e,n)=>e.has(t)?nL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(fk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(fk(t,e,"access private method"),n);var e0=(t,e,n,r)=>({set _(i){Fe(t,e,i,n)},get _(){return Y(t,e,r)}});function Nne(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rne(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var XW={exports:{}},US={},GW={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=Symbol.for("react.element"),Mne=Symbol.for("react.portal"),Dne=Symbol.for("react.fragment"),jne=Symbol.for("react.strict_mode"),Lne=Symbol.for("react.profiler"),Fne=Symbol.for("react.provider"),$ne=Symbol.for("react.context"),Bne=Symbol.for("react.forward_ref"),zne=Symbol.for("react.suspense"),Vne=Symbol.for("react.memo"),Une=Symbol.for("react.lazy"),rL=Symbol.iterator;function Wne(t){return t===null||typeof t!="object"?null:(t=rL&&t[rL]||t["@@iterator"],typeof t=="function"?t:null)}var qW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KW=Object.assign,QW={};function Lg(t,e,n){this.props=t,this.context=e,this.refs=QW,this.updater=n||qW}Lg.prototype.isReactComponent={};Lg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZW(){}ZW.prototype=Lg.prototype;function HN(t,e,n){this.props=t,this.context=e,this.refs=QW,this.updater=n||qW}var YN=HN.prototype=new ZW;YN.constructor=HN;KW(YN,Lg.prototype);YN.isPureReactComponent=!0;var iL=Array.isArray,JW=Object.prototype.hasOwnProperty,XN={current:null},eH={key:!0,ref:!0,__self:!0,__source:!0};function tH(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)JW.call(e,r)&&!eH.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gx,type:t,key:s,ref:a,props:i,_owner:XN.current}}function Hne(t,e){return{$$typeof:Gx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GN(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gx}function Yne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sL=/\/+/g;function pk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yne(""+t.key):e.toString(36)}function vw(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Gx:case Mne:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+pk(a,0):r,iL(i)?(n="",t!=null&&(n=t.replace(sL,"$&/")+"/"),vw(i,e,n,"",function(c){return c})):i!=null&&(GN(i)&&(i=Hne(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(sL,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",iL(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+pk(s,o);a+=vw(s,e,n,l,i)}else if(l=Wne(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+pk(s,o++),a+=vw(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function n0(t,e,n){if(t==null)return t;var r=[],i=0;return vw(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Xne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var as={current:null},xw={transition:null},Gne={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:xw,ReactCurrentOwner:XN};function nH(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:n0,forEach:function(t,e,n){n0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return n0(t,function(){e++}),e},toArray:function(t){return n0(t,function(e){return e})||[]},only:function(t){if(!GN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=Lg;It.Fragment=Dne;It.Profiler=Lne;It.PureComponent=HN;It.StrictMode=jne;It.Suspense=zne;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gne;It.act=nH;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=XN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)JW.call(e,l)&&!eH.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Gx,type:t.type,key:i,ref:s,props:r,_owner:a}};It.createContext=function(t){return t={$$typeof:$ne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fne,_context:t},t.Consumer=t};It.createElement=tH;It.createFactory=function(t){var e=tH.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:Bne,render:t}};It.isValidElement=GN;It.lazy=function(t){return{$$typeof:Une,_payload:{_status:-1,_result:t},_init:Xne}};It.memo=function(t,e){return{$$typeof:Vne,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=xw.transition;xw.transition={};try{t()}finally{xw.transition=e}};It.unstable_act=nH;It.useCallback=function(t,e){return as.current.useCallback(t,e)};It.useContext=function(t){return as.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return as.current.useDeferredValue(t)};It.useEffect=function(t,e){return as.current.useEffect(t,e)};It.useId=function(){return as.current.useId()};It.useImperativeHandle=function(t,e,n){return as.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return as.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return as.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return as.current.useMemo(t,e)};It.useReducer=function(t,e,n){return as.current.useReducer(t,e,n)};It.useRef=function(t){return as.current.useRef(t)};It.useState=function(t){return as.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return as.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return as.current.useTransition()};It.version="18.3.1";GW.exports=It;var I=GW.exports;const U=vn(I),qN=Nne({__proto__:null,default:U},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qne=I,Kne=Symbol.for("react.element"),Qne=Symbol.for("react.fragment"),Zne=Object.prototype.hasOwnProperty,Jne=qne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ere={key:!0,ref:!0,__self:!0,__source:!0};function rH(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Zne.call(e,r)&&!ere.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Kne,type:t,key:s,ref:a,props:i,_owner:Jne.current}}US.Fragment=Qne;US.jsx=rH;US.jsxs=rH;XW.exports=US;var m=XW.exports,Ny={},iH={exports:{}},Qs={},sH={exports:{}},aH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var W=D.length;D.push(z);e:for(;0<W;){var X=W-1>>>1,q=D[X];if(0<i(q,z))D[X]=z,D[W]=q,W=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],W=D.pop();if(W!==z){D[0]=W;e:for(var X=0,q=D.length,J=q>>>1;X<J;){var ae=2*(X+1)-1,_e=D[ae],K=ae+1,fe=D[K];if(0>i(_e,W))K<q&&0>i(fe,_e)?(D[X]=fe,D[K]=W,X=K):(D[X]=_e,D[ae]=W,X=ae);else if(K<q&&0>i(fe,W))D[X]=fe,D[K]=W,X=K;else break e}}return z}function i(D,z){var W=D.sortIndex-z.sortIndex;return W!==0?W:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function _(D){if(p=!1,b(D),!g)if(n(l)!==null)g=!0,F(w);else{var z=n(c);z!==null&&B(_,z.startTime-D)}}function w(D,z){g=!1,p&&(p=!1,v(k),k=-1),f=!0;var W=h;try{for(b(z),d=n(l);d!==null&&(!(d.expirationTime>z)||D&&!P());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var q=X(d.expirationTime<=z);z=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),b(z)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var ae=n(c);ae!==null&&B(_,ae.startTime-z),J=!1}return J}finally{d=null,h=W,f=!1}}var C=!1,A=null,k=-1,E=5,T=-1;function P(){return!(t.unstable_now()-T<E)}function N(){if(A!==null){var D=t.unstable_now();T=D;var z=!0;try{z=A(!0,D)}finally{z?O():(C=!1,A=null)}}else C=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=N,O=function(){$.postMessage(null)}}else O=function(){y(N,0)};function F(D){A=D,C||(C=!0,O())}function B(D,z){k=y(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,F(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var W=h;h=z;try{return D()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return z()}finally{h=W}},t.unstable_scheduleCallback=function(D,z,W){var X=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,D={id:u++,callback:z,priorityLevel:D,startTime:W,expirationTime:q,sortIndex:-1},W>X?(D.sortIndex=W,e(c,D),n(l)===null&&D===n(c)&&(p?(v(k),k=-1):p=!0,B(_,W-X))):(D.sortIndex=q,e(l,D),g||f||(g=!0,F(w))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var z=h;return function(){var W=h;h=z;try{return D.apply(this,arguments)}finally{h=W}}}})(aH);sH.exports=aH;var tre=sH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nre=I,Gs=tre;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oH=new Set,dv={};function Bh(t,e){Lp(t,e),Lp(t+"Capture",e)}function Lp(t,e){for(dv[t]=e,t=0;t<e.length;t++)oH.add(e[t])}var Vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LT=Object.prototype.hasOwnProperty,rre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aL={},oL={};function ire(t){return LT.call(oL,t)?!0:LT.call(aL,t)?!1:rre.test(t)?oL[t]=!0:(aL[t]=!0,!1)}function sre(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function are(t,e,n,r){if(e===null||typeof e>"u"||sre(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xi[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xi[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xi[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xi[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xi[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xi[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xi[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xi[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xi[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var KN=/[\-:]([a-z])/g;function QN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KN,QN);xi[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KN,QN);xi[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KN,QN);xi[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xi[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});xi.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xi[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZN(t,e,n,r){var i=xi.hasOwnProperty(e)?xi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(are(e,n,i,r)&&(n=null),r||i===null?ire(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ic=nre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r0=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),JN=Symbol.for("react.strict_mode"),FT=Symbol.for("react.profiler"),lH=Symbol.for("react.provider"),cH=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),$T=Symbol.for("react.suspense"),BT=Symbol.for("react.suspense_list"),tR=Symbol.for("react.memo"),Tc=Symbol.for("react.lazy"),uH=Symbol.for("react.offscreen"),lL=Symbol.iterator;function Pm(t){return t===null||typeof t!="object"?null:(t=lL&&t[lL]||t["@@iterator"],typeof t=="function"?t:null)}var ir=Object.assign,gk;function oy(t){if(gk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gk=e&&e[1]||""}return`
`+gk+t}var mk=!1;function yk(t,e){if(!t||mk)return"";mk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{mk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oy(t):""}function ore(t){switch(t.tag){case 5:return oy(t.type);case 16:return oy("Lazy");case 13:return oy("Suspense");case 19:return oy("SuspenseList");case 0:case 2:case 15:return t=yk(t.type,!1),t;case 11:return t=yk(t.type.render,!1),t;case 1:return t=yk(t.type,!0),t;default:return""}}function zT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zf:return"Fragment";case Bf:return"Portal";case FT:return"Profiler";case JN:return"StrictMode";case $T:return"Suspense";case BT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cH:return(t.displayName||"Context")+".Consumer";case lH:return(t._context.displayName||"Context")+".Provider";case eR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tR:return e=t.displayName||null,e!==null?e:zT(t.type)||"Memo";case Tc:e=t._payload,t=t._init;try{return zT(t(e))}catch{}}return null}function lre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zT(e);case 8:return e===JN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cre(t){var e=dH(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i0(t){t._valueTracker||(t._valueTracker=cre(t))}function hH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dH(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function f_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VT(t,e){var n=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cL(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Eu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fH(t,e){e=e.checked,e!=null&&ZN(t,"checked",e,!1)}function UT(t,e){fH(t,e);var n=Eu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WT(t,e.type,n):e.hasOwnProperty("defaultValue")&&WT(t,e.type,Eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uL(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function WT(t,e,n){(e!=="number"||f_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ly=Array.isArray;function rp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Eu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function HT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dL(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ye(92));if(ly(n)){if(1<n.length)throw Error(ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Eu(n)}}function pH(t,e){var n=Eu(e.value),r=Eu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var s0,mH=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=s0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ry={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ure=["Webkit","ms","Moz","O"];Object.keys(Ry).forEach(function(t){ure.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ry[e]=Ry[t]})});function yH(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ry.hasOwnProperty(t)&&Ry[t]?(""+e).trim():e+"px"}function vH(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yH(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dre=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XT(t,e){if(e){if(dre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function GT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qT=null;function nR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var KT=null,ip=null,sp=null;function fL(t){if(t=Qx(t)){if(typeof KT!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=GS(e),KT(t.stateNode,t.type,e))}}function xH(t){ip?sp?sp.push(t):sp=[t]:ip=t}function bH(){if(ip){var t=ip,e=sp;if(sp=ip=null,fL(t),e)for(t=0;t<e.length;t++)fL(e[t])}}function wH(t,e){return t(e)}function _H(){}var vk=!1;function SH(t,e,n){if(vk)return t(e,n);vk=!0;try{return wH(t,e,n)}finally{vk=!1,(ip!==null||sp!==null)&&(_H(),bH())}}function fv(t,e){var n=t.stateNode;if(n===null)return null;var r=GS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ye(231,e,typeof n));return n}var QT=!1;if(Vl)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){QT=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{QT=!1}function hre(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var My=!1,p_=null,g_=!1,ZT=null,fre={onError:function(t){My=!0,p_=t}};function pre(t,e,n,r,i,s,a,o,l){My=!1,p_=null,hre.apply(fre,arguments)}function gre(t,e,n,r,i,s,a,o,l){if(pre.apply(this,arguments),My){if(My){var c=p_;My=!1,p_=null}else throw Error(ye(198));g_||(g_=!0,ZT=c)}}function zh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pL(t){if(zh(t)!==t)throw Error(ye(188))}function mre(t){var e=t.alternate;if(!e){if(e=zh(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pL(i),t;if(s===r)return pL(i),e;s=s.sibling}throw Error(ye(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ye(189))}}if(n.alternate!==r)throw Error(ye(190))}if(n.tag!==3)throw Error(ye(188));return n.stateNode.current===n?t:e}function CH(t){return t=mre(t),t!==null?kH(t):null}function kH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kH(t);if(e!==null)return e;t=t.sibling}return null}var EH=Gs.unstable_scheduleCallback,gL=Gs.unstable_cancelCallback,yre=Gs.unstable_shouldYield,vre=Gs.unstable_requestPaint,vr=Gs.unstable_now,xre=Gs.unstable_getCurrentPriorityLevel,rR=Gs.unstable_ImmediatePriority,TH=Gs.unstable_UserBlockingPriority,m_=Gs.unstable_NormalPriority,bre=Gs.unstable_LowPriority,PH=Gs.unstable_IdlePriority,WS=null,$o=null;function wre(t){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(WS,t,void 0,(t.current.flags&128)===128)}catch{}}var to=Math.clz32?Math.clz32:Are,_re=Math.log,Sre=Math.LN2;function Are(t){return t>>>=0,t===0?32:31-(_re(t)/Sre|0)|0}var a0=64,o0=4194304;function cy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function y_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=cy(o):(s&=a,s!==0&&(r=cy(s)))}else a=n&~i,a!==0?r=cy(a):s!==0&&(r=cy(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-to(e),i=1<<n,r|=t[n],e&=~i;return r}function Cre(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kre(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-to(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Cre(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function JT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IH(){var t=a0;return a0<<=1,!(a0&4194240)&&(a0=64),t}function xk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-to(e),t[e]=n}function Ere(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-to(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function iR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-to(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var mn=0;function OH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NH,sR,RH,MH,DH,eP=!1,l0=[],lu=null,cu=null,uu=null,pv=new Map,gv=new Map,Nc=[],Tre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mL(t,e){switch(t){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":pv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(e.pointerId)}}function Om(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qx(e),e!==null&&sR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Pre(t,e,n,r,i){switch(e){case"focusin":return lu=Om(lu,t,e,n,r,i),!0;case"dragenter":return cu=Om(cu,t,e,n,r,i),!0;case"mouseover":return uu=Om(uu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pv.set(s,Om(pv.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gv.set(s,Om(gv.get(s)||null,t,e,n,r,i)),!0}return!1}function jH(t){var e=kd(t.target);if(e!==null){var n=zh(e);if(n!==null){if(e=n.tag,e===13){if(e=AH(n),e!==null){t.blockedOn=e,DH(t.priority,function(){RH(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qT=r,n.target.dispatchEvent(r),qT=null}else return e=Qx(n),e!==null&&sR(e),t.blockedOn=n,!1;e.shift()}return!0}function yL(t,e,n){bw(t)&&n.delete(e)}function Ire(){eP=!1,lu!==null&&bw(lu)&&(lu=null),cu!==null&&bw(cu)&&(cu=null),uu!==null&&bw(uu)&&(uu=null),pv.forEach(yL),gv.forEach(yL)}function Nm(t,e){t.blockedOn===e&&(t.blockedOn=null,eP||(eP=!0,Gs.unstable_scheduleCallback(Gs.unstable_NormalPriority,Ire)))}function mv(t){function e(i){return Nm(i,t)}if(0<l0.length){Nm(l0[0],t);for(var n=1;n<l0.length;n++){var r=l0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lu!==null&&Nm(lu,t),cu!==null&&Nm(cu,t),uu!==null&&Nm(uu,t),pv.forEach(e),gv.forEach(e),n=0;n<Nc.length;n++)r=Nc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nc.length&&(n=Nc[0],n.blockedOn===null);)jH(n),n.blockedOn===null&&Nc.shift()}var ap=ic.ReactCurrentBatchConfig,v_=!0;function Ore(t,e,n,r){var i=mn,s=ap.transition;ap.transition=null;try{mn=1,aR(t,e,n,r)}finally{mn=i,ap.transition=s}}function Nre(t,e,n,r){var i=mn,s=ap.transition;ap.transition=null;try{mn=4,aR(t,e,n,r)}finally{mn=i,ap.transition=s}}function aR(t,e,n,r){if(v_){var i=tP(t,e,n,r);if(i===null)Pk(t,e,r,x_,n),mL(t,r);else if(Pre(i,t,e,n,r))r.stopPropagation();else if(mL(t,r),e&4&&-1<Tre.indexOf(t)){for(;i!==null;){var s=Qx(i);if(s!==null&&NH(s),s=tP(t,e,n,r),s===null&&Pk(t,e,r,x_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pk(t,e,r,null,n)}}var x_=null;function tP(t,e,n,r){if(x_=null,t=nR(r),t=kd(t),t!==null)if(e=zh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AH(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return x_=t,null}function LH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xre()){case rR:return 1;case TH:return 4;case m_:case bre:return 16;case PH:return 536870912;default:return 16}default:return 16}}var Qc=null,oR=null,ww=null;function FH(){if(ww)return ww;var t,e=oR,n=e.length,r,i="value"in Qc?Qc.value:Qc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ww=i.slice(t,1<r?1-r:void 0)}function _w(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function c0(){return!0}function vL(){return!1}function Zs(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?c0:vL,this.isPropagationStopped=vL,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),e}var Fg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lR=Zs(Fg),Kx=ir({},Fg,{view:0,detail:0}),Rre=Zs(Kx),bk,wk,Rm,HS=ir({},Kx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rm&&(Rm&&t.type==="mousemove"?(bk=t.screenX-Rm.screenX,wk=t.screenY-Rm.screenY):wk=bk=0,Rm=t),bk)},movementY:function(t){return"movementY"in t?t.movementY:wk}}),xL=Zs(HS),Mre=ir({},HS,{dataTransfer:0}),Dre=Zs(Mre),jre=ir({},Kx,{relatedTarget:0}),_k=Zs(jre),Lre=ir({},Fg,{animationName:0,elapsedTime:0,pseudoElement:0}),Fre=Zs(Lre),$re=ir({},Fg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bre=Zs($re),zre=ir({},Fg,{data:0}),bL=Zs(zre),Vre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ure={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hre(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wre[t])?!!e[t]:!1}function cR(){return Hre}var Yre=ir({},Kx,{key:function(t){if(t.key){var e=Vre[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_w(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ure[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cR,charCode:function(t){return t.type==="keypress"?_w(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_w(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xre=Zs(Yre),Gre=ir({},HS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wL=Zs(Gre),qre=ir({},Kx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cR}),Kre=Zs(qre),Qre=ir({},Fg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zre=Zs(Qre),Jre=ir({},HS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eie=Zs(Jre),tie=[9,13,27,32],uR=Vl&&"CompositionEvent"in window,Dy=null;Vl&&"documentMode"in document&&(Dy=document.documentMode);var nie=Vl&&"TextEvent"in window&&!Dy,$H=Vl&&(!uR||Dy&&8<Dy&&11>=Dy),_L=" ",SL=!1;function BH(t,e){switch(t){case"keyup":return tie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vf=!1;function rie(t,e){switch(t){case"compositionend":return zH(e);case"keypress":return e.which!==32?null:(SL=!0,_L);case"textInput":return t=e.data,t===_L&&SL?null:t;default:return null}}function iie(t,e){if(Vf)return t==="compositionend"||!uR&&BH(t,e)?(t=FH(),ww=oR=Qc=null,Vf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $H&&e.locale!=="ko"?null:e.data;default:return null}}var sie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sie[t.type]:e==="textarea"}function VH(t,e,n,r){xH(r),e=b_(e,"onChange"),0<e.length&&(n=new lR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jy=null,yv=null;function aie(t){JH(t,0)}function YS(t){var e=Hf(t);if(hH(e))return t}function oie(t,e){if(t==="change")return e}var UH=!1;if(Vl){var Sk;if(Vl){var Ak="oninput"in document;if(!Ak){var CL=document.createElement("div");CL.setAttribute("oninput","return;"),Ak=typeof CL.oninput=="function"}Sk=Ak}else Sk=!1;UH=Sk&&(!document.documentMode||9<document.documentMode)}function kL(){jy&&(jy.detachEvent("onpropertychange",WH),yv=jy=null)}function WH(t){if(t.propertyName==="value"&&YS(yv)){var e=[];VH(e,yv,t,nR(t)),SH(aie,e)}}function lie(t,e,n){t==="focusin"?(kL(),jy=e,yv=n,jy.attachEvent("onpropertychange",WH)):t==="focusout"&&kL()}function cie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return YS(yv)}function uie(t,e){if(t==="click")return YS(e)}function die(t,e){if(t==="input"||t==="change")return YS(e)}function hie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var co=typeof Object.is=="function"?Object.is:hie;function vv(t,e){if(co(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LT.call(e,i)||!co(t[i],e[i]))return!1}return!0}function EL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TL(t,e){var n=EL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EL(n)}}function HH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YH(){for(var t=window,e=f_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=f_(t.document)}return e}function dR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fie(t){var e=YH(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HH(n.ownerDocument.documentElement,n)){if(r!==null&&dR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TL(n,s);var a=TL(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pie=Vl&&"documentMode"in document&&11>=document.documentMode,Uf=null,nP=null,Ly=null,rP=!1;function PL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rP||Uf==null||Uf!==f_(r)||(r=Uf,"selectionStart"in r&&dR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ly&&vv(Ly,r)||(Ly=r,r=b_(nP,"onSelect"),0<r.length&&(e=new lR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uf)))}function u0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wf={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},Ck={},XH={};Vl&&(XH=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function XS(t){if(Ck[t])return Ck[t];if(!Wf[t])return t;var e=Wf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XH)return Ck[t]=e[n];return t}var GH=XS("animationend"),qH=XS("animationiteration"),KH=XS("animationstart"),QH=XS("transitionend"),ZH=new Map,IL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(t,e){ZH.set(t,e),Bh(e,[t])}for(var kk=0;kk<IL.length;kk++){var Ek=IL[kk],gie=Ek.toLowerCase(),mie=Ek[0].toUpperCase()+Ek.slice(1);Uu(gie,"on"+mie)}Uu(GH,"onAnimationEnd");Uu(qH,"onAnimationIteration");Uu(KH,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(QH,"onTransitionEnd");Lp("onMouseEnter",["mouseout","mouseover"]);Lp("onMouseLeave",["mouseout","mouseover"]);Lp("onPointerEnter",["pointerout","pointerover"]);Lp("onPointerLeave",["pointerout","pointerover"]);Bh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yie=new Set("cancel close invalid load scroll toggle".split(" ").concat(uy));function OL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gre(r,e,void 0,t),t.currentTarget=null}function JH(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;OL(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;OL(i,o,c),s=l}}}if(g_)throw t=ZT,g_=!1,ZT=null,t}function Fn(t,e){var n=e[lP];n===void 0&&(n=e[lP]=new Set);var r=t+"__bubble";n.has(r)||(e6(e,t,2,!1),n.add(r))}function Tk(t,e,n){var r=0;e&&(r|=4),e6(n,t,r,e)}var d0="_reactListening"+Math.random().toString(36).slice(2);function xv(t){if(!t[d0]){t[d0]=!0,oH.forEach(function(n){n!=="selectionchange"&&(yie.has(n)||Tk(n,!1,t),Tk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[d0]||(e[d0]=!0,Tk("selectionchange",!1,e))}}function e6(t,e,n,r){switch(LH(e)){case 1:var i=Ore;break;case 4:i=Nre;break;default:i=aR}n=i.bind(null,e,n,t),i=void 0,!QT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pk(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=kd(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}SH(function(){var c=s,u=nR(n),d=[];e:{var h=ZH.get(t);if(h!==void 0){var f=lR,g=t;switch(t){case"keypress":if(_w(n)===0)break e;case"keydown":case"keyup":f=Xre;break;case"focusin":g="focus",f=_k;break;case"focusout":g="blur",f=_k;break;case"beforeblur":case"afterblur":f=_k;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Dre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Kre;break;case GH:case qH:case KH:f=Fre;break;case QH:f=Zre;break;case"scroll":f=Rre;break;case"wheel":f=eie;break;case"copy":case"cut":case"paste":f=Bre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=wL}var p=(e&4)!==0,y=!p&&t==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var x=c,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=fv(x,v),_!=null&&p.push(bv(x,_,b)))),y)break;x=x.return}0<p.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==qT&&(g=n.relatedTarget||n.fromElement)&&(kd(g)||g[Ul]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?kd(g):null,g!==null&&(y=zh(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(p=xL,_="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(p=wL,_="onPointerLeave",v="onPointerEnter",x="pointer"),y=f==null?h:Hf(f),b=g==null?h:Hf(g),h=new p(_,x+"leave",f,n,u),h.target=y,h.relatedTarget=b,_=null,kd(u)===c&&(p=new p(v,x+"enter",g,n,u),p.target=b,p.relatedTarget=y,_=p),y=_,f&&g)t:{for(p=f,v=g,x=0,b=p;b;b=yf(b))x++;for(b=0,_=v;_;_=yf(_))b++;for(;0<x-b;)p=yf(p),x--;for(;0<b-x;)v=yf(v),b--;for(;x--;){if(p===v||v!==null&&p===v.alternate)break t;p=yf(p),v=yf(v)}p=null}else p=null;f!==null&&NL(d,h,f,p,!1),g!==null&&y!==null&&NL(d,y,g,p,!0)}}e:{if(h=c?Hf(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=oie;else if(AL(h))if(UH)w=die;else{w=cie;var C=lie}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=uie);if(w&&(w=w(t,c))){VH(d,w,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&WT(h,"number",h.value)}switch(C=c?Hf(c):window,t){case"focusin":(AL(C)||C.contentEditable==="true")&&(Uf=C,nP=c,Ly=null);break;case"focusout":Ly=nP=Uf=null;break;case"mousedown":rP=!0;break;case"contextmenu":case"mouseup":case"dragend":rP=!1,PL(d,n,u);break;case"selectionchange":if(pie)break;case"keydown":case"keyup":PL(d,n,u)}var A;if(uR)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vf?BH(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&($H&&n.locale!=="ko"&&(Vf||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vf&&(A=FH()):(Qc=u,oR="value"in Qc?Qc.value:Qc.textContent,Vf=!0)),C=b_(c,k),0<C.length&&(k=new bL(k,t,null,n,u),d.push({event:k,listeners:C}),A?k.data=A:(A=zH(n),A!==null&&(k.data=A)))),(A=nie?rie(t,n):iie(t,n))&&(c=b_(c,"onBeforeInput"),0<c.length&&(u=new bL("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}JH(d,e)})}function bv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function b_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fv(t,n),s!=null&&r.unshift(bv(t,s,i)),s=fv(t,e),s!=null&&r.push(bv(t,s,i))),t=t.return}return r}function yf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NL(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=fv(n,s),l!=null&&a.unshift(bv(n,l,o))):i||(l=fv(n,s),l!=null&&a.push(bv(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var vie=/\r\n?/g,xie=/\u0000|\uFFFD/g;function RL(t){return(typeof t=="string"?t:""+t).replace(vie,`
`).replace(xie,"")}function h0(t,e,n){if(e=RL(e),RL(t)!==e&&n)throw Error(ye(425))}function w_(){}var iP=null,sP=null;function aP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oP=typeof setTimeout=="function"?setTimeout:void 0,bie=typeof clearTimeout=="function"?clearTimeout:void 0,ML=typeof Promise=="function"?Promise:void 0,wie=typeof queueMicrotask=="function"?queueMicrotask:typeof ML<"u"?function(t){return ML.resolve(null).then(t).catch(_ie)}:oP;function _ie(t){setTimeout(function(){throw t})}function Ik(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mv(e)}function du(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $g=Math.random().toString(36).slice(2),Do="__reactFiber$"+$g,wv="__reactProps$"+$g,Ul="__reactContainer$"+$g,lP="__reactEvents$"+$g,Sie="__reactListeners$"+$g,Aie="__reactHandles$"+$g;function kd(t){var e=t[Do];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ul]||n[Do]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DL(t);t!==null;){if(n=t[Do])return n;t=DL(t)}return e}t=n,n=t.parentNode}return null}function Qx(t){return t=t[Do]||t[Ul],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function GS(t){return t[wv]||null}var cP=[],Yf=-1;function Wu(t){return{current:t}}function Vn(t){0>Yf||(t.current=cP[Yf],cP[Yf]=null,Yf--)}function Dn(t,e){Yf++,cP[Yf]=t.current,t.current=e}var Tu={},Vi=Wu(Tu),_s=Wu(!1),lh=Tu;function Fp(t,e){var n=t.type.contextTypes;if(!n)return Tu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ss(t){return t=t.childContextTypes,t!=null}function __(){Vn(_s),Vn(Vi)}function jL(t,e,n){if(Vi.current!==Tu)throw Error(ye(168));Dn(Vi,e),Dn(_s,n)}function t6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ye(108,lre(t)||"Unknown",i));return ir({},n,r)}function S_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tu,lh=Vi.current,Dn(Vi,t),Dn(_s,_s.current),!0}function LL(t,e,n){var r=t.stateNode;if(!r)throw Error(ye(169));n?(t=t6(t,e,lh),r.__reactInternalMemoizedMergedChildContext=t,Vn(_s),Vn(Vi),Dn(Vi,t)):Vn(_s),Dn(_s,n)}var ml=null,qS=!1,Ok=!1;function n6(t){ml===null?ml=[t]:ml.push(t)}function Cie(t){qS=!0,n6(t)}function Hu(){if(!Ok&&ml!==null){Ok=!0;var t=0,e=mn;try{var n=ml;for(mn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ml=null,qS=!1}catch(i){throw ml!==null&&(ml=ml.slice(t+1)),EH(rR,Hu),i}finally{mn=e,Ok=!1}}return null}var Xf=[],Gf=0,A_=null,C_=0,la=[],ca=0,ch=null,_l=1,Sl="";function pd(t,e){Xf[Gf++]=C_,Xf[Gf++]=A_,A_=t,C_=e}function r6(t,e,n){la[ca++]=_l,la[ca++]=Sl,la[ca++]=ch,ch=t;var r=_l;t=Sl;var i=32-to(r)-1;r&=~(1<<i),n+=1;var s=32-to(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,_l=1<<32-to(e)+i|n<<i|r,Sl=s+t}else _l=1<<s|n<<i|r,Sl=t}function hR(t){t.return!==null&&(pd(t,1),r6(t,1,0))}function fR(t){for(;t===A_;)A_=Xf[--Gf],Xf[Gf]=null,C_=Xf[--Gf],Xf[Gf]=null;for(;t===ch;)ch=la[--ca],la[ca]=null,Sl=la[--ca],la[ca]=null,_l=la[--ca],la[ca]=null}var Ws=null,Vs=null,Hn=!1,Ua=null;function i6(t,e){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ws=t,Vs=du(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ws=t,Vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ch!==null?{id:_l,overflow:Sl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ws=t,Vs=null,!0):!1;default:return!1}}function uP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dP(t){if(Hn){var e=Vs;if(e){var n=e;if(!FL(t,e)){if(uP(t))throw Error(ye(418));e=du(n.nextSibling);var r=Ws;e&&FL(t,e)?i6(r,n):(t.flags=t.flags&-4097|2,Hn=!1,Ws=t)}}else{if(uP(t))throw Error(ye(418));t.flags=t.flags&-4097|2,Hn=!1,Ws=t}}}function $L(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ws=t}function f0(t){if(t!==Ws)return!1;if(!Hn)return $L(t),Hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aP(t.type,t.memoizedProps)),e&&(e=Vs)){if(uP(t))throw s6(),Error(ye(418));for(;e;)i6(t,e),e=du(e.nextSibling)}if($L(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vs=du(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vs=null}}else Vs=Ws?du(t.stateNode.nextSibling):null;return!0}function s6(){for(var t=Vs;t;)t=du(t.nextSibling)}function $p(){Vs=Ws=null,Hn=!1}function pR(t){Ua===null?Ua=[t]:Ua.push(t)}var kie=ic.ReactCurrentBatchConfig;function Mm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ye(309));var r=n.stateNode}if(!r)throw Error(ye(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ye(284));if(!n._owner)throw Error(ye(290,t))}return t}function p0(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BL(t){var e=t._init;return e(t._payload)}function a6(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=gu(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,x,b,_){return x===null||x.tag!==6?(x=Fk(b,v.mode,_),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,_){var w=b.type;return w===zf?u(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tc&&BL(w)===x.type)?(_=i(x,b.props),_.ref=Mm(v,x,b),_.return=v,_):(_=Pw(b.type,b.key,b.props,null,v.mode,_),_.ref=Mm(v,x,b),_.return=v,_)}function c(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=$k(b,v.mode,_),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function u(v,x,b,_,w){return x===null||x.tag!==7?(x=Jd(b,v.mode,_,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function d(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fk(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case r0:return b=Pw(x.type,x.key,x.props,null,v.mode,b),b.ref=Mm(v,null,x),b.return=v,b;case Bf:return x=$k(x,v.mode,b),x.return=v,x;case Tc:var _=x._init;return d(v,_(x._payload),b)}if(ly(x)||Pm(x))return x=Jd(x,v.mode,b,null),x.return=v,x;p0(v,x)}return null}function h(v,x,b,_){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case r0:return b.key===w?l(v,x,b,_):null;case Bf:return b.key===w?c(v,x,b,_):null;case Tc:return w=b._init,h(v,x,w(b._payload),_)}if(ly(b)||Pm(b))return w!==null?null:u(v,x,b,_,null);p0(v,b)}return null}function f(v,x,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,o(x,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case r0:return v=v.get(_.key===null?b:_.key)||null,l(x,v,_,w);case Bf:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,w);case Tc:var C=_._init;return f(v,x,b,C(_._payload),w)}if(ly(_)||Pm(_))return v=v.get(b)||null,u(x,v,_,w,null);p0(x,_)}return null}function g(v,x,b,_){for(var w=null,C=null,A=x,k=x=0,E=null;A!==null&&k<b.length;k++){A.index>k?(E=A,A=null):E=A.sibling;var T=h(v,A,b[k],_);if(T===null){A===null&&(A=E);break}t&&A&&T.alternate===null&&e(v,A),x=s(T,x,k),C===null?w=T:C.sibling=T,C=T,A=E}if(k===b.length)return n(v,A),Hn&&pd(v,k),w;if(A===null){for(;k<b.length;k++)A=d(v,b[k],_),A!==null&&(x=s(A,x,k),C===null?w=A:C.sibling=A,C=A);return Hn&&pd(v,k),w}for(A=r(v,A);k<b.length;k++)E=f(A,v,k,b[k],_),E!==null&&(t&&E.alternate!==null&&A.delete(E.key===null?k:E.key),x=s(E,x,k),C===null?w=E:C.sibling=E,C=E);return t&&A.forEach(function(P){return e(v,P)}),Hn&&pd(v,k),w}function p(v,x,b,_){var w=Pm(b);if(typeof w!="function")throw Error(ye(150));if(b=w.call(b),b==null)throw Error(ye(151));for(var C=w=null,A=x,k=x=0,E=null,T=b.next();A!==null&&!T.done;k++,T=b.next()){A.index>k?(E=A,A=null):E=A.sibling;var P=h(v,A,T.value,_);if(P===null){A===null&&(A=E);break}t&&A&&P.alternate===null&&e(v,A),x=s(P,x,k),C===null?w=P:C.sibling=P,C=P,A=E}if(T.done)return n(v,A),Hn&&pd(v,k),w;if(A===null){for(;!T.done;k++,T=b.next())T=d(v,T.value,_),T!==null&&(x=s(T,x,k),C===null?w=T:C.sibling=T,C=T);return Hn&&pd(v,k),w}for(A=r(v,A);!T.done;k++,T=b.next())T=f(A,v,k,T.value,_),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?k:T.key),x=s(T,x,k),C===null?w=T:C.sibling=T,C=T);return t&&A.forEach(function(N){return e(v,N)}),Hn&&pd(v,k),w}function y(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===zf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case r0:e:{for(var w=b.key,C=x;C!==null;){if(C.key===w){if(w=b.type,w===zf){if(C.tag===7){n(v,C.sibling),x=i(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tc&&BL(w)===C.type){n(v,C.sibling),x=i(C,b.props),x.ref=Mm(v,C,b),x.return=v,v=x;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===zf?(x=Jd(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=Pw(b.type,b.key,b.props,null,v.mode,_),_.ref=Mm(v,x,b),_.return=v,v=_)}return a(v);case Bf:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=$k(b,v.mode,_),x.return=v,v=x}return a(v);case Tc:return C=b._init,y(v,x,C(b._payload),_)}if(ly(b))return g(v,x,b,_);if(Pm(b))return p(v,x,b,_);p0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=Fk(b,v.mode,_),x.return=v,v=x),a(v)):n(v,x)}return y}var Bp=a6(!0),o6=a6(!1),k_=Wu(null),E_=null,qf=null,gR=null;function mR(){gR=qf=E_=null}function yR(t){var e=k_.current;Vn(k_),t._currentValue=e}function hP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function op(t,e){E_=t,gR=qf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vs=!0),t.firstContext=null)}function xa(t){var e=t._currentValue;if(gR!==t)if(t={context:t,memoizedValue:e,next:null},qf===null){if(E_===null)throw Error(ye(308));qf=t,E_.dependencies={lanes:0,firstContext:t}}else qf=qf.next=t;return e}var Ed=null;function vR(t){Ed===null?Ed=[t]:Ed.push(t)}function l6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vR(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wl(t,r)}function Wl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pc=!1;function xR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ml(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wl(t,n)}return i=r.interleaved,i===null?(e.next=e,vR(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wl(t,n)}function Sw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iR(t,n)}}function zL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function T_(t,e,n,r){var i=t.updateQueue;Pc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,p=o;switch(h=e,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=ir({},d,h);break e;case 2:Pc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);dh|=a,t.lanes=a,t.memoizedState=d}}function VL(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ye(191,i));i.call(r)}}}var Zx={},Bo=Wu(Zx),_v=Wu(Zx),Sv=Wu(Zx);function Td(t){if(t===Zx)throw Error(ye(174));return t}function bR(t,e){switch(Dn(Sv,e),Dn(_v,t),Dn(Bo,Zx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YT(e,t)}Vn(Bo),Dn(Bo,e)}function zp(){Vn(Bo),Vn(_v),Vn(Sv)}function u6(t){Td(Sv.current);var e=Td(Bo.current),n=YT(e,t.type);e!==n&&(Dn(_v,t),Dn(Bo,n))}function wR(t){_v.current===t&&(Vn(Bo),Vn(_v))}var tr=Wu(0);function P_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nk=[];function _R(){for(var t=0;t<Nk.length;t++)Nk[t]._workInProgressVersionPrimary=null;Nk.length=0}var Aw=ic.ReactCurrentDispatcher,Rk=ic.ReactCurrentBatchConfig,uh=0,nr=null,Br=null,ei=null,I_=!1,Fy=!1,Av=0,Eie=0;function ki(){throw Error(ye(321))}function SR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!co(t[n],e[n]))return!1;return!0}function AR(t,e,n,r,i,s){if(uh=s,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Aw.current=t===null||t.memoizedState===null?Oie:Nie,t=n(r,i),Fy){s=0;do{if(Fy=!1,Av=0,25<=s)throw Error(ye(301));s+=1,ei=Br=null,e.updateQueue=null,Aw.current=Rie,t=n(r,i)}while(Fy)}if(Aw.current=O_,e=Br!==null&&Br.next!==null,uh=0,ei=Br=nr=null,I_=!1,e)throw Error(ye(300));return t}function CR(){var t=Av!==0;return Av=0,t}function To(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?nr.memoizedState=ei=t:ei=ei.next=t,ei}function ba(){if(Br===null){var t=nr.alternate;t=t!==null?t.memoizedState:null}else t=Br.next;var e=ei===null?nr.memoizedState:ei.next;if(e!==null)ei=e,Br=t;else{if(t===null)throw Error(ye(310));Br=t,t={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},ei===null?nr.memoizedState=ei=t:ei=ei.next=t}return ei}function Cv(t,e){return typeof e=="function"?e(t):e}function Mk(t){var e=ba(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=Br,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((uh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,nr.lanes|=u,dh|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,co(r,e.memoizedState)||(vs=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,nr.lanes|=s,dh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dk(t){var e=ba(),n=e.queue;if(n===null)throw Error(ye(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);co(s,e.memoizedState)||(vs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function d6(){}function h6(t,e){var n=nr,r=ba(),i=e(),s=!co(r.memoizedState,i);if(s&&(r.memoizedState=i,vs=!0),r=r.queue,kR(g6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ei!==null&&ei.memoizedState.tag&1){if(n.flags|=2048,kv(9,p6.bind(null,n,r,i,e),void 0,null),ni===null)throw Error(ye(349));uh&30||f6(n,e,i)}return i}function f6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p6(t,e,n,r){e.value=n,e.getSnapshot=r,m6(e)&&y6(t)}function g6(t,e,n){return n(function(){m6(e)&&y6(t)})}function m6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!co(t,n)}catch{return!0}}function y6(t){var e=Wl(t,1);e!==null&&no(e,t,1,-1)}function UL(t){var e=To();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cv,lastRenderedState:t},e.queue=t,t=t.dispatch=Iie.bind(null,nr,t),[e.memoizedState,t]}function kv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v6(){return ba().memoizedState}function Cw(t,e,n,r){var i=To();nr.flags|=t,i.memoizedState=kv(1|e,n,void 0,r===void 0?null:r)}function KS(t,e,n,r){var i=ba();r=r===void 0?null:r;var s=void 0;if(Br!==null){var a=Br.memoizedState;if(s=a.destroy,r!==null&&SR(r,a.deps)){i.memoizedState=kv(e,n,s,r);return}}nr.flags|=t,i.memoizedState=kv(1|e,n,s,r)}function WL(t,e){return Cw(8390656,8,t,e)}function kR(t,e){return KS(2048,8,t,e)}function x6(t,e){return KS(4,2,t,e)}function b6(t,e){return KS(4,4,t,e)}function w6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _6(t,e,n){return n=n!=null?n.concat([t]):null,KS(4,4,w6.bind(null,e,t),n)}function ER(){}function S6(t,e){var n=ba();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SR(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function A6(t,e){var n=ba();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SR(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C6(t,e,n){return uh&21?(co(n,e)||(n=IH(),nr.lanes|=n,dh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vs=!0),t.memoizedState=n)}function Tie(t,e){var n=mn;mn=n!==0&&4>n?n:4,t(!0);var r=Rk.transition;Rk.transition={};try{t(!1),e()}finally{mn=n,Rk.transition=r}}function k6(){return ba().memoizedState}function Pie(t,e,n){var r=pu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E6(t))T6(e,n);else if(n=l6(t,e,n,r),n!==null){var i=rs();no(n,t,r,i),P6(n,e,r)}}function Iie(t,e,n){var r=pu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E6(t))T6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,co(o,a)){var l=e.interleaved;l===null?(i.next=i,vR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=l6(t,e,i,r),n!==null&&(i=rs(),no(n,t,r,i),P6(n,e,r))}}function E6(t){var e=t.alternate;return t===nr||e!==null&&e===nr}function T6(t,e){Fy=I_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iR(t,n)}}var O_={readContext:xa,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},Oie={readContext:xa,useCallback:function(t,e){return To().memoizedState=[t,e===void 0?null:e],t},useContext:xa,useEffect:WL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cw(4194308,4,w6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cw(4,2,t,e)},useMemo:function(t,e){var n=To();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=To();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pie.bind(null,nr,t),[r.memoizedState,t]},useRef:function(t){var e=To();return t={current:t},e.memoizedState=t},useState:UL,useDebugValue:ER,useDeferredValue:function(t){return To().memoizedState=t},useTransition:function(){var t=UL(!1),e=t[0];return t=Tie.bind(null,t[1]),To().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nr,i=To();if(Hn){if(n===void 0)throw Error(ye(407));n=n()}else{if(n=e(),ni===null)throw Error(ye(349));uh&30||f6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,WL(g6.bind(null,r,s,t),[t]),r.flags|=2048,kv(9,p6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=To(),e=ni.identifierPrefix;if(Hn){var n=Sl,r=_l;n=(r&~(1<<32-to(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Av++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eie++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nie={readContext:xa,useCallback:S6,useContext:xa,useEffect:kR,useImperativeHandle:_6,useInsertionEffect:x6,useLayoutEffect:b6,useMemo:A6,useReducer:Mk,useRef:v6,useState:function(){return Mk(Cv)},useDebugValue:ER,useDeferredValue:function(t){var e=ba();return C6(e,Br.memoizedState,t)},useTransition:function(){var t=Mk(Cv)[0],e=ba().memoizedState;return[t,e]},useMutableSource:d6,useSyncExternalStore:h6,useId:k6,unstable_isNewReconciler:!1},Rie={readContext:xa,useCallback:S6,useContext:xa,useEffect:kR,useImperativeHandle:_6,useInsertionEffect:x6,useLayoutEffect:b6,useMemo:A6,useReducer:Dk,useRef:v6,useState:function(){return Dk(Cv)},useDebugValue:ER,useDeferredValue:function(t){var e=ba();return Br===null?e.memoizedState=t:C6(e,Br.memoizedState,t)},useTransition:function(){var t=Dk(Cv)[0],e=ba().memoizedState;return[t,e]},useMutableSource:d6,useSyncExternalStore:h6,useId:k6,unstable_isNewReconciler:!1};function ja(t,e){if(t&&t.defaultProps){e=ir({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ir({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var QS={isMounted:function(t){return(t=t._reactInternals)?zh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rs(),i=pu(t),s=Ml(r,i);s.payload=e,n!=null&&(s.callback=n),e=hu(t,s,i),e!==null&&(no(e,t,i,r),Sw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rs(),i=pu(t),s=Ml(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hu(t,s,i),e!==null&&(no(e,t,i,r),Sw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rs(),r=pu(t),i=Ml(n,r);i.tag=2,e!=null&&(i.callback=e),e=hu(t,i,r),e!==null&&(no(e,t,r,n),Sw(e,t,r))}};function HL(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!vv(n,r)||!vv(i,s):!0}function I6(t,e,n){var r=!1,i=Tu,s=e.contextType;return typeof s=="object"&&s!==null?s=xa(s):(i=Ss(e)?lh:Vi.current,r=e.contextTypes,s=(r=r!=null)?Fp(t,i):Tu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=QS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function YL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&QS.enqueueReplaceState(e,e.state,null)}function pP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xR(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xa(s):(s=Ss(e)?lh:Vi.current,i.context=Fp(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fP(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&QS.enqueueReplaceState(i,i.state,null),T_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vp(t,e){try{var n="",r=e;do n+=ore(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jk(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mie=typeof WeakMap=="function"?WeakMap:Map;function O6(t,e,n){n=Ml(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){R_||(R_=!0,CP=r),gP(t,e)},n}function N6(t,e,n){n=Ml(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gP(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gP(t,e),typeof r!="function"&&(fu===null?fu=new Set([this]):fu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function XL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mie;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Gie.bind(null,t,e,n),e.then(t,t))}function GL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ml(-1,1),e.tag=2,hu(n,e,1))),n.lanes|=1),t)}var Die=ic.ReactCurrentOwner,vs=!1;function Qi(t,e,n,r){e.child=t===null?o6(e,null,n,r):Bp(e,t.child,n,r)}function KL(t,e,n,r,i){n=n.render;var s=e.ref;return op(e,i),r=AR(t,e,n,r,s,i),n=CR(),t!==null&&!vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hl(t,e,i)):(Hn&&n&&hR(e),e.flags|=1,Qi(t,e,r,i),e.child)}function QL(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!DR(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,R6(t,e,s,r,i)):(t=Pw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:vv,n(a,r)&&t.ref===e.ref)return Hl(t,e,i)}return e.flags|=1,t=gu(s,r),t.ref=e.ref,t.return=e,e.child=t}function R6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vv(s,r)&&t.ref===e.ref)if(vs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vs=!0);else return e.lanes=t.lanes,Hl(t,e,i)}return mP(t,e,n,r,i)}function M6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(Qf,Ls),Ls|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dn(Qf,Ls),Ls|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Dn(Qf,Ls),Ls|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Dn(Qf,Ls),Ls|=r;return Qi(t,e,i,n),e.child}function D6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mP(t,e,n,r,i){var s=Ss(n)?lh:Vi.current;return s=Fp(e,s),op(e,i),n=AR(t,e,n,r,s,i),r=CR(),t!==null&&!vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hl(t,e,i)):(Hn&&r&&hR(e),e.flags|=1,Qi(t,e,n,i),e.child)}function ZL(t,e,n,r,i){if(Ss(n)){var s=!0;S_(e)}else s=!1;if(op(e,i),e.stateNode===null)kw(t,e),I6(e,n,r),pP(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=xa(c):(c=Ss(n)?lh:Vi.current,c=Fp(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&YL(e,a,r,c),Pc=!1;var h=e.memoizedState;a.state=h,T_(e,r,a,i),l=e.memoizedState,o!==r||h!==l||_s.current||Pc?(typeof u=="function"&&(fP(e,n,u,r),l=e.memoizedState),(o=Pc||HL(e,n,o,r,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,c6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ja(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=xa(l):(l=Ss(n)?lh:Vi.current,l=Fp(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&YL(e,a,r,l),Pc=!1,h=e.memoizedState,a.state=h,T_(e,r,a,i);var g=e.memoizedState;o!==d||h!==g||_s.current||Pc?(typeof f=="function"&&(fP(e,n,f,r),g=e.memoizedState),(c=Pc||HL(e,n,c,r,h,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return yP(t,e,n,r,s,i)}function yP(t,e,n,r,i,s){D6(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&LL(e,n,!1),Hl(t,e,s);r=e.stateNode,Die.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Bp(e,t.child,null,s),e.child=Bp(e,null,o,s)):Qi(t,e,o,s),e.memoizedState=r.state,i&&LL(e,n,!0),e.child}function j6(t){var e=t.stateNode;e.pendingContext?jL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jL(t,e.context,!1),bR(t,e.containerInfo)}function JL(t,e,n,r,i){return $p(),pR(i),e.flags|=256,Qi(t,e,n,r),e.child}var vP={dehydrated:null,treeContext:null,retryLane:0};function xP(t){return{baseLanes:t,cachePool:null,transitions:null}}function L6(t,e,n){var r=e.pendingProps,i=tr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dn(tr,i&1),t===null)return dP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=eA(a,r,0,null),t=Jd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xP(n),e.memoizedState=vP,t):TR(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return jie(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=gu(o,s):(s=Jd(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?xP(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=vP,r}return s=t.child,t=s.sibling,r=gu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TR(t,e){return e=eA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function g0(t,e,n,r){return r!==null&&pR(r),Bp(e,t.child,null,n),t=TR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jie(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=jk(Error(ye(422))),g0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eA({mode:"visible",children:r.children},i,0,null),s=Jd(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bp(e,t.child,null,a),e.child.memoizedState=xP(a),e.memoizedState=vP,s);if(!(e.mode&1))return g0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ye(419)),r=jk(s,r,void 0),g0(t,e,a,r)}if(o=(a&t.childLanes)!==0,vs||o){if(r=ni,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wl(t,i),no(r,t,i,-1))}return MR(),r=jk(Error(ye(421))),g0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qie.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vs=du(i.nextSibling),Ws=e,Hn=!0,Ua=null,t!==null&&(la[ca++]=_l,la[ca++]=Sl,la[ca++]=ch,_l=t.id,Sl=t.overflow,ch=e),e=TR(e,r.children),e.flags|=4096,e)}function eF(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hP(t.return,e,n)}function Lk(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F6(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qi(t,e,r.children,n),r=tr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eF(t,n,e);else if(t.tag===19)eF(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dn(tr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&P_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lk(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&P_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lk(e,!0,n,null,s);break;case"together":Lk(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,n=gu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lie(t,e,n){switch(e.tag){case 3:j6(e),$p();break;case 5:u6(e);break;case 1:Ss(e.type)&&S_(e);break;case 4:bR(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dn(k_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dn(tr,tr.current&1),e.flags|=128,null):n&e.child.childLanes?L6(t,e,n):(Dn(tr,tr.current&1),t=Hl(t,e,n),t!==null?t.sibling:null);Dn(tr,tr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(tr,tr.current),r)break;return null;case 22:case 23:return e.lanes=0,M6(t,e,n)}return Hl(t,e,n)}var $6,bP,B6,z6;$6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bP=function(){};B6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Td(Bo.current);var s=null;switch(n){case"input":i=VT(t,i),r=VT(t,r),s=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),s=[];break;case"textarea":i=HT(t,i),r=HT(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=w_)}XT(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dm(t,e){if(!Hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Fie(t,e,n){var r=e.pendingProps;switch(fR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(e),null;case 1:return Ss(e.type)&&__(),Ei(e),null;case 3:return r=e.stateNode,zp(),Vn(_s),Vn(Vi),_R(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ua!==null&&(TP(Ua),Ua=null))),bP(t,e),Ei(e),null;case 5:wR(e);var i=Td(Sv.current);if(n=e.type,t!==null&&e.stateNode!=null)B6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ye(166));return Ei(e),null}if(t=Td(Bo.current),f0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Do]=e,r[wv]=s,t=(e.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(i=0;i<uy.length;i++)Fn(uy[i],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":cL(r,s),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",r);break;case"textarea":dL(r,s),Fn("invalid",r)}XT(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&h0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&h0(r.textContent,o,t),i=["children",""+o]):dv.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Fn("scroll",r)}switch(n){case"input":i0(r),uL(r,s,!0);break;case"textarea":i0(r),hL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=w_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gH(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Do]=e,t[wv]=r,$6(t,e,!1,!1),e.stateNode=t;e:{switch(a=GT(n,r),n){case"dialog":Fn("cancel",t),Fn("close",t),i=r;break;case"iframe":case"object":case"embed":Fn("load",t),i=r;break;case"video":case"audio":for(i=0;i<uy.length;i++)Fn(uy[i],t);i=r;break;case"source":Fn("error",t),i=r;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=r;break;case"details":Fn("toggle",t),i=r;break;case"input":cL(t,r),i=VT(t,r),Fn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),Fn("invalid",t);break;case"textarea":dL(t,r),i=HT(t,r),Fn("invalid",t);break;default:i=r}XT(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?vH(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mH(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hv(t,l):typeof l=="number"&&hv(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fn("scroll",t):l!=null&&ZN(t,s,l,a))}switch(n){case"input":i0(t),uL(t,r,!1);break;case"textarea":i0(t),hL(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Eu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rp(t,!!r.multiple,s,!1):r.defaultValue!=null&&rp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=w_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ei(e),null;case 6:if(t&&e.stateNode!=null)z6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ye(166));if(n=Td(Sv.current),Td(Bo.current),f0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Do]=e,(s=r.nodeValue!==n)&&(t=Ws,t!==null))switch(t.tag){case 3:h0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&h0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Do]=e,e.stateNode=r}return Ei(e),null;case 13:if(Vn(tr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hn&&Vs!==null&&e.mode&1&&!(e.flags&128))s6(),$p(),e.flags|=98560,s=!1;else if(s=f0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ye(317));s[Do]=e}else $p(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ei(e),s=!1}else Ua!==null&&(TP(Ua),Ua=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Vr===0&&(Vr=3):MR())),e.updateQueue!==null&&(e.flags|=4),Ei(e),null);case 4:return zp(),bP(t,e),t===null&&xv(e.stateNode.containerInfo),Ei(e),null;case 10:return yR(e.type._context),Ei(e),null;case 17:return Ss(e.type)&&__(),Ei(e),null;case 19:if(Vn(tr),s=e.memoizedState,s===null)return Ei(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Dm(s,!1);else{if(Vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=P_(t),a!==null){for(e.flags|=128,Dm(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dn(tr,tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&vr()>Up&&(e.flags|=128,r=!0,Dm(s,!1),e.lanes=4194304)}else{if(!r)if(t=P_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Hn)return Ei(e),null}else 2*vr()-s.renderingStartTime>Up&&n!==1073741824&&(e.flags|=128,r=!0,Dm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,n=tr.current,Dn(tr,r?n&1|2:n&1),e):(Ei(e),null);case 22:case 23:return RR(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ls&1073741824&&(Ei(e),e.subtreeFlags&6&&(e.flags|=8192)):Ei(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function $ie(t,e){switch(fR(e),e.tag){case 1:return Ss(e.type)&&__(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zp(),Vn(_s),Vn(Vi),_R(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wR(e),null;case 13:if(Vn(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));$p()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vn(tr),null;case 4:return zp(),null;case 10:return yR(e.type._context),null;case 22:case 23:return RR(),null;case 24:return null;default:return null}}var m0=!1,Di=!1,Bie=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Kf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(t,e,r)}else n.current=null}function wP(t,e,n){try{n()}catch(r){dr(t,e,r)}}var tF=!1;function zie(t,e){if(iP=v_,t=YH(),dR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++u===r&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sP={focusedElem:t,selectionRange:n},v_=!1,$e=e;$e!==null;)if(e=$e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$e=t;else for(;$e!==null;){e=$e;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:ja(e.type,p),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(_){dr(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,$e=t;break}$e=e.return}return g=tF,tF=!1,g}function $y(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wP(e,n,s)}i=i.next}while(i!==r)}}function ZS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _P(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V6(t){var e=t.alternate;e!==null&&(t.alternate=null,V6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Do],delete e[wv],delete e[lP],delete e[Sie],delete e[Aie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U6(t){return t.tag===5||t.tag===3||t.tag===4}function nF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function SP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=w_));else if(r!==4&&(t=t.child,t!==null))for(SP(t,e,n),t=t.sibling;t!==null;)SP(t,e,n),t=t.sibling}function AP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(AP(t,e,n),t=t.sibling;t!==null;)AP(t,e,n),t=t.sibling}var ci=null,$a=!1;function wc(t,e,n){for(n=n.child;n!==null;)W6(t,e,n),n=n.sibling}function W6(t,e,n){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(WS,n)}catch{}switch(n.tag){case 5:Di||Kf(n,e);case 6:var r=ci,i=$a;ci=null,wc(t,e,n),ci=r,$a=i,ci!==null&&($a?(t=ci,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ci.removeChild(n.stateNode));break;case 18:ci!==null&&($a?(t=ci,n=n.stateNode,t.nodeType===8?Ik(t.parentNode,n):t.nodeType===1&&Ik(t,n),mv(t)):Ik(ci,n.stateNode));break;case 4:r=ci,i=$a,ci=n.stateNode.containerInfo,$a=!0,wc(t,e,n),ci=r,$a=i;break;case 0:case 11:case 14:case 15:if(!Di&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wP(n,e,a),i=i.next}while(i!==r)}wc(t,e,n);break;case 1:if(!Di&&(Kf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){dr(n,e,o)}wc(t,e,n);break;case 21:wc(t,e,n);break;case 22:n.mode&1?(Di=(r=Di)||n.memoizedState!==null,wc(t,e,n),Di=r):wc(t,e,n);break;default:wc(t,e,n)}}function rF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bie),e.forEach(function(r){var i=Kie.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ra(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ci=o.stateNode,$a=!1;break e;case 3:ci=o.stateNode.containerInfo,$a=!0;break e;case 4:ci=o.stateNode.containerInfo,$a=!0;break e}o=o.return}if(ci===null)throw Error(ye(160));W6(s,a,i),ci=null,$a=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H6(e,t),e=e.sibling}function H6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ra(e,t),Ao(t),r&4){try{$y(3,t,t.return),ZS(3,t)}catch(p){dr(t,t.return,p)}try{$y(5,t,t.return)}catch(p){dr(t,t.return,p)}}break;case 1:Ra(e,t),Ao(t),r&512&&n!==null&&Kf(n,n.return);break;case 5:if(Ra(e,t),Ao(t),r&512&&n!==null&&Kf(n,n.return),t.flags&32){var i=t.stateNode;try{hv(i,"")}catch(p){dr(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&fH(i,s),GT(o,a);var c=GT(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?vH(i,d):u==="dangerouslySetInnerHTML"?mH(i,d):u==="children"?hv(i,d):ZN(i,u,d,c)}switch(o){case"input":UT(i,s);break;case"textarea":pH(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?rp(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?rp(i,!!s.multiple,s.defaultValue,!0):rp(i,!!s.multiple,s.multiple?[]:"",!1))}i[wv]=s}catch(p){dr(t,t.return,p)}}break;case 6:if(Ra(e,t),Ao(t),r&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){dr(t,t.return,p)}}break;case 3:if(Ra(e,t),Ao(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mv(e.containerInfo)}catch(p){dr(t,t.return,p)}break;case 4:Ra(e,t),Ao(t);break;case 13:Ra(e,t),Ao(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(OR=vr())),r&4&&rF(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Di=(c=Di)||u,Ra(e,t),Di=c):Ra(e,t),Ao(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($e=t,u=t.child;u!==null;){for(d=$e=u;$e!==null;){switch(h=$e,f=h.child,h.tag){case 0:case 11:case 14:case 15:$y(4,h,h.return);break;case 1:Kf(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){dr(r,n,p)}}break;case 5:Kf(h,h.return);break;case 22:if(h.memoizedState!==null){sF(d);continue}}f!==null?(f.return=h,$e=f):sF(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yH("display",a))}catch(p){dr(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){dr(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ra(e,t),Ao(t),r&4&&rF(t);break;case 21:break;default:Ra(e,t),Ao(t)}}function Ao(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U6(n)){var r=n;break e}n=n.return}throw Error(ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hv(i,""),r.flags&=-33);var s=nF(t);AP(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=nF(t);SP(t,o,a);break;default:throw Error(ye(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vie(t,e,n){$e=t,Y6(t)}function Y6(t,e,n){for(var r=(t.mode&1)!==0;$e!==null;){var i=$e,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||m0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Di;o=m0;var c=Di;if(m0=a,(Di=l)&&!c)for($e=i;$e!==null;)a=$e,l=a.child,a.tag===22&&a.memoizedState!==null?aF(i):l!==null?(l.return=a,$e=l):aF(i);for(;s!==null;)$e=s,Y6(s),s=s.sibling;$e=i,m0=o,Di=c}iF(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$e=s):iF(t)}}function iF(t){for(;$e!==null;){var e=$e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Di||ZS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Di)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ja(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VL(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VL(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&mv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Di||e.flags&512&&_P(e)}catch(h){dr(e,e.return,h)}}if(e===t){$e=null;break}if(n=e.sibling,n!==null){n.return=e.return,$e=n;break}$e=e.return}}function sF(t){for(;$e!==null;){var e=$e;if(e===t){$e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$e=n;break}$e=e.return}}function aF(t){for(;$e!==null;){var e=$e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ZS(4,e)}catch(l){dr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dr(e,i,l)}}var s=e.return;try{_P(e)}catch(l){dr(e,s,l)}break;case 5:var a=e.return;try{_P(e)}catch(l){dr(e,a,l)}}}catch(l){dr(e,e.return,l)}if(e===t){$e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$e=o;break}$e=e.return}}var Uie=Math.ceil,N_=ic.ReactCurrentDispatcher,PR=ic.ReactCurrentOwner,pa=ic.ReactCurrentBatchConfig,Ht=0,ni=null,Tr=null,yi=0,Ls=0,Qf=Wu(0),Vr=0,Ev=null,dh=0,JS=0,IR=0,By=null,gs=null,OR=0,Up=1/0,gl=null,R_=!1,CP=null,fu=null,y0=!1,Zc=null,M_=0,zy=0,kP=null,Ew=-1,Tw=0;function rs(){return Ht&6?vr():Ew!==-1?Ew:Ew=vr()}function pu(t){return t.mode&1?Ht&2&&yi!==0?yi&-yi:kie.transition!==null?(Tw===0&&(Tw=IH()),Tw):(t=mn,t!==0||(t=window.event,t=t===void 0?16:LH(t.type)),t):1}function no(t,e,n,r){if(50<zy)throw zy=0,kP=null,Error(ye(185));qx(t,n,r),(!(Ht&2)||t!==ni)&&(t===ni&&(!(Ht&2)&&(JS|=n),Vr===4&&Rc(t,yi)),As(t,r),n===1&&Ht===0&&!(e.mode&1)&&(Up=vr()+500,qS&&Hu()))}function As(t,e){var n=t.callbackNode;kre(t,e);var r=y_(t,t===ni?yi:0);if(r===0)n!==null&&gL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gL(n),e===1)t.tag===0?Cie(oF.bind(null,t)):n6(oF.bind(null,t)),wie(function(){!(Ht&6)&&Hu()}),n=null;else{switch(OH(r)){case 1:n=rR;break;case 4:n=TH;break;case 16:n=m_;break;case 536870912:n=PH;break;default:n=m_}n=e9(n,X6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X6(t,e){if(Ew=-1,Tw=0,Ht&6)throw Error(ye(327));var n=t.callbackNode;if(lp()&&t.callbackNode!==n)return null;var r=y_(t,t===ni?yi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=D_(t,r);else{e=r;var i=Ht;Ht|=2;var s=q6();(ni!==t||yi!==e)&&(gl=null,Up=vr()+500,Zd(t,e));do try{Yie();break}catch(o){G6(t,o)}while(!0);mR(),N_.current=s,Ht=i,Tr!==null?e=0:(ni=null,yi=0,e=Vr)}if(e!==0){if(e===2&&(i=JT(t),i!==0&&(r=i,e=EP(t,i))),e===1)throw n=Ev,Zd(t,0),Rc(t,r),As(t,vr()),n;if(e===6)Rc(t,r);else{if(i=t.current.alternate,!(r&30)&&!Wie(i)&&(e=D_(t,r),e===2&&(s=JT(t),s!==0&&(r=s,e=EP(t,s))),e===1))throw n=Ev,Zd(t,0),Rc(t,r),As(t,vr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ye(345));case 2:gd(t,gs,gl);break;case 3:if(Rc(t,r),(r&130023424)===r&&(e=OR+500-vr(),10<e)){if(y_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oP(gd.bind(null,t,gs,gl),e);break}gd(t,gs,gl);break;case 4:if(Rc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-to(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uie(r/1960))-r,10<r){t.timeoutHandle=oP(gd.bind(null,t,gs,gl),r);break}gd(t,gs,gl);break;case 5:gd(t,gs,gl);break;default:throw Error(ye(329))}}}return As(t,vr()),t.callbackNode===n?X6.bind(null,t):null}function EP(t,e){var n=By;return t.current.memoizedState.isDehydrated&&(Zd(t,e).flags|=256),t=D_(t,e),t!==2&&(e=gs,gs=n,e!==null&&TP(e)),t}function TP(t){gs===null?gs=t:gs.push.apply(gs,t)}function Wie(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!co(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rc(t,e){for(e&=~IR,e&=~JS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-to(e),r=1<<n;t[n]=-1,e&=~r}}function oF(t){if(Ht&6)throw Error(ye(327));lp();var e=y_(t,0);if(!(e&1))return As(t,vr()),null;var n=D_(t,e);if(t.tag!==0&&n===2){var r=JT(t);r!==0&&(e=r,n=EP(t,r))}if(n===1)throw n=Ev,Zd(t,0),Rc(t,e),As(t,vr()),n;if(n===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gd(t,gs,gl),As(t,vr()),null}function NR(t,e){var n=Ht;Ht|=1;try{return t(e)}finally{Ht=n,Ht===0&&(Up=vr()+500,qS&&Hu())}}function hh(t){Zc!==null&&Zc.tag===0&&!(Ht&6)&&lp();var e=Ht;Ht|=1;var n=pa.transition,r=mn;try{if(pa.transition=null,mn=1,t)return t()}finally{mn=r,pa.transition=n,Ht=e,!(Ht&6)&&Hu()}}function RR(){Ls=Qf.current,Vn(Qf)}function Zd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bie(n)),Tr!==null)for(n=Tr.return;n!==null;){var r=n;switch(fR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&__();break;case 3:zp(),Vn(_s),Vn(Vi),_R();break;case 5:wR(r);break;case 4:zp();break;case 13:Vn(tr);break;case 19:Vn(tr);break;case 10:yR(r.type._context);break;case 22:case 23:RR()}n=n.return}if(ni=t,Tr=t=gu(t.current,null),yi=Ls=e,Vr=0,Ev=null,IR=JS=dh=0,gs=By=null,Ed!==null){for(e=0;e<Ed.length;e++)if(n=Ed[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ed=null}return t}function G6(t,e){do{var n=Tr;try{if(mR(),Aw.current=O_,I_){for(var r=nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}I_=!1}if(uh=0,ei=Br=nr=null,Fy=!1,Av=0,PR.current=null,n===null||n.return===null){Vr=1,Ev=e,Tr=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=yi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=GL(a);if(f!==null){f.flags&=-257,qL(f,a,o,s,e),f.mode&1&&XL(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){XL(s,c,e),MR();break e}l=Error(ye(426))}}else if(Hn&&o.mode&1){var y=GL(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qL(y,a,o,s,e),pR(Vp(l,o));break e}}s=l=Vp(l,o),Vr!==4&&(Vr=2),By===null?By=[s]:By.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=O6(s,l,e);zL(s,v);break e;case 1:o=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fu===null||!fu.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=N6(s,o,e);zL(s,_);break e}}s=s.return}while(s!==null)}Q6(n)}catch(w){e=w,Tr===n&&n!==null&&(Tr=n=n.return);continue}break}while(!0)}function q6(){var t=N_.current;return N_.current=O_,t===null?O_:t}function MR(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),ni===null||!(dh&268435455)&&!(JS&268435455)||Rc(ni,yi)}function D_(t,e){var n=Ht;Ht|=2;var r=q6();(ni!==t||yi!==e)&&(gl=null,Zd(t,e));do try{Hie();break}catch(i){G6(t,i)}while(!0);if(mR(),Ht=n,N_.current=r,Tr!==null)throw Error(ye(261));return ni=null,yi=0,Vr}function Hie(){for(;Tr!==null;)K6(Tr)}function Yie(){for(;Tr!==null&&!yre();)K6(Tr)}function K6(t){var e=J6(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,e===null?Q6(t):Tr=e,PR.current=null}function Q6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$ie(n,e),n!==null){n.flags&=32767,Tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vr=6,Tr=null;return}}else if(n=Fie(n,e,Ls),n!==null){Tr=n;return}if(e=e.sibling,e!==null){Tr=e;return}Tr=e=t}while(e!==null);Vr===0&&(Vr=5)}function gd(t,e,n){var r=mn,i=pa.transition;try{pa.transition=null,mn=1,Xie(t,e,n,r)}finally{pa.transition=i,mn=r}return null}function Xie(t,e,n,r){do lp();while(Zc!==null);if(Ht&6)throw Error(ye(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ere(t,s),t===ni&&(Tr=ni=null,yi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||y0||(y0=!0,e9(m_,function(){return lp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pa.transition,pa.transition=null;var a=mn;mn=1;var o=Ht;Ht|=4,PR.current=null,zie(t,n),H6(n,t),fie(sP),v_=!!iP,sP=iP=null,t.current=n,Vie(n),vre(),Ht=o,mn=a,pa.transition=s}else t.current=n;if(y0&&(y0=!1,Zc=t,M_=i),s=t.pendingLanes,s===0&&(fu=null),wre(n.stateNode),As(t,vr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(R_)throw R_=!1,t=CP,CP=null,t;return M_&1&&t.tag!==0&&lp(),s=t.pendingLanes,s&1?t===kP?zy++:(zy=0,kP=t):zy=0,Hu(),null}function lp(){if(Zc!==null){var t=OH(M_),e=pa.transition,n=mn;try{if(pa.transition=null,mn=16>t?16:t,Zc===null)var r=!1;else{if(t=Zc,Zc=null,M_=0,Ht&6)throw Error(ye(331));var i=Ht;for(Ht|=4,$e=t.current;$e!==null;){var s=$e,a=s.child;if($e.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for($e=c;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:$y(8,u,s)}var d=u.child;if(d!==null)d.return=u,$e=d;else for(;$e!==null;){u=$e;var h=u.sibling,f=u.return;if(V6(u),u===c){$e=null;break}if(h!==null){h.return=f,$e=h;break}$e=f}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}$e=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,$e=a;else e:for(;$e!==null;){if(s=$e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$y(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,$e=v;break e}$e=s.return}}var x=t.current;for($e=x;$e!==null;){a=$e;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,$e=b;else e:for(a=x;$e!==null;){if(o=$e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ZS(9,o)}}catch(w){dr(o,o.return,w)}if(o===a){$e=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,$e=_;break e}$e=o.return}}if(Ht=i,Hu(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(WS,t)}catch{}r=!0}return r}finally{mn=n,pa.transition=e}}return!1}function lF(t,e,n){e=Vp(n,e),e=O6(t,e,1),t=hu(t,e,1),e=rs(),t!==null&&(qx(t,1,e),As(t,e))}function dr(t,e,n){if(t.tag===3)lF(t,t,n);else for(;e!==null;){if(e.tag===3){lF(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fu===null||!fu.has(r))){t=Vp(n,t),t=N6(e,t,1),e=hu(e,t,1),t=rs(),e!==null&&(qx(e,1,t),As(e,t));break}}e=e.return}}function Gie(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rs(),t.pingedLanes|=t.suspendedLanes&n,ni===t&&(yi&n)===n&&(Vr===4||Vr===3&&(yi&130023424)===yi&&500>vr()-OR?Zd(t,0):IR|=n),As(t,e)}function Z6(t,e){e===0&&(t.mode&1?(e=o0,o0<<=1,!(o0&130023424)&&(o0=4194304)):e=1);var n=rs();t=Wl(t,e),t!==null&&(qx(t,e,n),As(t,n))}function qie(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z6(t,n)}function Kie(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ye(314))}r!==null&&r.delete(e),Z6(t,n)}var J6;J6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_s.current)vs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vs=!1,Lie(t,e,n);vs=!!(t.flags&131072)}else vs=!1,Hn&&e.flags&1048576&&r6(e,C_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kw(t,e),t=e.pendingProps;var i=Fp(e,Vi.current);op(e,n),i=AR(null,e,r,t,i,n);var s=CR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ss(r)?(s=!0,S_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xR(e),i.updater=QS,e.stateNode=i,i._reactInternals=e,pP(e,r,t,n),e=yP(null,e,r,!0,s,n)):(e.tag=0,Hn&&s&&hR(e),Qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kw(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Zie(r),t=ja(r,t),i){case 0:e=mP(null,e,r,t,n);break e;case 1:e=ZL(null,e,r,t,n);break e;case 11:e=KL(null,e,r,t,n);break e;case 14:e=QL(null,e,r,ja(r.type,t),n);break e}throw Error(ye(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),mP(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),ZL(t,e,r,i,n);case 3:e:{if(j6(e),t===null)throw Error(ye(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c6(t,e),T_(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vp(Error(ye(423)),e),e=JL(t,e,r,n,i);break e}else if(r!==i){i=Vp(Error(ye(424)),e),e=JL(t,e,r,n,i);break e}else for(Vs=du(e.stateNode.containerInfo.firstChild),Ws=e,Hn=!0,Ua=null,n=o6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($p(),r===i){e=Hl(t,e,n);break e}Qi(t,e,r,n)}e=e.child}return e;case 5:return u6(e),t===null&&dP(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,aP(r,i)?a=null:s!==null&&aP(r,s)&&(e.flags|=32),D6(t,e),Qi(t,e,a,n),e.child;case 6:return t===null&&dP(e),null;case 13:return L6(t,e,n);case 4:return bR(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bp(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),KL(t,e,r,i,n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:return Qi(t,e,e.pendingProps.children,n),e.child;case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Dn(k_,r._currentValue),r._currentValue=a,s!==null)if(co(s.value,a)){if(s.children===i.children&&!_s.current){e=Hl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ml(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hP(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ye(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),hP(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,op(e,n),i=xa(i),r=r(i),e.flags|=1,Qi(t,e,r,n),e.child;case 14:return r=e.type,i=ja(r,e.pendingProps),i=ja(r.type,i),QL(t,e,r,i,n);case 15:return R6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ja(r,i),kw(t,e),e.tag=1,Ss(r)?(t=!0,S_(e)):t=!1,op(e,n),I6(e,r,i),pP(e,r,i,n),yP(null,e,r,!0,t,n);case 19:return F6(t,e,n);case 22:return M6(t,e,n)}throw Error(ye(156,e.tag))};function e9(t,e){return EH(t,e)}function Qie(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(t,e,n,r){return new Qie(t,e,n,r)}function DR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zie(t){if(typeof t=="function")return DR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eR)return 11;if(t===tR)return 14}return 2}function gu(t,e){var n=t.alternate;return n===null?(n=ua(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pw(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")DR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zf:return Jd(n.children,i,s,e);case JN:a=8,i|=8;break;case FT:return t=ua(12,n,e,i|2),t.elementType=FT,t.lanes=s,t;case $T:return t=ua(13,n,e,i),t.elementType=$T,t.lanes=s,t;case BT:return t=ua(19,n,e,i),t.elementType=BT,t.lanes=s,t;case uH:return eA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lH:a=10;break e;case cH:a=9;break e;case eR:a=11;break e;case tR:a=14;break e;case Tc:a=16,r=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=ua(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jd(t,e,n,r){return t=ua(7,t,r,e),t.lanes=n,t}function eA(t,e,n,r){return t=ua(22,t,r,e),t.elementType=uH,t.lanes=n,t.stateNode={isHidden:!1},t}function Fk(t,e,n){return t=ua(6,t,null,e),t.lanes=n,t}function $k(t,e,n){return e=ua(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jie(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xk(0),this.expirationTimes=xk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jR(t,e,n,r,i,s,a,o,l){return t=new Jie(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ua(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xR(s),t}function ese(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function t9(t){if(!t)return Tu;t=t._reactInternals;e:{if(zh(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var n=t.type;if(Ss(n))return t6(t,n,e)}return e}function n9(t,e,n,r,i,s,a,o,l){return t=jR(n,r,!0,t,i,s,a,o,l),t.context=t9(null),n=t.current,r=rs(),i=pu(n),s=Ml(r,i),s.callback=e??null,hu(n,s,i),t.current.lanes=i,qx(t,i,r),As(t,r),t}function tA(t,e,n,r){var i=e.current,s=rs(),a=pu(i);return n=t9(n),e.context===null?e.context=n:e.pendingContext=n,e=Ml(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hu(i,e,a),t!==null&&(no(t,i,a,s),Sw(t,i,a)),a}function j_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function LR(t,e){cF(t,e),(t=t.alternate)&&cF(t,e)}function tse(){return null}var r9=typeof reportError=="function"?reportError:function(t){console.error(t)};function FR(t){this._internalRoot=t}nA.prototype.render=FR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));tA(t,e,null,null)};nA.prototype.unmount=FR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hh(function(){tA(null,t,null,null)}),e[Ul]=null}};function nA(t){this._internalRoot=t}nA.prototype.unstable_scheduleHydration=function(t){if(t){var e=MH();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nc.length&&e!==0&&e<Nc[n].priority;n++);Nc.splice(n,0,t),n===0&&jH(t)}};function $R(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uF(){}function nse(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=j_(a);s.call(c)}}var a=n9(e,r,t,0,null,!1,!1,"",uF);return t._reactRootContainer=a,t[Ul]=a.current,xv(t.nodeType===8?t.parentNode:t),hh(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=j_(l);o.call(c)}}var l=jR(t,0,!1,null,null,!1,!1,"",uF);return t._reactRootContainer=l,t[Ul]=l.current,xv(t.nodeType===8?t.parentNode:t),hh(function(){tA(e,l,n,r)}),l}function iA(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=j_(a);o.call(l)}}tA(e,a,t,i)}else a=nse(n,e,t,i,r);return j_(a)}NH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cy(e.pendingLanes);n!==0&&(iR(e,n|1),As(e,vr()),!(Ht&6)&&(Up=vr()+500,Hu()))}break;case 13:hh(function(){var r=Wl(t,1);if(r!==null){var i=rs();no(r,t,1,i)}}),LR(t,1)}};sR=function(t){if(t.tag===13){var e=Wl(t,134217728);if(e!==null){var n=rs();no(e,t,134217728,n)}LR(t,134217728)}};RH=function(t){if(t.tag===13){var e=pu(t),n=Wl(t,e);if(n!==null){var r=rs();no(n,t,e,r)}LR(t,e)}};MH=function(){return mn};DH=function(t,e){var n=mn;try{return mn=t,e()}finally{mn=n}};KT=function(t,e,n){switch(e){case"input":if(UT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=GS(r);if(!i)throw Error(ye(90));hH(r),UT(r,i)}}}break;case"textarea":pH(t,n);break;case"select":e=n.value,e!=null&&rp(t,!!n.multiple,e,!1)}};wH=NR;_H=hh;var rse={usingClientEntryPoint:!1,Events:[Qx,Hf,GS,xH,bH,NR]},jm={findFiberByHostInstance:kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ise={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CH(t),t===null?null:t.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||tse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{WS=v0.inject(ise),$o=v0}catch{}}Qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rse;Qs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$R(e))throw Error(ye(200));return ese(t,e,null,n)};Qs.createRoot=function(t,e){if(!$R(t))throw Error(ye(299));var n=!1,r="",i=r9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jR(t,1,!1,null,null,n,!1,r,i),t[Ul]=e.current,xv(t.nodeType===8?t.parentNode:t),new FR(e)};Qs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=CH(e),t=t===null?null:t.stateNode,t};Qs.flushSync=function(t){return hh(t)};Qs.hydrate=function(t,e,n){if(!rA(e))throw Error(ye(200));return iA(null,t,e,!0,n)};Qs.hydrateRoot=function(t,e,n){if(!$R(t))throw Error(ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=r9;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=n9(e,null,t,1,n??null,i,!1,s,a),t[Ul]=e.current,xv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nA(e)};Qs.render=function(t,e,n){if(!rA(e))throw Error(ye(200));return iA(null,t,e,!1,n)};Qs.unmountComponentAtNode=function(t){if(!rA(t))throw Error(ye(40));return t._reactRootContainer?(hh(function(){iA(null,null,t,!1,function(){t._reactRootContainer=null,t[Ul]=null})}),!0):!1};Qs.unstable_batchedUpdates=NR;Qs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rA(n))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return iA(t,e,n,!1,r)};Qs.version="18.3.1-next-f1338f8080-20240426";function i9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i9)}catch(t){console.error(t)}}i9(),iH.exports=Qs;var sA=iH.exports;const s9=vn(sA);var dF=sA;Ny.createRoot=dF.createRoot,Ny.hydrateRoot=dF.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}var Jc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jc||(Jc={}));const hF="popstate";function sse(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return PP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:L_(i)}return ose(e,n,null,t)}function wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ase(){return Math.random().toString(36).substr(2,8)}function fF(t,e){return{usr:t.state,key:t.key,idx:e}}function PP(t,e,n,r){return n===void 0&&(n=null),Tv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bg(e):e,{state:n,key:e&&e.key||r||ase()})}function L_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ose(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Jc.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Tv({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Jc.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:p.location,delta:v})}function h(y,v){o=Jc.Push;let x=PP(p.location,y,v);c=u()+1;let b=fF(x,c),_=p.createHref(x);try{a.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}s&&l&&l({action:o,location:p.location,delta:1})}function f(y,v){o=Jc.Replace;let x=PP(p.location,y,v);c=u();let b=fF(x,c),_=p.createHref(x);a.replaceState(b,"",_),s&&l&&l({action:o,location:p.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:L_(y);return x=x.replace(/ $/,"%20"),wr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let p={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hF,d),l=y,()=>{i.removeEventListener(hF,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(y){return a.go(y)}};return p}var pF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pF||(pF={}));function lse(t,e,n){return n===void 0&&(n="/"),cse(t,e,n)}function cse(t,e,n,r){let i=typeof e=="string"?Bg(e):e,s=BR(i.pathname||"/",n);if(s==null)return null;let a=o9(t);use(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=_se(s);o=xse(a[l],c)}return o}function o9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(wr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mu([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),o9(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yse(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of l9(s.path))i(s,a,l)}),e}function l9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=l9(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function use(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vse(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dse=/^:[\w-]+$/,hse=3,fse=2,pse=1,gse=10,mse=-2,gF=t=>t==="*";function yse(t,e){let n=t.split("/"),r=n.length;return n.some(gF)&&(r+=mse),e&&(r+=fse),n.filter(i=>!gF(i)).reduce((i,s)=>i+(dse.test(s)?hse:s===""?pse:gse),r)}function vse(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xse(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=bse({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:mu([s,d.pathname]),pathnameBase:kse(mu([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=mu([s,d.pathnameBase]))}return a}function bse(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wse(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let p=o[d]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function wse(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),a9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _se(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return a9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sse(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bg(t):t;return{pathname:n?n.startsWith("/")?n:Ase(n,e):e,search:Ese(r),hash:Tse(i)}}function Ase(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bk(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zR(t,e){let n=Cse(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bg(t):(i=Tv({},t),wr(!i.pathname||!i.pathname.includes("?"),Bk("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),Bk("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),Bk("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Sse(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mu=t=>t.join("/").replace(/\/\/+/g,"/"),kse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ese=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const c9=["post","put","patch","delete"];new Set(c9);const Ise=["get",...c9];new Set(Ise);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}const UR=I.createContext(null),Ose=I.createContext(null),Yu=I.createContext(null),aA=I.createContext(null),sc=I.createContext({outlet:null,matches:[],isDataRoute:!1}),u9=I.createContext(null);function Nse(t,e){let{relative:n}=e===void 0?{}:e;zg()||wr(!1);let{basename:r,navigator:i}=I.useContext(Yu),{hash:s,pathname:a,search:o}=h9(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:mu([r,a])),i.createHref({pathname:l,search:o,hash:s})}function zg(){return I.useContext(aA)!=null}function Vg(){return zg()||wr(!1),I.useContext(aA).location}function d9(t){I.useContext(Yu).static||I.useLayoutEffect(t)}function Aa(){let{isDataRoute:t}=I.useContext(sc);return t?Hse():Rse()}function Rse(){zg()||wr(!1);let t=I.useContext(UR),{basename:e,future:n,navigator:r}=I.useContext(Yu),{matches:i}=I.useContext(sc),{pathname:s}=Vg(),a=JSON.stringify(zR(i,n.v7_relativeSplatPath)),o=I.useRef(!1);return d9(()=>{o.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=VR(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mu([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,s,t])}function oA(){let{matches:t}=I.useContext(sc),e=t[t.length-1];return e?e.params:{}}function h9(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(Yu),{matches:i}=I.useContext(sc),{pathname:s}=Vg(),a=JSON.stringify(zR(i,r.v7_relativeSplatPath));return I.useMemo(()=>VR(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Mse(t,e){return Dse(t,e)}function Dse(t,e,n,r){zg()||wr(!1);let{navigator:i}=I.useContext(Yu),{matches:s}=I.useContext(sc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Vg(),u;if(e){var d;let y=typeof e=="string"?Bg(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||wr(!1),u=y}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=lse(t,{pathname:f}),p=Bse(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:mu([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:mu([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&p?I.createElement(aA.Provider,{value:{location:Pv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Jc.Pop}},p):p}function jse(){let t=Wse(),e=Pse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const Lse=I.createElement(jse,null);class Fse extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(sc.Provider,{value:this.props.routeContext},I.createElement(u9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $se(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(UR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(sc.Provider,{value:e},r)}function Bse(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||wr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,g=!1,p=null,y=null;n&&(f=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||Lse,l&&(c<0&&h===0?(Yse("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),x=()=>{let b;return f?b=p:g?b=y:d.route.Component?b=I.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,I.createElement($se,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(Fse,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var f9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(f9||{}),p9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(p9||{});function zse(t){let e=I.useContext(UR);return e||wr(!1),e}function Vse(t){let e=I.useContext(Ose);return e||wr(!1),e}function Use(t){let e=I.useContext(sc);return e||wr(!1),e}function g9(t){let e=Use(),n=e.matches[e.matches.length-1];return n.route.id||wr(!1),n.route.id}function Wse(){var t;let e=I.useContext(u9),n=Vse(),r=g9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hse(){let{router:t}=zse(f9.UseNavigateStable),e=g9(p9.UseNavigateStable),n=I.useRef(!1);return d9(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pv({fromRouteId:e},s)))},[t,e])}const mF={};function Yse(t,e,n){mF[t]||(mF[t]=!0)}function Xse(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gse(t){let{to:e,replace:n,state:r,relative:i}=t;zg()||wr(!1);let{future:s,static:a}=I.useContext(Yu),{matches:o}=I.useContext(sc),{pathname:l}=Vg(),c=Aa(),u=VR(e,zR(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return I.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Pi(t){wr(!1)}function qse(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Jc.Pop,navigator:s,static:a=!1,future:o}=t;zg()&&wr(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:Pv({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Bg(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,p=I.useMemo(()=>{let y=BR(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return p==null?null:I.createElement(Yu.Provider,{value:c},I.createElement(aA.Provider,{children:n,value:p}))}function Kse(t){let{children:e,location:n}=t;return Mse(IP(e),n)}new Promise(()=>{});function IP(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,IP(r.props.children,s));return}r.type!==Pi&&wr(!1),!r.props.index||!r.props.children||wr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=IP(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OP(){return OP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OP.apply(this,arguments)}function Qse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jse(t,e){return t.button===0&&(!e||e==="_self")&&!Zse(t)}const eae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tae="6";try{window.__reactRouterVersion=tae}catch{}const nae="startTransition",yF=qN[nae];function rae(t){let{basename:e,children:n,future:r,window:i}=t,s=I.useRef();s.current==null&&(s.current=sse({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=I.useCallback(d=>{c&&yF?yF(()=>l(d)):l(d)},[l,c]);return I.useLayoutEffect(()=>a.listen(u),[a,u]),I.useEffect(()=>Xse(r),[r]),I.createElement(qse,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const iae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=Qse(e,eae),{basename:f}=I.useContext(Yu),g,p=!1;if(typeof c=="string"&&sae.test(c)&&(g=c,iae))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),w=BR(_.pathname,f);_.origin===b.origin&&w!=null?c=w+_.search+_.hash:p=!0}catch{}let y=Nse(c,{relative:i}),v=aae(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function x(b){r&&r(b),b.defaultPrevented||v(b)}return I.createElement("a",OP({},h,{href:g||y,onClick:p||s?r:x,ref:n,target:l}))});var vF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vF||(vF={}));var xF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xF||(xF={}));function aae(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Aa(),c=Vg(),u=h9(t,{relative:a});return I.useCallback(d=>{if(Jse(d,n)){d.preventDefault();let h=r!==void 0?r:L_(c)===L_(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}var bF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oae=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},y9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,f=c&63;l||(f=64,a||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oae(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new lae;const h=s<<2|o>>4;if(r.push(h),c!==64){const f=o<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cae=function(t){const e=m9(t);return y9.encodeByteArray(e,!0)},F_=function(t){return cae(t).replace(/\./g,"")},v9=function(t){try{return y9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=()=>uae().__FIREBASE_DEFAULTS__,hae=()=>{if(typeof process>"u"||typeof bF>"u")return;const t=bF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fae=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v9(t[1]);return e&&JSON.parse(e)},lA=()=>{try{return dae()||hae()||fae()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x9=t=>{var e,n;return(n=(e=lA())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b9=t=>{const e=x9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w9=()=>{var t;return(t=lA())===null||t===void 0?void 0:t.config},_9=t=>{var e;return(e=lA())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[F_(JSON.stringify(n)),F_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function mae(){var t;const e=(t=lA())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xae(){const t=Ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bae(){return!mae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C9(){try{return typeof indexedDB=="object"}catch{return!1}}function k9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function wae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ae="FirebaseError";class Ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_ae,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Sae(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ca(i,o,r)}}function Sae(t,e){return t.replace(Aae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Aae=/\{\$([^}]+)}/g;function Cae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(wF(s)&&wF(a)){if(!fh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dy(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hy(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kae(t,e){const n=new Eae(t,e);return n.subscribe.bind(n)}class Eae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Tae(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zk),i.error===void 0&&(i.error=zk),i.complete===void 0&&(i.complete=zk);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tae(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zk(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=1e3,Iae=2,Oae=4*60*60*1e3,Nae=.5;function _F(t,e=Pae,n=Iae){const r=e*Math.pow(n,t),i=Math.round(Nae*r*(Math.random()-.5)*2);return Math.min(Oae,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pae;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dae(e))try{this.getOrInitializeService({instanceIdentifier:md})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=md){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=md){return this.instances.has(e)}getOptions(e=md){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=md){return this.component?this.component.multipleInstances?e:md:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mae(t){return t===md?void 0:t}function Dae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const Lae={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Fae=Lt.INFO,$ae={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Bae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$ae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cA{constructor(e){this.name=e,this._logLevel=Fae,this._logHandler=Bae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const zae=(t,e)=>e.some(n=>t instanceof n);let SF,AF;function Vae(){return SF||(SF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uae(){return AF||(AF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E9=new WeakMap,NP=new WeakMap,T9=new WeakMap,Vk=new WeakMap,WR=new WeakMap;function Wae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(yu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&E9.set(n,t)}).catch(()=>{}),WR.set(e,t),e}function Hae(t){if(NP.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});NP.set(t,e)}let RP={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return NP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yae(t){RP=t(RP)}function Xae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uk(this),e,...n);return T9.set(r,e.sort?e.sort():[e]),yu(r)}:Uae().includes(t)?function(...e){return t.apply(Uk(this),e),yu(E9.get(this))}:function(...e){return yu(t.apply(Uk(this),e))}}function Gae(t){return typeof t=="function"?Xae(t):(t instanceof IDBTransaction&&Hae(t),zae(t,Vae())?new Proxy(t,RP):t)}function yu(t){if(t instanceof IDBRequest)return Wae(t);if(Vk.has(t))return Vk.get(t);const e=Gae(t);return e!==t&&(Vk.set(t,e),WR.set(e,t)),e}const Uk=t=>WR.get(t);function P9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=yu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(yu(a.result),l.oldVersion,l.newVersion,yu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const qae=["get","getKey","getAll","getAllKeys","count"],Kae=["put","add","delete","clear"],Wk=new Map;function CF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wk.get(e))return Wk.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Kae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qae.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Wk.set(e,s),s}Yae(t=>({...t,get:(e,n,r)=>CF(e,n)||t.get(e,n,r),has:(e,n)=>!!CF(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zae(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const MP="@firebase/app",kF="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new cA("@firebase/app"),Jae="@firebase/app-compat",eoe="@firebase/analytics-compat",toe="@firebase/analytics",noe="@firebase/app-check-compat",roe="@firebase/app-check",ioe="@firebase/auth",soe="@firebase/auth-compat",aoe="@firebase/database",ooe="@firebase/data-connect",loe="@firebase/database-compat",coe="@firebase/functions",uoe="@firebase/functions-compat",doe="@firebase/installations",hoe="@firebase/installations-compat",foe="@firebase/messaging",poe="@firebase/messaging-compat",goe="@firebase/performance",moe="@firebase/performance-compat",yoe="@firebase/remote-config",voe="@firebase/remote-config-compat",xoe="@firebase/storage",boe="@firebase/storage-compat",woe="@firebase/firestore",_oe="@firebase/vertexai-preview",Soe="@firebase/firestore-compat",Aoe="firebase",Coe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="[DEFAULT]",koe={[MP]:"fire-core",[Jae]:"fire-core-compat",[toe]:"fire-analytics",[eoe]:"fire-analytics-compat",[roe]:"fire-app-check",[noe]:"fire-app-check-compat",[ioe]:"fire-auth",[soe]:"fire-auth-compat",[aoe]:"fire-rtdb",[ooe]:"fire-data-connect",[loe]:"fire-rtdb-compat",[coe]:"fire-fn",[uoe]:"fire-fn-compat",[doe]:"fire-iid",[hoe]:"fire-iid-compat",[foe]:"fire-fcm",[poe]:"fire-fcm-compat",[goe]:"fire-perf",[moe]:"fire-perf-compat",[yoe]:"fire-rc",[voe]:"fire-rc-compat",[xoe]:"fire-gcs",[boe]:"fire-gcs-compat",[woe]:"fire-fst",[Soe]:"fire-fst-compat",[_oe]:"fire-vertex","fire-js":"fire-js",[Aoe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map,Eoe=new Map,jP=new Map;function EF(t,e){try{t.container.addComponent(e)}catch(n){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(jP.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;jP.set(e,t);for(const n of Iv.values())EF(n,t);for(const n of Eoe.values())EF(n,t);return!0}function Xu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function da(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vu=new Vh("app","Firebase",Toe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=Coe;function HR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DP,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vu.create("bad-app-name",{appName:String(i)});if(n||(n=w9()),!n)throw vu.create("no-options");const s=Iv.get(i);if(s){if(fh(n,s.options)&&fh(r,s.config))return s;throw vu.create("duplicate-app",{appName:i})}const a=new jae(i);for(const l of jP.values())a.addComponent(l);const o=new Poe(n,r,a);return Iv.set(i,o),o}function eb(t=DP){const e=Iv.get(t);if(!e&&t===DP&&w9())return HR();if(!e)throw vu.create("no-app",{appName:t});return e}function Ioe(){return Array.from(Iv.values())}function Cs(t,e,n){var r;let i=(r=koe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(o.join(" "));return}uo(new wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe="firebase-heartbeat-database",Noe=1,Ov="firebase-heartbeat-store";let Hk=null;function I9(){return Hk||(Hk=P9(Ooe,Noe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ov)}catch(n){console.warn(n)}}}}).catch(t=>{throw vu.create("idb-open",{originalErrorMessage:t.message})})),Hk}async function Roe(t){try{const n=(await I9()).transaction(Ov),r=await n.objectStore(Ov).get(O9(t));return await n.done,r}catch(e){if(e instanceof Ca)Yl.warn(e.message);else{const n=vu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yl.warn(n.message)}}}async function TF(t,e){try{const r=(await I9()).transaction(Ov,"readwrite");await r.objectStore(Ov).put(e,O9(t)),await r.done}catch(n){if(n instanceof Ca)Yl.warn(n.message);else{const r=vu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yl.warn(r.message)}}}function O9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=1024,Doe=30*24*60*60*1e3;class joe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Foe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PF();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Doe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PF(),{heartbeatsToSend:r,unsentEntries:i}=Loe(this._heartbeatsCache.heartbeats),s=F_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yl.warn(n),""}}}function PF(){return new Date().toISOString().substring(0,10)}function Loe(t,e=Moe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),IF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Foe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C9()?k9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Roe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IF(t){return F_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(t){uo(new wa("platform-logger",e=>new Qae(e),"PRIVATE")),uo(new wa("heartbeat",e=>new joe(e),"PRIVATE")),Cs(MP,kF,t),Cs(MP,kF,"esm2017"),Cs("fire-js","")}$oe("");var jo=function(){return jo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jo.apply(this,arguments)};function tb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Boe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function N9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zoe=N9,R9=new Vh("auth","Firebase",N9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new cA("@firebase/auth");function Voe(t,...e){$_.logLevel<=Lt.WARN&&$_.warn(`Auth (${Uh}): ${t}`,...e)}function Iw(t,...e){$_.logLevel<=Lt.ERROR&&$_.error(`Auth (${Uh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,...e){throw XR(t,...e)}function ro(t,...e){return XR(t,...e)}function YR(t,e,n){const r=Object.assign(Object.assign({},zoe()),{[e]:n});return new Vh("auth","Firebase",r).create(e,{appName:t.name})}function zo(t){return YR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uoe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_a(t,"argument-error"),YR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XR(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R9.create(t,...e)}function ot(t,e,...n){if(!t)throw XR(e,...n)}function Al(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Iw(e),new Error(e)}function Xl(t,e){t||Al(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Woe(){return OF()==="http:"||OF()==="https:"}function OF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Woe()||A9()||"connection"in navigator)?navigator.onLine:!0}function Yoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xl(n>e,"Short delay should be less than long delay!"),this.isMobile=gae()||vae()}get(){return Hoe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e){Xl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Al("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Al("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Al("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=new nb(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mo(t,e,n,r,i={}){return D9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Jx(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return yae()||(c.referrerPolicy="no-referrer"),M9.fetch()(j9(t,t.config.apiHost,n,o),c)})}async function D9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xoe),e);try{const i=new Koe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw x0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw x0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw x0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw x0(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YR(t,u,c);_a(t,u)}}catch(i){if(i instanceof Ca)throw i;_a(t,"network-request-failed",{message:String(i)})}}async function rb(t,e,n,r,i={}){const s=await mo(t,e,n,r,i);return"mfaPendingCredential"in s&&_a(t,"multi-factor-auth-required",{_serverResponse:s}),s}function j9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?GR(t.config,i):`${t.config.apiScheme}://${i}`}function qoe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Koe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ro(this.auth,"network-request-failed")),Goe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function x0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ro(t,e,r);return i.customData._tokenResponse=n,i}function NF(t){return t!==void 0&&t.enterprise!==void 0}class Qoe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qoe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Zoe(t,e){return mo(t,"GET","/v2/recaptchaConfig",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Joe(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function L9(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ele(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=qR(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vy(Yk(i.auth_time)),issuedAtTime:Vy(Yk(i.iat)),expirationTime:Vy(Yk(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yk(t){return Number(t)*1e3}function qR(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Iw("JWT malformed, contained fewer than 3 sections"),null;try{const i=v9(n);return i?JSON.parse(i):(Iw("Failed to decode base64 JWT payload"),null)}catch(i){return Iw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RF(t){const e=qR(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ca&&tle(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tle({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vy(this.lastLoginAt),this.creationTime=Vy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ph(t,L9(n,{idToken:r}));ot(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?F9(s.providerUserInfo):[],o=ile(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new FP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function rle(t){const e=Jt(t);await B_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ile(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function F9(t){return t.map(e=>{var{providerId:n}=e,r=tb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sle(t,e){const n=await D9(t,{},async()=>{const r=Jx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=j9(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",M9.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ale(t,e){return mo(t,"POST","/v2/accounts:revokeToken",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=RF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await sle(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new cp;return r&&(ot(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cp,this.toJSON())}_performRefresh(){return Al("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ph(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ele(this,e)}reload(){return rle(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await B_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(zo(this.auth));const e=await this.getIdToken();return await ph(this,Joe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,p=(o=n.tenantId)!==null&&o!==void 0?o:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:C,stsTokenManager:A}=n;ot(b&&A,e,"internal-error");const k=cp.fromJSON(this.name,A);ot(typeof b=="string",e,"internal-error"),_c(d,e.name),_c(h,e.name),ot(typeof _=="boolean",e,"internal-error"),ot(typeof w=="boolean",e,"internal-error"),_c(f,e.name),_c(g,e.name),_c(p,e.name),_c(y,e.name),_c(v,e.name),_c(x,e.name);const E=new Cl({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:w,photoURL:g,phoneNumber:f,tenantId:p,stsTokenManager:k,createdAt:v,lastLoginAt:x});return C&&Array.isArray(C)&&(E.providerData=C.map(T=>Object.assign({},T))),y&&(E._redirectEventId=y),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new cp;i.updateFromServerResponse(n);const s=new Cl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await B_(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?F9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new cp;o.updateFromIdToken(r);const l=new Cl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new FP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new Map;function kl(t){Xl(t instanceof Function,"Expected a class definition");let e=MF.get(t);return e?(Xl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$9.type="NONE";const DF=$9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e,n){return`firebase:${t}:${e}:${n}`}class up{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ow(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ow("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new up(kl(DF),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||kl(DF);const a=Ow(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){const d=Cl._fromJSON(e,u);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new up(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new up(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H9(e))return"Blackberry";if(Y9(e))return"Webos";if(z9(e))return"Safari";if((e.includes("chrome/")||V9(e))&&!e.includes("edge/"))return"Chrome";if(W9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function B9(t=Ui()){return/firefox\//i.test(t)}function z9(t=Ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V9(t=Ui()){return/crios\//i.test(t)}function U9(t=Ui()){return/iemobile/i.test(t)}function W9(t=Ui()){return/android/i.test(t)}function H9(t=Ui()){return/blackberry/i.test(t)}function Y9(t=Ui()){return/webos/i.test(t)}function KR(t=Ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ole(t=Ui()){var e;return KR(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lle(){return xae()&&document.documentMode===10}function X9(t=Ui()){return KR(t)||W9(t)||Y9(t)||H9(t)||/windows phone/i.test(t)||U9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e=[]){let n;switch(t){case"Browser":n=jF(Ui());break;case"Worker":n=`${jF(Ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ule(t,e={}){return mo(t,"GET","/v2/passwordPolicy",ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle=6;class hle{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:dle,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LF(this),this.idTokenSubscription=new LF(this),this.beforeStateQueue=new cle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await up.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L9(this,{idToken:e}),r=await Cl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(da(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await B_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(zo(this));const n=e?Jt(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ule(this),n=new hle(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ale(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kl(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await up.create(this,[kl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Voe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oc(t){return Jt(t)}class LF{constructor(e){this.auth=e,this.observer=null,this.addObserver=kae(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ple(t){uA=t}function q9(t){return uA.loadJS(t)}function gle(){return uA.recaptchaEnterpriseScript}function mle(){return uA.gapiScript}function yle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vle="recaptcha-enterprise",xle="NO_RECAPTCHA";class ble{constructor(e){this.type=vle,this.auth=oc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{Zoe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Qoe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;NF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(xle)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&NF(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gle();l.length!==0&&(l+=o),q9(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function FF(t,e,n,r=!1){const i=new ble(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function z_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await FF(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await FF(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t,e){const n=Xu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fh(s,e??{}))return i;_a(i,"already-initialized")}return n.initialize({options:e})}function _le(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sle(t,e,n){const r=oc(t);ot(r._canInitEmulator,r,"emulator-config-failed"),ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=K9(e),{host:a,port:o}=Ale(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Cle()}function K9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ale(t){const e=K9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$F(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:$F(a)}}}function $F(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Al("not implemented")}_getIdTokenResponse(e){return Al("not implemented")}_linkToIdToken(e,n){return Al("not implemented")}_getReauthenticationResolver(e){return Al("not implemented")}}async function kle(t,e){return mo(t,"POST","/v1/accounts:update",e)}async function Ele(t,e){return mo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle(t,e){return rb(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}async function Ple(t,e){return mo(t,"POST","/v1/accounts:sendOobCode",ac(t,e))}async function Ile(t,e){return Ple(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(t,e){return rb(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function Nle(t,e){return rb(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends QR{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,n,"signInWithPassword",Tle);case"emailLink":return Ole(e,{email:this._email,oobCode:this._password});default:_a(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z_(e,r,"signUpPassword",Ele);case"emailLink":return Nle(e,{idToken:n,email:this._email,oobCode:this._password});default:_a(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t,e){return rb(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle="http://localhost";class gh extends QR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_a("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tb(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new gh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return dp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dp(e,n)}buildRequest(){const e={requestUri:Rle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dle(t){const e=dy(hy(t)).link,n=e?dy(hy(e)).deep_link_id:null,r=dy(hy(t)).deep_link_id;return(r?dy(hy(r)).link:null)||r||n||e||t}class ZR{constructor(e){var n,r,i,s,a,o;const l=dy(hy(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Mle((i=l.mode)!==null&&i!==void 0?i:null);ot(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=Dle(e);try{return new ZR(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,n){return Nv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZR.parseLink(n);return ot(r,"argument-error"),Nv._fromEmailAndCode(e,r.code,r.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends JR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends ib{constructor(){super("facebook.com")}static credential(e){return gh._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mc.credential(e.oauthAccessToken)}catch{return null}}}Mc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends ib{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gh._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bl.credential(n,r)}catch{return null}}}bl.GOOGLE_SIGN_IN_METHOD="google.com";bl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends ib{constructor(){super("github.com")}static credential(e){return gh._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dc.credential(e.oauthAccessToken)}catch{return null}}}Dc.GITHUB_SIGN_IN_METHOD="github.com";Dc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends ib{constructor(){super("twitter.com")}static credential(e,n){return gh._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jc.credential(n,r)}catch{return null}}}jc.TWITTER_SIGN_IN_METHOD="twitter.com";jc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jle(t,e){return rb(t,"POST","/v1/accounts:signUp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cl._fromIdTokenResponse(e,r,i),a=BF(r);return new mh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BF(r);return new mh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Ca{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,V_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new V_(e,n,r,i)}}function Q9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?V_._fromErrorAndOperation(t,s,e,r):s})}async function Lle(t,e,n=!1){const r=await ph(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e,n=!1){const{auth:r}=t;if(da(r.app))return Promise.reject(zo(r));const i="reauthenticate";try{const s=await ph(t,Q9(r,i,e,t),n);ot(s.idToken,r,"internal-error");const a=qR(s.idToken);ot(a,r,"internal-error");const{sub:o}=a;return ot(t.uid===o,r,"user-mismatch"),mh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_a(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e,n=!1){if(da(t.app))return Promise.reject(zo(t));const r="signIn",i=await Q9(t,r,e),s=await mh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Fle(t,e){return J9(oc(t),e)}async function $le(t,e){return Z9(Jt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t){const e=oc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ble(t,e,n){const r=oc(t);await z_(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ile)}async function zle(t,e,n){if(da(t.app))return Promise.reject(zo(t));const r=oc(t),a=await z_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jle).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eY(t),l}),o=await mh._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Vle(t,e,n){return da(t.app)?Promise.reject(zo(t)):Fle(Jt(t),Wh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eY(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,e){return mo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wle(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ph(r,Ule(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Hle(t,e){const n=Jt(t);return da(n.auth.app)?Promise.reject(zo(n.auth)):tY(n,e,null)}function Yle(t,e){return tY(Jt(t),null,e)}async function tY(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await ph(t,kle(r,s));await t._updateTokensIfNecessary(a,!0)}function Xle(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function Gle(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function qle(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function zF(t){return Jt(t).signOut()}const U_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(U_,"1"),this.storage.removeItem(U_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle=1e3,Qle=10;class rY extends nY{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);lle()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qle):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rY.type="LOCAL";const Zle=rY;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY extends nY{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iY.type="SESSION";const sY=iY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dA(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await Jle(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=e2("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(){return window}function tce(t){Vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}async function nce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ice(){return aY()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="firebaseLocalStorageDb",sce=1,W_="firebaseLocalStorage",lY="fbase_key";class sb{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hA(t,e){return t.transaction([W_],e?"readwrite":"readonly").objectStore(W_)}function ace(){const t=indexedDB.deleteDatabase(oY);return new sb(t).toPromise()}function $P(){const t=indexedDB.open(oY,sce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(W_,{keyPath:lY})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(W_)?e(r):(r.close(),await ace(),e(await $P()))})})}async function VF(t,e,n){const r=hA(t,!0).put({[lY]:e,value:n});return new sb(r).toPromise()}async function oce(t,e){const n=hA(t,!1).get(e),r=await new sb(n).toPromise();return r===void 0?null:r.value}function UF(t,e){const n=hA(t,!0).delete(e);return new sb(n).toPromise()}const lce=800,cce=3;class cY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $P(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dA._getInstance(ice()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nce(),!this.activeServiceWorker)return;this.sender=new ece(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $P();return await VF(e,U_,"1"),await UF(e,U_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hA(i,!1).getAll();return new sb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cY.type="LOCAL";const uce=cY;new nb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t,e){return e?kl(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends QR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dce(t){return J9(t.auth,new t2(t),t.bypassAuthState)}function hce(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),Z9(n,new t2(t),t.bypassAuthState)}async function fce(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),Lle(n,new t2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dce;case"linkViaPopup":case"linkViaRedirect":return fce;case"reauthViaPopup":case"reauthViaRedirect":return hce;default:_a(this.auth,"internal-error")}}resolve(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce=new nb(2e3,1e4);async function gce(t,e,n){if(da(t.app))return Promise.reject(ro(t,"operation-not-supported-in-this-environment"));const r=oc(t);Uoe(t,e,JR);const i=uY(r,n);return new Pd(r,"signInViaPopup",e,i).executeNotNull()}class Pd extends dY{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pd.currentPopupAction&&Pd.currentPopupAction.cancel(),Pd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){Xl(this.filter.length===1,"Popup operations only handle one event");const e=e2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ro(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ro(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ro(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pce.get())};e()}}Pd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="pendingRedirect",Nw=new Map;class yce extends dY{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nw.get(this.auth._key());if(!e){try{const r=await vce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nw.set(this.auth._key(),e)}return this.bypassAuthState||Nw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vce(t,e){const n=wce(e),r=bce(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xce(t,e){Nw.set(t._key(),e)}function bce(t){return kl(t._redirectPersistence)}function wce(t){return Ow(mce,t.config.apiKey,t.name)}async function _ce(t,e,n=!1){if(da(t.app))return Promise.reject(zo(t));const r=oc(t),i=uY(r,e),a=await new yce(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sce=10*60*1e3;class Ace{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hY(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ro(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sce&&this.cachedEventUids.clear(),this.cachedEventUids.has(WF(e))}saveEventToCache(e){this.cachedEventUids.add(WF(e)),this.lastProcessedEventTime=Date.now()}}function WF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hY({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hY(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kce(t,e={}){return mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tce=/^https?/;async function Pce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kce(t);for(const n of e)try{if(Ice(n))return}catch{}_a(t,"unauthorized-domain")}function Ice(t){const e=LP(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Tce.test(n))return!1;if(Ece.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce=new nb(3e4,6e4);function HF(){const t=Vo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nce(t){return new Promise((e,n)=>{var r,i,s;function a(){HF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HF(),n(ro(t,"network-request-failed"))},timeout:Oce.get()})}if(!((i=(r=Vo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vo().gapi)===null||s===void 0)&&s.load)a();else{const o=yle("iframefcb");return Vo()[o]=()=>{gapi.load?a():n(ro(t,"network-request-failed"))},q9(`${mle()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Rw=null,e})}let Rw=null;function Rce(t){return Rw=Rw||Nce(t),Rw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mce=new nb(5e3,15e3),Dce="__/auth/iframe",jce="emulator/auth/iframe",Lce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $ce(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?GR(e,jce):`https://${t.config.authDomain}/${Dce}`,r={apiKey:e.apiKey,appName:t.name,v:Uh},i=Fce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jx(r).slice(1)}`}async function Bce(t){const e=await Rce(t),n=Vo().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:$ce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lce,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ro(t,"network-request-failed"),o=Vo().setTimeout(()=>{s(a)},Mce.get());function l(){Vo().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vce=500,Uce=600,Wce="_blank",Hce="http://localhost";class YF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yce(t,e,n,r=Vce,i=Uce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},zce),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ui().toLowerCase();n&&(o=V9(c)?Wce:n),B9(c)&&(e=e||Hce,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(ole(c)&&o!=="_self")return Xce(e||"",o),new YF(null);const d=window.open(e||"",o,u);ot(d,t,"popup-blocked");try{d.focus()}catch{}return new YF(d)}function Xce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce="__/auth/handler",qce="emulator/auth/handler",Kce=encodeURIComponent("fac");async function XF(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uh,eventId:i};if(e instanceof JR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Cae(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof ib){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Kce}=${encodeURIComponent(l)}`:"";return`${Qce(t)}?${Jx(o).slice(1)}${c}`}function Qce({config:t}){return t.emulator?GR(t,qce):`https://${t.authDomain}/${Gce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="webStorageSupport";class Zce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sY,this._completeRedirectFn=_ce,this._overrideRedirectResult=xce}async _openPopup(e,n,r,i){var s;Xl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await XF(e,n,r,LP(),i);return Yce(e,a,e2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await XF(e,n,r,LP(),i);return tce(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Bce(e),r=new Ace(e);return n.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xk,{type:Xk},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xk];a!==void 0&&n(!!a),_a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X9()||z9()||KR()}}const Jce=Zce;var GF="@firebase/auth",qF="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nue(t){uo(new wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G9(t)},c=new fle(r,i,s,l);return _le(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new wa("auth-internal",e=>{const n=oc(e.getProvider("auth").getImmediate());return(r=>new eue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(GF,qF,tue(t)),Cs(GF,qF,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue=5*60,iue=_9("authIdTokenMaxAge")||rue;let KF=null;const sue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iue)return;const i=n==null?void 0:n.token;KF!==i&&(KF=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ug(t=eb()){const e=Xu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wle(t,{popupRedirectResolver:Jce,persistence:[uce,Zle,sY]}),r=_9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=sue(s.toString());Gle(n,a,()=>a(n.currentUser)),Xle(n,o=>a(o))}}const i=x9("auth");return i&&Sle(n,`http://${i}`),n}function aue(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ple({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ro("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nue("Browser");var QF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eh,fY;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function E(){}E.prototype=k.prototype,A.D=k.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(T,P,N){for(var O=Array(arguments.length-2),L=2;L<arguments.length;L++)O[L-2]=arguments[L];return k.prototype[P].apply(T,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,E){E||(E=0);var T=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)T[P]=k.charCodeAt(E++)|k.charCodeAt(E++)<<8|k.charCodeAt(E++)<<16|k.charCodeAt(E++)<<24;else for(P=0;16>P;++P)T[P]=k[E++]|k[E++]<<8|k[E++]<<16|k[E++]<<24;k=A.g[0],E=A.g[1],P=A.g[2];var N=A.g[3],O=k+(N^E&(P^N))+T[0]+3614090360&4294967295;k=E+(O<<7&4294967295|O>>>25),O=N+(P^k&(E^P))+T[1]+3905402710&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(E^N&(k^E))+T[2]+606105819&4294967295,P=N+(O<<17&4294967295|O>>>15),O=E+(k^P&(N^k))+T[3]+3250441966&4294967295,E=P+(O<<22&4294967295|O>>>10),O=k+(N^E&(P^N))+T[4]+4118548399&4294967295,k=E+(O<<7&4294967295|O>>>25),O=N+(P^k&(E^P))+T[5]+1200080426&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(E^N&(k^E))+T[6]+2821735955&4294967295,P=N+(O<<17&4294967295|O>>>15),O=E+(k^P&(N^k))+T[7]+4249261313&4294967295,E=P+(O<<22&4294967295|O>>>10),O=k+(N^E&(P^N))+T[8]+1770035416&4294967295,k=E+(O<<7&4294967295|O>>>25),O=N+(P^k&(E^P))+T[9]+2336552879&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(E^N&(k^E))+T[10]+4294925233&4294967295,P=N+(O<<17&4294967295|O>>>15),O=E+(k^P&(N^k))+T[11]+2304563134&4294967295,E=P+(O<<22&4294967295|O>>>10),O=k+(N^E&(P^N))+T[12]+1804603682&4294967295,k=E+(O<<7&4294967295|O>>>25),O=N+(P^k&(E^P))+T[13]+4254626195&4294967295,N=k+(O<<12&4294967295|O>>>20),O=P+(E^N&(k^E))+T[14]+2792965006&4294967295,P=N+(O<<17&4294967295|O>>>15),O=E+(k^P&(N^k))+T[15]+1236535329&4294967295,E=P+(O<<22&4294967295|O>>>10),O=k+(P^N&(E^P))+T[1]+4129170786&4294967295,k=E+(O<<5&4294967295|O>>>27),O=N+(E^P&(k^E))+T[6]+3225465664&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^E&(N^k))+T[11]+643717713&4294967295,P=N+(O<<14&4294967295|O>>>18),O=E+(N^k&(P^N))+T[0]+3921069994&4294967295,E=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(E^P))+T[5]+3593408605&4294967295,k=E+(O<<5&4294967295|O>>>27),O=N+(E^P&(k^E))+T[10]+38016083&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^E&(N^k))+T[15]+3634488961&4294967295,P=N+(O<<14&4294967295|O>>>18),O=E+(N^k&(P^N))+T[4]+3889429448&4294967295,E=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(E^P))+T[9]+568446438&4294967295,k=E+(O<<5&4294967295|O>>>27),O=N+(E^P&(k^E))+T[14]+3275163606&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^E&(N^k))+T[3]+4107603335&4294967295,P=N+(O<<14&4294967295|O>>>18),O=E+(N^k&(P^N))+T[8]+1163531501&4294967295,E=P+(O<<20&4294967295|O>>>12),O=k+(P^N&(E^P))+T[13]+2850285829&4294967295,k=E+(O<<5&4294967295|O>>>27),O=N+(E^P&(k^E))+T[2]+4243563512&4294967295,N=k+(O<<9&4294967295|O>>>23),O=P+(k^E&(N^k))+T[7]+1735328473&4294967295,P=N+(O<<14&4294967295|O>>>18),O=E+(N^k&(P^N))+T[12]+2368359562&4294967295,E=P+(O<<20&4294967295|O>>>12),O=k+(E^P^N)+T[5]+4294588738&4294967295,k=E+(O<<4&4294967295|O>>>28),O=N+(k^E^P)+T[8]+2272392833&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^E)+T[11]+1839030562&4294967295,P=N+(O<<16&4294967295|O>>>16),O=E+(P^N^k)+T[14]+4259657740&4294967295,E=P+(O<<23&4294967295|O>>>9),O=k+(E^P^N)+T[1]+2763975236&4294967295,k=E+(O<<4&4294967295|O>>>28),O=N+(k^E^P)+T[4]+1272893353&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^E)+T[7]+4139469664&4294967295,P=N+(O<<16&4294967295|O>>>16),O=E+(P^N^k)+T[10]+3200236656&4294967295,E=P+(O<<23&4294967295|O>>>9),O=k+(E^P^N)+T[13]+681279174&4294967295,k=E+(O<<4&4294967295|O>>>28),O=N+(k^E^P)+T[0]+3936430074&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^E)+T[3]+3572445317&4294967295,P=N+(O<<16&4294967295|O>>>16),O=E+(P^N^k)+T[6]+76029189&4294967295,E=P+(O<<23&4294967295|O>>>9),O=k+(E^P^N)+T[9]+3654602809&4294967295,k=E+(O<<4&4294967295|O>>>28),O=N+(k^E^P)+T[12]+3873151461&4294967295,N=k+(O<<11&4294967295|O>>>21),O=P+(N^k^E)+T[15]+530742520&4294967295,P=N+(O<<16&4294967295|O>>>16),O=E+(P^N^k)+T[2]+3299628645&4294967295,E=P+(O<<23&4294967295|O>>>9),O=k+(P^(E|~N))+T[0]+4096336452&4294967295,k=E+(O<<6&4294967295|O>>>26),O=N+(E^(k|~P))+T[7]+1126891415&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~E))+T[14]+2878612391&4294967295,P=N+(O<<15&4294967295|O>>>17),O=E+(N^(P|~k))+T[5]+4237533241&4294967295,E=P+(O<<21&4294967295|O>>>11),O=k+(P^(E|~N))+T[12]+1700485571&4294967295,k=E+(O<<6&4294967295|O>>>26),O=N+(E^(k|~P))+T[3]+2399980690&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~E))+T[10]+4293915773&4294967295,P=N+(O<<15&4294967295|O>>>17),O=E+(N^(P|~k))+T[1]+2240044497&4294967295,E=P+(O<<21&4294967295|O>>>11),O=k+(P^(E|~N))+T[8]+1873313359&4294967295,k=E+(O<<6&4294967295|O>>>26),O=N+(E^(k|~P))+T[15]+4264355552&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~E))+T[6]+2734768916&4294967295,P=N+(O<<15&4294967295|O>>>17),O=E+(N^(P|~k))+T[13]+1309151649&4294967295,E=P+(O<<21&4294967295|O>>>11),O=k+(P^(E|~N))+T[4]+4149444226&4294967295,k=E+(O<<6&4294967295|O>>>26),O=N+(E^(k|~P))+T[11]+3174756917&4294967295,N=k+(O<<10&4294967295|O>>>22),O=P+(k^(N|~E))+T[2]+718787259&4294967295,P=N+(O<<15&4294967295|O>>>17),O=E+(N^(P|~k))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var E=k-this.blockSize,T=this.B,P=this.h,N=0;N<k;){if(P==0)for(;N<=E;)i(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<k;)if(T[P++]=A.charCodeAt(N++),P==this.blockSize){i(this,T),P=0;break}}else for(;N<k;)if(T[P++]=A[N++],P==this.blockSize){i(this,T),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var E=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=E&255,E/=256;for(this.u(A),A=Array(16),k=E=0;4>k;++k)for(var T=0;32>T;T+=8)A[E++]=this.g[k]>>>T&255;return A};function s(A,k){var E=o;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=k(A)}function a(A,k){this.h=k;for(var E=[],T=!0,P=A.length-1;0<=P;P--){var N=A[P]|0;T&&N==k||(E[P]=N,T=!1)}this.g=E}var o={};function l(A){return-128<=A&&128>A?s(A,function(k){return new a([k|0],0>k?-1:0)}):new a([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return y(c(-A));for(var k=[],E=1,T=0;A>=E;T++)k[T]=A/E|0,E*=4294967296;return new a(k,0)}function u(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return y(u(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(k,8)),T=d,P=0;P<A.length;P+=8){var N=Math.min(8,A.length-P),O=parseInt(A.substring(P,P+N),k);8>N?(N=c(Math.pow(k,N)),T=T.j(N).add(c(O))):(T=T.j(E),T=T.add(c(O)))}return T}var d=l(0),h=l(1),f=l(16777216);t=a.prototype,t.m=function(){if(p(this))return-y(this).m();for(var A=0,k=1,E=0;E<this.g.length;E++){var T=this.i(E);A+=(0<=T?T:4294967296+T)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(p(this))return"-"+y(this).toString(A);for(var k=c(Math.pow(A,6)),E=this,T="";;){var P=_(E,k).g;E=v(E,P.j(k));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=P,g(E))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function p(A){return A.h==-1}t.l=function(A){return A=v(this,A),p(A)?-1:g(A)?0:1};function y(A){for(var k=A.g.length,E=[],T=0;T<k;T++)E[T]=~A.g[T];return new a(E,~A.h).add(h)}t.abs=function(){return p(this)?y(this):this},t.add=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],T=0,P=0;P<=k;P++){var N=T+(this.i(P)&65535)+(A.i(P)&65535),O=(N>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);T=O>>>16,N&=65535,O&=65535,E[P]=O<<16|N}return new a(E,E[E.length-1]&-2147483648?-1:0)};function v(A,k){return A.add(y(k))}t.j=function(A){if(g(this)||g(A))return d;if(p(this))return p(A)?y(this).j(y(A)):y(y(this).j(A));if(p(A))return y(this.j(y(A)));if(0>this.l(f)&&0>A.l(f))return c(this.m()*A.m());for(var k=this.g.length+A.g.length,E=[],T=0;T<2*k;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var P=0;P<A.g.length;P++){var N=this.i(T)>>>16,O=this.i(T)&65535,L=A.i(P)>>>16,$=A.i(P)&65535;E[2*T+2*P]+=O*$,x(E,2*T+2*P),E[2*T+2*P+1]+=N*$,x(E,2*T+2*P+1),E[2*T+2*P+1]+=O*L,x(E,2*T+2*P+1),E[2*T+2*P+2]+=N*L,x(E,2*T+2*P+2)}for(T=0;T<k;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=k;T<2*k;T++)E[T]=0;return new a(E,0)};function x(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function b(A,k){this.g=A,this.h=k}function _(A,k){if(g(k))throw Error("division by zero");if(g(A))return new b(d,d);if(p(A))return k=_(y(A),k),new b(y(k.g),y(k.h));if(p(k))return k=_(A,y(k)),new b(y(k.g),k.h);if(30<A.g.length){if(p(A)||p(k))throw Error("slowDivide_ only works with positive integers.");for(var E=h,T=k;0>=T.l(A);)E=w(E),T=w(T);var P=C(E,1),N=C(T,1);for(T=C(T,2),E=C(E,2);!g(T);){var O=N.add(T);0>=O.l(A)&&(P=P.add(E),N=O),T=C(T,1),E=C(E,1)}return k=v(A,P.j(k)),new b(P,k)}for(P=d;0<=A.l(k);){for(E=Math.max(1,Math.floor(A.m()/k.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=c(E),O=N.j(k);p(O)||0<O.l(A);)E-=T,N=c(E),O=N.j(k);g(N)&&(N=h),P=P.add(N),A=v(A,O)}return new b(P,A)}t.A=function(A){return _(this,A).h},t.and=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)&A.i(T);return new a(E,this.h&A.h)},t.or=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)|A.i(T);return new a(E,this.h|A.h)},t.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)^A.i(T);return new a(E,this.h^A.h)};function w(A){for(var k=A.g.length+1,E=[],T=0;T<k;T++)E[T]=A.i(T)<<1|A.i(T-1)>>>31;return new a(E,A.h)}function C(A,k){var E=k>>5;k%=32;for(var T=A.g.length-E,P=[],N=0;N<T;N++)P[N]=0<k?A.i(N+E)>>>k|A.i(N+E+1)<<32-k:A.i(N+E);return new a(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fY=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,eh=a}).apply(typeof QF<"u"?QF:typeof self<"u"?self:typeof window<"u"?window:{});var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pY,fy,gY,Mw,BP,mY,yY,vY;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,R,M){return S==Array.prototype||S==Object.prototype||(S[R]=M.value),S};function n(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof b0=="object"&&b0];for(var R=0;R<S.length;++R){var M=S[R];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(S,R){if(R)e:{var M=r;S=S.split(".");for(var V=0;V<S.length-1;V++){var Q=S[V];if(!(Q in M))break e;M=M[Q]}S=S[S.length-1],V=M[S],R=R(V),R!=V&&R!=null&&e(M,S,{configurable:!0,writable:!0,value:R})}}function s(S,R){S instanceof String&&(S+="");var M=0,V=!1,Q={next:function(){if(!V&&M<S.length){var ne=M++;return{value:R(ne,S[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(S){return S||function(){return s(this,function(R,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(S){var R=typeof S;return R=R!="object"?R:S?Array.isArray(S)?"array":R:"null",R=="array"||R=="object"&&typeof S.length=="number"}function c(S){var R=typeof S;return R=="object"&&S!=null||R=="function"}function u(S,R,M){return S.call.apply(S.bind,arguments)}function d(S,R,M){if(!S)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,V),S.apply(R,Q)}}return function(){return S.apply(R,arguments)}}function h(S,R,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(S,R){var M=Array.prototype.slice.call(arguments,1);return function(){var V=M.slice();return V.push.apply(V,arguments),S.apply(this,V)}}function g(S,R){function M(){}M.prototype=R.prototype,S.aa=R.prototype,S.prototype=new M,S.prototype.constructor=S,S.Qb=function(V,Q,ne){for(var ke=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)ke[kn-2]=arguments[kn];return R.prototype[Q].apply(V,ke)}}function p(S){const R=S.length;if(0<R){const M=Array(R);for(let V=0;V<R;V++)M[V]=S[V];return M}return[]}function y(S,R){for(let M=1;M<arguments.length;M++){const V=arguments[M];if(l(V)){const Q=S.length||0,ne=V.length||0;S.length=Q+ne;for(let ke=0;ke<ne;ke++)S[Q+ke]=V[ke]}else S.push(V)}}class v{constructor(R,M){this.i=R,this.j=M,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function x(S){return/^[\s\xa0]*$/.test(S)}function b(){var S=o.navigator;return S&&(S=S.userAgent)?S:""}function _(S){return _[" "](S),S}_[" "]=function(){};var w=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(S,R,M){for(const V in S)R.call(M,S[V],V,S)}function A(S,R){for(const M in S)R.call(void 0,S[M],M,S)}function k(S){const R={};for(const M in S)R[M]=S[M];return R}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(S,R){let M,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(M in V)S[M]=V[M];for(let ne=0;ne<E.length;ne++)M=E[ne],Object.prototype.hasOwnProperty.call(V,M)&&(S[M]=V[M])}}function P(S){var R=1;S=S.split(":");const M=[];for(;0<R&&S.length;)M.push(S.shift()),R--;return S.length&&M.push(S.join(":")),M}function N(S){o.setTimeout(()=>{throw S},0)}function O(){var S=z;let R=null;return S.g&&(R=S.g,S.g=S.g.next,S.g||(S.h=null),R.next=null),R}class L{constructor(){this.h=this.g=null}add(R,M){const V=$.get();V.set(R,M),this.h?this.h.next=V:this.g=V,this.h=V}}var $=new v(()=>new F,S=>S.reset());class F{constructor(){this.next=this.g=this.h=null}set(R,M){this.h=R,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,z=new L,W=()=>{const S=o.Promise.resolve(void 0);B=()=>{S.then(X)}};var X=()=>{for(var S;S=O();){try{S.h.call(S.g)}catch(M){N(M)}var R=$;R.j(S),100>R.h&&(R.h++,S.next=R.g,R.g=S)}D=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(S,R){this.type=S,this.g=this.target=R,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,R=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const M=()=>{};o.addEventListener("test",M,R),o.removeEventListener("test",M,R)}catch{}return S}();function _e(S,R){if(J.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var M=this.type=S.type,V=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=R,R=S.relatedTarget){if(w){e:{try{_(R.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(R=null)}}else M=="mouseover"?R=S.fromElement:M=="mouseout"&&(R=S.toElement);this.relatedTarget=R,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:K[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&_e.aa.h.call(this)}}g(_e,J);var K={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function re(S,R,M,V,Q){this.listener=S,this.proxy=null,this.src=R,this.type=M,this.capture=!!V,this.ha=Q,this.key=++Ne,this.da=this.fa=!1}function ge(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Ae(S){this.src=S,this.g={},this.h=0}Ae.prototype.add=function(S,R,M,V,Q){var ne=S.toString();S=this.g[ne],S||(S=this.g[ne]=[],this.h++);var ke=et(S,R,V,Q);return-1<ke?(R=S[ke],M||(R.fa=!1)):(R=new re(R,this.src,ne,!!V,Q),R.fa=M,S.push(R)),R};function se(S,R){var M=R.type;if(M in S.g){var V=S.g[M],Q=Array.prototype.indexOf.call(V,R,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(V,Q,1),ne&&(ge(R),S.g[M].length==0&&(delete S.g[M],S.h--))}}function et(S,R,M,V){for(var Q=0;Q<S.length;++Q){var ne=S[Q];if(!ne.da&&ne.listener==R&&ne.capture==!!M&&ne.ha==V)return Q}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Ot={};function rn(S,R,M,V,Q){if(Array.isArray(R)){for(var ne=0;ne<R.length;ne++)rn(S,R[ne],M,V,Q);return null}return M=he(M),S&&S[fe]?S.K(R,M,c(V)?!!V.capture:!1,Q):hn(S,R,M,!1,V,Q)}function hn(S,R,M,V,Q,ne){if(!R)throw Error("Invalid event type");var ke=c(Q)?!!Q.capture:!!Q,kn=Se(S);if(kn||(S[Ge]=kn=new Ae(S)),M=kn.add(R,M,V,ke,ne),M.proxy)return M;if(V=Pn(),M.proxy=V,V.src=S,V.listener=M,S.addEventListener)ae||(Q=ke),Q===void 0&&(Q=!1),S.addEventListener(R.toString(),V,Q);else if(S.attachEvent)S.attachEvent(Z(R.toString()),V);else if(S.addListener&&S.removeListener)S.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Pn(){function S(M){return R.call(S.src,S.listener,M)}const R=ee;return S}function bn(S,R,M,V,Q){if(Array.isArray(R))for(var ne=0;ne<R.length;ne++)bn(S,R[ne],M,V,Q);else V=c(V)?!!V.capture:!!V,M=he(M),S&&S[fe]?(S=S.i,R=String(R).toString(),R in S.g&&(ne=S.g[R],M=et(ne,M,V,Q),-1<M&&(ge(ne[M]),Array.prototype.splice.call(ne,M,1),ne.length==0&&(delete S.g[R],S.h--)))):S&&(S=Se(S))&&(R=S.g[R.toString()],S=-1,R&&(S=et(R,M,V,Q)),(M=-1<S?R[S]:null)&&H(M))}function H(S){if(typeof S!="number"&&S&&!S.da){var R=S.src;if(R&&R[fe])se(R.i,S);else{var M=S.type,V=S.proxy;R.removeEventListener?R.removeEventListener(M,V,S.capture):R.detachEvent?R.detachEvent(Z(M),V):R.addListener&&R.removeListener&&R.removeListener(V),(M=Se(R))?(se(M,S),M.h==0&&(M.src=null,R[Ge]=null)):ge(S)}}}function Z(S){return S in Ot?Ot[S]:Ot[S]="on"+S}function ee(S,R){if(S.da)S=!0;else{R=new _e(R,this);var M=S.listener,V=S.ha||S.src;S.fa&&H(S),S=M.call(V,R)}return S}function Se(S){return S=S[Ge],S instanceof Ae?S:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(S){return typeof S=="function"?S:(S[we]||(S[we]=function(R){return S.handleEvent(R)}),S[we])}function Pe(){q.call(this),this.i=new Ae(this),this.M=this,this.F=null}g(Pe,q),Pe.prototype[fe]=!0,Pe.prototype.removeEventListener=function(S,R,M,V){bn(this,S,R,M,V)};function rt(S,R){var M,V=S.F;if(V)for(M=[];V;V=V.F)M.push(V);if(S=S.M,V=R.type||R,typeof R=="string")R=new J(R,S);else if(R instanceof J)R.target=R.target||S;else{var Q=R;R=new J(V,S),T(R,Q)}if(Q=!0,M)for(var ne=M.length-1;0<=ne;ne--){var ke=R.g=M[ne];Q=Tt(ke,V,!0,R)&&Q}if(ke=R.g=S,Q=Tt(ke,V,!0,R)&&Q,Q=Tt(ke,V,!1,R)&&Q,M)for(ne=0;ne<M.length;ne++)ke=R.g=M[ne],Q=Tt(ke,V,!1,R)&&Q}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var S=this.i,R;for(R in S.g){for(var M=S.g[R],V=0;V<M.length;V++)ge(M[V]);delete S.g[R],S.h--}}this.F=null},Pe.prototype.K=function(S,R,M,V){return this.i.add(String(S),R,!1,M,V)},Pe.prototype.L=function(S,R,M,V){return this.i.add(String(S),R,!0,M,V)};function Tt(S,R,M,V){if(R=S.i.g[String(R)],!R)return!0;R=R.concat();for(var Q=!0,ne=0;ne<R.length;++ne){var ke=R[ne];if(ke&&!ke.da&&ke.capture==M){var kn=ke.listener,ai=ke.ha||ke.src;ke.fa&&se(S.i,ke),Q=kn.call(ai,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function In(S,R,M){if(typeof S=="function")M&&(S=h(S,M));else if(S&&typeof S.handleEvent=="function")S=h(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(S,R||0)}function _i(S){S.g=In(()=>{S.g=null,S.i&&(S.i=!1,_i(S))},S.l);const R=S.h;S.h=null,S.m.apply(null,R)}class Gr extends q{constructor(R,M){super(),this.m=R,this.l=M,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(S){q.call(this),this.h=S,this.g={}}g(Si,q);var wo=[];function Is(S){C(S.g,function(R,M){this.g.hasOwnProperty(M)&&H(R)},S),S.g={}}Si.prototype.N=function(){Si.aa.N.call(this),Is(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=o.JSON.stringify,ea=o.JSON.parse,gc=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function Os(){}Os.prototype.h=null;function ta(S){return S.h||(S.h=S.i())}function of(){}var Pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mc(){J.call(this,"d")}g(mc,J);function yc(){J.call(this,"c")}g(yc,J);var Je={},Kn=null;function Qn(){return Kn=Kn||new Pe}Je.La="serverreachability";function qr(S){J.call(this,Je.La,S)}g(qr,J);function Ns(S){const R=Qn();rt(R,new qr(R))}Je.STAT_EVENT="statevent";function lr(S,R){J.call(this,Je.STAT_EVENT,S),this.stat=R}g(lr,J);function sn(S){const R=Qn();rt(R,new lr(R,S))}Je.Ma="timingevent";function _o(S,R){J.call(this,Je.Ma,S),this.size=R}g(_o,J);function Or(S,R){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},R)}function Nr(){this.g=!0}Nr.prototype.xa=function(){this.g=!1};function lf(S,R,M,V,Q,ne){S.info(function(){if(S.g)if(ne)for(var ke="",kn=ne.split("&"),ai=0;ai<kn.length;ai++){var qt=kn[ai].split("=");if(1<qt.length){var Ai=qt[0];qt=qt[1];var Ci=Ai.split("_");ke=2<=Ci.length&&Ci[1]=="type"?ke+(Ai+"="+qt+"&"):ke+(Ai+"=redacted&")}}else ke=null;else ke=ne;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+R+`
`+M+`
`+ke})}function Ia(S,R,M,V,Q,ne,ke){S.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+R+`
`+M+`
`+ne+" "+ke})}function al(S,R,M,V){S.info(function(){return"XMLHTTP TEXT ("+R+"): "+cf(S,M)+(V?" "+V:"")})}function ok(S,R){S.info(function(){return"TIMEOUT: "+R})}Nr.prototype.info=function(){};function cf(S,R){if(!S.g)return R;if(!R)return null;try{var M=JSON.parse(R);if(M){for(S=0;S<M.length;S++)if(Array.isArray(M[S])){var V=M[S];if(!(2>V.length)){var Q=V[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ke=1;ke<Q.length;ke++)Q[ke]=""}}}}return Cn(M)}catch{return R}}var rd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uf;function id(){}g(id,Os),id.prototype.g=function(){return new XMLHttpRequest},id.prototype.i=function(){return{}},uf=new id;function Oa(S,R,M,V){this.j=S,this.i=R,this.l=M,this.R=V||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _m}function _m(){this.i=null,this.g="",this.h=!1}var Sm={},df={};function hf(S,R,M){S.L=1,S.v=Gt(pt(R)),S.m=M,S.P=!0,ie(S,null)}function ie(S,R){S.F=Date.now(),Re(S),S.A=pt(S.v);var M=S.A,V=S.R;Array.isArray(V)||(V=[String(V)]),Mj(M.i,"t",V),S.C=0,M=S.j.J,S.h=new _m,S.g=Zj(S.j,M?R:null,!S.m),0<S.O&&(S.M=new Gr(h(S.Y,S,S.g),S.O)),R=S.U,M=S.g,V=S.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(wo[0]=Q.toString()),Q=wo);for(var ne=0;ne<Q.length;ne++){var ke=rn(M,Q[ne],V||R.handleEvent,!1,R.h||R);if(!ke)break;R.g[ke.key]=ke}R=S.H?k(S.H):{},S.m?(S.u||(S.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,R)):(S.u="GET",S.g.ea(S.A,S.u,null,R)),Ns(),lf(S.i,S.u,S.A,S.l,S.R,S.m)}Oa.prototype.ca=function(S){S=S.target;const R=this.M;R&&ol(S)==3?R.j():this.Y(S)},Oa.prototype.Y=function(S){try{if(S==this.g)e:{const Ci=ol(this.g);var R=this.g.Ba();const mf=this.g.Z();if(!(3>Ci)&&(Ci!=3||this.g&&(this.h.h||this.g.oa()||zj(this.g)))){this.J||Ci!=4||R==7||(R==8||0>=mf?Ns(3):Ns(2)),St(this);var M=this.g.Z();this.X=M;t:if(me(this)){var V=zj(this.g);S="";var Q=V.length,ne=ol(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){st(this),Ze(this);var ke="";break t}this.h.i=new o.TextDecoder}for(R=0;R<Q;R++)this.h.h=!0,S+=this.h.i.decode(V[R],{stream:!(ne&&R==Q-1)});V.length=0,this.h.g+=S,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=M==200,Ia(this.i,this.u,this.A,this.l,this.R,Ci,M),this.o){if(this.T&&!this.K){t:{if(this.g){var kn,ai=this.g;if((kn=ai.g?ai.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(kn)){var qt=kn;break t}}qt=null}if(M=qt)al(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,M);else{this.o=!1,this.s=3,sn(12),st(this),Ze(this);break e}}if(this.P){M=!0;let Na;for(;!this.J&&this.C<ke.length;)if(Na=je(this,ke),Na==df){Ci==4&&(this.s=4,sn(14),M=!1),al(this.i,this.l,null,"[Incomplete Response]");break}else if(Na==Sm){this.s=4,sn(15),al(this.i,this.l,ke,"[Invalid Chunk]"),M=!1;break}else al(this.i,this.l,Na,null),an(this,Na);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ci!=4||ke.length!=0||this.h.h||(this.s=1,sn(16),M=!1),this.o=this.o&&M,!M)al(this.i,this.l,ke,"[Invalid Chunked Response]"),st(this),Ze(this);else if(0<ke.length&&!this.W){this.W=!0;var Ai=this.j;Ai.g==this&&Ai.ba&&!Ai.M&&(Ai.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),dk(Ai),Ai.M=!0,sn(11))}}else al(this.i,this.l,ke,null),an(this,ke);Ci==4&&st(this),this.o&&!this.J&&(Ci==4?Gj(this.j,this):(this.o=!1,Re(this)))}else Tne(this.g),M==400&&0<ke.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),st(this),Ze(this)}}}catch{}finally{}};function me(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function je(S,R){var M=S.C,V=R.indexOf(`
`,M);return V==-1?df:(M=Number(R.substring(M,V)),isNaN(M)?Sm:(V+=1,V+M>R.length?df:(R=R.slice(V,V+M),S.C=V+M,R)))}Oa.prototype.cancel=function(){this.J=!0,st(this)};function Re(S){S.S=Date.now()+S.I,qe(S,S.I)}function qe(S,R){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Or(h(S.ba,S),R)}function St(S){S.B&&(o.clearTimeout(S.B),S.B=null)}Oa.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(ok(this.i,this.A),this.L!=2&&(Ns(),sn(17)),st(this),this.s=2,Ze(this)):qe(this,this.S-S)};function Ze(S){S.j.G==0||S.J||Gj(S.j,S)}function st(S){St(S);var R=S.M;R&&typeof R.ma=="function"&&R.ma(),S.M=null,Is(S.U),S.g&&(R=S.g,S.g=null,R.abort(),R.ma())}function an(S,R){try{var M=S.j;if(M.G!=0&&(M.g==S||Ut(M.h,S))){if(!S.K&&Ut(M.h,S)&&M.G==3){try{var V=M.Da.g.parse(R)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<S.F)Qb(M),qb(M);else break e;uk(M),sn(18)}}else M.za=Q[1],0<M.za-M.T&&37500>Q[2]&&M.F&&M.v==0&&!M.C&&(M.C=Or(h(M.Za,M),6e3));if(1>=xt(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ad(M,11)}else if((S.K||M.g==S)&&Qb(M),!x(R))for(Q=M.Da.g.parse(R),R=0;R<Q.length;R++){let qt=Q[R];if(M.T=qt[0],qt=qt[1],M.G==2)if(qt[0]=="c"){M.K=qt[1],M.ia=qt[2];const Ai=qt[3];Ai!=null&&(M.la=Ai,M.j.info("VER="+M.la));const Ci=qt[4];Ci!=null&&(M.Aa=Ci,M.j.info("SVER="+M.Aa));const mf=qt[5];mf!=null&&typeof mf=="number"&&0<mf&&(V=1.5*mf,M.L=V,M.j.info("backChannelRequestTimeoutMs_="+V)),V=M;const Na=S.g;if(Na){const Jb=Na.g?Na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jb){var ne=V.h;ne.g||Jb.indexOf("spdy")==-1&&Jb.indexOf("quic")==-1&&Jb.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(At(ne,ne.h),ne.h=null))}if(V.D){const hk=Na.g?Na.g.getResponseHeader("X-HTTP-Session-Id"):null;hk&&(V.ya=hk,gt(V.I,V.D,hk))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-S.F,M.j.info("Handshake RTT: "+M.R+"ms")),V=M;var ke=S;if(V.qa=Qj(V,V.J?V.ia:null,V.W),ke.K){Wt(V.h,ke);var kn=ke,ai=V.L;ai&&(kn.I=ai),kn.B&&(St(kn),Re(kn)),V.g=ke}else Yj(V);0<M.i.length&&Kb(M)}else qt[0]!="stop"&&qt[0]!="close"||ad(M,7);else M.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ad(M,7):ck(M):qt[0]!="noop"&&M.l&&M.l.ta(qt),M.v=0)}}Ns(4)}catch{}}var Zn=class{constructor(S,R){this.g=S,this.map=R}};function on(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ce(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function xt(S){return S.h?1:S.g?S.g.size:0}function Ut(S,R){return S.h?S.h==R:S.g?S.g.has(R):!1}function At(S,R){S.g?S.g.add(R):S.h=R}function Wt(S,R){S.h&&S.h==R?S.h=null:S.g&&S.g.has(R)&&S.g.delete(R)}on.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Ln(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let R=S.i;for(const M of S.g.values())R=R.concat(M.D);return R}return p(S.i)}function Hi(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var R=[],M=S.length,V=0;V<M;V++)R.push(S[V]);return R}R=[],M=0;for(V in S)R[M++]=S[V];return R}function Rr(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var R=[];S=S.length;for(var M=0;M<S;M++)R.push(M);return R}R=[],M=0;for(const V in S)R[M++]=V;return R}}}function Kr(S,R){if(S.forEach&&typeof S.forEach=="function")S.forEach(R,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,R,void 0);else for(var M=Rr(S),V=Hi(S),Q=V.length,ne=0;ne<Q;ne++)R.call(void 0,V[ne],M&&M[ne],S)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(S,R){if(S){S=S.split("&");for(var M=0;M<S.length;M++){var V=S[M].indexOf("="),Q=null;if(0<=V){var ne=S[M].substring(0,V);Q=S[M].substring(V+1)}else ne=S[M];R(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function wt(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof wt){this.h=S.h,Qr(this,S.j),this.o=S.o,this.g=S.g,si(this,S.s),this.l=S.l;var R=S.i,M=new Am;M.i=R.i,R.g&&(M.g=new Map(R.g),M.h=R.h),So(this,M),this.m=S.m}else S&&(R=String(S).match(vc))?(this.h=!1,Qr(this,R[1]||"",!0),this.o=Mr(R[2]||""),this.g=Mr(R[3]||"",!0),si(this,R[4]),this.l=Mr(R[5]||"",!0),So(this,R[6]||"",!0),this.m=Mr(R[7]||"")):(this.h=!1,this.i=new Am(null,this.h))}wt.prototype.toString=function(){var S=[],R=this.j;R&&S.push(Jn(R,Wb,!0),":");var M=this.g;return(M||R=="file")&&(S.push("//"),(R=this.o)&&S.push(Jn(R,Wb,!0),"@"),S.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&S.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&S.push("/"),S.push(Jn(M,M.charAt(0)=="/"?Hb:sd,!0))),(M=this.i.toString())&&S.push("?",M),(M=this.m)&&S.push("#",Jn(M,bne)),S.join("")};function pt(S){return new wt(S)}function Qr(S,R,M){S.j=M?Mr(R,!0):R,S.j&&(S.j=S.j.replace(/:$/,""))}function si(S,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);S.s=R}else S.s=null}function So(S,R,M){R instanceof Am?(S.i=R,wne(S.i,S.h)):(M||(R=Jn(R,xne)),S.i=new Am(R,S.h))}function gt(S,R,M){S.i.set(R,M)}function Gt(S){return gt(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Mr(S,R){return S?R?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Jn(S,R,M){return typeof S=="string"?(S=encodeURI(S).replace(R,er),M&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function er(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Wb=/[#\/\?@]/g,sd=/[#\?:]/g,Hb=/[#\?]/g,xne=/[#\?@]/g,bne=/#/g;function Am(S,R){this.h=this.g=null,this.i=S||null,this.j=!!R}function xc(S){S.g||(S.g=new Map,S.h=0,S.i&&ff(S.i,function(R,M){S.add(decodeURIComponent(R.replace(/\+/g," ")),M)}))}t=Am.prototype,t.add=function(S,R){xc(this),this.i=null,S=pf(this,S);var M=this.g.get(S);return M||this.g.set(S,M=[]),M.push(R),this.h+=1,this};function Nj(S,R){xc(S),R=pf(S,R),S.g.has(R)&&(S.i=null,S.h-=S.g.get(R).length,S.g.delete(R))}function Rj(S,R){return xc(S),R=pf(S,R),S.g.has(R)}t.forEach=function(S,R){xc(this),this.g.forEach(function(M,V){M.forEach(function(Q){S.call(R,Q,V,this)},this)},this)},t.na=function(){xc(this);const S=Array.from(this.g.values()),R=Array.from(this.g.keys()),M=[];for(let V=0;V<R.length;V++){const Q=S[V];for(let ne=0;ne<Q.length;ne++)M.push(R[V])}return M},t.V=function(S){xc(this);let R=[];if(typeof S=="string")Rj(this,S)&&(R=R.concat(this.g.get(pf(this,S))));else{S=Array.from(this.g.values());for(let M=0;M<S.length;M++)R=R.concat(S[M])}return R},t.set=function(S,R){return xc(this),this.i=null,S=pf(this,S),Rj(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[R]),this.h+=1,this},t.get=function(S,R){return S?(S=this.V(S),0<S.length?String(S[0]):R):R};function Mj(S,R,M){Nj(S,R),0<M.length&&(S.i=null,S.g.set(pf(S,R),p(M)),S.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],R=Array.from(this.g.keys());for(var M=0;M<R.length;M++){var V=R[M];const ne=encodeURIComponent(String(V)),ke=this.V(V);for(V=0;V<ke.length;V++){var Q=ne;ke[V]!==""&&(Q+="="+encodeURIComponent(String(ke[V]))),S.push(Q)}}return this.i=S.join("&")};function pf(S,R){return R=String(R),S.j&&(R=R.toLowerCase()),R}function wne(S,R){R&&!S.j&&(xc(S),S.i=null,S.g.forEach(function(M,V){var Q=V.toLowerCase();V!=Q&&(Nj(this,V),Mj(this,Q,M))},S)),S.j=R}function _ne(S,R){const M=new Nr;if(o.Image){const V=new Image;V.onload=f(bc,M,"TestLoadImage: loaded",!0,R,V),V.onerror=f(bc,M,"TestLoadImage: error",!1,R,V),V.onabort=f(bc,M,"TestLoadImage: abort",!1,R,V),V.ontimeout=f(bc,M,"TestLoadImage: timeout",!1,R,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=S}else R(!1)}function Sne(S,R){const M=new Nr,V=new AbortController,Q=setTimeout(()=>{V.abort(),bc(M,"TestPingServer: timeout",!1,R)},1e4);fetch(S,{signal:V.signal}).then(ne=>{clearTimeout(Q),ne.ok?bc(M,"TestPingServer: ok",!0,R):bc(M,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Q),bc(M,"TestPingServer: error",!1,R)})}function bc(S,R,M,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(M)}catch{}}function Ane(){this.g=new gc}function Cne(S,R,M){const V=M||"";try{Kr(S,function(Q,ne){let ke=Q;c(Q)&&(ke=Cn(Q)),R.push(V+ne+"="+encodeURIComponent(ke))})}catch(Q){throw R.push(V+"type="+encodeURIComponent("_badmap")),Q}}function Yb(S){this.l=S.Ub||null,this.j=S.eb||!1}g(Yb,Os),Yb.prototype.g=function(){return new Xb(this.l,this.j)},Yb.prototype.i=function(S){return function(){return S}}({});function Xb(S,R){Pe.call(this),this.D=S,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Xb,Pe),t=Xb.prototype,t.open=function(S,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=R,this.readyState=1,km(this)},t.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(R.body=S),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cm(this)),this.readyState=0},t.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,km(this)),this.g&&(this.readyState=3,km(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dj(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dj(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}t.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var R=S.value?S.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!S.done}))&&(this.response=this.responseText+=R)}S.done?Cm(this):km(this),this.readyState==3&&Dj(this)}},t.Ra=function(S){this.g&&(this.response=this.responseText=S,Cm(this))},t.Qa=function(S){this.g&&(this.response=S,Cm(this))},t.ga=function(){this.g&&Cm(this)};function Cm(S){S.readyState=4,S.l=null,S.j=null,S.v=null,km(S)}t.setRequestHeader=function(S,R){this.u.append(S,R)},t.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],R=this.h.entries();for(var M=R.next();!M.done;)M=M.value,S.push(M[0]+": "+M[1]),M=R.next();return S.join(`\r
`)};function km(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Xb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function jj(S){let R="";return C(S,function(M,V){R+=V,R+=":",R+=M,R+=`\r
`}),R}function lk(S,R,M){e:{for(V in M){var V=!1;break e}V=!0}V||(M=jj(M),typeof S=="string"?M!=null&&encodeURIComponent(String(M)):gt(S,R,M))}function cr(S){Pe.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(cr,Pe);var kne=/^https?$/i,Ene=["POST","PUT"];t=cr.prototype,t.Ha=function(S){this.J=S},t.ea=function(S,R,M,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);R=R?R.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uf.g(),this.v=this.o?ta(this.o):ta(uf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(S),!0),this.B=!1}catch(ne){Lj(this,ne);return}if(S=M||"",M=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)M.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())M.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(M.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=o.FormData&&S instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ene,R,void 0))||V||Q||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ke]of M)this.g.setRequestHeader(ne,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bj(this),this.u=!0,this.g.send(S),this.u=!1}catch(ne){Lj(this,ne)}};function Lj(S,R){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=R,S.m=5,Fj(S),Gb(S)}function Fj(S){S.A||(S.A=!0,rt(S,"complete"),rt(S,"error"))}t.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,rt(this,"complete"),rt(this,"abort"),Gb(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gb(this,!0)),cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$j(this):this.bb())},t.bb=function(){$j(this)};function $j(S){if(S.h&&typeof a<"u"&&(!S.v[1]||ol(S)!=4||S.Z()!=2)){if(S.u&&ol(S)==4)In(S.Ea,0,S);else if(rt(S,"readystatechange"),ol(S)==4){S.h=!1;try{const ke=S.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var M;if(!(M=R)){var V;if(V=ke===0){var Q=String(S.D).match(vc)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),V=!kne.test(Q?Q.toLowerCase():"")}M=V}if(M)rt(S,"complete"),rt(S,"success");else{S.m=6;try{var ne=2<ol(S)?S.g.statusText:""}catch{ne=""}S.l=ne+" ["+S.Z()+"]",Fj(S)}}finally{Gb(S)}}}}function Gb(S,R){if(S.g){Bj(S);const M=S.g,V=S.v[0]?()=>{}:null;S.g=null,S.v=null,R||rt(S,"ready");try{M.onreadystatechange=V}catch{}}}function Bj(S){S.I&&(o.clearTimeout(S.I),S.I=null)}t.isActive=function(){return!!this.g};function ol(S){return S.g?S.g.readyState:0}t.Z=function(){try{return 2<ol(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(S){if(this.g){var R=this.g.responseText;return S&&R.indexOf(S)==0&&(R=R.substring(S.length)),ea(R)}};function zj(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function Tne(S){const R={};S=(S.g&&2<=ol(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<S.length;V++){if(x(S[V]))continue;var M=P(S[V]);const Q=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ne=R[Q]||[];R[Q]=ne,ne.push(M)}A(R,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Em(S,R,M){return M&&M.internalChannelParams&&M.internalChannelParams[S]||R}function Vj(S){this.Aa=0,this.i=[],this.j=new Nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Em("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Em("baseRetryDelayMs",5e3,S),this.cb=Em("retryDelaySeedMs",1e4,S),this.Wa=Em("forwardChannelMaxRetries",2,S),this.wa=Em("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new on(S&&S.concurrentRequestLimit),this.Da=new Ane,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vj.prototype,t.la=8,t.G=1,t.connect=function(S,R,M,V){sn(0),this.W=S,this.H=R||{},M&&V!==void 0&&(this.H.OSID=M,this.H.OAID=V),this.F=this.X,this.I=Qj(this,null,this.W),Kb(this)};function ck(S){if(Uj(S),S.G==3){var R=S.U++,M=pt(S.I);if(gt(M,"SID",S.K),gt(M,"RID",R),gt(M,"TYPE","terminate"),Tm(S,M),R=new Oa(S,S.j,R),R.L=2,R.v=Gt(pt(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!M&&o.Image&&(new Image().src=R.v,M=!0),M||(R.g=Zj(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Re(R)}Kj(S)}function qb(S){S.g&&(dk(S),S.g.cancel(),S.g=null)}function Uj(S){qb(S),S.u&&(o.clearTimeout(S.u),S.u=null),Qb(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&o.clearTimeout(S.s),S.s=null)}function Kb(S){if(!Ce(S.h)&&!S.s){S.s=!0;var R=S.Ga;B||W(),D||(B(),D=!0),z.add(R,S),S.B=0}}function Pne(S,R){return xt(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=R.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Or(h(S.Ga,S,R),qj(S,S.B)),S.B++,!0)}t.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Q=new Oa(this,this.j,S);let ne=this.o;if(this.S&&(ne?(ne=k(ne),T(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var R=0,M=0;M<this.i.length;M++){t:{var V=this.i[M];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(R+=V,4096<R){R=M;break e}if(R===4096||M===this.i.length-1){R=M+1;break e}}R=1e3}else R=1e3;R=Hj(this,Q,R),M=pt(this.I),gt(M,"RID",S),gt(M,"CVER",22),this.D&&gt(M,"X-HTTP-Session-Id",this.D),Tm(this,M),ne&&(this.O?R="headers="+encodeURIComponent(String(jj(ne)))+"&"+R:this.m&&lk(M,this.m,ne)),At(this.h,Q),this.Ua&&gt(M,"TYPE","init"),this.P?(gt(M,"$req",R),gt(M,"SID","null"),Q.T=!0,hf(Q,M,null)):hf(Q,M,R),this.G=2}}else this.G==3&&(S?Wj(this,S):this.i.length==0||Ce(this.h)||Wj(this))};function Wj(S,R){var M;R?M=R.l:M=S.U++;const V=pt(S.I);gt(V,"SID",S.K),gt(V,"RID",M),gt(V,"AID",S.T),Tm(S,V),S.m&&S.o&&lk(V,S.m,S.o),M=new Oa(S,S.j,M,S.B+1),S.m===null&&(M.H=S.o),R&&(S.i=R.D.concat(S.i)),R=Hj(S,M,1e3),M.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),At(S.h,M),hf(M,V,R)}function Tm(S,R){S.H&&C(S.H,function(M,V){gt(R,V,M)}),S.l&&Kr({},function(M,V){gt(R,V,M)})}function Hj(S,R,M){M=Math.min(S.i.length,M);var V=S.l?h(S.l.Na,S.l,S):null;e:{var Q=S.i;let ne=-1;for(;;){const ke=["count="+M];ne==-1?0<M?(ne=Q[0].g,ke.push("ofs="+ne)):ne=0:ke.push("ofs="+ne);let kn=!0;for(let ai=0;ai<M;ai++){let qt=Q[ai].g;const Ai=Q[ai].map;if(qt-=ne,0>qt)ne=Math.max(0,Q[ai].g-100),kn=!1;else try{Cne(Ai,ke,"req"+qt+"_")}catch{V&&V(Ai)}}if(kn){V=ke.join("&");break e}}}return S=S.i.splice(0,M),R.D=S,V}function Yj(S){if(!S.g&&!S.u){S.Y=1;var R=S.Fa;B||W(),D||(B(),D=!0),z.add(R,S),S.v=0}}function uk(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Or(h(S.Fa,S),qj(S,S.v)),S.v++,!0)}t.Fa=function(){if(this.u=null,Xj(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Or(h(this.ab,this),S)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),qb(this),Xj(this))};function dk(S){S.A!=null&&(o.clearTimeout(S.A),S.A=null)}function Xj(S){S.g=new Oa(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var R=pt(S.qa);gt(R,"RID","rpc"),gt(R,"SID",S.K),gt(R,"AID",S.T),gt(R,"CI",S.F?"0":"1"),!S.F&&S.ja&&gt(R,"TO",S.ja),gt(R,"TYPE","xmlhttp"),Tm(S,R),S.m&&S.o&&lk(R,S.m,S.o),S.L&&(S.g.I=S.L);var M=S.g;S=S.ia,M.L=1,M.v=Gt(pt(R)),M.m=null,M.P=!0,ie(M,S)}t.Za=function(){this.C!=null&&(this.C=null,qb(this),uk(this),sn(19))};function Qb(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function Gj(S,R){var M=null;if(S.g==R){Qb(S),dk(S),S.g=null;var V=2}else if(Ut(S.h,R))M=R.D,Wt(S.h,R),V=1;else return;if(S.G!=0){if(R.o)if(V==1){M=R.m?R.m.length:0,R=Date.now()-R.F;var Q=S.B;V=Qn(),rt(V,new _o(V,M)),Kb(S)}else Yj(S);else if(Q=R.s,Q==3||Q==0&&0<R.X||!(V==1&&Pne(S,R)||V==2&&uk(S)))switch(M&&0<M.length&&(R=S.h,R.i=R.i.concat(M)),Q){case 1:ad(S,5);break;case 4:ad(S,10);break;case 3:ad(S,6);break;default:ad(S,2)}}}function qj(S,R){let M=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(M*=2),M*R}function ad(S,R){if(S.j.info("Error code "+R),R==2){var M=h(S.fb,S),V=S.Xa;const Q=!V;V=new wt(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qr(V,"https"),Gt(V),Q?_ne(V.toString(),M):Sne(V.toString(),M)}else sn(2);S.G=0,S.l&&S.l.sa(R),Kj(S),Uj(S)}t.fb=function(S){S?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Kj(S){if(S.G=0,S.ka=[],S.l){const R=Ln(S.h);(R.length!=0||S.i.length!=0)&&(y(S.ka,R),y(S.ka,S.i),S.h.i.length=0,p(S.i),S.i.length=0),S.l.ra()}}function Qj(S,R,M){var V=M instanceof wt?pt(M):new wt(M);if(V.g!="")R&&(V.g=R+"."+V.g),si(V,V.s);else{var Q=o.location;V=Q.protocol,R=R?R+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new wt(null);V&&Qr(ne,V),R&&(ne.g=R),Q&&si(ne,Q),M&&(ne.l=M),V=ne}return M=S.D,R=S.ya,M&&R&&gt(V,M,R),gt(V,"VER",S.la),Tm(S,V),V}function Zj(S,R,M){if(R&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=S.Ca&&!S.pa?new cr(new Yb({eb:M})):new cr(S.pa),R.Ha(S.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jj(){}t=Jj.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zb(){}Zb.prototype.g=function(S,R){return new Rs(S,R)};function Rs(S,R){Pe.call(this),this.g=new Vj(R),this.l=S,this.h=R&&R.messageUrlParams||null,S=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(S?S["X-WebChannel-Content-Type"]=R.messageContentType:S={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(S?S["X-WebChannel-Client-Profile"]=R.va:S={"X-WebChannel-Client-Profile":R.va}),this.g.S=S,(S=R&&R.Sb)&&!x(S)&&(this.g.m=S),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!x(R)&&(this.g.D=R,S=this.h,S!==null&&R in S&&(S=this.h,R in S&&delete S[R])),this.j=new gf(this)}g(Rs,Pe),Rs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rs.prototype.close=function(){ck(this.g)},Rs.prototype.o=function(S){var R=this.g;if(typeof S=="string"){var M={};M.__data__=S,S=M}else this.u&&(M={},M.__data__=Cn(S),S=M);R.i.push(new Zn(R.Ya++,S)),R.G==3&&Kb(R)},Rs.prototype.N=function(){this.g.l=null,delete this.j,ck(this.g),delete this.g,Rs.aa.N.call(this)};function eL(S){mc.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var R=S.__sm__;if(R){e:{for(const M in R){S=M;break e}S=void 0}(this.i=S)&&(S=this.i,R=R!==null&&S in R?R[S]:void 0),this.data=R}else this.data=S}g(eL,mc);function tL(){yc.call(this),this.status=1}g(tL,yc);function gf(S){this.g=S}g(gf,Jj),gf.prototype.ua=function(){rt(this.g,"a")},gf.prototype.ta=function(S){rt(this.g,new eL(S))},gf.prototype.sa=function(S){rt(this.g,new tL)},gf.prototype.ra=function(){rt(this.g,"b")},Zb.prototype.createWebChannel=Zb.prototype.g,Rs.prototype.send=Rs.prototype.o,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,vY=function(){return new Zb},yY=function(){return Qn()},mY=Je,BP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rd.NO_ERROR=0,rd.TIMEOUT=8,rd.HTTP_ERROR=6,Mw=rd,wm.COMPLETE="complete",gY=wm,of.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,fy=of,cr.prototype.listenOnce=cr.prototype.L,cr.prototype.getLastError=cr.prototype.Ka,cr.prototype.getLastErrorCode=cr.prototype.Ba,cr.prototype.getStatus=cr.prototype.Z,cr.prototype.getResponseJson=cr.prototype.Oa,cr.prototype.getResponseText=cr.prototype.oa,cr.prototype.send=cr.prototype.ea,cr.prototype.setWithCredentials=cr.prototype.Ha,pY=cr}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});const ZF="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new cA("@firebase/firestore");function Lm(){return yh.logLevel}function We(t,...e){if(yh.logLevel<=Lt.DEBUG){const n=e.map(n2);yh.debug(`Firestore (${Wg}): ${t}`,...n)}}function Gl(t,...e){if(yh.logLevel<=Lt.ERROR){const n=e.map(n2);yh.error(`Firestore (${Wg}): ${t}`,...n)}}function Wp(t,...e){if(yh.logLevel<=Lt.WARN){const n=e.map(n2);yh.warn(`Firestore (${Wg}): ${t}`,...n)}}function n2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t="Unexpected state"){const e=`FIRESTORE (${Wg}) INTERNAL ASSERTION FAILED: `+t;throw Gl(e),new Error(e)}function yn(t,e){t||ct()}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mi.UNAUTHENTICATED))}shutdown(){}}class lue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cue{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Dl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn(typeof r.accessToken=="string"),new xY(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yn(e===null||typeof e=="string"),new Mi(e)}}class uue{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class due{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uue(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hue{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fue{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yn(this.o===void 0);const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,We("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yn(typeof n.token=="string"),this.R=n.token,new hue(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function Hp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Oe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ut(e)}static min(){return new ut(new gr(0,0))}static max(){return new ut(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(),r===void 0?r=e.length-n:r>e.length-n&&ct(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rv.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rv?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Mn extends Rv{construct(e,n,r){return new Mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mn(n)}static emptyPath(){return new Mn([])}}const gue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends Rv{construct(e,n,r){return new fi(e,n,r)}static isValidIdentifier(e){return gue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Oe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Oe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Oe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Oe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(n)}static emptyPath(){return new fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Mn.fromString(e))}static fromName(e){return new Qe(Mn.fromString(e).popFirst(5))}static empty(){return new Qe(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Mn(e.slice()))}}function mue(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new gr(n+1,0):new gr(n,r));return new Pu(i,Qe.empty(),e)}function yue(t){return new Pu(t.readTime,t.key,-1)}class Pu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pu(ut.min(),Qe.empty(),-1)}static max(){return new Pu(ut.max(),Qe.empty(),-1)}}function vue(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Qe.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==xue)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(i=>i?pe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{a[c]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new pe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function wue(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ob(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}r2.oe=-1;function fA(t){return t==null}function H_(t){return t===0&&1/t==-1/0}function _ue(t){return typeof t=="number"&&Number.isInteger(t)&&!H_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.comparator=e,this.root=n||di.EMPTY}insert(e,n){return new sr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w0(this.root,e,this.comparator,!1)}getReverseIterator(){return new w0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w0(this.root,e,this.comparator,!0)}}class w0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??di.RED,this.left=i??di.EMPTY,this.right=s??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new di(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1;di.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(e,n,r,i,s){return this}insert(e,n,r){return new di(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e$(this.data.getIterator())}getIteratorFrom(e){return new e$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vi(this.comparator);return n.data=e,n}}class e${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Us([])}unionWith(e){let n=new vi(fi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _Y("Invalid base64 string: "+s):s}}(e);return new bi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new bi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const Sue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(t){if(yn(!!t),typeof t=="string"){let e=0;const n=Sue.exec(t);if(yn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yr(t.seconds),nanos:yr(t.nanos)}}function yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vh(t){return typeof t=="string"?bi.fromBase64String(t):bi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i2(t){const e=t.mapValue.fields.__previous_value__;return pA(e)?i2(e):e}function Mv(t){const e=Iu(t.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aue{constructor(e,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Dv{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dv("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={mapValue:{}};function xh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pA(t)?4:kue(t)?9007199254740991:Cue(t)?10:11:ct()}function Zo(t,e){if(t===e)return!0;const n=xh(t);if(n!==xh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mv(t).isEqual(Mv(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Iu(i.timestampValue),o=Iu(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vh(i.bytesValue).isEqual(vh(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return yr(i.geoPointValue.latitude)===yr(s.geoPointValue.latitude)&&yr(i.geoPointValue.longitude)===yr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yr(i.integerValue)===yr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=yr(i.doubleValue),o=yr(s.doubleValue);return a===o?H_(a)===H_(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Hp(t.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(JF(a)!==JF(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Zo(a[l],o[l])))return!1;return!0}(t,e);default:return ct()}}function jv(t,e){return(t.values||[]).find(n=>Zo(n,e))!==void 0}function Yp(t,e){if(t===e)return 0;const n=xh(t),r=xh(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=yr(s.integerValue||s.doubleValue),l=yr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return t$(t.timestampValue,e.timestampValue);case 4:return t$(Mv(t),Mv(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(s,a){const o=vh(s),l=vh(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Kt(o[c],l[c]);if(u!==0)return u}return Kt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Kt(yr(s.latitude),yr(a.latitude));return o!==0?o:Kt(yr(s.longitude),yr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n$(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,u;const d=s.fields||{},h=a.fields||{},f=(o=d.value)===null||o===void 0?void 0:o.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,p=Kt(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:n$(f,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===_0.mapValue&&a===_0.mapValue)return 0;if(s===_0.mapValue)return 1;if(a===_0.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Kt(l[d],u[d]);if(h!==0)return h;const f=Yp(o[l[d]],c[u[d]]);if(f!==0)return f}return Kt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ct()}}function t$(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=Iu(t),r=Iu(e),i=Kt(n.seconds,r.seconds);return i!==0?i:Kt(n.nanos,r.nanos)}function n$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yp(n[i],r[i]);if(s)return s}return Kt(n.length,r.length)}function Xp(t){return zP(t)}function zP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Iu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vh(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zP(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${zP(n.fields[a])}`;return i+"}"}(t.mapValue):ct()}function Y_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VP(t){return!!t&&"integerValue"in t}function s2(t){return!!t&&"arrayValue"in t}function r$(t){return!!t&&"nullValue"in t}function i$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dw(t){return!!t&&"mapValue"in t}function Cue(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Uy(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uy(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uy(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uy(n)}setAll(e){let n=fi.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Uy(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hh(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ms(Uy(this.value))}}function SY(t){const e=[];return Hh(t.fields,(n,r)=>{const i=new fi([n]);if(Dw(r)){const s=SY(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ji(e,0,ut.min(),ut.min(),ut.min(),ms.empty(),0)}static newFoundDocument(e,n,r,i){return new ji(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new ji(e,2,n,ut.min(),ut.min(),ms.empty(),0)}static newUnknownDocument(e,n){return new ji(e,3,n,ut.min(),ut.min(),ms.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.position=e,this.inclusive=n}}function s$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Qe.comparator(Qe.fromName(a.referenceValue),n.key):r=Yp(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a$(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n="asc"){this.field=e,this.dir=n}}function Eue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{}class Pr extends AY{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pue(e,n,r):n==="array-contains"?new Nue(e,r):n==="in"?new Rue(e,r):n==="not-in"?new Mue(e,r):n==="array-contains-any"?new Due(e,r):new Pr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Iue(e,r):new Oue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yp(n,this.value)):n!==null&&xh(this.value)===xh(n)&&this.matchesComparison(Yp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends AY{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ho(e,n)}matches(e){return CY(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CY(t){return t.op==="and"}function kY(t){return Tue(t)&&CY(t)}function Tue(t){for(const e of t.filters)if(e instanceof ho)return!1;return!0}function UP(t){if(t instanceof Pr)return t.field.canonicalString()+t.op.toString()+Xp(t.value);if(kY(t))return t.filters.map(e=>UP(e)).join(",");{const e=t.filters.map(n=>UP(n)).join(",");return`${t.op}(${e})`}}function EY(t,e){return t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.field.isEqual(i.field)&&Zo(r.value,i.value)}(t,e):t instanceof ho?function(r,i){return i instanceof ho&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&EY(a,i.filters[o]),!0):!1}(t,e):void ct()}function TY(t){return t instanceof Pr?function(n){return`${n.field.canonicalString()} ${n.op} ${Xp(n.value)}`}(t):t instanceof ho?function(n){return n.op.toString()+" {"+n.getFilters().map(TY).join(" ,")+"}"}(t):"Filter"}class Pue extends Pr{constructor(e,n,r){super(e,n,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Iue extends Pr{constructor(e,n){super(e,"in",n),this.keys=PY("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oue extends Pr{constructor(e,n){super(e,"not-in",n),this.keys=PY("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PY(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class Nue extends Pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s2(n)&&jv(n.arrayValue,this.value)}}class Rue extends Pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jv(this.value.arrayValue,n)}}class Mue extends Pr{constructor(e,n){super(e,"not-in",n)}matches(e){if(jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jv(this.value.arrayValue,n)}}class Due extends Pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function o$(t,e=null,n=[],r=[],i=null,s=null,a=null){return new jue(t,e,n,r,i,s,a)}function a2(t){const e=ft(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>UP(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fA(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xp(r)).join(",")),e.ue=n}return e.ue}function o2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Eue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EY(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a$(t.startAt,e.startAt)&&a$(t.endAt,e.endAt)}function WP(t){return Qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Lue(t,e,n,r,i,s,a,o){return new Yh(t,e,n,r,i,s,a,o)}function gA(t){return new Yh(t)}function l$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l2(t){return t.collectionGroup!==null}function hp(t){const e=ft(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new vi(fi.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Lv(s,r))}),n.has(fi.keyField().canonicalString())||e.ce.push(new Lv(fi.keyField(),r))}return e.ce}function Uo(t){const e=ft(t);return e.le||(e.le=Fue(e,hp(t))),e.le}function Fue(t,e){if(t.limitType==="F")return o$(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Lv(i.field,s)});const n=t.endAt?new Gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gp(t.startAt.position,t.startAt.inclusive):null;return o$(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function HP(t,e){const n=t.filters.concat([e]);return new Yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function X_(t,e,n){return new Yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mA(t,e){return o2(Uo(t),Uo(e))&&t.limitType===e.limitType}function IY(t){return`${a2(Uo(t))}|lt:${t.limitType}`}function jf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TY(i)).join(", ")}]`),fA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xp(i)).join(",")),`Target(${r})`}(Uo(t))}; limitType=${t.limitType})`}function yA(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=s$(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,hp(r),i)||r.endAt&&!function(a,o,l){const c=s$(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,hp(r),i))}(t,e)}function $ue(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OY(t){return(e,n)=>{let r=!1;for(const i of hp(t)){const s=Bue(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bue(t,e,n){const r=t.field.isKeyField()?Qe.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Yp(l,c):ct()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hh(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue=new sr(Qe.comparator);function ql(){return zue}const NY=new sr(Qe.comparator);function py(...t){let e=NY;for(const n of t)e=e.insert(n.key,n);return e}function RY(t){let e=NY;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Id(){return Wy()}function MY(){return Wy()}function Wy(){return new Hg(t=>t.toString(),(t,e)=>t.isEqual(e))}const Vue=new sr(Qe.comparator),Uue=new vi(Qe.comparator);function Nt(...t){let e=Uue;for(const n of t)e=e.add(n);return e}const Wue=new vi(Kt);function Hue(){return Wue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H_(e)?"-0":e}}function DY(t){return{integerValue:""+t}}function jY(t,e){return _ue(e)?DY(e):c2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this._=void 0}}function Yue(t,e,n){return t instanceof Fv?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pA(s)&&(s=i2(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof qp?FY(t,e):t instanceof Kp?$Y(t,e):function(i,s){const a=LY(i,s),o=c$(a)+c$(i.Pe);return VP(a)&&VP(i.Pe)?DY(o):c2(i.serializer,o)}(t,e)}function Xue(t,e,n){return t instanceof qp?FY(t,e):t instanceof Kp?$Y(t,e):n}function LY(t,e){return t instanceof $v?function(r){return VP(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fv extends vA{}class qp extends vA{constructor(e){super(),this.elements=e}}function FY(t,e){const n=BY(e);for(const r of t.elements)n.some(i=>Zo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kp extends vA{constructor(e){super(),this.elements=e}}function $Y(t,e){let n=BY(e);for(const r of t.elements)n=n.filter(i=>!Zo(i,r));return{arrayValue:{values:n}}}class $v extends vA{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c$(t){return yr(t.integerValue||t.doubleValue)}function BY(t){return s2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.field=e,this.transform=n}}function Gue(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qp&&i instanceof qp||r instanceof Kp&&i instanceof Kp?Hp(r.elements,i.elements,Zo):r instanceof $v&&i instanceof $v?Zo(r.Pe,i.Pe):r instanceof Fv&&i instanceof Fv}(t.transform,e.transform)}class que{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let bA=class{};function zY(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wA(t.key,is.none()):new lb(t.key,t.data,is.none());{const n=t.data,r=ms.empty();let i=new vi(fi.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Gu(t.key,r,new Us(i.toArray()),is.none())}}function Kue(t,e,n){t instanceof lb?function(i,s,a){const o=i.value.clone(),l=d$(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Gu?function(i,s,a){if(!jw(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=d$(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(VY(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Hy(t,e,n,r){return t instanceof lb?function(s,a,o,l){if(!jw(s.precondition,a))return o;const c=s.value.clone(),u=h$(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gu?function(s,a,o,l){if(!jw(s.precondition,a))return o;const c=h$(s.fieldTransforms,l,a),u=a.data;return u.setAll(VY(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return jw(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function Que(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=LY(r.transform,i||null);s!=null&&(n===null&&(n=ms.empty()),n.set(r.field,s))}return n||null}function u$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hp(r,i,(s,a)=>Gue(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lb extends bA{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gu extends bA{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VY(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d$(t,e,n){const r=new Map;yn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Xue(a,o,n[i]))}return r}function h$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Yue(s,a,e))}return r}class wA extends bA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zue extends bA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Kue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MY();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=zY(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Hp(this.mutations,e.mutations,(n,r)=>u$(n,r))&&Hp(this.baseMutations,e.baseMutations,(n,r)=>u$(n,r))}}class u2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yn(e.mutations.length===r.length);let i=function(){return Vue}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new u2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ede=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,$t;function nde(t){switch(t){default:return ct();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function UY(t){if(t===void 0)return Gl("GRPC error has no .code"),le.UNKNOWN;switch(t){case Sr.OK:return le.OK;case Sr.CANCELLED:return le.CANCELLED;case Sr.UNKNOWN:return le.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return le.INTERNAL;case Sr.UNAVAILABLE:return le.UNAVAILABLE;case Sr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Sr.NOT_FOUND:return le.NOT_FOUND;case Sr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Sr.ABORTED:return le.ABORTED;case Sr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Sr.DATA_LOSS:return le.DATA_LOSS;default:return ct()}}($t=Sr||(Sr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=new eh([4294967295,4294967295],0);function f$(t){const e=rde().encode(t),n=new fY;return n.update(e),new Uint8Array(n.digest())}function p$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eh([n,r],0),new eh([i,s],0)]}class d2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gy(`Invalid padding: ${n}`);if(r<0)throw new gy(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gy(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gy(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=eh.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(eh.fromNumber(r)));return i.compare(ide)===1&&(i=new eh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=f$(e),[r,i]=p$(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new d2(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=f$(e),[r,i]=p$(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cb.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _A(ut.min(),i,new sr(Kt),ql(),Nt())}}class cb{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cb(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class WY{constructor(e,n){this.targetId=e,this.me=n}}class HY{constructor(e,n,r=bi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g${constructor(){this.fe=0,this.ge=y$(),this.pe=bi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),n=Nt(),r=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new cb(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y$()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sde{constructor(e){this.Le=e,this.Be=new Map,this.ke=ql(),this.qe=m$(),this.Qe=new sr(Kt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ct()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(WP(s))if(r===0){const a=new Qe(s.path);this.Ue(n,a,ji.newNoDocument(a,ut.min()))}else yn(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=vh(r).toUint8Array()}catch(l){if(l instanceof _Y)return Wp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new d2(a,i,s)}catch(l){return Wp(l instanceof gy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&WP(o.target)){const l=new Qe(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ji.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Nt();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new _A(e,n,this.Qe,this.ke,r);return this.ke=ql(),this.qe=m$(),this.Qe=new sr(Kt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g$,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vi(Kt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g$),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m$(){return new sr(Qe.comparator)}function y$(){return new sr(Qe.comparator)}const ade={asc:"ASCENDING",desc:"DESCENDING"},ode={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lde={and:"AND",or:"OR"};class cde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function YP(t,e){return t.useProto3Json||fA(e)?e:{value:e}}function G_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ude(t,e){return G_(t,e.toTimestamp())}function Wo(t){return yn(!!t),ut.fromTimestamp(function(n){const r=Iu(n);return new gr(r.seconds,r.nanos)}(t))}function h2(t,e){return XP(t,e).canonicalString()}function XP(t,e){const n=function(i){return new Mn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XY(t){const e=Mn.fromString(t);return yn(ZY(e)),e}function GP(t,e){return h2(t.databaseId,e.path)}function Gk(t,e){const n=XY(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(qY(n))}function GY(t,e){return h2(t.databaseId,e)}function dde(t){const e=XY(t);return e.length===4?Mn.emptyPath():qY(e)}function qP(t){return new Mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qY(t){return yn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v$(t,e,n){return{name:GP(t,e),fields:n.value.mapValue.fields}}function hde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(yn(u===void 0||typeof u=="string"),bi.fromBase64String(u||"")):(yn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),bi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?le.UNKNOWN:UY(c.code);return new Oe(u,c.message||"")}(a);n=new HY(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gk(t,r.document.name),s=Wo(r.document.updateTime),a=r.document.createTime?Wo(r.document.createTime):ut.min(),o=new ms({mapValue:{fields:r.document.fields}}),l=ji.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lw(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gk(t,r.document),s=r.readTime?Wo(r.readTime):ut.min(),a=ji.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Lw([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gk(t,r.document),s=r.removedTargetIds||[];n=new Lw([],s,i,null)}else{if(!("filter"in e))return ct();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new tde(i,s),o=r.targetId;n=new WY(o,a)}}return n}function fde(t,e){let n;if(e instanceof lb)n={update:v$(t,e.key,e.value)};else if(e instanceof wA)n={delete:GP(t,e.key)};else if(e instanceof Gu)n={update:v$(t,e.key,e.data),updateMask:_de(e.fieldMask)};else{if(!(e instanceof Zue))return ct();n={verify:GP(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Fv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $v)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ct()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ude(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct()}(t,e.precondition)),n}function pde(t,e){return t&&t.length>0?(yn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Wo(i.updateTime):Wo(s);return a.isEqual(ut.min())&&(a=Wo(s)),new que(a,i.transformResults||[])}(n,e))):[]}function gde(t,e){return{documents:[GY(t,e.path)]}}function mde(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GY(t,i);const s=function(c){if(c.length!==0)return QY(ho.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Lf(h.field),direction:xde(h.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=YP(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function yde(t){let e=dde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yn(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=KY(d);return h instanceof ho&&kY(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(g){return new Lv(Ff(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,fA(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Gp(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Gp(f,h)}(n.endAt)),Lue(e,i,a,s,o,"F",l,c)}function vde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KY(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ff(n.unaryFilter.field);return Pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ff(n.unaryFilter.field);return Pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ff(n.unaryFilter.field);return Pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ff(n.unaryFilter.field);return Pr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(t):t.fieldFilter!==void 0?function(n){return Pr.create(Ff(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ho.create(n.compositeFilter.filters.map(r=>KY(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(n.compositeFilter.op))}(t):ct()}function xde(t){return ade[t]}function bde(t){return ode[t]}function wde(t){return lde[t]}function Lf(t){return{fieldPath:t.canonicalString()}}function Ff(t){return fi.fromServerFormat(t.fieldPath)}function QY(t){return t instanceof Pr?function(n){if(n.op==="=="){if(i$(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NAN"}};if(r$(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i$(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NOT_NAN"}};if(r$(n.value))return{unaryFilter:{field:Lf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lf(n.field),op:bde(n.op),value:n.value}}}(t):t instanceof ho?function(n){const r=n.getFilters().map(i=>QY(i));return r.length===1?r[0]:{compositeFilter:{op:wde(n.op),filters:r}}}(t):ct()}function _de(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZY(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i,s=ut.min(),a=ut.min(),o=bi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(e){this.ct=e}}function Ade(t){const e=yde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?X_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(){this.un=new kde}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Pu.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Pu.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class kde{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vi(Mn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vi(Mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qp(0)}static kn(){return new Qp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(){this.changes=new Hg(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hy(r.mutation,i,Us.empty(),gr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const i=Id();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=py();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Id();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=ql();const a=Wy(),o=function(){return Wy()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Gu)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Hy(u.mutation,c,u.mutation.getFieldMask(),gr.now())):a.set(c.key,Us.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>{var d;return o.set(c,new Tde(u,(d=a.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Wy();let i=new sr((a,o)=>a-o),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Us.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||Nt()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=MY();u.forEach(h=>{if(!s.has(h)){const f=zY(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return pe.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Qe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):pe.resolve(Id());let o=-1,l=s;return a.next(c=>pe.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Nt())).next(u=>({batchId:o,changes:RY(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next(r=>{let i=py();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=py();return this.indexManager.getCollectionParents(e,s).next(o=>pe.forEach(o,l=>{const c=function(d,h){return new Yh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,ji.newInvalidDocument(u)))});let o=py();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Hy(u.mutation,c,Us.empty(),gr.now()),yA(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wo(i.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ade(i.bundledQuery),readTime:Wo(i.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(){this.overlays=new sr(Qe.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Id();return pe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=Id(),s=n.length+1,a=new Qe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new sr((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Id(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Id(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return pe.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ede(n,r));let s=this.Ir.get(n);s===void 0&&(s=Nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Tr=new vi(Zr.Er),this.dr=new vi(Zr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Qe(new Mn([])),r=new Zr(n,e),i=new Zr(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Qe(new Mn([])),r=new Zr(n,e),i=new Zr(n,e+1);let s=Nt();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Zr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Qe.comparator(e.key,n.key)||Kt(e.wr,n.wr)}static Ar(e,n){return Kt(e.wr,n.wr)||Qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vi(Zr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Jue(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Zr(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return pe.resolve(a)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zr(n,0),i=new Zr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vi(Kt);return n.forEach(i=>{const s=new Zr(i,0),a=new Zr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Qe.isDocumentKey(s)||(s=s.child(""));const a=new Zr(new Qe(s),0);let o=new vi(Kt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),pe.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return pe.forEach(n.mutations,i=>{const s=new Zr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zr(n,0),i=this.br.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e){this.Mr=e,this.docs=function(){return new sr(Qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(e,n){let r=ql();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ji.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ql();const a=n.path,o=new Qe(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||vue(yue(u),r)<=0||(i.has(u.key)||yA(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return pe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ct()}Or(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dde(this)}getSize(e){return pe.resolve(this.size)}}class Dde extends Ede{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e){this.persistence=e,this.Nr=new Hg(n=>a2(n),o2),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new f2,this.targetCount=0,this.kr=Qp.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qp(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),pe.waitFor(s).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e,n){this.qr={},this.overlays={},this.Qr=new r2(0),this.Kr=!1,this.Kr=!0,this.$r=new Nde,this.referenceDelegate=e(this),this.Ur=new jde(this),this.indexManager=new Cde,this.remoteDocumentCache=function(i){return new Mde(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sde(n),this.Gr=new Ide(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ode,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Rde(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new Fde(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Fde extends bue{constructor(e){super(),this.currentSequenceNumber=e}}class p2{constructor(e){this.persistence=e,this.Jr=new f2,this.Yr=null}static Zr(e){return new p2(e)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,r=>{const i=Qe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ut.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nt(),i=Nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bae()?8:wue(Ui())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $de;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lm()<=Lt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",jf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(Lm()<=Lt.DEBUG&&We("QueryEngine","Query:",jf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lm()<=Lt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",jf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uo(n))):pe.resolve())}Yi(e,n){if(l$(n))return pe.resolve(null);let r=Uo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=X_(n,null,"F"),r=Uo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Nt(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,a,l.readTime)?this.Yi(e,X_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return l$(n)||i.isEqual(ut.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?pe.resolve(null):(Lm()<=Lt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jf(n)),this.rs(e,a,n,mue(i,-1)).next(o=>o))})}ts(e,n){let r=new vi(OY(e));return n.forEach((i,s)=>{yA(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Lm()<=Lt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",jf(n)),this.Ji.getDocumentsMatchingQuery(e,n,Pu.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new sr(Kt),this._s=new Hg(s=>a2(s),o2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pde(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Vde(t,e,n,r){return new zde(t,e,n,r)}async function JY(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Nt();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function Ude(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let f=pe.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(p=>{const y=c.docVersions.get(g);yn(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Nt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eX(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Wde(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(bi.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(p,y,v){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,u)&&o.push(n.Ur.updateTargetData(s,f))});let l=ql(),c=Nt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(Hde(s,a,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(ut.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return pe.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function Hde(t,e,n){let r=Nt(),i=Nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ql();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ut.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):We("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function Yde(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xde(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,pe.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new eu(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function KP(t,e,n){const r=ft(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ob(a))throw a;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function x$(t,e,n){const r=ft(t);let i=ut.min(),s=Nt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=ft(l),h=d._s.get(u);return h!==void 0?pe.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(r,a,Uo(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:ut.min(),n?s:Nt())).next(o=>(Gde(r,$ue(e),o),{documents:o,Ts:s})))}function Gde(t,e,n){let r=t.us.get(e)||ut.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class b${constructor(){this.activeTargetIds=Hue()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qde{constructor(){this.so=new b$,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new b$,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S0=null;function qk(){return S0===null?S0=function(){return 268435456+Math.round(2147483648*Math.random())}():S0++,"0x"+S0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="WebChannelConnection";class Jde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=qk(),l=this.xo(n,r.toUriEncodedString());We("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(n,l,c,i).then(u=>(We("RestConnection",`Received RPC '${n}' ${o}: `,u),u),u=>{throw Wp("RestConnection",`RPC '${n}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=Qde[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=qk();return new Promise((a,o)=>{const l=new pY;l.setWithCredentials(!0),l.listenOnce(gY.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mw.NO_ERROR:const u=l.getResponseJson();We(Ti,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Mw.TIMEOUT:We(Ti,`RPC '${e}' ${s} timed out`),o(new Oe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Mw.HTTP_ERROR:const d=l.getStatus();if(We(Ti,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(v)>=0?v:le.UNKNOWN}(f.status);o(new Oe(g,f.message))}else o(new Oe(le.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Oe(le.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{We(Ti,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);We(Ti,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=qk(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vY(),o=yY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");We(Ti,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=a.createWebChannel(u,l);let h=!1,f=!1;const g=new Zde({Io:y=>{f?We(Ti,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(We(Ti,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),We(Ti,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),p=(y,v,x)=>{y.listen(v,b=>{try{x(b)}catch(_){setTimeout(()=>{throw _},0)}})};return p(d,fy.EventType.OPEN,()=>{f||(We(Ti,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),p(d,fy.EventType.CLOSE,()=>{f||(f=!0,We(Ti,`RPC '${e}' stream ${i} transport closed`),g.So())}),p(d,fy.EventType.ERROR,y=>{f||(f=!0,Wp(Ti,`RPC '${e}' stream ${i} transport errored:`,y),g.So(new Oe(le.UNAVAILABLE,"The operation could not be completed")))}),p(d,fy.EventType.MESSAGE,y=>{var v;if(!f){const x=y.data[0];yn(!!x);const b=x,_=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(_){We(Ti,`RPC '${e}' stream ${i} received error:`,_);const w=_.status;let C=function(E){const T=Sr[E];if(T!==void 0)return UY(T)}(w),A=_.message;C===void 0&&(C=le.INTERNAL,A="Unknown error status: "+w+" with message "+_.message),f=!0,g.So(new Oe(C,A)),d.close()}else We(Ti,`RPC '${e}' stream ${i} received:`,x),g.bo(x)}}),p(o,mY.STAT_EVENT,y=>{y.stat===BP.PROXY?We(Ti,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===BP.NOPROXY&&We(Ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Kk(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){return new cde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tX(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Gl(n.toString()),Gl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Oe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ehe extends nX{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hde(this.serializer,e),r=function(s){if(!("targetChange"in s))return ut.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ut.min():a.readTime?Wo(a.readTime):ut.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=qP(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=WP(l)?{documents:gde(s,l)}:{query:mde(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=YY(s,a.resumeToken);const c=YP(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(ut.min())>0){o.readTime=G_(s,a.snapshotVersion.toTimestamp());const c=YP(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=vde(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=qP(this.serializer),n.removeTarget=e,this.a_(n)}}class the extends nX{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return yn(!!e.streamToken),this.lastStreamToken=e.streamToken,yn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pde(e.writeResults,e.commitTime),r=Wo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=qP(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fde(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Oe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,XP(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(le.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,XP(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(le.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gl(n),this.D_=!1):We("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Xh(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ft(l);c.L_.add(4),await ub(c),c.q_.set("Unknown"),c.L_.delete(4),await AA(c)}(this))})}),this.q_=new rhe(r,i)}}async function AA(t){if(Xh(t))for(const e of t.B_)await e(!0)}async function ub(t){for(const e of t.B_)await e(!1)}function rX(t,e){const n=ft(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),x2(n)?v2(n):Yg(n).r_()&&y2(n,e))}function m2(t,e){const n=ft(t),r=Yg(n);n.N_.delete(e),r.r_()&&iX(n,e),n.N_.size===0&&(r.r_()?r.o_():Xh(n)&&n.q_.set("Unknown"))}function y2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yg(t).A_(e)}function iX(t,e){t.Q_.xe(e),Yg(t).R_(e)}function v2(t){t.Q_=new sde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yg(t).start(),t.q_.v_()}function x2(t){return Xh(t)&&!Yg(t).n_()&&t.N_.size>0}function Xh(t){return ft(t).L_.size===0}function sX(t){t.Q_=void 0}async function she(t){t.q_.set("Online")}async function ahe(t){t.N_.forEach((e,n)=>{y2(t,e)})}async function ohe(t,e){sX(t),x2(t)?(t.q_.M_(e),v2(t)):t.q_.set("Unknown")}async function lhe(t,e,n){if(t.q_.set("Online"),e instanceof HY&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await q_(t,r)}else if(e instanceof Lw?t.Q_.Ke(e):e instanceof WY?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ut.min()))try{const r=await eX(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(bi.EMPTY_BYTE_STRING,u.snapshotVersion)),iX(s,l);const d=new eu(u.target,l,c,u.sequenceNumber);y2(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){We("RemoteStore","Failed to raise snapshot:",r),await q_(t,r)}}async function q_(t,e,n){if(!ob(e))throw e;t.L_.add(1),await ub(t),t.q_.set("Offline"),n||(n=()=>eX(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await AA(t)})}function aX(t,e){return e().catch(n=>q_(t,n,e))}async function CA(t){const e=ft(t),n=Ou(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;che(e);)try{const i=await Yde(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uhe(e,i)}catch(i){await q_(e,i)}oX(e)&&lX(e)}function che(t){return Xh(t)&&t.O_.length<10}function uhe(t,e){t.O_.push(e);const n=Ou(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oX(t){return Xh(t)&&!Ou(t).n_()&&t.O_.length>0}function lX(t){Ou(t).start()}async function dhe(t){Ou(t).p_()}async function hhe(t){const e=Ou(t);for(const n of t.O_)e.m_(n.mutations)}async function fhe(t,e,n){const r=t.O_.shift(),i=u2.from(r,e,n);await aX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await CA(t)}async function phe(t,e){e&&Ou(t).V_&&await async function(r,i){if(function(a){return nde(a)&&a!==le.ABORTED}(i.code)){const s=r.O_.shift();Ou(r).s_(),await aX(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await CA(r)}}(t,e),oX(t)&&lX(t)}async function _$(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=Xh(n);n.L_.add(3),await ub(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await AA(n)}async function ghe(t,e){const n=ft(t);e?(n.L_.delete(2),await AA(n)):e||(n.L_.add(2),await ub(n),n.q_.set("Unknown"))}function Yg(t){return t.K_||(t.K_=function(n,r,i){const s=ft(n);return s.w_(),new ehe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:she.bind(null,t),Ro:ahe.bind(null,t),mo:ohe.bind(null,t),d_:lhe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),x2(t)?v2(t):t.q_.set("Unknown")):(await t.K_.stop(),sX(t))})),t.K_}function Ou(t){return t.U_||(t.U_=function(n,r,i){const s=ft(n);return s.w_(),new the(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dhe.bind(null,t),mo:phe.bind(null,t),f_:hhe.bind(null,t),g_:fhe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await CA(t)):(await t.U_.stop(),t.O_.length>0&&(We("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new b2(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w2(t,e){if(Gl("AsyncQueue",`${e}: ${t}`),ob(t))return new Oe(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=py(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new fp(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.W_=new sr(Qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ct():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zp{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Zp(e,n,fp.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yhe{constructor(){this.queries=A$(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=A$(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new Oe(le.ABORTED,"Firestore shutting down"))}}function A$(){return new Hg(t=>IY(t),mA)}async function _2(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new mhe,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=w2(a,`Initialization of query '${jf(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&A2(n)}async function S2(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vhe(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&A2(n)}function xhe(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function A2(t){t.Y_.forEach(e=>{e.next()})}var QP,C$;(C$=QP||(QP={})).ea="default",C$.Cache="cache";class C2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==QP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this.key=e}}class uX{constructor(e){this.key=e}}class bhe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=OY(e),this.Ra=new fp(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new S$,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=yA(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(r.track({type:3,doc:f}),y=!0):this.ga(h,f)||(r.track({type:2,doc:f}),y=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(o=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(f?(a=a.add(f),s=p?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,d)=>function(f,g){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return p(f)-p(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new Zp(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new S$,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uX(r))}),this.da.forEach(r=>{e.has(r)||n.push(new cX(r))}),n}ba(e){this.Ta=e.Ts,this.da=Nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class whe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _he{constructor(e){this.key=e,this.va=!1}}class She{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Hg(o=>IY(o),mA),this.Ma=new Map,this.xa=new Set,this.Oa=new sr(Qe.comparator),this.Na=new Map,this.La=new f2,this.Ba={},this.ka=new Map,this.qa=Qp.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ahe(t,e,n=!0){const r=mX(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await dX(r,e,n,!0),i}async function Che(t,e){const n=mX(t);await dX(n,e,!0,!1)}async function dX(t,e,n,r){const i=await Xde(t.localStore,Uo(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await khe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&rX(t.remoteStore,i),o}async function khe(t,e,n,r,i){t.Ka=(d,h,f)=>async function(p,y,v,x){let b=y.view.ma(v);b.ns&&(b=await x$(p.localStore,y.query,!1).then(({documents:A})=>y.view.ma(A,b)));const _=x&&x.targetChanges.get(y.targetId),w=x&&x.targetMismatches.get(y.targetId)!=null,C=y.view.applyChanges(b,p.isPrimaryClient,_,w);return E$(p,y.targetId,C.wa),C.snapshot}(t,d,h,f);const s=await x$(t.localStore,e,!0),a=new bhe(e,s.Ts),o=a.ma(s.documents),l=cb.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);E$(t,n,c.wa);const u=new whe(e,n,a);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Ehe(t,e,n){const r=ft(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!mA(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await KP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&m2(r.remoteStore,i.targetId),ZP(r,i.targetId)}).catch(ab)):(ZP(r,i.targetId),await KP(r.localStore,i.targetId,!0))}async function The(t,e){const n=ft(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),m2(n.remoteStore,r.targetId))}async function Phe(t,e,n){const r=jhe(t);try{const i=await function(a,o){const l=ft(a),c=gr.now(),u=o.reduce((f,g)=>f.add(g.key),Nt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ql(),p=Nt();return l.cs.getEntries(f,u).next(y=>{g=y,g.forEach((v,x)=>{x.isValidDocument()||(p=p.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(y=>{d=y;const v=[];for(const x of o){const b=Que(x,d.get(x.key).overlayedDocument);b!=null&&v.push(new Gu(x.key,b,SY(b.value.mapValue),is.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(f,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:RY(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new sr(Kt)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(r,i.batchId,n),await db(r,i.changes),await CA(r.remoteStore)}catch(i){const s=w2(i,"Failed to persist write");n.reject(s)}}async function hX(t,e){const n=ft(t);try{const r=await Wde(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?yn(a.va):i.removedDocuments.size>0&&(yn(a.va),a.va=!1))}),await db(n,r,e)}catch(r){await ab(r)}}function k$(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ft(a);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(o)&&(c=!0)}),c&&A2(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ihe(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new sr(Qe.comparator);a=a.insert(s,ji.newNoDocument(s,ut.min()));const o=Nt().add(s),l=new _A(ut.min(),new Map,new sr(Kt),a,o);await hX(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),k2(r)}else await KP(r.localStore,e,!1).then(()=>ZP(r,e,n)).catch(ab)}async function Ohe(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await Ude(n.localStore,e);pX(n,r,null),fX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await db(n,i)}catch(i){await ab(i)}}async function Nhe(t,e,n){const r=ft(t);try{const i=await function(a,o){const l=ft(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(yn(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);pX(r,e,n),fX(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await db(r,i)}catch(i){await ab(i)}}function fX(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pX(t,e,n){const r=ft(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ZP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||gX(t,r)})}function gX(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(m2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),k2(t))}function E$(t,e,n){for(const r of n)r instanceof cX?(t.La.addReference(r.key,e),Rhe(t,r)):r instanceof uX?(We("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gX(t,r.key)):ct()}function Rhe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(We("SyncEngine","New document in limbo: "+n),t.xa.add(r),k2(t))}function k2(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Qe(Mn.fromString(e)),r=t.qa.next();t.Na.set(r,new _he(n)),t.Oa=t.Oa.insert(n,r),rX(t.remoteStore,new eu(Uo(gA(n.path)),r,"TargetPurposeLimboResolution",r2.oe))}}async function db(t,e,n){const r=ft(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=g2.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,c){const u=ft(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>pe.forEach(c,h=>pe.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>pe.forEach(h.Ui,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ob(d))throw d;We("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.os.get(h),g=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(h,p)}}}(r.localStore,s))}async function Mhe(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=await JY(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Oe(le.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await db(n,r.hs)}}function Dhe(t,e){const n=ft(t),r=n.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function mX(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ihe.bind(null,e),e.Ca.d_=vhe.bind(null,e.eventManager),e.Ca.$a=xhe.bind(null,e.eventManager),e}function jhe(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ohe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nhe.bind(null,e),e}class K_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=SA(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Vde(this.persistence,new Bde,e.initialUser,this.serializer)}Ga(e){return new Lde(p2.Zr,this.serializer)}Wa(e){return new qde}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K_.provider={build:()=>new K_};class JP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k$(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mhe.bind(null,this.syncEngine),await ghe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yhe}()}createDatastore(e){const n=SA(e.databaseInfo.databaseId),r=function(s){return new Jde(s)}(e.databaseInfo);return function(s,a,o,l){return new nhe(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new ihe(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>k$(this.syncEngine,n,0),function(){return w$.D()?new w$:new Kde}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,u){const d=new She(i,s,a,o,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ft(i);We("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ub(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}JP.provider={build:()=>new JP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gl("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lhe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mi.UNAUTHENTICATED,this.clientId=bY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{We("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(We("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qk(t,e){t.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JY(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Fhe(t);We("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_$(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_$(e.remoteStore,i)),t._onlineComponents=e}async function Fhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qk(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wp("Error using user provided cache. Falling back to memory cache: "+n),await Qk(t,new K_)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await Qk(t,new K_);return t._offlineComponents}async function yX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await T$(t,t._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await T$(t,new JP))),t._onlineComponents}function $he(t){return yX(t).then(e=>e.syncEngine)}async function Q_(t){const e=await yX(t),n=e.eventManager;return n.onListen=Ahe.bind(null,e.syncEngine),n.onUnlisten=Ehe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Che.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=The.bind(null,e.syncEngine),n}function Bhe(t,e,n={}){const r=new Dl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new E2({next:h=>{u.Za(),a.enqueueAndForget(()=>S2(s,d));const f=h.docs.has(o);!f&&h.fromCache?c.reject(new Oe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new Oe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new C2(gA(o.path),u,{includeMetadataChanges:!0,_a:!0});return _2(s,d)}(await Q_(t),t.asyncQueue,e,n,r)),r.promise}function zhe(t,e,n={}){const r=new Dl;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new E2({next:h=>{u.Za(),a.enqueueAndForget(()=>S2(s,d)),h.fromCache&&l.source==="server"?c.reject(new Oe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new C2(o,u,{includeMetadataChanges:!0,_a:!0});return _2(s,d)}(await Q_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t,e,n){if(!n)throw new Oe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vhe(t,e,n,r){if(e===!0&&r===!0)throw new Oe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I$(t){if(!Qe.isDocumentKey(t))throw new Oe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O$(t){if(Qe.isDocumentKey(t))throw new Oe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct()}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kA(t);throw new Oe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Uhe(t,e){if(e<=0)throw new Oe(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Oe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Oe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Oe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class EA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N$({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N$(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oue;switch(r.type){case"firstParty":return new due(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P$.get(n);r&&(We("ComponentProvider","Removing Datastore"),P$.delete(n),r.terminate())}(this),Promise.resolve()}}function Whe(t,e,n,r={}){var i;const s=(t=ss(t,EA))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Wp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Mi.MOCK_USER;else{o=S9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Oe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mi(c)}t._authCredentials=new lue(new xY(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class bX{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bX(this.firestore,e,this._query)}};class zi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}}class xu extends qu{constructor(e,n,r){super(e,n,gA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new Qe(e))}withConverter(e){return new xu(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=Jt(t),xX("collection","path",e),t instanceof EA){const r=Mn.fromString(e,...n);return O$(r),new xu(t,null,r)}{if(!(t instanceof zi||t instanceof xu))throw new Oe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mn.fromString(e,...n));return O$(r),new xu(t.firestore,null,r)}}function Ie(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=bY.newId()),xX("doc","path",e),t instanceof EA){const r=Mn.fromString(e,...n);return I$(r),new zi(t,null,new Qe(r))}{if(!(t instanceof zi||t instanceof xu))throw new Oe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mn.fromString(e,...n));return I$(r),new zi(t.firestore,t instanceof xu?t.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tX(this,"async_queue_retry"),this.Vu=()=>{const r=Kk();r&&We("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Kk();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Kk();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Dl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ob(e))throw e;We("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Gl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=b2.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ct()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function M$(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Jo extends EA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R$(e),this._firestoreClient=void 0,await e}}}function wX(t,e){const n=typeof t=="object"?t:eb(),r=typeof t=="string"?t:"(default)",i=Xu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b9("firestore");s&&Whe(i,...s)}return i}function hb(t){if(t._terminated)throw new Oe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hhe(t),t._firestoreClient}function Hhe(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,u){return new Aue(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,vX(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Lhe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jp(bi.fromBase64String(e))}catch(n){throw new Oe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jp(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yhe=/^__.*__$/;class Xhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new lb(e,this.data,n,this.fieldTransforms)}}class _X{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SX(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class TA{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new TA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Z_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SX(this.Cu)&&Yhe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ghe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||SA(e)}Qu(e,n,r,i=!1){return new TA({Cu:e,methodName:n,qu:r,path:fi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(t){const e=t._freezeSettings(),n=SA(t._databaseId);return new Ghe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I2(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);D2("Data must be an object, but it was:",a,r);const o=TX(r,a);let l,c;if(s.merge)l=new Us(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=eI(e,d,n);if(!a.contains(h))throw new Oe(le.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IX(u,h)||u.push(h)}l=new Us(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new Xhe(new ms(o),l,c)}class PA extends Gh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof PA}}function AX(t,e,n){return new TA({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class O2 extends Gh{_toFieldTransform(e){return new xA(e.path,new Fv)}isEqual(e){return e instanceof O2}}class N2 extends Gh{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=AX(this,e,!0),r=this.Ku.map(s=>qh(s,n)),i=new qp(r);return new xA(e.path,i)}isEqual(e){return e instanceof N2&&fh(this.Ku,e.Ku)}}class R2 extends Gh{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=AX(this,e,!0),r=this.Ku.map(s=>qh(s,n)),i=new Kp(r);return new xA(e.path,i)}isEqual(e){return e instanceof R2&&fh(this.Ku,e.Ku)}}class M2 extends Gh{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new $v(e.serializer,jY(e.serializer,this.$u));return new xA(e.path,n)}isEqual(e){return e instanceof M2&&this.$u===e.$u}}function CX(t,e,n,r){const i=t.Qu(1,e,n);D2("Data must be an object, but it was:",i,r);const s=[],a=ms.empty();Hh(r,(l,c)=>{const u=j2(e,l,n);c=Jt(c);const d=i.Nu(u);if(c instanceof PA)s.push(u);else{const h=qh(c,d);h!=null&&(s.push(u),a.set(u,h))}});const o=new Us(s);return new _X(a,o,i.fieldTransforms)}function kX(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[eI(e,r,n)],l=[i];if(s.length%2!=0)throw new Oe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(eI(e,s[h])),l.push(s[h+1]);const c=[],u=ms.empty();for(let h=o.length-1;h>=0;--h)if(!IX(c,o[h])){const f=o[h];let g=l[h];g=Jt(g);const p=a.Nu(f);if(g instanceof PA)c.push(f);else{const y=qh(g,p);y!=null&&(c.push(f),u.set(f,y))}}const d=new Us(c);return new _X(u,d,a.fieldTransforms)}function EX(t,e,n,r=!1){return qh(n,t.Qu(r?4:3,e))}function qh(t,e){if(PX(t=Jt(t)))return D2("Unsupported field value:",e,t),TX(t,e);if(t instanceof Gh)return function(r,i){if(!SX(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=qh(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gr.fromDate(r);return{timestampValue:G_(i.serializer,s)}}if(r instanceof gr){const s=new gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:G_(i.serializer,s)}}if(r instanceof T2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jp)return{bytesValue:YY(i.serializer,r._byteString)};if(r instanceof zi){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof P2)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return c2(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kA(r)}`)}(t,e)}function TX(t,e){const n={};return wY(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hh(t,(r,i)=>{const s=qh(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function PX(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof T2||t instanceof Jp||t instanceof zi||t instanceof Gh||t instanceof P2)}function D2(t,e,n){if(!PX(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kA(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eI(t,e,n){if((e=Jt(e))instanceof fb)return e._internalPath;if(typeof e=="string")return j2(t,e);throw Z_("Field path arguments must be of type string or ",t,!1,void 0,n)}const qhe=new RegExp("[~\\*/\\[\\]]");function j2(t,e,n){if(e.search(qhe)>=0)throw Z_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fb(...e.split("."))._internalPath}catch{throw Z_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Z_(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Oe(le.INVALID_ARGUMENT,o+t+l)}function IX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Khe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Khe extends L2{data(){return super.data()}}function IA(t,e){return typeof e=="string"?j2(t,e):e instanceof fb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F2{}class OA extends F2{}function pi(t,e,...n){let r=[];e instanceof F2&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof $2).length,o=s.filter(l=>l instanceof NA).length;if(a>1||a>0&&o>0)throw new Oe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class NA extends OA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new NA(e,n,r)}_apply(e){const n=this._parse(e);return NX(e._query,n),new qu(e.firestore,e.converter,HP(e._query,n))}_parse(e){const n=Xg(e.firestore);return function(s,a,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Oe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){L$(d,u);const f=[];for(const g of d)f.push(j$(l,s,g));h={arrayValue:{values:f}}}else h=j$(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||L$(d,u),h=EX(o,a,d,u==="in"||u==="not-in");return Pr.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function En(t,e,n){const r=e,i=IA("where",t);return NA._create(i,r,n)}class $2 extends F2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ho.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)NX(a,l),a=HP(a,l)}(e._query,n),new qu(e.firestore,e.converter,HP(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B2 extends OA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B2(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Oe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lv(s,a)}(e._query,this._field,this._direction);return new qu(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Yh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function bh(t,e="asc"){const n=e,r=IA("orderBy",t);return B2._create(r,n)}class z2 extends OA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new z2(e,n,r)}_apply(e){return new qu(e.firestore,e.converter,X_(e._query,this._limit,this._limitType))}}function tI(t){return Uhe("limit",t),z2._create("limit",t,"F")}class V2 extends OA{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new V2(e,n,r)}_apply(e){const n=Qhe(e,this.type,this._docOrFields,this._inclusive);return new qu(e.firestore,e.converter,function(i,s){return new Yh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function D$(...t){return V2._create("startAfter",t,!1)}function Qhe(t,e,n,r){if(n[0]=Jt(n[0]),n[0]instanceof L2)return function(s,a,o,l,c){if(!l)throw new Oe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const d of hp(s))if(d.field.isKeyField())u.push(Y_(a,l.key));else{const h=l.data.field(d.field);if(pA(h))throw new Oe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new Oe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Gp(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Xg(t.firestore);return function(a,o,l,c,u,d){const h=a.explicitOrderBy;if(u.length>h.length)throw new Oe(le.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let g=0;g<u.length;g++){const p=u[g];if(h[g].field.isKeyField()){if(typeof p!="string")throw new Oe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof p}`);if(!l2(a)&&p.indexOf("/")!==-1)throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${p}' contains a slash.`);const y=a.path.child(Mn.fromString(p));if(!Qe.isDocumentKey(y))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new Qe(y);f.push(Y_(o,v))}else{const y=EX(l,c,p);f.push(y)}}return new Gp(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function j$(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new Oe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l2(e)&&n.indexOf("/")!==-1)throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mn.fromString(n));if(!Qe.isDocumentKey(r))throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y_(t,new Qe(r))}if(n instanceof zi)return Y_(t,n._key);throw new Oe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kA(n)}.`)}function L$(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NX(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Oe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zhe{convertValue(e,n="none"){switch(xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ct()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hh(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>yr(a.doubleValue));return new P2(s)}convertGeoPoint(e){return new T2(yr(e.latitude),yr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mv(e));default:return null}}convertTimestamp(e){const n=Iu(e);return new gr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mn.fromString(e);yn(ZY(r));const i=new Dv(r.get(1),r.get(3)),s=new Qe(r.popFirst(5));return i.isEqual(n)||Gl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RX extends L2{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fw extends RX{data(e={}){return super.data(e)}}class MX{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new my(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fw(this._firestore,this._userDataWriter,r.key,r,new my(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Fw(i._firestore,i._userDataWriter,o.doc.key,o.doc,new my(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Fw(i._firestore,i._userDataWriter,o.doc.key,o.doc,new my(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Jhe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){t=ss(t,zi);const e=ss(t.firestore,Jo);return Bhe(hb(e),t._key).then(n=>DX(e,t,n))}class W2 extends Zhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jp(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,n)}}function Xn(t){t=ss(t,qu);const e=ss(t.firestore,Jo),n=hb(e),r=new W2(e);return OX(t._query),zhe(n,t._query).then(i=>new MX(e,r,t,i))}function Nu(t,e,n){t=ss(t,zi);const r=ss(t.firestore,Jo),i=U2(t.converter,e,n);return pb(r,[I2(Xg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,is.none())])}function Yt(t,e,n,...r){t=ss(t,zi);const i=ss(t.firestore,Jo),s=Xg(i);let a;return a=typeof(e=Jt(e))=="string"||e instanceof fb?kX(s,"updateDoc",t._key,e,n,r):CX(s,"updateDoc",t._key,e),pb(i,[a.toMutation(t._key,is.exists(!0))])}function el(t){return pb(ss(t.firestore,Jo),[new wA(t._key,is.none())])}function Kh(t,e){const n=ss(t.firestore,Jo),r=Ie(t),i=U2(t.converter,e);return pb(n,[I2(Xg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,is.exists(!1))]).then(()=>r)}function eg(t,...e){var n,r,i;t=Jt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||M$(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(M$(e[a])){const d=e[a];e[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof zi)c=ss(t.firestore,Jo),u=gA(t._key.path),l={next:d=>{e[a]&&e[a](DX(c,t,d))},error:e[a+1],complete:e[a+2]};else{const d=ss(t,qu);c=ss(d.firestore,Jo),u=d._query;const h=new W2(c);l={next:f=>{e[a]&&e[a](new MX(c,h,d,f))},error:e[a+1],complete:e[a+2]},OX(t._query)}return function(h,f,g,p){const y=new E2(p),v=new C2(f,y,g);return h.asyncQueue.enqueueAndForget(async()=>_2(await Q_(h),v)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>S2(await Q_(h),v))}}(hb(c),u,o,l)}function pb(t,e){return function(r,i){const s=new Dl;return r.asyncQueue.enqueueAndForget(async()=>Phe(await $he(r),i,s)),s.promise}(hb(t),e)}function DX(t,e,n){const r=n.docs.get(e._key),i=new W2(t);return new RX(t,i,e._key,r,new my(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xg(e)}set(e,n,r){this._verifyNotCommitted();const i=Zk(e,this._firestore),s=U2(i.converter,n,r),a=I2(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,is.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Zk(e,this._firestore);let a;return a=typeof(n=Jt(n))=="string"||n instanceof fb?kX(this._dataReader,"WriteBatch.update",s._key,n,r,i):CX(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,is.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zk(e,this._firestore);return this._mutations=this._mutations.concat(new wA(n._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zk(t,e){if((t=Jt(t)).firestore!==e)throw new Oe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Zf(){return new O2("serverTimestamp")}function tfe(...t){return new N2("arrayUnion",t)}function nfe(...t){return new R2("arrayRemove",t)}function F$(t){return new M2("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){return hb(t=ss(t,Jo)),new efe(t,e=>pb(t,e))}(function(e,n=!0){(function(i){Wg=i})(Uh),uo(new wa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Jo(new cue(r.getProvider("auth-internal")),new fue(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Oe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dv(c.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Cs(ZF,"4.7.3",e),Cs(ZF,"4.7.3","esm2017")})();var rfe="firebase",ife="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(rfe,ife,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="firebasestorage.googleapis.com",LX="storageBucket",sfe=2*60*1e3,afe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Ca{constructor(e,n,r=0){super(eE(e),`Firebase Storage: ${n} (${eE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function eE(t){return"storage/"+t}function H2(){const t="An unknown error occurred, please check the error payload for server response.";return new or(ar.UNKNOWN,t)}function ofe(t){return new or(ar.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lfe(t){return new or(ar.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cfe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new or(ar.UNAUTHENTICATED,t)}function ufe(){return new or(ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dfe(t){return new or(ar.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hfe(){return new or(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ffe(){return new or(ar.CANCELED,"User canceled the upload/download.")}function pfe(t){return new or(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function gfe(t){return new or(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mfe(){return new or(ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LX+"' property when initializing the app?")}function yfe(){return new or(ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vfe(){return new or(ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xfe(t){return new or(ar.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function J_(t){return new or(ar.INVALID_ARGUMENT,t)}function FX(){return new or(ar.APP_DELETED,"The Firebase app was deleted.")}function $X(t){return new or(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yy(t,e){return new or(ar.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fm(t){throw new or(ar.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bs.makeFromUrl(e,n)}catch{return new bs(e,"")}if(r.path==="")return r;throw gfe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},p=n===jX?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${p}/${i}/${y}`,"i"),b=[{regex:o,indices:l,postModify:s},{regex:f,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<b.length;_++){const w=b[_],C=w.regex.exec(e);if(C){const A=C[w.indices.bucket];let k=C[w.indices.path];k||(k=""),r=new bs(A,k),w.postModify(r);break}}if(r==null)throw pfe(e);return r}}class bfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wfe(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c){h();return}if(y){h(),u.call(null,y,...v);return}if(l()||a){h(),u.call(null,y,...v);return}r<64&&(r*=2);let b;o===1?(o=2,b=0):b=(r+Math.random())*1e3,d(b)}let g=!1;function p(y){g||(g=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),d(0)):y||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,p(!0)},n),p}function _fe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sfe(t){return t!==void 0}function Afe(t){return typeof t=="object"&&!Array.isArray(t)}function Y2(t){return typeof t=="string"||t instanceof String}function $$(t){return X2()&&t instanceof Blob}function X2(){return typeof Blob<"u"}function B$(t,e,n,r){if(r<e)throw J_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw J_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function BX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var th;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(th||(th={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e,n,r,i,s,a,o,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new A0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===th.NO_ERROR,l=s.getStatus();if(!o||Cfe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===th.ABORT;r(!1,new A0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new A0(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Sfe(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=H2();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?FX():ffe();a(l)}else{const l=hfe();a(l)}};this.canceled_?n(!1,new A0(!1,null,!0)):this.backoffId_=wfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_fe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class A0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Efe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Pfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ife(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ofe(t,e,n,r,i,s,a=!0){const o=BX(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return Pfe(c,e),Efe(c,n),Tfe(c,s),Ife(c,r),new kfe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rfe(...t){const e=Nfe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(X2())return new Blob(t);throw new or(ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mfe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dfe(t){if(typeof atob>"u")throw xfe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tE{constructor(e,n){this.data=e,this.contentType=n||null}}function zX(t,e){switch(t){case Ka.RAW:return new tE(VX(e));case Ka.BASE64:case Ka.BASE64URL:return new tE(UX(t,e));case Ka.DATA_URL:return new tE(Lfe(e),Ffe(e))}throw H2()}function VX(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jfe(t){let e;try{e=decodeURIComponent(t)}catch{throw Yy(Ka.DATA_URL,"Malformed data URL.")}return VX(e)}function UX(t,e){switch(t){case Ka.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Yy(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ka.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Yy(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Dfe(e)}catch(i){throw i.message.includes("polyfill")?i:Yy(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class WX{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yy(Ka.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$fe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Lfe(t){const e=new WX(t);return e.base64?UX(Ka.BASE64,e.rest):jfe(e.rest)}function Ffe(t){return new WX(t).contentType}function $fe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){let r=0,i="";$$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($$(this.data_)){const r=this.data_,i=Mfe(r,e,n);return i===null?null:new wl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wl(r,!0)}}static getBlob(...e){if(X2()){const n=e.map(r=>r instanceof wl?r.data_:r);return new wl(Rfe.apply(null,n))}else{const n=e.map(a=>Y2(a)?zX(Ka.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new wl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){let e;try{e=JSON.parse(t)}catch{return null}return Afe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zfe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function YX(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vfe(t,e){return e}class Yi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vfe}}let C0=null;function Ufe(t){return!Y2(t)||t.length<2?t:YX(t)}function XX(){if(C0)return C0;const t=[];t.push(new Yi("bucket")),t.push(new Yi("generation")),t.push(new Yi("metageneration")),t.push(new Yi("name","fullPath",!0));function e(s,a){return Ufe(a)}const n=new Yi("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Yi("size");return i.xform=r,t.push(i),t.push(new Yi("timeCreated")),t.push(new Yi("updated")),t.push(new Yi("md5Hash",null,!0)),t.push(new Yi("cacheControl",null,!0)),t.push(new Yi("contentDisposition",null,!0)),t.push(new Yi("contentEncoding",null,!0)),t.push(new Yi("contentLanguage",null,!0)),t.push(new Yi("contentType",null,!0)),t.push(new Yi("metadata","customMetadata",!0)),C0=t,C0}function Wfe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new bs(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Hfe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return Wfe(r,t),r}function GX(t,e,n){const r=HX(e);return r===null?null:Hfe(t,r,n)}function Yfe(t,e,n,r){const i=HX(e);if(i===null||!Y2(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+a(u)+"/o/"+a(d),f=G2(h,n,r),g=BX({alt:"media",token:c});return f+g})[0]}function Xfe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class qX{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t){if(!t)throw H2()}function Gfe(t,e){function n(r,i){const s=GX(t,i,e);return KX(s!==null),s}return n}function qfe(t,e){function n(r,i){const s=GX(t,i,e);return KX(s!==null),Yfe(s,i,t.host,t._protocol)}return n}function QX(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ufe():i=cfe():n.getStatus()===402?i=lfe(t.bucket):n.getStatus()===403?i=dfe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Kfe(t){const e=QX(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ofe(t.path)),s.serverResponse=i.serverResponse,s}return n}function Qfe(t,e,n){const r=e.fullServerUrl(),i=G2(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new qX(i,s,qfe(t,n),a);return o.errorHandler=Kfe(e),o}function Zfe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Jfe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zfe(null,e)),r}function epe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let _=0;_<2;_++)b=b+Math.random().toString().slice(2);return b}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=Jfe(e,r,i),u=Xfe(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=wl.getBlob(d,r,h);if(f===null)throw yfe();const g={name:c.fullPath},p=G2(s,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,x=new qX(p,y,Gfe(t,n),v);return x.urlParams=g,x.headers=a,x.body=f.uploadData(),x.errorHandler=QX(e),x}class tpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=th.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=th.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=th.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class npe extends tpe{initXhr(){this.xhr_.responseType="text"}}function ZX(){return new npe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this._service=e,n instanceof bs?this._location=n:this._location=bs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wh(e,n)}get root(){const e=new bs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YX(this._location.path)}get storage(){return this._service}get parent(){const e=Bfe(this._location.path);if(e===null)return null;const n=new bs(this._location.bucket,e);return new wh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $X(e)}}function rpe(t,e,n){t._throwIfRoot("uploadBytes");const r=epe(t.storage,t._location,XX(),new wl(e,!0),n);return t.storage.makeRequestWithTokens(r,ZX).then(i=>({metadata:i,ref:t}))}function ipe(t){t._throwIfRoot("getDownloadURL");const e=Qfe(t.storage,t._location,XX());return t.storage.makeRequestWithTokens(e,ZX).then(n=>{if(n===null)throw vfe();return n})}function spe(t,e){const n=zfe(t._location.path,e),r=new bs(t._location.bucket,n);return new wh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t){return/^[A-Za-z]+:\/\//.test(t)}function ope(t,e){return new wh(t,e)}function JX(t,e){if(t instanceof q2){const n=t;if(n._bucket==null)throw mfe();const r=new wh(n,n._bucket);return e!=null?JX(r,e):r}else return e!==void 0?spe(t,e):t}function lpe(t,e){if(e&&ape(e)){if(t instanceof q2)return ope(t,e);throw J_("To use ref(service, url), the first argument must be a Storage instance.")}else return JX(t,e)}function z$(t,e){const n=e==null?void 0:e[LX];return n==null?null:bs.makeFromBucketSpec(n,t)}function cpe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:S9(i,t.app.options.projectId))}class q2{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sfe,this._maxUploadRetryTime=afe,this._requests=new Set,i!=null?this._bucket=bs.makeFromBucketSpec(i,this._host):this._bucket=z$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bs.makeFromBucketSpec(this._url,e):this._bucket=z$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new bfe(FX());{const a=Ofe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V$="@firebase/storage",U$="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="storage";function K2(t,e,n){return t=Jt(t),rpe(t,e,n)}function Q2(t){return t=Jt(t),ipe(t)}function Z2(t,e){return t=Jt(t),lpe(t,e)}function RA(t=eb(),e){t=Jt(t);const r=Xu(t,e8).getImmediate({identifier:e}),i=b9("storage");return i&&t8(r,...i),r}function t8(t,e,n,r={}){cpe(t,e,n,r)}function upe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q2(n,r,i,e,Uh)}function dpe(){uo(new wa(e8,upe,"PUBLIC").setMultipleInstances(!0)),Cs(V$,U$,""),Cs(V$,U$,"esm2017")}dpe();const hpe=Object.freeze(Object.defineProperty({__proto__:null,StorageError:or,get StorageErrorCode(){return ar},StringFormat:Ka,_FbsBlob:wl,_Location:bs,_dataFromString:zX,_invalidArgument:J_,_invalidRootOperation:$X,connectStorageEmulator:t8,getDownloadURL:Q2,getStorage:RA,ref:Z2,uploadBytes:K2},Symbol.toStringTag,{value:"Module"})),e1={apiKey:"AIzaSyAfb2YtBxD5YEWrNpG0J3GN_g0ZfPzsoOE",authDomain:"sports-card-analyzer.firebaseapp.com",projectId:"sports-card-analyzer",storageBucket:"sports-card-analyzer.appspot.com",messagingSenderId:"27312906394",appId:"1:27312906394:web:11296b8bb530daad5a7f23",measurementId:"G-YNZTKCHQT0"},fpe=()=>{try{const t={apiKey:"AIzaSyAfb2YtBxD5YEWrNpG0J3GN_g0ZfPzsoOE",authDomain:"sports-card-analyzer.firebaseapp.com",projectId:"# VITE_FIREBASE_PROJECT_ID  | Deploy context                  | Value                | | ------------------------------- | -------------------- | | Production                      | sports-card-analyzer | | Deploy Preview                  | sports-card-analyzer | | Branch deploy                   | sports-card-analyzer | | Local development (Netlify CLI) | sports-card-analyzer |",storageBucket:"sports-card-analyzer.appspot.com",messagingSenderId:"# VITE_FIREBASE_MESSAGING_SENDER_ID  | Deploy context                  | Value       | | ------------------------------- | ----------- | | Production                      | 27312906394 | | Deploy Preview                  | 27312906394 | | Branch deploy                   | 27312906394 | | Local development (Netlify CLI) | 27312906394 |",appId:"1:27312906394:web:11296b8bb530daad5a7f23"},e=Object.values(t).every(n=>n);return!e&&typeof window<"u"&&window.firebaseConfig?(console.log("Using Firebase config from window.firebaseConfig"),window.firebaseConfig):e?(console.log("Using Firebase config from environment variables"),t):(console.warn("Using fallback Firebase config - please check your environment variables"),e1)}catch(t){return console.error("Error getting Firebase config:",t),e1}},ppe=t=>t?typeof t.projectId=="string"&&(t.projectId.includes("|")||t.projectId.includes("context")||t.projectId.includes("VITE_FIREBASE"))?(console.error("Firebase projectId appears to be invalid. Using fallback configuration."),e1):t:e1,$w=ppe(fpe()),Wa=typeof window<"u"&&window.API_URL||"https://backend-15mfn77fw-jordan-linfords-projects.vercel.app";console.log("Firebase config:",{projectId:$w.projectId,authDomain:$w.authDomain,storageBucket:$w.storageBucket});const J2=HR($w),de=wX(J2);Ug(J2);const gpe=RA(J2);console.log("Firebase initialized successfully");function mpe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const ype=t=>{switch(t){case"success":return bpe;case"info":return _pe;case"warning":return wpe;case"error":return Spe;default:return null}},vpe=Array(12).fill(0),xpe=({visible:t,className:e})=>U.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},U.createElement("div",{className:"sonner-spinner"},vpe.map((n,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bpe=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wpe=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_pe=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Spe=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ape=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Cpe=()=>{const[t,e]=U.useState(document.hidden);return U.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let nI=1;class kpe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:nI++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],U.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Tpe(c)&&!c.ok){s=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,g=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...g})}else if(c instanceof Error){s=!1;const d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description,g=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...g})}else if(n.success!==void 0){s=!1;const d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description,g=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:h,...g})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;const u=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,f=typeof u=="object"&&!U.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:d,...f})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||nI++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ps=new kpe,Epe=(t,e)=>{const n=(e==null?void 0:e.id)||nI++;return ps.addToast({title:t,...e,id:n}),n},Tpe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ppe=Epe,Ipe=()=>ps.toasts,Ope=()=>ps.getActiveToasts(),ce=Object.assign(Ppe,{success:ps.success,info:ps.info,warning:ps.warning,error:ps.error,custom:ps.custom,message:ps.message,promise:ps.promise,dismiss:ps.dismiss,loading:ps.loading},{getHistory:Ipe,getToasts:Ope});mpe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function k0(t){return t.label!==void 0}const Npe=3,Rpe="24px",Mpe="16px",W$=4e3,Dpe=356,jpe=14,Lpe=45,Fpe=200;function Co(...t){return t.filter(Boolean).join(" ")}function $pe(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Bpe=t=>{var e,n,r,i,s,a,o,l,c;const{invert:u,toast:d,unstyled:h,interacting:f,setHeights:g,visibleToasts:p,heights:y,index:v,toasts:x,expanded:b,removeToast:_,defaultRichColors:w,closeButton:C,style:A,cancelButtonStyle:k,actionButtonStyle:E,className:T="",descriptionClassName:P="",duration:N,position:O,gap:L,expandByDefault:$,classNames:F,icons:B,closeButtonAriaLabel:D="Close toast"}=t,[z,W]=U.useState(null),[X,q]=U.useState(null),[J,ae]=U.useState(!1),[_e,K]=U.useState(!1),[fe,Ne]=U.useState(!1),[re,ge]=U.useState(!1),[Ae,se]=U.useState(!1),[et,Ge]=U.useState(0),[Ot,rn]=U.useState(0),hn=U.useRef(d.duration||N||W$),Pn=U.useRef(null),bn=U.useRef(null),H=v===0,Z=v+1<=p,ee=d.type,Se=d.dismissible!==!1,we=d.className||"",he=d.descriptionClassName||"",Pe=U.useMemo(()=>y.findIndex(Je=>Je.toastId===d.id)||0,[y,d.id]),rt=U.useMemo(()=>{var Je;return(Je=d.closeButton)!=null?Je:C},[d.closeButton,C]),Tt=U.useMemo(()=>d.duration||N||W$,[d.duration,N]),In=U.useRef(0),_i=U.useRef(0),Gr=U.useRef(0),Si=U.useRef(null),[wo,Is]=O.split("-"),Cn=U.useMemo(()=>y.reduce((Je,Kn,Qn)=>Qn>=Pe?Je:Je+Kn.height,0),[y,Pe]),ea=Cpe(),gc=d.invert||u,Os=ee==="loading";_i.current=U.useMemo(()=>Pe*L+Cn,[Pe,Cn]),U.useEffect(()=>{hn.current=Tt},[Tt]),U.useEffect(()=>{ae(!0)},[]),U.useEffect(()=>{const Je=bn.current;if(Je){const Kn=Je.getBoundingClientRect().height;return rn(Kn),g(Qn=>[{toastId:d.id,height:Kn,position:d.position},...Qn]),()=>g(Qn=>Qn.filter(qr=>qr.toastId!==d.id))}},[g,d.id]),U.useLayoutEffect(()=>{if(!J)return;const Je=bn.current,Kn=Je.style.height;Je.style.height="auto";const Qn=Je.getBoundingClientRect().height;Je.style.height=Kn,rn(Qn),g(qr=>qr.find(lr=>lr.toastId===d.id)?qr.map(lr=>lr.toastId===d.id?{...lr,height:Qn}:lr):[{toastId:d.id,height:Qn,position:d.position},...qr])},[J,d.title,d.description,g,d.id]);const ta=U.useCallback(()=>{K(!0),Ge(_i.current),g(Je=>Je.filter(Kn=>Kn.toastId!==d.id)),setTimeout(()=>{_(d)},Fpe)},[d,_,g,_i]);U.useEffect(()=>{if(d.promise&&ee==="loading"||d.duration===1/0||d.type==="loading")return;let Je;return b||f||ea?(()=>{if(Gr.current<In.current){const qr=new Date().getTime()-In.current;hn.current=hn.current-qr}Gr.current=new Date().getTime()})():(()=>{hn.current!==1/0&&(In.current=new Date().getTime(),Je=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),ta()},hn.current))})(),()=>clearTimeout(Je)},[b,f,d,ee,ea,ta]),U.useEffect(()=>{d.delete&&ta()},[ta,d.delete]);function of(){var Je;if(B!=null&&B.loading){var Kn;return U.createElement("div",{className:Co(F==null?void 0:F.loader,d==null||(Kn=d.classNames)==null?void 0:Kn.loader,"sonner-loader"),"data-visible":ee==="loading"},B.loading)}return U.createElement(xpe,{className:Co(F==null?void 0:F.loader,d==null||(Je=d.classNames)==null?void 0:Je.loader),visible:ee==="loading"})}const Pa=d.icon||(B==null?void 0:B[ee])||ype(ee);var mc,yc;return U.createElement("li",{tabIndex:0,ref:bn,className:Co(T,we,F==null?void 0:F.toast,d==null||(e=d.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[ee],d==null||(n=d.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(mc=d.richColors)!=null?mc:w,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":J,"data-promise":!!d.promise,"data-swiped":Ae,"data-removed":_e,"data-visible":Z,"data-y-position":wo,"data-x-position":Is,"data-index":v,"data-front":H,"data-swiping":fe,"data-dismissible":Se,"data-type":ee,"data-invert":gc,"data-swipe-out":re,"data-swipe-direction":X,"data-expanded":!!(b||$&&J),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${_e?et:_i.current}px`,"--initial-height":$?"auto":`${Ot}px`,...A,...d.style},onDragEnd:()=>{Ne(!1),W(null),Si.current=null},onPointerDown:Je=>{Os||!Se||(Pn.current=new Date,Ge(_i.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(Ne(!0),Si.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,Kn,Qn;if(re||!Se)return;Si.current=null;const qr=Number(((Je=bn.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ns=Number(((Kn=bn.current)==null?void 0:Kn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((Qn=Pn.current)==null?void 0:Qn.getTime()),sn=z==="x"?qr:Ns,_o=Math.abs(sn)/lr;if(Math.abs(sn)>=Lpe||_o>.11){Ge(_i.current),d.onDismiss==null||d.onDismiss.call(d,d),q(z==="x"?qr>0?"right":"left":Ns>0?"down":"up"),ta(),ge(!0);return}else{var Or,Nr;(Or=bn.current)==null||Or.style.setProperty("--swipe-amount-x","0px"),(Nr=bn.current)==null||Nr.style.setProperty("--swipe-amount-y","0px")}se(!1),Ne(!1),W(null)},onPointerMove:Je=>{var Kn,Qn,qr;if(!Si.current||!Se||((Kn=window.getSelection())==null?void 0:Kn.toString().length)>0)return;const lr=Je.clientY-Si.current.y,sn=Je.clientX-Si.current.x;var _o;const Or=(_o=t.swipeDirections)!=null?_o:$pe(O);!z&&(Math.abs(sn)>1||Math.abs(lr)>1)&&W(Math.abs(sn)>Math.abs(lr)?"x":"y");let Nr={x:0,y:0};const lf=Ia=>1/(1.5+Math.abs(Ia)/20);if(z==="y"){if(Or.includes("top")||Or.includes("bottom"))if(Or.includes("top")&&lr<0||Or.includes("bottom")&&lr>0)Nr.y=lr;else{const Ia=lr*lf(lr);Nr.y=Math.abs(Ia)<Math.abs(lr)?Ia:lr}}else if(z==="x"&&(Or.includes("left")||Or.includes("right")))if(Or.includes("left")&&sn<0||Or.includes("right")&&sn>0)Nr.x=sn;else{const Ia=sn*lf(sn);Nr.x=Math.abs(Ia)<Math.abs(sn)?Ia:sn}(Math.abs(Nr.x)>0||Math.abs(Nr.y)>0)&&se(!0),(Qn=bn.current)==null||Qn.style.setProperty("--swipe-amount-x",`${Nr.x}px`),(qr=bn.current)==null||qr.style.setProperty("--swipe-amount-y",`${Nr.y}px`)}},rt&&!d.jsx&&ee!=="loading"?U.createElement("button",{"aria-label":D,"data-disabled":Os,"data-close-button":!0,onClick:Os||!Se?()=>{}:()=>{ta(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Co(F==null?void 0:F.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(yc=B==null?void 0:B.close)!=null?yc:Ape):null,(ee||d.icon||d.promise)&&d.icon!==null&&((B==null?void 0:B[ee])!==null||d.icon)?U.createElement("div",{"data-icon":"",className:Co(F==null?void 0:F.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||of():null,d.type!=="loading"?Pa:null):null,U.createElement("div",{"data-content":"",className:Co(F==null?void 0:F.content,d==null||(s=d.classNames)==null?void 0:s.content)},U.createElement("div",{"data-title":"",className:Co(F==null?void 0:F.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?U.createElement("div",{"data-description":"",className:Co(P,he,F==null?void 0:F.description,d==null||(o=d.classNames)==null?void 0:o.description)},typeof d.description=="function"?d.description():d.description):null),U.isValidElement(d.cancel)?d.cancel:d.cancel&&k0(d.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:Je=>{k0(d.cancel)&&Se&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Je),ta())},className:Co(F==null?void 0:F.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,U.isValidElement(d.action)?d.action:d.action&&k0(d.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||E,onClick:Je=>{k0(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Je),!Je.defaultPrevented&&ta())},className:Co(F==null?void 0:F.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function H$(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function zpe(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Mpe:Rpe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}const Vpe=U.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:g,visibleToasts:p=Npe,toastOptions:y,dir:v=H$(),gap:x=jpe,icons:b,containerAriaLabel:_="Notifications"}=e,[w,C]=U.useState([]),A=U.useMemo(()=>Array.from(new Set([i].concat(w.filter(X=>X.position).map(X=>X.position)))),[w,i]),[k,E]=U.useState([]),[T,P]=U.useState(!1),[N,O]=U.useState(!1),[L,$]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=U.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=U.useRef(null),z=U.useRef(!1),W=U.useCallback(X=>{C(q=>{var J;return(J=q.find(ae=>ae.id===X.id))!=null&&J.delete||ps.dismiss(X.id),q.filter(({id:ae})=>ae!==X.id)})},[]);return U.useEffect(()=>ps.subscribe(X=>{if(X.dismiss){requestAnimationFrame(()=>{C(q=>q.map(J=>J.id===X.id?{...J,delete:!0}:J))});return}setTimeout(()=>{s9.flushSync(()=>{C(q=>{const J=q.findIndex(ae=>ae.id===X.id);return J!==-1?[...q.slice(0,J),{...q[J],...X},...q.slice(J+1)]:[X,...q]})})})}),[w]),U.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:q})=>{$(q?"dark":"light")})}catch{X.addListener(({matches:J})=>{try{$(J?"dark":"light")}catch(ae){console.error(ae)}})}},[d]),U.useEffect(()=>{w.length<=1&&P(!1)},[w]),U.useEffect(()=>{const X=q=>{var J;if(s.every(K=>q[K]||q.code===K)){var _e;P(!0),(_e=F.current)==null||_e.focus()}q.code==="Escape"&&(document.activeElement===F.current||(J=F.current)!=null&&J.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),U.useEffect(()=>{if(F.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,z.current=!1)}},[F.current]),U.createElement("section",{ref:n,"aria-label":`${_} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((X,q)=>{var J;const[ae,_e]=X.split("-");return w.length?U.createElement("ol",{key:X,dir:v==="auto"?H$():v,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":ae,"data-lifted":T&&w.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((J=k[0])==null?void 0:J.height)||0}px`,"--width":`${Dpe}px`,"--gap":`${x}px`,...g,...zpe(c,u)},onBlur:K=>{z.current&&!K.currentTarget.contains(K.relatedTarget)&&(z.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||z.current||(z.current=!0,D.current=K.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{N||P(!1)},onDragEnd:()=>P(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},w.filter(K=>!K.position&&q===0||K.position===X).map((K,fe)=>{var Ne,re;return U.createElement(Bpe,{key:K.id,icons:b,index:fe,toast:K,defaultRichColors:h,duration:(Ne=y==null?void 0:y.duration)!=null?Ne:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:p,closeButton:(re=y==null?void 0:y.closeButton)!=null?re:o,interacting:N,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:W,toasts:w.filter(ge=>ge.position==K.position),heights:k.filter(ge=>ge.position==K.position),setHeights:E,expandByDefault:a,gap:x,expanded:T,swipeDirections:e.swipeDirections})})):null}))}),n8=I.createContext({user:null,loading:!0,logout:async()=>{},signInWithGoogle:async()=>{},signInWithEmail:async()=>{},signUpWithEmail:async()=>{},resetPassword:async()=>{},updateProfile:async()=>{},updateEmail:async()=>{}}),E0=async t=>{const e=Ie(de,"users",t.uid);(await Ye(e)).exists()||(await Nu(e,{email:t.email,displayName:t.displayName||"",createdAt:new Date}),console.log("✅ Firestore user created:",t.uid))};function Upe({children:t}){const[e,n]=I.useState(null),[r,i]=I.useState(!0),s=Ug(),a=Aa();I.useEffect(()=>{const g=qle(s,async p=>{p?(await E0(p),n(p)):n(null),i(!1)});return()=>g()},[s,a]);const o=async()=>{try{await zF(s),ce.success("Successfully signed out"),a("/login")}catch(g){console.error("Error signing out:",g),ce.error("Failed to sign out")}},l=async()=>{try{try{await zF(s),console.log("Forced sign out before new login")}catch{console.log("No previous session to sign out")}const g=new bl;g.setCustomParameters({prompt:"select_account",access_type:"offline",include_granted_scopes:"true"});const p=await gce(s,g);console.log("User signed in:",p.user.uid),await E0(p.user),ce.success("Successfully signed in!")}catch(g){console.error("Error signing in with Google:",g),ce.error("Failed to sign in. Please try again.")}},c=async(g,p)=>{try{const y=await Vle(s,g,p);await E0(y.user),ce.success("Successfully signed in!")}catch(y){throw console.error("Error signing in with email:",y),ce.error(y.message||"Failed to sign in. Please try again."),y}},u=async(g,p)=>{try{const y=await zle(s,g,p);await E0(y.user),ce.success("Account created successfully!")}catch(y){throw console.error("Error creating account:",y),ce.error(y.message||"Failed to create account. Please try again."),y}},d=async g=>{try{await Ble(s,g),ce.success("Password reset email sent. Please check your inbox.")}catch(p){throw console.error("Error sending password reset:",p),ce.error(p.message||"Failed to send password reset email. Please try again."),p}},h=async g=>{if(!s.currentUser)throw new Error("No user");await Wle(s.currentUser,g);const p=Ie(de,"users",s.currentUser.uid);await Nu(p,{displayName:g.displayName},{merge:!0}),n({...s.currentUser})},f=async g=>{if(!s.currentUser)throw new Error("No user");await Hle(s.currentUser,g);const p=Ie(de,"users",s.currentUser.uid);await Nu(p,{email:g},{merge:!0}),n({...s.currentUser})};return m.jsx(n8.Provider,{value:{user:e,loading:r,logout:o,signInWithGoogle:l,signInWithEmail:c,signUpWithEmail:u,resetPassword:d,updateProfile:h,updateEmail:f},children:t})}const jn=()=>I.useContext(n8),Wpe=I.createContext({tier:"free",loading:!0}),Hpe=({children:t})=>{const[e,n]=I.useState("free"),[r,i]=I.useState(!0);return I.useEffect(()=>{const a=Ug().currentUser;if(!a){n("free"),i(!1);return}const o=Ie(de,"users",a.uid,"subscriptions","active"),l=eg(o,c=>{if(c.exists()){const u=c.data();switch(u.priceId||u.price_id){case"# VITE_STRIPE_STAR_MONTHLY_PRICE_ID  | Deploy context                  | Value                          | | ------------------------------- | ------------------------------ | | Production                      | price_1RDB4fGCix0pRkbmlNdsyo7s | | Deploy Preview                  | price_1RDB4fGCix0pRkbmlNdsyo7s | | Branch deploy                   | price_1RDB4fGCix0pRkbmlNdsyo7s | | Local development (Netlify CLI) | price_1RDB4fGCix0pRkbmlNdsyo7s |":n("star_monthly");break;case"price_1RN5uOGCix0pRkbmK2kCjqw4":n("star_annual");break;case"price_1RDB4fGCix0pRkbmmPrBX8FE":n("veteran_monthly");break;case"price_1RDB4fGCix0pRkbmlNdsyo7s":n("veteran_annual");break;default:n("free")}}else n("free");i(!1)});return()=>l()},[]),m.jsx(Wpe.Provider,{value:{tier:e,loading:r},children:t})};var Gg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_h=typeof window>"u"||"Deno"in globalThis;function Zi(){}function Ype(t,e){return typeof t=="function"?t(e):t}function rI(t){return typeof t=="number"&&t>=0&&t!==1/0}function r8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pp(t,e){return typeof t=="function"?t(e):t}function Ha(t,e){return typeof t=="function"?t(e):t}function Y$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==eM(a,e.options))return!1}else if(!Bv(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function X$(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Sh(e.options.mutationKey)!==Sh(s))return!1}else if(!Bv(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function eM(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sh)(t)}function Sh(t){return JSON.stringify(t,(e,n)=>iI(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Bv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bv(t[n],e[n])):!1}function i8(t,e){if(t===e)return t;const n=G$(t)&&G$(e);if(n||iI(t)&&iI(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,l++):(o[u]=i8(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&l++)}return i===a&&l===i?t:o}return e}function t1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function G$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function iI(t){if(!q$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!q$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function q$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xpe(t){return new Promise(e=>{setTimeout(e,t)})}function sI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?i8(t,e):e}function Gpe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function qpe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var tM=Symbol();function s8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tM?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function a8(t,e){return typeof t=="function"?t(...e):!!t}var Wd,zc,Ap,LW,Kpe=(LW=class extends Gg{constructor(){super();tt(this,Wd);tt(this,zc);tt(this,Ap);Fe(this,Ap,e=>{if(!_h&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,zc)||this.setEventListener(Y(this,Ap))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,zc))==null||e.call(this),Fe(this,zc,void 0))}setEventListener(e){var n;Fe(this,Ap,e),(n=Y(this,zc))==null||n.call(this),Fe(this,zc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Wd)!==e&&(Fe(this,Wd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,Wd)=="boolean"?Y(this,Wd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wd=new WeakMap,zc=new WeakMap,Ap=new WeakMap,LW),nM=new Kpe,Cp,Vc,kp,FW,Qpe=(FW=class extends Gg{constructor(){super();tt(this,Cp,!0);tt(this,Vc);tt(this,kp);Fe(this,kp,e=>{if(!_h&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Vc)||this.setEventListener(Y(this,kp))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Vc))==null||e.call(this),Fe(this,Vc,void 0))}setEventListener(e){var n;Fe(this,kp,e),(n=Y(this,Vc))==null||n.call(this),Fe(this,Vc,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Cp)!==e&&(Fe(this,Cp,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Cp)}},Cp=new WeakMap,Vc=new WeakMap,kp=new WeakMap,FW),n1=new Qpe;function aI(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Zpe(t){return Math.min(1e3*2**t,3e4)}function o8(t){return(t??"online")==="online"?n1.isOnline():!0}var l8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nE(t){return t instanceof l8}function c8(t){let e=!1,n=0,r=!1,i;const s=aI(),a=p=>{var y;r||(h(new l8(p)),(y=t.abort)==null||y.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>nM.isFocused()&&(t.networkMode==="always"||n1.isOnline())&&t.canRun(),u=()=>o8(t.networkMode)&&t.canRun(),d=p=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,p),i==null||i(),s.resolve(p))},h=p=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,p),i==null||i(),s.reject(p))},f=()=>new Promise(p=>{var y;i=v=>{(r||c())&&p(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;i=void 0,r||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(r)return;let p;const y=n===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(d).catch(v=>{var C;if(r)return;const x=t.retry??(_h?0:3),b=t.retryDelay??Zpe,_=typeof b=="function"?b(n,v):b,w=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!w){h(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),Xpe(_).then(()=>c()?void 0:f()).then(()=>{e?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),s)}}var Jpe=t=>setTimeout(t,0);function ege(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Jpe;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var zr=ege(),Hd,$W,u8=($W=class{constructor(){tt(this,Hd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rI(this.gcTime)&&Fe(this,Hd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_h?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Hd)&&(clearTimeout(Y(this,Hd)),Fe(this,Hd,void 0))}},Hd=new WeakMap,$W),Ep,Tp,aa,Yd,Oi,Wx,Xd,La,hl,BW,tge=(BW=class extends u8{constructor(e){super();tt(this,La);tt(this,Ep);tt(this,Tp);tt(this,aa);tt(this,Yd);tt(this,Oi);tt(this,Wx);tt(this,Xd);Fe(this,Xd,!1),Fe(this,Wx,e.defaultOptions),this.setOptions(e.options),this.observers=[],Fe(this,Yd,e.client),Fe(this,aa,Y(this,Yd).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Fe(this,Ep,nge(this.options)),this.state=e.state??Y(this,Ep),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Oi))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,Wx),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,aa).remove(this)}setData(e,n){const r=sI(this.state.data,e,this.options);return _t(this,La,hl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){_t(this,La,hl).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Y(this,Oi))==null?void 0:r.promise;return(i=Y(this,Oi))==null||i.cancel(e),n?n.then(Zi).catch(Zi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Ep))}isActive(){return this.observers.some(e=>Ha(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!r8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Oi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Y(this,Oi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,aa).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Y(this,Oi)&&(Y(this,Xd)?Y(this,Oi).cancel({revert:!0}):Y(this,Oi).cancelRetry()),this.scheduleGc()),Y(this,aa).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,La,hl).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Oi))return Y(this,Oi).continueRetry(),Y(this,Oi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Fe(this,Xd,!0),r.signal)})},s=()=>{const d=s8(this.options,n),h={client:Y(this,Yd),queryKey:this.queryKey,meta:this.meta};return i(h),Fe(this,Xd,!1),this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Y(this,Yd),state:this.state,fetchFn:s};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Fe(this,Tp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&_t(this,La,hl).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const o=d=>{var h,f,g,p;nE(d)&&d.silent||_t(this,La,hl).call(this,{type:"error",error:d}),nE(d)||((f=(h=Y(this,aa).config).onError)==null||f.call(h,d,this),(p=(g=Y(this,aa).config).onSettled)==null||p.call(g,this.state.data,d,this)),this.scheduleGc()};return Fe(this,Oi,c8({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,f,g,p;if(d===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){o(y);return}(f=(h=Y(this,aa).config).onSuccess)==null||f.call(h,d,this),(p=(g=Y(this,aa).config).onSettled)==null||p.call(g,d,this.state.error,this),this.scheduleGc()},onError:o,onFail:(d,h)=>{_t(this,La,hl).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{_t(this,La,hl).call(this,{type:"pause"})},onContinue:()=>{_t(this,La,hl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,Oi).start()}},Ep=new WeakMap,Tp=new WeakMap,aa=new WeakMap,Yd=new WeakMap,Oi=new WeakMap,Wx=new WeakMap,Xd=new WeakMap,La=new WeakSet,hl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d8(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return nE(i)&&i.revert&&Y(this,Tp)?{...Y(this,Tp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),zr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,aa).notify({query:this,type:"updated",action:e})})},BW);function d8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nge(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var No,zW,rge=(zW=class extends Gg{constructor(e={}){super();tt(this,No);this.config=e,Fe(this,No,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??eM(i,n);let a=this.get(s);return a||(a=new tge({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Y(this,No).has(e.queryHash)||(Y(this,No).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,No).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,No).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,No).get(e)}getAll(){return[...Y(this,No).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Y$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Y$(e,r)):n}notify(e){zr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},No=new WeakMap,zW),Ro,Gi,Gd,Mo,kc,VW,ige=(VW=class extends u8{constructor(e){super();tt(this,Mo);tt(this,Ro);tt(this,Gi);tt(this,Gd);this.mutationId=e.mutationId,Fe(this,Gi,e.mutationCache),Fe(this,Ro,[]),this.state=e.state||h8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Ro).includes(e)||(Y(this,Ro).push(e),this.clearGcTimeout(),Y(this,Gi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Fe(this,Ro,Y(this,Ro).filter(n=>n!==e)),this.scheduleGc(),Y(this,Gi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Ro).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Gi).remove(this))}continue(){var e;return((e=Y(this,Gd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,d,h,f,g,p,y,v,x,b,_,w,C,A,k;const n=()=>{_t(this,Mo,kc).call(this,{type:"continue"})};Fe(this,Gd,c8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{_t(this,Mo,kc).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{_t(this,Mo,kc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Gi).canRun(this)}));const r=this.state.status==="pending",i=!Y(this,Gd).canStart();try{if(r)n();else{_t(this,Mo,kc).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=Y(this,Gi).config).onMutate)==null?void 0:a.call(s,e,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));T!==this.state.context&&_t(this,Mo,kc).call(this,{type:"pending",context:T,variables:e,isPaused:i})}const E=await Y(this,Gd).start();return await((u=(c=Y(this,Gi).config).onSuccess)==null?void 0:u.call(c,E,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,e,this.state.context)),await((g=(f=Y(this,Gi).config).onSettled)==null?void 0:g.call(f,E,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,E,null,e,this.state.context)),_t(this,Mo,kc).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(v=Y(this,Gi).config).onError)==null?void 0:x.call(v,E,e,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,E,e,this.state.context)),await((C=(w=Y(this,Gi).config).onSettled)==null?void 0:C.call(w,void 0,E,this.state.variables,this.state.context,this)),await((k=(A=this.options).onSettled)==null?void 0:k.call(A,void 0,E,e,this.state.context)),E}finally{_t(this,Mo,kc).call(this,{type:"error",error:E})}}finally{Y(this,Gi).runNext(this)}}},Ro=new WeakMap,Gi=new WeakMap,Gd=new WeakMap,Mo=new WeakSet,kc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zr.batch(()=>{Y(this,Ro).forEach(r=>{r.onMutationUpdate(e)}),Y(this,Gi).notify({mutation:this,type:"updated",action:e})})},VW);function h8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vl,Fa,Hx,UW,sge=(UW=class extends Gg{constructor(e={}){super();tt(this,vl);tt(this,Fa);tt(this,Hx);this.config=e,Fe(this,vl,new Set),Fe(this,Fa,new Map),Fe(this,Hx,0)}build(e,n,r){const i=new ige({mutationCache:this,mutationId:++e0(this,Hx)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Y(this,vl).add(e);const n=T0(e);if(typeof n=="string"){const r=Y(this,Fa).get(n);r?r.push(e):Y(this,Fa).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,vl).delete(e)){const n=T0(e);if(typeof n=="string"){const r=Y(this,Fa).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Y(this,Fa).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=T0(e);if(typeof n=="string"){const r=Y(this,Fa).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=T0(e);if(typeof n=="string"){const i=(r=Y(this,Fa).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zr.batch(()=>{Y(this,vl).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,vl).clear(),Y(this,Fa).clear()})}getAll(){return Array.from(Y(this,vl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>X$(n,r))}findAll(e={}){return this.getAll().filter(n=>X$(e,n))}notify(e){zr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zi))))}},vl=new WeakMap,Fa=new WeakMap,Hx=new WeakMap,UW);function T0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function K$(t){return{onFetch:(e,n)=>{var u,d,h,f,g;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},v=s8(e.options,e.fetchOptions),x=async(b,_,w)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C={client:e.client,queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};y(C);const A=await v(C),{maxPages:k}=e.options,E=w?qpe:Gpe;return{pages:E(b.pages,A,k),pageParams:E(b.pageParams,_,k)}};if(i&&s.length){const b=i==="backward",_=b?age:Q$,w={pages:s,pageParams:a},C=_(r,w);o=await x(w,C,b)}else{const b=t??s.length;do{const _=l===0?a[0]??r.initialPageParam:Q$(r,o);if(l>0&&_==null)break;o=await x(o,_),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var p,y;return(y=(p=e.options).persister)==null?void 0:y.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Q$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function age(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ur,Uc,Wc,Pp,Ip,Hc,Op,Np,WW,oge=(WW=class{constructor(t={}){tt(this,ur);tt(this,Uc);tt(this,Wc);tt(this,Pp);tt(this,Ip);tt(this,Hc);tt(this,Op);tt(this,Np);Fe(this,ur,t.queryCache||new rge),Fe(this,Uc,t.mutationCache||new sge),Fe(this,Wc,t.defaultOptions||{}),Fe(this,Pp,new Map),Fe(this,Ip,new Map),Fe(this,Hc,0)}mount(){e0(this,Hc)._++,Y(this,Hc)===1&&(Fe(this,Op,nM.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,ur).onFocus())})),Fe(this,Np,n1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,ur).onOnline())})))}unmount(){var t,e;e0(this,Hc)._--,Y(this,Hc)===0&&((t=Y(this,Op))==null||t.call(this),Fe(this,Op,void 0),(e=Y(this,Np))==null||e.call(this),Fe(this,Np,void 0))}isFetching(t){return Y(this,ur).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Uc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,ur).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,ur).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(pp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,ur).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Y(this,ur).get(r.queryHash),s=i==null?void 0:i.state.data,a=Ype(e,s);if(a!==void 0)return Y(this,ur).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zr.batch(()=>Y(this,ur).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,ur).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,ur);zr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,ur);return zr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zr.batch(()=>Y(this,ur).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zi).catch(Zi)}invalidateQueries(t,e={}){return zr.batch(()=>(Y(this,ur).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zr.batch(()=>Y(this,ur).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Zi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Zi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,ur).build(this,e);return n.isStaleByTime(pp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zi).catch(Zi)}fetchInfiniteQuery(t){return t.behavior=K$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zi).catch(Zi)}ensureInfiniteQueryData(t){return t.behavior=K$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return n1.isOnline()?Y(this,Uc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,ur)}getMutationCache(){return Y(this,Uc)}getDefaultOptions(){return Y(this,Wc)}setDefaultOptions(t){Fe(this,Wc,t)}setQueryDefaults(t,e){Y(this,Pp).set(Sh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Pp).values()],n={};return e.forEach(r=>{Bv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Ip).set(Sh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Ip).values()],n={};return e.forEach(r=>{Bv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Wc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=eM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tM&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Wc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,ur).clear(),Y(this,Uc).clear()}},ur=new WeakMap,Uc=new WeakMap,Wc=new WeakMap,Pp=new WeakMap,Ip=new WeakMap,Hc=new WeakMap,Op=new WeakMap,Np=new WeakMap,WW),hs,jt,Yx,qi,qd,Rp,Yc,Xc,Xx,Mp,Dp,Kd,Qd,Gc,jp,un,yy,oI,lI,cI,uI,dI,hI,fI,f8,HW,lge=(HW=class extends Gg{constructor(e,n){super();tt(this,un);tt(this,hs);tt(this,jt);tt(this,Yx);tt(this,qi);tt(this,qd);tt(this,Rp);tt(this,Yc);tt(this,Xc);tt(this,Xx);tt(this,Mp);tt(this,Dp);tt(this,Kd);tt(this,Qd);tt(this,Gc);tt(this,jp,new Set);this.options=n,Fe(this,hs,e),Fe(this,Xc,null),Fe(this,Yc,aI()),this.options.experimental_prefetchInRender||Y(this,Yc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,jt).addObserver(this),Z$(Y(this,jt),this.options)?_t(this,un,yy).call(this):this.updateResult(),_t(this,un,uI).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pI(Y(this,jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pI(Y(this,jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_t(this,un,dI).call(this),_t(this,un,hI).call(this),Y(this,jt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,jt);if(this.options=Y(this,hs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ha(this.options.enabled,Y(this,jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_t(this,un,fI).call(this),Y(this,jt).setOptions(this.options),n._defaulted&&!t1(this.options,n)&&Y(this,hs).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,jt),observer:this});const i=this.hasListeners();i&&J$(Y(this,jt),r,this.options,n)&&_t(this,un,yy).call(this),this.updateResult(),i&&(Y(this,jt)!==r||Ha(this.options.enabled,Y(this,jt))!==Ha(n.enabled,Y(this,jt))||pp(this.options.staleTime,Y(this,jt))!==pp(n.staleTime,Y(this,jt)))&&_t(this,un,oI).call(this);const s=_t(this,un,lI).call(this);i&&(Y(this,jt)!==r||Ha(this.options.enabled,Y(this,jt))!==Ha(n.enabled,Y(this,jt))||s!==Y(this,Gc))&&_t(this,un,cI).call(this,s)}getOptimisticResult(e){const n=Y(this,hs).getQueryCache().build(Y(this,hs),e),r=this.createResult(n,e);return uge(this,r)&&(Fe(this,qi,r),Fe(this,Rp,this.options),Fe(this,qd,Y(this,jt).state)),r}getCurrentResult(){return Y(this,qi)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){Y(this,jp).add(e)}getCurrentQuery(){return Y(this,jt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,hs).defaultQueryOptions(e),r=Y(this,hs).getQueryCache().build(Y(this,hs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return _t(this,un,yy).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,qi)))}createResult(e,n){var E;const r=Y(this,jt),i=this.options,s=Y(this,qi),a=Y(this,qd),o=Y(this,Rp),c=e!==r?e.state:Y(this,Yx),{state:u}=e;let d={...u},h=!1,f;if(n._optimisticResults){const T=this.hasListeners(),P=!T&&Z$(e,n),N=T&&J$(e,r,n,i);(P||N)&&(d={...d,...d8(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=d;f=d.data;let v=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let T;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(T=s.data,v=!0):T=typeof n.placeholderData=="function"?n.placeholderData((E=Y(this,Dp))==null?void 0:E.state.data,Y(this,Dp)):n.placeholderData,T!==void 0&&(y="success",f=sI(s==null?void 0:s.data,T,n),h=!0)}if(n.select&&f!==void 0&&!v)if(s&&f===(a==null?void 0:a.data)&&n.select===Y(this,Xx))f=Y(this,Mp);else try{Fe(this,Xx,n.select),f=n.select(f),f=sI(s==null?void 0:s.data,f,n),Fe(this,Mp,f),Fe(this,Xc,null)}catch(T){Fe(this,Xc,T)}Y(this,Xc)&&(g=Y(this,Xc),f=Y(this,Mp),p=Date.now(),y="error");const x=d.fetchStatus==="fetching",b=y==="pending",_=y==="error",w=b&&x,C=f!==void 0,k={status:y,fetchStatus:d.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:rM(e,n),refetch:this.refetch,promise:Y(this,Yc)};if(this.options.experimental_prefetchInRender){const T=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},P=()=>{const O=Fe(this,Yc,k.promise=aI());T(O)},N=Y(this,Yc);switch(N.status){case"pending":e.queryHash===r.queryHash&&T(N);break;case"fulfilled":(k.status==="error"||k.data!==N.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==N.reason)&&P();break}}return k}updateResult(){const e=Y(this,qi),n=this.createResult(Y(this,jt),this.options);if(Fe(this,qd,Y(this,jt).state),Fe(this,Rp,this.options),Y(this,qd).data!==void 0&&Fe(this,Dp,Y(this,jt)),t1(n,e))return;Fe(this,qi,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!Y(this,jp).size)return!0;const a=new Set(s??Y(this,jp));return this.options.throwOnError&&a.add("error"),Object.keys(Y(this,qi)).some(o=>{const l=o;return Y(this,qi)[l]!==e[l]&&a.has(l)})};_t(this,un,f8).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_t(this,un,uI).call(this)}},hs=new WeakMap,jt=new WeakMap,Yx=new WeakMap,qi=new WeakMap,qd=new WeakMap,Rp=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,Xx=new WeakMap,Mp=new WeakMap,Dp=new WeakMap,Kd=new WeakMap,Qd=new WeakMap,Gc=new WeakMap,jp=new WeakMap,un=new WeakSet,yy=function(e){_t(this,un,fI).call(this);let n=Y(this,jt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zi)),n},oI=function(){_t(this,un,dI).call(this);const e=pp(this.options.staleTime,Y(this,jt));if(_h||Y(this,qi).isStale||!rI(e))return;const r=r8(Y(this,qi).dataUpdatedAt,e)+1;Fe(this,Kd,setTimeout(()=>{Y(this,qi).isStale||this.updateResult()},r))},lI=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,jt)):this.options.refetchInterval)??!1},cI=function(e){_t(this,un,hI).call(this),Fe(this,Gc,e),!(_h||Ha(this.options.enabled,Y(this,jt))===!1||!rI(Y(this,Gc))||Y(this,Gc)===0)&&Fe(this,Qd,setInterval(()=>{(this.options.refetchIntervalInBackground||nM.isFocused())&&_t(this,un,yy).call(this)},Y(this,Gc)))},uI=function(){_t(this,un,oI).call(this),_t(this,un,cI).call(this,_t(this,un,lI).call(this))},dI=function(){Y(this,Kd)&&(clearTimeout(Y(this,Kd)),Fe(this,Kd,void 0))},hI=function(){Y(this,Qd)&&(clearInterval(Y(this,Qd)),Fe(this,Qd,void 0))},fI=function(){const e=Y(this,hs).getQueryCache().build(Y(this,hs),this.options);if(e===Y(this,jt))return;const n=Y(this,jt);Fe(this,jt,e),Fe(this,Yx,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},f8=function(e){zr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,qi))}),Y(this,hs).getQueryCache().notify({query:Y(this,jt),type:"observerResultsUpdated"})})},HW);function cge(t,e){return Ha(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Z$(t,e){return cge(t,e)||t.state.data!==void 0&&pI(t,e,e.refetchOnMount)}function pI(t,e,n){if(Ha(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&rM(t,e)}return!1}function J$(t,e,n,r){return(t!==e||Ha(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&rM(t,n)}function rM(t,e){return Ha(e.enabled,t)!==!1&&t.isStaleByTime(pp(e.staleTime,t))}function uge(t,e){return!t1(t.getCurrentResult(),e)}var qc,Kc,fs,xl,zl,Bw,gI,YW,dge=(YW=class extends Gg{constructor(n,r){super();tt(this,zl);tt(this,qc);tt(this,Kc);tt(this,fs);tt(this,xl);Fe(this,qc,n),this.setOptions(r),this.bindMethods(),_t(this,zl,Bw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Y(this,qc).defaultMutationOptions(n),t1(this.options,r)||Y(this,qc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,fs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Sh(r.mutationKey)!==Sh(this.options.mutationKey)?this.reset():((i=Y(this,fs))==null?void 0:i.state.status)==="pending"&&Y(this,fs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,fs))==null||n.removeObserver(this)}onMutationUpdate(n){_t(this,zl,Bw).call(this),_t(this,zl,gI).call(this,n)}getCurrentResult(){return Y(this,Kc)}reset(){var n;(n=Y(this,fs))==null||n.removeObserver(this),Fe(this,fs,void 0),_t(this,zl,Bw).call(this),_t(this,zl,gI).call(this)}mutate(n,r){var i;return Fe(this,xl,r),(i=Y(this,fs))==null||i.removeObserver(this),Fe(this,fs,Y(this,qc).getMutationCache().build(Y(this,qc),this.options)),Y(this,fs).addObserver(this),Y(this,fs).execute(n)}},qc=new WeakMap,Kc=new WeakMap,fs=new WeakMap,xl=new WeakMap,zl=new WeakSet,Bw=function(){var r;const n=((r=Y(this,fs))==null?void 0:r.state)??h8();Fe(this,Kc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},gI=function(n){zr.batch(()=>{var r,i,s,a,o,l,c,u;if(Y(this,xl)&&this.hasListeners()){const d=Y(this,Kc).variables,h=Y(this,Kc).context;(n==null?void 0:n.type)==="success"?((i=(r=Y(this,xl)).onSuccess)==null||i.call(r,n.data,d,h),(a=(s=Y(this,xl)).onSettled)==null||a.call(s,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(o=Y(this,xl)).onError)==null||l.call(o,n.error,d,h),(u=(c=Y(this,xl)).onSettled)==null||u.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(Y(this,Kc))})})},YW),p8=I.createContext(void 0),lc=t=>{const e=I.useContext(p8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hge=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(p8.Provider,{value:t,children:e})),g8=I.createContext(!1),fge=()=>I.useContext(g8);g8.Provider;function pge(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gge=I.createContext(pge()),mge=()=>I.useContext(gge),yge=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vge=t=>{I.useEffect(()=>{t.clearReset()},[t])},xge=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||a8(n,[t.error,r])),bge=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},wge=(t,e)=>t.isLoading&&t.isFetching&&!e,_ge=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,eB=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Sge(t,e,n){var d,h,f,g,p;const r=lc(),i=fge(),s=mge(),a=r.defaultQueryOptions(t);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,a),a._optimisticResults=i?"isRestoring":"optimistic",bge(a),yge(a,s),vge(s);const o=!r.getQueryCache().get(a.queryHash),[l]=I.useState(()=>new e(r,a)),c=l.getOptimisticResult(a),u=!i&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(y=>{const v=u?l.subscribe(zr.batchCalls(y)):Zi;return l.updateResult(),v},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),I.useEffect(()=>{l.setOptions(a)},[a,l]),_ge(a,c))throw eB(a,l,s);if(xge({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,a,c),a.experimental_prefetchInRender&&!_h&&wge(c,i)){const y=o?eB(a,l,s):(p=r.getQueryCache().get(a.queryHash))==null?void 0:p.promise;y==null||y.catch(Zi).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function m8(t,e){return Sge(t,lge)}function Lc(t,e){const n=lc(),[r]=I.useState(()=>new dge(n,t));I.useEffect(()=>{r.setOptions(t)},[r,t]);const i=I.useSyncExternalStore(I.useCallback(a=>r.subscribe(zr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=I.useCallback((a,o)=>{r.mutate(a,o).catch(Zi)},[r]);if(i.error&&a8(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function y8(t,e){try{console.log("syncCardWithDisplayCases: Syncing card with display cases for user:",e);const n=Zt(de,"users",e,"display_cases"),r=await Xn(n),i=[];let s=0;for(const a of r.docs){const o=a.data(),l=a.id;if(!o.tags||!Array.isArray(o.tags)||o.tags.length===0){console.log(`syncCardWithDisplayCases: Display case ${l} has no tags, skipping`);continue}const c=Array.isArray(o.cardIds)?[...o.cardIds]:[],u=c.includes(t.id),d=t.tags&&t.tags.length>0&&t.tags.some(f=>o.tags.includes(f));let h=!1;if(d&&!u)console.log(`syncCardWithDisplayCases: Adding card ${t.id} to display case ${l}`),c.push(t.id),h=!0,s++,i.push(l);else if(!d&&u){console.log(`syncCardWithDisplayCases: Removing card ${t.id} from display case ${l}`);const f=c.filter(g=>g!==t.id);f.length!==c.length&&(c.length=0,c.push(...f),h=!0,s++,i.push(l))}else console.log(`syncCardWithDisplayCases: No changes needed for display case ${l}`);if(h){const f=Ie(de,"users",e,"display_cases",l);await Yt(f,{cardIds:c,updatedAt:new Date}),console.log(`syncCardWithDisplayCases: Updated display case ${l}`);try{if(o.isPublic){const g=Ie(de,"public_display_cases",l);(await Ye(g)).exists()&&(await Yt(g,{cardIds:c,updatedAt:new Date}),console.log(`syncCardWithDisplayCases: Updated public display case ${l}`))}}catch(g){console.error(`syncCardWithDisplayCases: Error updating public display case ${l}:`,g)}}}return{syncedCount:s,displayCases:i}}catch(n){return console.error("syncCardWithDisplayCases: Error syncing card with display cases:",n),{syncedCount:0,displayCases:[]}}}async function Age(t){try{if(!t.ownerId)throw new Error("Owner ID is required");console.log("addCard: Adding card for user",t.ownerId,t);const e=Zt(de,"users",t.ownerId,"collection");(!t.tags||!Array.isArray(t.tags))&&(t.tags=[]);const n=await Kh(e,{...t,createdAt:Zf(),updatedAt:Zf()});console.log("addCard: Card added successfully with ID",n.id);try{const r=Ie(de,"cards",n.id);await Nu(r,{...t,id:n.id,ownerId:t.ownerId,createdAt:Zf(),updatedAt:Zf()}),console.log("addCard: Card added to global collection with ID",n.id)}catch(r){console.error("addCard: Error adding card to global collection:",r)}try{const r={...t,id:n.id},{syncedCount:i,displayCases:s}=await y8(r,t.ownerId);i>0&&console.log(`addCard: Card automatically added to ${i} display cases:`,s)}catch(r){console.error("addCard: Error syncing card with display cases:",r)}return n.id}catch(e){throw console.error("addCard: Error adding card:",e),e}}async function Cge(t){try{console.log("getCards: Fetching cards for user",t);const e=[Zt(de,"users",t,"cards"),Zt(de,"users",t,"collection")];let n=[];console.log("getCards: Trying path users/{uid}/cards");try{const i=await Xn(e[0]);console.log(`getCards: Found ${i.docs.length} cards in users/${t}/cards`);const s=i.docs.map(a=>{const o=a.data();return console.log(`getCards: Processing card ${a.id} from cards path:`,o),(!o.tags||!Array.isArray(o.tags))&&(console.log("getCards: Fixing missing or invalid tags for card",a.id),o.tags=[]),{...o,id:a.id,tags:o.tags||[]}});n=[...n,...s]}catch(i){console.error("getCards: Error fetching from users/{uid}/cards path:",i)}console.log("getCards: Also trying path users/{uid}/collection");try{const i=await Xn(e[1]);console.log(`getCards: Found ${i.docs.length} cards in users/${t}/collection`),i.docs.map(a=>{const o=a.data();return console.log(`getCards: Processing card ${a.id} from collection path:`,o),(!o.tags||!Array.isArray(o.tags))&&(console.log("getCards: Fixing missing or invalid tags for card",a.id),o.tags=[]),{...o,id:a.id,tags:o.tags||[]}}).forEach(a=>{n.some(o=>o.id===a.id)||n.push(a)})}catch(i){console.error("getCards: Error fetching from users/{uid}/collection path:",i)}const r=n.filter(i=>i.playerName?!0:(console.warn(`getCards: Card ${i.id} missing playerName, skipping`),!1));return console.log(`getCards: Found ${r.length} valid cards total from both paths`),r.forEach(i=>{(i.currentValue||i.price||i.pricePaid)&&console.log(`getCards: Card ${i.id} has values:`,{playerName:i.playerName,currentValue:i.currentValue,price:i.price,pricePaid:i.pricePaid})}),r}catch(e){throw console.error("getCards: Error fetching cards:",e),e}}async function kge(t,e){try{console.log("deleteCard: Deleting card",t,"for user",e);let n=null,r=!1;try{const i=Ie(de,"users",e,"collection",t),s=await Ye(i);s.exists()&&(n=s.data(),console.log("deleteCard: Found card in collection path:",n.playerName),await el(i),console.log("deleteCard: Deleted card from collection path"),r=!0)}catch(i){console.error("deleteCard: Error with collection path:",i)}if(!r)try{const i=Ie(de,"users",e,"cards",t),s=await Ye(i);s.exists()&&(n||(n=s.data(),console.log("deleteCard: Found card in cards path:",n.playerName)),await el(i),console.log("deleteCard: Deleted card from cards path"),r=!0)}catch(i){console.error("deleteCard: Error with cards path:",i)}if(!r)throw new Error(`Card not found or could not be deleted: ${t}`);try{console.log("deleteCard: Checking display cases for card references");const i=Zt(de,"users",e,"display_cases"),s=await Xn(i);let a=0;for(const o of s.docs){const l=o.data();if(!(!l.cardIds||!Array.isArray(l.cardIds))&&l.cardIds.includes(t)){console.log(`deleteCard: Removing card from display case: ${o.id}`);const c=l.cardIds.filter(d=>d!==t),u=Ie(de,"users",e,"display_cases",o.id);if(await Yt(u,{cardIds:c,updatedAt:new Date}),a++,l.isPublic)try{const d=Ie(de,"public_display_cases",o.id);(await Ye(d)).exists()&&(await Yt(d,{cardIds:c,updatedAt:new Date}),console.log(`deleteCard: Updated public display case ${o.id}`))}catch(d){console.error(`deleteCard: Error updating public display case ${o.id}:`,d)}}}try{const o=pi(Zt(de,"displayCases"),En("userId","==",e)),l=await Xn(o);for(const c of l.docs){const u=c.data();if(!(!u.cardIds||!Array.isArray(u.cardIds))&&u.cardIds.includes(t)){console.log(`deleteCard: Removing card from legacy display case: ${c.id}`);const d=u.cardIds.filter(h=>h!==t);await Yt(Ie(de,"displayCases",c.id),{cardIds:d,updatedAt:new Date}),a++;try{const h=Ie(de,"public_display_cases",c.id);(await Ye(h)).exists()&&(await Yt(h,{cardIds:d,updatedAt:new Date}),console.log(`deleteCard: Updated public display case from legacy reference ${c.id}`))}catch(h){console.error("deleteCard: Error updating public display case from legacy:",h)}}}}catch(o){console.error("deleteCard: Error checking legacy displayCases:",o)}a>0?console.log(`deleteCard: Removed card from ${a} display cases`):console.log("deleteCard: Card was not in any display cases")}catch(i){console.error("deleteCard: Error removing card from display cases:",i)}console.log("deleteCard: Card delete operation completed successfully")}catch(n){throw console.error("deleteCard: Error deleting card:",n),n}}async function tB(t,e){var n;console.log(`Starting ensurePublicDisplayCase for ID: ${t}, userId: ${e||"none"}`);try{const r=Ie(de,"public_display_cases",t),i=await Ye(r);if(i.exists()){const s=i.data();console.log("Public display case exists, checking data:",s);let a=!1;const o={recovered:!0,updatedAt:new Date};if(!s.userId){console.warn("Public display case missing userId, attempting to fix");try{const l=Ie(de,"displayCases",t),c=await Ye(l);c.exists()&&c.data().userId?(o.userId=c.data().userId,console.log("Found userId from legacy collection:",o.userId),a=!0):e?(o.userId=e,console.log("Using provided userId:",o.userId),a=!0):console.error("Could not determine userId for public display case")}catch(l){console.error("Error updating userId:",l)}}if(!s.cardIds||s.cardIds.length===0)if(console.log("Public display case exists but has no card IDs"),s.userId||o.userId){const l=s.userId||o.userId;try{const c=Ie(de,"users",l,"display_cases",t),u=await Ye(c);u.exists()&&((n=u.data().cardIds)==null?void 0:n.length)>0?(o.cardIds=u.data().cardIds,console.log(`Found ${o.cardIds.length} card IDs from private version`),a=!0):console.log("Private version exists but has no card IDs")}catch(c){console.log("Error fetching private display case for cards:",c)}(!o.cardIds||o.cardIds.length===0)&&(console.log("Using fallback card IDs"),o.cardIds=["card1","card2","card3"],a=!0)}else console.log("No userId available, using fallback cards"),o.cardIds=["card1","card2","card3"],a=!0;if(a)try{return await Yt(r,o),console.log("Updated public display case with",Object.keys(o).join(", ")),!0}catch(l){return console.error("Error updating public display case:",l),console.log("Returning false - error updating public display case"),!1}else return console.log("Public display case is already properly configured"),!0}else{console.log("Public display case doesn't exist, finding private version");let s=null,a=null;if(e)try{const l=Ie(de,"users",e,"display_cases",t),c=await Ye(l);c.exists()&&(s=c.data(),a=e,console.log("Found private display case with provided user ID"))}catch(l){console.log("Error fetching private display case:",l)}if(!s)try{console.log("Checking legacy displayCases collection");const l=Ie(de,"displayCases",t),c=await Ye(l);c.exists()&&(s=c.data(),a=s.userId||"system",console.log("Found display case in legacy collection"))}catch(l){console.log("Error fetching from legacy collection:",l)}if(!s)return console.log("Could not find source display case to create public version"),console.log("Returning false - no privateData found"),!1;if(!a)return console.error("Cannot publish display case without user ID"),console.log("Returning false - no privateOwner"),!1;const o=[];if(s.cardIds&&Array.isArray(s.cardIds)){if(console.log(`Verifying ${s.cardIds.length} cards...`),s.cardIds.some(l=>l&&!l.startsWith("card"))){for(const l of s.cardIds)if(l)try{if((await Ye(Ie(de,"users",a,"collection",l))).exists()){o.push(l);continue}if((await Ye(Ie(de,"cards",l))).exists()){o.push(l);continue}console.warn(`Card ${l} not found in user collection or main collection`)}catch(c){console.warn(`Error verifying card ${l}:`,c)}}else o.push(...s.cardIds.filter(l=>l));console.log(`Verified ${o.length} of ${s.cardIds.length} cards`)}try{const l=o.length>0?o:s.cardIds&&s.cardIds.length>0?s.cardIds:["card1","card2","card3"],c={...s,id:t,publicId:t,userId:a,isPublic:!0,recovered:!0,cardIds:l,createdAt:s.createdAt||new Date,updatedAt:new Date};return await Nu(r,c),console.log("Created public display case from private data"),ce.success("Display case is now available publicly"),!0}catch(l){return console.error("Failed to create public display case:",l),console.log("Returning false - error creating public display case"),!1}}}catch(r){return console.error("Error ensuring public display case:",r),console.log("Returning false due to caught exception"),!1}}async function Ege(t,e){if(!t||!e)return console.error("syncCardToPublicDisplayCases: Missing cardId or userId"),!1;try{console.log(`syncCardToPublicDisplayCases: Syncing card ${t} for user ${e}`);const n=Zt(de,"users",e,"display_cases"),r=await Xn(n);let i=0;for(const s of r.docs){const a=s.data();if(!(!a.isPublic||!a.cardIds||!Array.isArray(a.cardIds))&&a.cardIds.includes(t)){const o=Ie(de,"public_display_cases",s.id);(await Ye(o)).exists()&&(await Yt(o,{updatedAt:new Date}),i++,console.log(`syncCardToPublicDisplayCases: Updated public display case ${s.id}`))}}try{const s=pi(Zt(de,"displayCases"),En("userId","==",e),En("isPublic","==",!0)),a=await Xn(s);for(const o of a.docs){const l=o.data();if(l.cardIds&&Array.isArray(l.cardIds)&&l.cardIds.includes(t)){const c=Ie(de,"public_display_cases",o.id);(await Ye(c)).exists()&&(await Yt(c,{updatedAt:new Date}),i++,console.log(`syncCardToPublicDisplayCases: Updated legacy public display case ${o.id}`))}}}catch(s){console.error("syncCardToPublicDisplayCases: Error checking legacy displayCases:",s)}return console.log(`syncCardToPublicDisplayCases: Updated ${i} public display cases`),i>0}catch(n){return console.error("syncCardToPublicDisplayCases: Error syncing card:",n),!1}}function Qh(){const{user:t,loading:e}=jn(),n=lc(),{data:r,isLoading:i,error:s,isFetching:a,refetch:o}=m8({queryKey:["cards",t==null?void 0:t.uid],queryFn:async()=>{if(!(t!=null&&t.uid))return console.log("useCards: No user ID available"),[];console.log("useCards: Fetching cards for user",t.uid);try{const h=await Cge(t.uid);console.log(`useCards: Retrieved ${h.length} cards`);const f=h.filter(p=>p.currentValue||p.price||p.pricePaid);return console.log(`useCards: Cards with value data: ${f.length}/${h.length}`),h.map(p=>({...p,currentValue:p.currentValue?Number(p.currentValue):void 0,price:p.price?Number(p.price):void 0,pricePaid:p.pricePaid?Number(p.pricePaid):void 0}))}catch(h){throw console.error("useCards: Error while fetching cards:",h),ce.error("Failed to load cards. Please try again."),h}},enabled:!!(t!=null&&t.uid)&&!e,retry:2,retryDelay:h=>Math.min(h>1?2e3:1e3,30*1e3),staleTime:5*60*1e3,refetchOnWindowFocus:!1});s&&console.error("useCards: Error fetching cards:",s);const l=Lc({mutationFn:async h=>{if(console.log("useCards: Starting addCard mutation",{card:h}),!(t!=null&&t.uid))throw console.error("useCards: No user ID available for addCard"),new Error("User must be logged in to add cards");try{const f=await Age(h);return console.log("useCards: Successfully added card",{result:f}),f}catch(f){throw console.error("useCards: Error in addCard mutation",{error:f,card:h}),f}},onSuccess:h=>{n.invalidateQueries({queryKey:["cards",t==null?void 0:t.uid]}),ce.success("Card added successfully! It will appear in any display cases with matching tags.")},onError:h=>{console.error("useCards: Error adding card",{error:h}),ce.error(h instanceof Error?h.message:"Failed to add card")}}),c=Lc({mutationFn:async h=>{if(console.log("useCards: Starting deleteCard mutation for card",h),!(t!=null&&t.uid))throw console.error("useCards: No user ID available for deleteCard"),new Error("You must be logged in to delete cards");try{return console.log(`useCards: Calling deleteCard with cardId=${h}, userId=${t.uid}`),await kge(h,t.uid),console.log("useCards: Successfully deleted card",h),h}catch(f){if(console.error("useCards: Error in deleteCard mutation:",f),f instanceof Error){const g=f.toString();if(g.includes("permission-denied"))throw new Error("Permission denied: You don't have access to delete this card.");if(g.includes("not-found"))throw new Error("Card not found. It may have already been deleted.")}throw f}},onSuccess:h=>{console.log("useCards: DeleteCard mutation successful for card",h),n.invalidateQueries({queryKey:["cards",t==null?void 0:t.uid]}),n.invalidateQueries({queryKey:["displayCases",t==null?void 0:t.uid]}),n.invalidateQueries({queryKey:["publicDisplayCases"]}),ce.success("Card deleted successfully")},onError:h=>{console.error("useCards: Error deleting card:",h);const f=(h==null?void 0:h.message)||"Failed to delete card";ce.error(f)}}),u=Lc({mutationFn:async h=>{if(!(t!=null&&t.uid))throw console.error("useCards: No user ID available for updateCard"),new Error("You must be logged in to update a card");console.log(`useCards: Updating card ${h.cardId} with`,h.updates);try{const f=Ie(de,"users",t.uid,"collection",h.cardId);await Yt(f,{...h.updates,updatedAt:new Date().toISOString()})}catch(f){console.error("useCards: Error updating card in collection:",f);try{const g=Ie(de,"users",t.uid,"cards",h.cardId);await Yt(g,{...h.updates,updatedAt:new Date().toISOString()})}catch(g){throw console.error("useCards: Error updating card in cards:",g),g}}try{await Ege(h.cardId,t.uid)}catch(f){console.error("useCards: Error syncing card to public display cases:",f)}},onSuccess:()=>{n.invalidateQueries({queryKey:["cards",t==null?void 0:t.uid]}),n.invalidateQueries({queryKey:["publicDisplayCases"]})}}),d=()=>{s&&(ce.info("Retrying to load your cards..."),o())};return{data:r||[],isLoading:i||e||a,error:s,addCard:l.mutate,deleteCard:c.mutate,updateCard:u.mutate,retryFetchCards:d}}function nB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MA(...t){return e=>{let n=!1;const r=t.map(i=>{const s=nB(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():nB(t[i],null)}}}}function Yr(...t){return I.useCallback(MA(...t),t)}function Ah(t){const e=Pge(t),n=I.forwardRef((r,i)=>{const{children:s,...a}=r,o=I.Children.toArray(s),l=o.find(Oge);if(l){const c=l.props.children,u=o.map(d=>d===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...a,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Tge=Ah("Slot");function Pge(t){const e=I.forwardRef((n,r)=>{const{children:i,...s}=n;if(I.isValidElement(i)){const a=Rge(i),o=Nge(s,i.props);return i.type!==I.Fragment&&(o.ref=r?MA(r,a):a),I.cloneElement(i,o)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ige=Symbol("radix.slottable");function Oge(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ige}function Nge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Rge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function v8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=v8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=v8(t))&&(r&&(r+=" "),r+=e);return r}const rB=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,iB=zt,x8=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return iB(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=rB(u)||rB(d);return i[c][h]}),o=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...s,...o}[p]):{...s,...o}[p]===y})?[...c,d,h]:c},[]);return iB(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},iM="-",Mge=t=>{const e=jge(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(iM);return o[0]===""&&o.length!==1&&o.shift(),b8(o,e)||Dge(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},b8=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?b8(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(iM);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},sB=/^\[(.+)\]$/,Dge=t=>{if(sB.test(t)){const e=sB.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jge=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)mI(n[i],r,i,e);return r},mI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:aB(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Lge(i)){mI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{mI(a,aB(e,s),n,r)})})},aB=(t,e)=>{let n=t;return e.split(iM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lge=t=>t.isThemeGetter,Fge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},yI="!",vI=":",$ge=vI.length,Bge=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;for(let g=0;g<i.length;g++){let p=i[g];if(a===0&&o===0){if(p===vI){s.push(i.slice(l,g)),l=g+$ge;continue}if(p==="/"){c=g;continue}}p==="["?a++:p==="]"?a--:p==="("?o++:p===")"&&o--}const u=s.length===0?i:i.substring(l),d=zge(u),h=d!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}};if(e){const i=e+vI,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},zge=t=>t.endsWith(yI)?t.substring(0,t.length-1):t.startsWith(yI)?t.substring(1):t,Vge=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Uge=t=>({cache:Fge(t.cacheSize),parseClassName:Bge(t),sortModifiers:Vge(t),...Mge(t)}),Wge=/\s+/,Hge=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(Wge);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!p,v=r(y?g.substring(0,p):g);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(g),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=s(h).join(":"),b=f?x+yI:x,_=b+v;if(a.includes(_))continue;a.push(_);const w=i(v,y);for(let C=0;C<w.length;++C){const A=w[C];a.push(b+A)}l=u+(l.length>0?" "+l:l)}return l};function Yge(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=w8(e))&&(r&&(r+=" "),r+=n);return r}const w8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=w8(t[r]))&&(n&&(n+=" "),n+=e);return n};function Xge(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return n=Uge(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=Hge(l,n);return i(l,u),u}return function(){return s(Yge.apply(null,arguments))}}const Dr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,S8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gge=/^\d+\/\d+$/,qge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vf=t=>Gge.test(t),Ct=t=>!!t&&!Number.isNaN(Number(t)),Sc=t=>!!t&&Number.isInteger(Number(t)),rE=t=>t.endsWith("%")&&Ct(t.slice(0,-1)),ll=t=>qge.test(t),eme=()=>!0,tme=t=>Kge.test(t)&&!Qge.test(t),A8=()=>!1,nme=t=>Zge.test(t),rme=t=>Jge.test(t),ime=t=>!ze(t)&&!Ve(t),sme=t=>qg(t,E8,A8),ze=t=>_8.test(t),od=t=>qg(t,T8,tme),iE=t=>qg(t,ume,Ct),oB=t=>qg(t,C8,A8),ame=t=>qg(t,k8,rme),P0=t=>qg(t,P8,nme),Ve=t=>S8.test(t),$m=t=>Kg(t,T8),ome=t=>Kg(t,dme),lB=t=>Kg(t,C8),lme=t=>Kg(t,E8),cme=t=>Kg(t,k8),I0=t=>Kg(t,P8,!0),qg=(t,e,n)=>{const r=_8.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Kg=(t,e,n=!1)=>{const r=S8.exec(t);return r?r[1]?e(r[1]):n:!1},C8=t=>t==="position"||t==="percentage",k8=t=>t==="image"||t==="url",E8=t=>t==="length"||t==="size"||t==="bg-size",T8=t=>t==="length",ume=t=>t==="number",dme=t=>t==="family-name",P8=t=>t==="shadow",hme=()=>{const t=Dr("color"),e=Dr("font"),n=Dr("text"),r=Dr("font-weight"),i=Dr("tracking"),s=Dr("leading"),a=Dr("breakpoint"),o=Dr("container"),l=Dr("spacing"),c=Dr("radius"),u=Dr("shadow"),d=Dr("inset-shadow"),h=Dr("text-shadow"),f=Dr("drop-shadow"),g=Dr("blur"),p=Dr("perspective"),y=Dr("aspect"),v=Dr("ease"),x=Dr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[..._(),Ve,ze],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],k=()=>[Ve,ze,l],E=()=>[vf,"full","auto",...k()],T=()=>[Sc,"none","subgrid",Ve,ze],P=()=>["auto",{span:["full",Sc,Ve,ze]},Sc,Ve,ze],N=()=>[Sc,"auto",Ve,ze],O=()=>["auto","min","max","fr",Ve,ze],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...k()],B=()=>[vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],D=()=>[t,Ve,ze],z=()=>[..._(),lB,oB,{position:[Ve,ze]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",lme,sme,{size:[Ve,ze]}],q=()=>[rE,$m,od],J=()=>["","none","full",c,Ve,ze],ae=()=>["",Ct,$m,od],_e=()=>["solid","dashed","dotted","double"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ct,rE,lB,oB],Ne=()=>["","none",g,Ve,ze],re=()=>["none",Ct,Ve,ze],ge=()=>["none",Ct,Ve,ze],Ae=()=>[Ct,Ve,ze],se=()=>[vf,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ll],breakpoint:[ll],color:[eme],container:[ll],"drop-shadow":[ll],ease:["in","out","in-out"],font:[ime],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ll],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ll],shadow:[ll],spacing:["px",Ct],text:[ll],"text-shadow":[ll],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vf,ze,Ve,y]}],container:["container"],columns:[{columns:[Ct,ze,Ve,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Sc,"auto",Ve,ze]}],basis:[{basis:[vf,"full","auto",o,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ct,vf,"auto","initial","none",ze]}],grow:[{grow:["",Ct,Ve,ze]}],shrink:[{shrink:["",Ct,Ve,ze]}],order:[{order:[Sc,"first","last","none",Ve,ze]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[o,"screen",...B()]}],"min-w":[{"min-w":[o,"screen","none",...B()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,$m,od]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ve,iE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rE,ze]}],"font-family":[{font:[ome,ze,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ve,ze]}],"line-clamp":[{"line-clamp":[Ct,"none",Ve,iE]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",Ve,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ct,"from-font","auto",Ve,od]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Ct,"auto",Ve,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sc,Ve,ze],radial:["",Ve,ze],conic:[Sc,Ve,ze]},cme,ame]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ct,Ve,ze]}],"outline-w":[{outline:["",Ct,$m,od]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",u,I0,P0]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",d,I0,P0]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Ct,od]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",h,I0,P0]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Ct,Ve,ze]}],"mix-blend":[{"mix-blend":[...K(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":K()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Ve,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,ze]}],filter:[{filter:["","none",Ve,ze]}],blur:[{blur:Ne()}],brightness:[{brightness:[Ct,Ve,ze]}],contrast:[{contrast:[Ct,Ve,ze]}],"drop-shadow":[{"drop-shadow":["","none",f,I0,P0]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Ct,Ve,ze]}],"hue-rotate":[{"hue-rotate":[Ct,Ve,ze]}],invert:[{invert:["",Ct,Ve,ze]}],saturate:[{saturate:[Ct,Ve,ze]}],sepia:[{sepia:["",Ct,Ve,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,ze]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[Ct,Ve,ze]}],"backdrop-contrast":[{"backdrop-contrast":[Ct,Ve,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ct,Ve,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ct,Ve,ze]}],"backdrop-invert":[{"backdrop-invert":["",Ct,Ve,ze]}],"backdrop-opacity":[{"backdrop-opacity":[Ct,Ve,ze]}],"backdrop-saturate":[{"backdrop-saturate":[Ct,Ve,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Ct,Ve,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ct,"initial",Ve,ze]}],ease:[{ease:["linear","initial",v,Ve,ze]}],delay:[{delay:[Ct,Ve,ze]}],animate:[{animate:["none",x,Ve,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Ve,ze]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Ae()}],"skew-x":[{"skew-x":Ae()}],"skew-y":[{"skew-y":Ae()}],transform:[{transform:[Ve,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,ze]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Ct,$m,od,iE]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fme=Xge(hme);function Dt(...t){return fme(zt(t))}const pme=x8("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Tge:"button";return m.jsx(a,{className:Dt(pme({variant:e,size:n,className:t})),ref:s,...i})});xe.displayName="Button";const gme=x8("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Io({className:t,variant:e,...n}){return m.jsx("div",{className:Dt(gme({variant:e}),t),...n})}const Cr=I.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Cr.displayName="Card";const Fr=I.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Dt("flex flex-col space-y-1.5 p-6",t),...e}));Fr.displayName="CardHeader";const $r=I.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:Dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));$r.displayName="CardTitle";const es=I.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:Dt("text-sm text-muted-foreground",t),...e}));es.displayName="CardDescription";const ui=I.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Dt("p-6 pt-0",t),...e}));ui.displayName="CardContent";const Xy=I.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Dt("flex items-center p-6 pt-0",t),...e}));Xy.displayName="CardFooter";function lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mme(t,e){const n=I.createContext(e),r=s=>{const{children:a,...o}=s,l=I.useMemo(()=>o,Object.values(o));return m.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=I.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function cc(t,e=[]){let n=[];function r(s,a){const o=I.createContext(a),l=n.length;n=[...n,a];const c=d=>{var v;const{scope:h,children:f,...g}=d,p=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,y=I.useMemo(()=>g,Object.values(g));return m.jsx(p.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[l])||o,g=I.useContext(f);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(a=>I.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,yme(i,...e)]}function yme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function I8(t){const e=t+"CollectionProvider",[n,r]=cc(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:v}=p,x=U.useRef(null),b=U.useRef(new Map).current;return m.jsx(i,{scope:y,itemMap:b,collectionRef:x,children:v})};a.displayName=e;const o=t+"CollectionSlot",l=Ah(o),c=U.forwardRef((p,y)=>{const{scope:v,children:x}=p,b=s(o,v),_=Yr(y,b.collectionRef);return m.jsx(l,{ref:_,children:x})});c.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Ah(u),f=U.forwardRef((p,y)=>{const{scope:v,children:x,...b}=p,_=U.useRef(null),w=Yr(y,_),C=s(u,v);return U.useEffect(()=>(C.itemMap.set(_,{ref:_,...b}),()=>void C.itemMap.delete(_))),m.jsx(h,{[d]:"",ref:w,children:x})});f.displayName=u;function g(p){const y=s(t+"CollectionConsumer",p);return U.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((C,A)=>b.indexOf(C.ref.current)-b.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},g,r]}var fo=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},vme=qN[" useId ".trim().toString()]||(()=>{}),xme=0;function bu(t){const[e,n]=I.useState(vme());return fo(()=>{n(r=>r??String(xme++))},[t]),e?`radix-${e}`:""}var bme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dn=bme.reduce((t,e)=>{const n=Ah(`Primitive.${e}`),r=I.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function O8(t,e){t&&sA.flushSync(()=>t.dispatchEvent(e))}function tl(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var wme=qN[" useInsertionEffect ".trim().toString()]||fo;function gb({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=_me({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const u=I.useRef(t!==void 0);I.useEffect(()=>{const d=u.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=I.useCallback(u=>{var d;if(o){const h=Sme(u)?u(t):u;h!==t&&((d=a.current)==null||d.call(a,h))}else s(u)},[o,t,s,a]);return[l,c]}function _me({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),i=I.useRef(n),s=I.useRef(e);return wme(()=>{s.current=e},[e]),I.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Sme(t){return typeof t=="function"}var Ame=I.createContext(void 0);function sM(t){const e=I.useContext(Ame);return t||e||"ltr"}var sE="rovingFocusGroup.onEntryFocus",Cme={bubbles:!1,cancelable:!0},mb="RovingFocusGroup",[xI,N8,kme]=I8(mb),[Eme,DA]=cc(mb,[kme]),[Tme,Pme]=Eme(mb),R8=I.forwardRef((t,e)=>m.jsx(xI.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(xI.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Ime,{...t,ref:e})})}));R8.displayName=mb;var Ime=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=I.useRef(null),f=Yr(e,h),g=sM(s),[p,y]=gb({prop:a,defaultProp:o??null,onChange:l,caller:mb}),[v,x]=I.useState(!1),b=tl(c),_=N8(n),w=I.useRef(!1),[C,A]=I.useState(0);return I.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(sE,b),()=>k.removeEventListener(sE,b)},[b]),m.jsx(Tme,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:p,onItemFocus:I.useCallback(k=>y(k),[y]),onItemShiftTab:I.useCallback(()=>x(!0),[]),onFocusableItemAdd:I.useCallback(()=>A(k=>k+1),[]),onFocusableItemRemove:I.useCallback(()=>A(k=>k-1),[]),children:m.jsx(dn.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:lt(t.onMouseDown,()=>{w.current=!0}),onFocus:lt(t.onFocus,k=>{const E=!w.current;if(k.target===k.currentTarget&&E&&!v){const T=new CustomEvent(sE,Cme);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const P=_().filter(F=>F.focusable),N=P.find(F=>F.active),O=P.find(F=>F.id===p),$=[N,O,...P].filter(Boolean).map(F=>F.ref.current);j8($,u)}}w.current=!1}),onBlur:lt(t.onBlur,()=>x(!1))})})}),M8="RovingFocusGroupItem",D8=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=bu(),c=s||l,u=Pme(M8,n),d=u.currentTabStopId===c,h=N8(n),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:p}=u;return I.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),m.jsx(xI.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:m.jsx(dn.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:lt(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:lt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:lt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Rme(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=u.loop?Mme(b,_+1):b.slice(_+1)}setTimeout(()=>j8(b))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:p!=null}):a})})});D8.displayName=M8;var Ome={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nme(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Rme(t,e,n){const r=Nme(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ome[r]}function j8(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Mme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var L8=R8,F8=D8;function Dme(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var yo=t=>{const{present:e,children:n}=t,r=jme(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),s=Yr(r.ref,Lme(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};yo.displayName="Presence";function jme(t){const[e,n]=I.useState(),r=I.useRef(null),i=I.useRef(t),s=I.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Dme(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=O0(r.current);s.current=o==="mounted"?c:"none"},[o]),fo(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=O0(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),fo(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const p=O0(r.current).includes(f.animationName);if(f.target===e&&p&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=f=>{f.target===e&&(s.current=O0(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function O0(t){return(t==null?void 0:t.animationName)||"none"}function Lme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jA="Tabs",[Fme,NJe]=cc(jA,[DA]),$8=DA(),[$me,aM]=Fme(jA),B8=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,u=sM(o),[d,h]=gb({prop:r,onChange:i,defaultProp:s??"",caller:jA});return m.jsx($me,{scope:n,baseId:bu(),value:d,onValueChange:h,orientation:a,dir:u,activationMode:l,children:m.jsx(dn.div,{dir:u,"data-orientation":a,...c,ref:e})})});B8.displayName=jA;var z8="TabsList",V8=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=aM(z8,n),a=$8(n);return m.jsx(L8,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(dn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});V8.displayName=z8;var U8="TabsTrigger",W8=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=aM(U8,n),o=$8(n),l=X8(a.baseId,r),c=G8(a.baseId,r),u=r===a.value;return m.jsx(F8,{asChild:!0,...o,focusable:!i,active:u,children:m.jsx(dn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:lt(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:lt(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:lt(t.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(r)})})})});W8.displayName=U8;var H8="TabsContent",Y8=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=aM(H8,n),l=X8(o.baseId,r),c=G8(o.baseId,r),u=r===o.value,d=I.useRef(u);return I.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),m.jsx(yo,{present:i||u,children:({present:h})=>m.jsx(dn.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Y8.displayName=H8;function X8(t,e){return`${t}-trigger-${e}`}function G8(t,e){return`${t}-content-${e}`}var Bme=B8,q8=V8,K8=W8,Q8=Y8;const zme=Bme,Z8=I.forwardRef(({className:t,...e},n)=>m.jsx(q8,{ref:n,className:Dt("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),...e}));Z8.displayName=q8.displayName;const zw=I.forwardRef(({className:t,...e},n)=>m.jsx(K8,{ref:n,className:Dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-950 data-[state=active]:shadow-sm",t),...e}));zw.displayName=K8.displayName;const Vw=I.forwardRef(({className:t,...e},n)=>m.jsx(Q8,{ref:n,className:Dt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2",t),...e}));Vw.displayName=Q8.displayName;const J8=6048e5,Vme=864e5,N0=43200,cB=1440,uB=Symbol.for("constructDateFrom");function Kl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uB in t?t[uB](e):t instanceof Date?new t.constructor(e):new Date(e)}function ri(t,e){return Kl(e||t,t)}let Ume={};function yb(){return Ume}function zv(t,e){var o,l,c,u;const n=yb(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=ri(t,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function r1(t,e){return zv(t,{...e,weekStartsOn:1})}function eG(t,e){const n=ri(t,e==null?void 0:e.in),r=n.getFullYear(),i=Kl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=r1(i),a=Kl(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=r1(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function i1(t){const e=ri(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function LA(t,...e){const n=Kl.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function dB(t,e){const n=ri(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Wme(t,e,n){const[r,i]=LA(n==null?void 0:n.in,t,e),s=dB(r),a=dB(i),o=+s-i1(s),l=+a-i1(a);return Math.round((o-l)/Vme)}function Hme(t,e){const n=eG(t,e),r=Kl(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),r1(r)}function Uw(t,e){const n=+ri(t)-+ri(e);return n<0?-1:n>0?1:n}function Yme(t){return Kl(t,Date.now())}function Xme(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gme(t){return!(!Xme(t)&&typeof t!="number"||isNaN(+ri(t)))}function qme(t,e,n){const[r,i]=LA(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function Kme(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Qme(t,e){return+ri(t)-+ri(e)}function Zme(t,e){const n=ri(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function Jme(t,e){const n=ri(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function eye(t,e){const n=ri(t,e==null?void 0:e.in);return+Zme(n,e)==+Jme(n,e)}function tye(t,e,n){const[r,i,s]=LA(n==null?void 0:n.in,t,t,e),a=Uw(i,s),o=Math.abs(qme(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=Uw(i,s)===-a;eye(r)&&o===1&&Uw(r,s)===1&&(l=!1);const c=a*(o-+l);return c===0?0:c}function nye(t,e,n){const r=Qme(t,e)/1e3;return Kme(n==null?void 0:n.roundingMethod)(r)}function rye(t,e){const n=ri(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const iye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sye=(t,e,n)=>{let r;const i=iye[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function aE(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cye={date:aE({formats:aye,defaultWidth:"full"}),time:aE({formats:oye,defaultWidth:"full"}),dateTime:aE({formats:lye,defaultWidth:"full"})},uye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dye=(t,e,n,r)=>uye[t];function Bm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const hye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vye=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xye={ordinalNumber:vye,era:Bm({values:hye,defaultWidth:"wide"}),quarter:Bm({values:fye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bm({values:pye,defaultWidth:"wide"}),day:Bm({values:gye,defaultWidth:"wide"}),dayPeriod:Bm({values:mye,defaultWidth:"wide",formattingValues:yye,defaultFormattingWidth:"wide"})};function zm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?wye(o,d=>d.test(a)):bye(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function bye(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wye(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _ye(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Sye=/^(\d+)(th|st|nd|rd)?/i,Aye=/\d+/i,Cye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kye={any:[/^b/i,/^(a|c)/i]},Eye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tye={any:[/1/i,/2/i,/3/i,/4/i]},Pye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dye={ordinalNumber:_ye({matchPattern:Sye,parsePattern:Aye,valueCallback:t=>parseInt(t,10)}),era:zm({matchPatterns:Cye,defaultMatchWidth:"wide",parsePatterns:kye,defaultParseWidth:"any"}),quarter:zm({matchPatterns:Eye,defaultMatchWidth:"wide",parsePatterns:Tye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zm({matchPatterns:Pye,defaultMatchWidth:"wide",parsePatterns:Iye,defaultParseWidth:"any"}),day:zm({matchPatterns:Oye,defaultMatchWidth:"wide",parsePatterns:Nye,defaultParseWidth:"any"}),dayPeriod:zm({matchPatterns:Rye,defaultMatchWidth:"any",parsePatterns:Mye,defaultParseWidth:"any"})},tG={code:"en-US",formatDistance:sye,formatLong:cye,formatRelative:dye,localize:xye,match:Dye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jye(t,e){const n=ri(t,e==null?void 0:e.in);return Wme(n,rye(n))+1}function Lye(t,e){const n=ri(t,e==null?void 0:e.in),r=+r1(n)-+Hme(n);return Math.round(r/J8)+1}function nG(t,e){var u,d,h,f;const n=ri(t,e==null?void 0:e.in),r=n.getFullYear(),i=yb(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=Kl((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=zv(a,e),l=Kl((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=zv(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function Fye(t,e){var o,l,c,u;const n=yb(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=nG(t,e),s=Kl((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),zv(s,e)}function $ye(t,e){const n=ri(t,e==null?void 0:e.in),r=+zv(n,e)-+Fye(n,e);return Math.round(r/J8)+1}function pn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ac={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pn(n+1,2)},d(t,e){return pn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pn(t.getHours()%12||12,e.length)},H(t,e){return pn(t.getHours(),e.length)},m(t,e){return pn(t.getMinutes(),e.length)},s(t,e){return pn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pn(i,e.length)}},xf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hB={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ac.y(t,e)},Y:function(t,e,n,r){const i=nG(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return pn(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):pn(s,e.length)},R:function(t,e){const n=eG(t);return pn(n,e.length)},u:function(t,e){const n=t.getFullYear();return pn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ac.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$ye(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):pn(i,e.length)},I:function(t,e,n){const r=Lye(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ac.d(t,e)},D:function(t,e,n){const r=jye(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return pn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return pn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return pn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xf.noon:r===0?i=xf.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xf.evening:r>=12?i=xf.afternoon:r>=4?i=xf.morning:i=xf.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ac.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ac.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ac.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ac.s(t,e)},S:function(t,e){return Ac.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pB(r);case"XXXX":case"XX":return yd(r);case"XXXXX":case"XXX":default:return yd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return pB(r);case"xxxx":case"xx":return yd(r);case"xxxxx":case"xxx":default:return yd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fB(r,":");case"OOOO":default:return"GMT"+yd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fB(r,":");case"zzzz":default:return"GMT"+yd(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return pn(r,e.length)},T:function(t,e,n){return pn(+t,e.length)}};function fB(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+pn(s,2)}function pB(t,e){return t%60===0?(t>0?"-":"+")+pn(Math.abs(t)/60,2):yd(t,e)}function yd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=pn(Math.trunc(r/60),2),s=pn(r%60,2);return n+i+e+s}const gB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bye=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gB(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gB(r,e)).replace("{{time}}",rG(i,e))},zye={p:rG,P:Bye},Vye=/^D+$/,Uye=/^Y+$/,Wye=["D","DD","YY","YYYY"];function Hye(t){return Vye.test(t)}function Yye(t){return Uye.test(t)}function Xye(t,e,n){const r=Gye(t,e,n);if(console.warn(r),Wye.includes(t))throw new RangeError(r)}function Gye(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qye=/^'([^]*?)'?$/,Zye=/''/g,Jye=/[a-zA-Z]/;function eve(t,e,n){var u,d,h,f;const r=yb(),i=r.locale??tG,s=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,o=ri(t,n==null?void 0:n.in);if(!Gme(o))throw new RangeError("Invalid time value");let l=e.match(Kye).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=zye[p];return y(g,i.formatLong)}return g}).join("").match(qye).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:tve(g)};if(hB[p])return{isToken:!0,value:g};if(p.match(Jye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Yye(p)||Hye(p))&&Xye(p,e,String(t));const y=hB[p[0]];return y(o,p,i.localize,c)}).join("")}function tve(t){const e=t.match(Qye);return e?e[1].replace(Zye,"'"):t}function nve(t,e,n){const r=yb(),i=(n==null?void 0:n.locale)??r.locale??tG,s=2520,a=Uw(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,c]=LA(n==null?void 0:n.in,...a>0?[e,t]:[t,e]),u=nye(c,l),d=(i1(c)-i1(l))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return n!=null&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<cB){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<N0){const g=Math.round(h/cB);return i.formatDistance("xDays",g,o)}else if(h<N0*2)return f=Math.round(h/N0),i.formatDistance("aboutXMonths",f,o)}if(f=tye(c,l),f<12){const g=Math.round(h/N0);return i.formatDistance("xMonths",g,o)}else{const g=f%12,p=Math.trunc(f/12);return g<3?i.formatDistance("aboutXYears",p,o):g<9?i.formatDistance("overXYears",p,o):i.formatDistance("almostXYears",p+1,o)}}function Ww(t,e){return nve(t,Yme(t),e)}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ive=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mB=t=>{const e=ive(t);return e.charAt(0).toUpperCase()+e.slice(1)},iG=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sve=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ave={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>I.createElement("svg",{ref:l,...ave,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iG("lucide",i),...!s&&!sve(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>I.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(t,e)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(ove,{ref:s,iconNode:e,className:iG(`lucide-${rve(mB(t))}`,`lucide-${t}`,r),...i}));return n.displayName=mB(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],cve=at("arrow-down",lve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uve=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],oE=at("arrow-left-right",uve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yB=at("arrow-left",dve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],s1=at("arrow-right",hve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],lE=at("arrow-up-down",fve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gve=at("arrow-up",pve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yve=at("bell",mve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],vB=at("calculator",vve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bve=at("chart-column-increasing",xve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cE=at("chart-column",wve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Sve=at("chart-line",_ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Cve=at("check-check",Ave);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oM=at("check",kve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tve=at("chevron-right",Eve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ive=at("circle",Pve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nve=at("clock",Ove);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mve=at("copy",Rve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sG=at("database",Dve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],aG=at("external-link",jve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Fve=at("facebook",Lve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],vy=at("heart",$ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],zve=at("image-off",Bve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],uE=at("info",Vve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uve=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Wve=at("link-2",Uve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hve=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yve=at("link",Hve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xve=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jl=at("loader-circle",Xve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gve=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qve=at("mail",Gve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],oG=at("message-circle",Kve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qve=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],xB=at("message-square",Qve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zve=[["path",{d:"M5 12h14",key:"1ays0h"}]],Jve=at("minus",Zve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const exe=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],txe=at("monitor-play",exe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nxe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rxe=at("plus",nxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ixe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Od=at("refresh-cw",ixe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sxe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],axe=at("save",sxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],R0=at("search",oxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lxe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lG=at("share-2",lxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cxe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],uxe=at("shield-alert",cxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dxe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hxe=at("shield-check",dxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fxe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],pxe=at("sparkles",fxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mxe=at("star",gxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vxe=at("trash-2",yxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],bB=at("trash",xxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cG=at("trending-down",bxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wxe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wu=at("trending-up",wxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _xe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uG=at("triangle-alert",_xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Axe=at("trophy",Sxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cxe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],kxe=at("twitter",Cxe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Exe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vb=at("x",Exe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Pxe=at("youtube",Txe);function Ixe(){const{user:t}=jn(),[e,n]=I.useState([]),[r,i]=I.useState([]),[s,a]=I.useState([]),[o,l]=I.useState(!0),[c,u]=I.useState(!0),[d,h]=I.useState(!0),[f,g]=I.useState(!0),[p,y]=I.useState("messages");I.useEffect(()=>{if(!t){l(!1),u(!1),h(!1),g(!1);return}l(!0),u(!0),h(!0),g(!0);const _=Zt(de,"messages"),w=pi(_,En("recipientId","==",t.uid),En("deleted","!=",!0),bh("deleted"),bh("timestamp","desc")),C=eg(w,async O=>{var $;const L=[];for(const F of O.docs){const B=F.data();if(B.deleted===!0)continue;let D="Unknown Display Case";try{const z=Ie(de,"public_display_cases",B.displayCaseId),W=await Ye(z);if(W.exists())D=W.data().name||"Unnamed Display Case";else{const X=Ie(de,"displayCases",B.displayCaseId),q=await Ye(X);q.exists()&&(D=q.data().name||"Unnamed Display Case")}}catch(z){console.error("Error fetching display case name:",z)}L.push({id:F.id,senderId:B.senderId,senderName:B.senderName||"Anonymous",senderEmail:B.senderEmail||"unknown@example.com",displayCaseId:B.displayCaseId,displayCaseName:D,subject:B.subject||"No Subject",message:B.message||"",timestamp:(($=B.timestamp)==null?void 0:$.toDate())||new Date,read:B.read||!1,deleted:B.deleted||!1})}n(L),u(!1)},O=>{console.error("Error listening to messages:",O),u(!1)});(async()=>{try{const O=Zt(de,"public_display_cases"),L=pi(O,En("userId","==",t.uid)),$=await Xn(L),F=[];for(const B of $.docs){const D=B.data(),z=D.name||"Unnamed Display Case";D.comments&&Array.isArray(D.comments)&&D.comments.forEach((W,X)=>{var q;F.push({userId:W.userId||"",userName:W.userName||"Anonymous",photoURL:W.photoURL||"",text:W.text||"",timestamp:((q=W.timestamp)==null?void 0:q.toDate())||new Date,displayCaseId:B.id,displayCaseName:z,originalIndex:X})})}F.sort((B,D)=>D.timestamp.getTime()-B.timestamp.getTime()),a(F)}catch(O){console.error("Error fetching display cases comments:",O)}finally{g(!1)}})();const k=Zt(de,"likes"),E=async()=>{try{const O=Zt(de,"public_display_cases"),L=pi(O,En("userId","==",t.uid)),F=(await Xn(L)).docs.map(B=>B.id);if(F.length>0){const B=pi(k,En("displayCaseId","in",F));return eg(B,async D=>{var W;const z=[];console.log(`Fetched ${D.docs.length} likes from Firestore`);for(const X of D.docs){const q=X.data();let J="Unknown Display Case";try{const ae=Ie(de,"public_display_cases",q.displayCaseId),_e=await Ye(ae);_e.exists()&&(J=_e.data().name||"Unnamed Display Case")}catch(ae){console.error("Error fetching display case name:",ae)}z.push({id:X.id,userId:q.userId,displayCaseId:q.displayCaseId,displayCaseName:J,timestamp:((W=q.timestamp)==null?void 0:W.toDate())||new Date})}console.log(`Processed ${z.length} likes for the UI`),i(z),h(!1)},D=>{console.error("Error listening to likes:",D),h(!1)})}else return h(!1),()=>{}}catch(O){return console.error("Error fetching display cases:",O),h(!1),()=>{}}};let T=()=>{};E().then(O=>{O&&(T=O)});const N=setInterval(()=>{!c&&!d&&!f&&l(!1)},500);return()=>{C(),T(),clearInterval(N)}},[t]),I.useEffect(()=>{!c&&!d&&!f&&(l(!1),console.log(`Loading complete - Messages: ${e.length}, Likes: ${r.length}, Comments: ${s.length}`))},[c,d,f,e.length,r.length,s.length]);const v=async _=>{try{const w=Ie(de,"messages",_);await Yt(w,{read:!0}),ce.success("Message marked as read")}catch(w){console.error("Error marking message as read:",w),ce.error("Failed to mark message as read")}},x=async _=>{try{const w=Ie(de,"messages",_);await Yt(w,{deleted:!0}),ce.success("Message deleted")}catch(w){console.error("Error deleting message:",w),ce.error("Failed to delete message")}},b=async _=>{try{const w=Ie(de,"public_display_cases",_.displayCaseId),C=await Ye(w);if(C.exists()){const k=(C.data().comments||[])[_.originalIndex];k?(await Yt(w,{comments:nfe(k)}),a(E=>E.filter(T=>!(T.displayCaseId===_.displayCaseId&&T.originalIndex===_.originalIndex))),ce.success("Comment deleted successfully")):ce.error("Comment not found")}else ce.error("Display case not found")}catch(w){console.error("Error deleting comment:",w),ce.error("Failed to delete comment")}};return t?m.jsxs(Cr,{className:"w-full",children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Messages & Notifications"}),!o&&m.jsxs("div",{className:"flex items-center gap-2",children:[e.filter(_=>!_.read).length>0&&m.jsxs(Io,{className:"bg-red-500",children:[e.filter(_=>!_.read).length," unread"]}),r.length>0&&m.jsxs(Io,{className:"bg-blue-500 flex items-center",children:[m.jsx(vy,{className:"w-3 h-3 mr-1",fill:"currentColor"}),m.jsxs("span",{children:[r.length," likes"]})]}),s.length>0&&m.jsxs(Io,{className:"bg-green-500 flex items-center",children:[m.jsx(xB,{className:"w-3 h-3 mr-1"}),m.jsxs("span",{children:[s.length," comments"]})]})]})]}),m.jsx(es,{children:"Manage comments, likes, and messages from other users"})]}),m.jsx(ui,{children:m.jsxs(zme,{defaultValue:"messages",value:p,onValueChange:y,children:[m.jsxs(Z8,{className:"w-full mb-4",children:[m.jsxs(zw,{value:"messages",className:"flex-1",children:[m.jsx(oG,{className:"w-4 h-4 mr-2"}),"Messages",e.filter(_=>!_.read).length>0&&m.jsx(Io,{className:"ml-2 bg-red-500 text-white px-2",children:e.filter(_=>!_.read).length})]}),m.jsxs(zw,{value:"comments",className:"flex-1",children:[m.jsx(xB,{className:"w-4 h-4 mr-2"}),"Comments",s.length>0&&m.jsx(Io,{className:"ml-2 bg-green-500 text-white px-2",children:s.length})]}),m.jsxs(zw,{value:"likes",className:"flex-1",children:[m.jsx(vy,{className:"w-4 h-4 mr-2",fill:r.length>0?"currentColor":"none"}),"Likes",r.length>0&&m.jsx(Io,{className:"ml-2 bg-blue-500 text-white px-2",children:r.length})]})]}),m.jsx(Vw,{value:"messages",className:"space-y-4",children:c?m.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[m.jsx(jl,{className:"h-8 w-8 animate-spin text-blue-500 mb-2"}),m.jsx("span",{className:"text-gray-500",children:"Loading messages..."})]}):e.length>0?e.map(_=>m.jsxs("div",{className:`border rounded-lg p-4 ${_.read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:_.subject}),m.jsxs("p",{className:"text-sm text-gray-500",children:["From: ",_.senderName," • ",Ww(_.timestamp,{addSuffix:!0})]})]}),!_.read&&m.jsx(Io,{variant:"secondary",children:"New"})]}),m.jsx("p",{className:"text-gray-700 mb-3",children:_.message}),m.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Regarding: ",_.displayCaseName]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[!_.read&&m.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>v(_.id),children:[m.jsx(oM,{className:"w-4 h-4 mr-1"})," Mark as Read"]}),m.jsxs(xe,{variant:"destructive",size:"sm",onClick:()=>x(_.id),children:[m.jsx(bB,{className:"w-4 h-4 mr-1"})," Delete"]})]})]},_.id)):m.jsx("div",{className:"text-center py-8 text-gray-500",children:"No messages yet"})}),m.jsx(Vw,{value:"comments",className:"space-y-4",children:f?m.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[m.jsx(jl,{className:"h-8 w-8 animate-spin text-blue-500 mb-2"}),m.jsx("span",{className:"text-gray-500",children:"Loading comments..."})]}):s.length>0?s.map((_,w)=>m.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[m.jsx("div",{className:"flex justify-between items-start mb-2",children:m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:_.userName}),m.jsx("p",{className:"text-sm text-gray-500",children:Ww(_.timestamp,{addSuffix:!0})})]})}),m.jsx("p",{className:"text-gray-700 mb-3",children:_.text}),m.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["On display case: ",_.displayCaseName]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(xe,{variant:"destructive",size:"sm",onClick:()=>b(_),children:[m.jsx(bB,{className:"w-4 h-4 mr-1"})," Delete Comment"]})})]},w)):m.jsx("div",{className:"text-center py-8 text-gray-500",children:"No comments on your display cases yet"})}),m.jsx(Vw,{value:"likes",className:"space-y-4",children:d?m.jsxs("div",{className:"text-center py-8 flex flex-col items-center",children:[m.jsx(jl,{className:"h-8 w-8 animate-spin text-blue-500 mb-2"}),m.jsx("span",{className:"text-gray-500",children:"Loading likes..."})]}):r.length>0?r.map(_=>m.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx(vy,{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor"}),m.jsx("span",{className:"font-medium",children:"Someone liked your display case"}),m.jsx("span",{className:"ml-auto text-xs text-gray-500",children:Ww(_.timestamp,{addSuffix:!0})})]}),m.jsx("div",{className:"px-2 py-1 bg-blue-50 border border-blue-100 rounded-md mb-2",children:m.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Display Case: ",_.displayCaseName]})})]},_.id)):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(vy,{className:"w-10 h-10 mx-auto mb-4 text-gray-300"}),m.jsx("p",{children:"No likes yet"}),m.jsx("p",{className:"text-sm mt-2",children:"When someone likes your display cases, it will appear here"})]})})]})}),m.jsx(Xy,{className:"text-sm text-gray-500",children:"Public activity on your display cases will appear here."})]}):m.jsx(Cr,{children:m.jsxs(Fr,{children:[m.jsx($r,{children:"Messages & Notifications"}),m.jsx(es,{children:"Please sign in to view your messages and notifications"})]})})}async function Oxe(t){const n=Ug().currentUser;if(!n)throw new Error("User must be authenticated to create a display case");console.log("createDisplayCase: Creating display case with data:",t);const r=Zt(de,"users",n.uid,"display_cases"),i=await Kh(r,{...t,userId:n.uid,createdAt:new Date});return console.log("createDisplayCase: Display case created with ID:",i.id),i.id}async function Nxe(t,e){const n=Ie(de,"users",t,"display_cases",e);await Yt(n,{likes:F$(1),updatedAt:new Date});try{const r=Ie(de,"public_display_cases",e);(await Ye(r)).exists()&&await Yt(r,{likes:F$(1),updatedAt:new Date})}catch(r){console.error("Error updating public display case likes:",r)}}async function Rxe(t,e,n){const r=Ie(de,"users",t,"display_cases",e),i=await Ye(r);if(!i.exists())throw new Error(`Display case with ID ${e} not found`);const s=i.data(),a=(s==null?void 0:s.comments)||[];await Yt(r,{comments:[...a,n],updatedAt:new Date});try{const o=Ie(de,"public_display_cases",e),l=await Ye(o);if(l.exists()){const c=l.data(),u=(c==null?void 0:c.comments)||[];await Yt(o,{comments:[...u,n],updatedAt:new Date})}}catch(o){console.error("Error updating public display case comments:",o)}}function FA(){const{user:t}=jn(),e=lc(),n=["displayCases",t==null?void 0:t.uid],{data:r,isLoading:i,refetch:s}=m8({queryKey:n,queryFn:async()=>{if(!t)return[];console.log("Fetching display cases for user:",t.uid);const d=Zt(de,"users",t.uid,"display_cases"),h=await Xn(d),f=await Promise.all(h.docs.map(async g=>{const p={...g.data(),id:g.id};try{const y=Ie(de,"public_display_cases",g.id),v=await Ye(y);if(v.exists()){const x=v.data();return{...p,likes:x.likes||p.likes||0,comments:x.comments||p.comments||[],visits:x.visits||p.visits||0}}}catch(y){console.error("Error fetching public display case:",y)}return p}));return console.log("Fetched display cases:",f.length),f},enabled:!!t,staleTime:30*1e3,refetchOnWindowFocus:!0}),a=Lc({mutationFn:async d=>{await el(Ie(de,"users",t.uid,"display_cases",d))},onSuccess:()=>{e.invalidateQueries({queryKey:n})}}),o=Lc({mutationFn:async d=>Oxe(d),onSuccess:()=>{e.invalidateQueries({queryKey:n})}}),l=Lc({mutationFn:async({id:d,data:h})=>{if(!t)throw new Error("User must be authenticated to update a display case");const f=Ie(de,"users",t.uid,"display_cases",d);return await Yt(f,{...h,updatedAt:new Date}),d},onSuccess:()=>{e.invalidateQueries({queryKey:n})}}),c=Lc({mutationFn:async d=>{if(!t)throw new Error("User must be authenticated to like a display case");await Nxe(t.uid,d)},onSuccess:()=>{e.invalidateQueries({queryKey:n})}}),u=Lc({mutationFn:async({displayCaseId:d,comment:h})=>{if(!t)throw new Error("User must be authenticated to comment on a display case");await Rxe(t.uid,d,h)},onSuccess:()=>{e.invalidateQueries({queryKey:n})}});return{displayCases:r,isLoading:i,deleteDisplayCase:a.mutate,createDisplayCase:o.mutateAsync,updateDisplayCase:(d,h)=>l.mutateAsync({id:d,data:h}),isCreating:o.isPending,isUpdating:l.isPending,refetch:s,likeDisplayCase:c.mutate,commentOnDisplayCase:(d,h)=>u.mutate({displayCaseId:d,comment:h})}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xb(t){return t+.5|0}const tu=(t,e,n)=>Math.max(Math.min(t,n),e);function xy(t){return tu(xb(t*2.55),0,255)}function _u(t){return tu(xb(t*255),0,255)}function yl(t){return tu(xb(t/2.55)/100,0,1)}function wB(t){return tu(xb(t*100),0,100)}const na={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bI=[..."0123456789ABCDEF"],Mxe=t=>bI[t&15],Dxe=t=>bI[(t&240)>>4]+bI[t&15],M0=t=>(t&240)>>4===(t&15),jxe=t=>M0(t.r)&&M0(t.g)&&M0(t.b)&&M0(t.a);function Lxe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&na[t[1]]*17,g:255&na[t[2]]*17,b:255&na[t[3]]*17,a:e===5?na[t[4]]*17:255}:(e===7||e===9)&&(n={r:na[t[1]]<<4|na[t[2]],g:na[t[3]]<<4|na[t[4]],b:na[t[5]]<<4|na[t[6]],a:e===9?na[t[7]]<<4|na[t[8]]:255})),n}const Fxe=(t,e)=>t<255?e(t):"";function $xe(t){var e=jxe(t)?Mxe:Dxe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Fxe(t.a,e):void 0}const Bxe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dG(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function zxe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Vxe(t,e,n){const r=dG(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Uxe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function lM(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=Uxe(n,r,i,u,s),l=l*60+.5),[l|0,c||0,o]}function cM(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(_u)}function uM(t,e,n){return cM(dG,t,e,n)}function Wxe(t,e,n){return cM(Vxe,t,e,n)}function Hxe(t,e,n){return cM(zxe,t,e,n)}function hG(t){return(t%360+360)%360}function Yxe(t){const e=Bxe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?xy(+e[5]):_u(+e[5]));const i=hG(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Wxe(i,s,a):e[1]==="hsv"?r=Hxe(i,s,a):r=uM(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function Xxe(t,e){var n=lM(t);n[0]=hG(n[0]+e),n=uM(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Gxe(t){if(!t)return;const e=lM(t),n=e[0],r=wB(e[1]),i=wB(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${yl(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const _B={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qxe(){const t={},e=Object.keys(SB),n=Object.keys(_B);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,_B[s]);s=parseInt(SB[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let D0;function Kxe(t){D0||(D0=qxe(),D0.transparent=[0,0,0,0]);const e=D0[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Qxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Zxe(t){const e=Qxe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?xy(a):tu(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?xy(r):tu(r,0,255)),i=255&(e[4]?xy(i):tu(i,0,255)),s=255&(e[6]?xy(s):tu(s,0,255)),{r,g:i,b:s,a:n}}}function Jxe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${yl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const dE=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,bf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ebe(t,e,n){const r=bf(yl(t.r)),i=bf(yl(t.g)),s=bf(yl(t.b));return{r:_u(dE(r+n*(bf(yl(e.r))-r))),g:_u(dE(i+n*(bf(yl(e.g))-i))),b:_u(dE(s+n*(bf(yl(e.b))-s))),a:t.a+n*(e.a-t.a)}}function j0(t,e,n){if(t){let r=lM(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=uM(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function fG(t,e){return t&&Object.assign(e||{},t)}function AB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_u(t[3]))):(e=fG(t,{r:0,g:0,b:0,a:1}),e.a=_u(e.a)),e}function tbe(t){return t.charAt(0)==="r"?Zxe(t):Yxe(t)}let pG=class wI{constructor(e){if(e instanceof wI)return e;const n=typeof e;let r;n==="object"?r=AB(e):n==="string"&&(r=Lxe(e)||Kxe(e)||tbe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=fG(this._rgb);return e&&(e.a=yl(e.a)),e}set rgb(e){this._rgb=AB(e)}rgbString(){return this._valid?Jxe(this._rgb):void 0}hexString(){return this._valid?$xe(this._rgb):void 0}hslString(){return this._valid?Gxe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=ebe(this._rgb,e._rgb,n)),this}clone(){return new wI(this.rgb)}alpha(e){return this._rgb.a=_u(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=xb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return j0(this._rgb,2,e),this}darken(e){return j0(this._rgb,2,-e),this}saturate(e){return j0(this._rgb,1,e),this}desaturate(e){return j0(this._rgb,1,-e),this}rotate(e){return Xxe(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function cl(){}const nbe=(()=>{let t=0;return()=>t++})();function Pt(t){return t==null}function Yn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Rt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function fr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ds(t,e){return fr(t)?t:e}function yt(t,e){return typeof t>"u"?e:t}const rbe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,gG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function On(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function gn(t,e,n,r){let i,s,a;if(Yn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Rt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function a1(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function o1(t){if(Yn(t))return t.map(o1);if(Rt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=o1(t[n[i]]);return e}return t}function mG(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function ibe(t,e,n,r){if(!mG(t))return;const i=e[t],s=n[t];Rt(i)&&Rt(s)?Vv(i,s,r):e[t]=o1(s)}function Vv(t,e,n){const r=Yn(e)?e:[e],i=r.length;if(!Rt(t))return t;n=n||{};const s=n.merger||ibe;let a;for(let o=0;o<i;++o){if(a=r[o],!Rt(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,n)}return t}function Gy(t,e){return Vv(t,e,{merger:sbe})}function sbe(t,e,n){if(!mG(t))return;const r=e[t],i=n[t];Rt(r)&&Rt(i)?Gy(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=o1(i))}const CB={"":t=>t,x:t=>t.x,y:t=>t.y};function abe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function obe(t){const e=abe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ru(t,e){return(CB[e]||(CB[e]=obe(e)))(t)}function dM(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Uv=t=>typeof t<"u",Mu=t=>typeof t=="function",kB=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function lbe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Wn=Math.PI,Un=2*Wn,cbe=Un+Wn,l1=Number.POSITIVE_INFINITY,ube=Wn/180,br=Wn/2,ld=Wn/4,EB=Wn*2/3,nu=Math.log10,Ho=Math.sign;function qy(t,e,n){return Math.abs(t-e)<n}function TB(t){const e=Math.round(t);t=qy(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nu(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function dbe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function hbe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function tg(t){return!hbe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function fbe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function yG(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Qa(t){return t*(Wn/180)}function hM(t){return t*(180/Wn)}function PB(t){if(!fr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vG(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Wn&&(s+=Un),{angle:s,distance:i}}function _I(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pbe(t,e){return(t-e+cbe)%Un-Wn}function $s(t){return(t%Un+Un)%Un}function Wv(t,e,n,r){const i=$s(t),s=$s(e),a=$s(n),o=$s(s-i),l=$s(a-i),c=$s(i-s),u=$s(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function ti(t,e,n){return Math.max(e,Math.min(n,t))}function gbe(t){return ti(t,-32768,32767)}function El(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function fM(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Tl=(t,e,n,r)=>fM(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),mbe=(t,e,n)=>fM(t,n,r=>t[r][e]>=n);function ybe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const xG=["push","pop","shift","splice","unshift"];function vbe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),xG.forEach(n=>{const r="_onData"+dM(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function IB(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(xG.forEach(s=>{delete t[s]}),delete t._chartjs)}function bG(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wG=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function _G(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,wG.call(window,()=>{r=!1,t.apply(e,n)}))}}function xbe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const pM=t=>t==="start"?"left":t==="end"?"right":"center",Ni=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,bbe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function SG(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:g}=a.getUserBounds();if(f){if(i=Math.min(Tl(l,u,d).lo,n?r:Tl(e,u,a.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(y=>!Pt(y[o.axis]));i-=Math.max(0,p)}i=ti(i,0,r-1)}if(g){let p=Math.max(Tl(l,a.axis,h,!0).hi+1,n?0:Tl(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const y=l.slice(p-1).findIndex(v=>!Pt(v[o.axis]));p+=Math.max(0,y)}s=ti(p,i,r)-i}else s=r-i}return{start:i,count:s}}function AG(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const L0=t=>t===0||t===1,OB=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Un/n)),NB=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Un/n)+1,Ky={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*br)+1,easeOutSine:t=>Math.sin(t*br),easeInOutSine:t=>-.5*(Math.cos(Wn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>L0(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>L0(t)?t:OB(t,.075,.3),easeOutElastic:t=>L0(t)?t:NB(t,.075,.3),easeInOutElastic(t){return L0(t)?t:t<.5?.5*OB(t*2,.1125,.45):.5+.5*NB(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ky.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ky.easeInBounce(t*2)*.5:Ky.easeOutBounce(t*2-1)*.5+.5};function gM(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function RB(t){return gM(t)?t:new pG(t)}function hE(t){return gM(t)?t:new pG(t).saturate(.5).darken(.1).hexString()}const wbe=["x","y","borderWidth","radius","tension"],_be=["color","borderColor","backgroundColor"];function Sbe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_be},numbers:{type:"number",properties:wbe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Abe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const MB=new Map;function Cbe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=MB.get(n);return r||(r=new Intl.NumberFormat(t,e),MB.set(n,r)),r}function bb(t,e,n){return Cbe(e,n).format(t)}const CG={values(t){return Yn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=kbe(t,n)}const a=nu(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),bb(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(nu(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?CG.numeric.call(this,t,e,n):""}};function kbe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $A={formatters:CG};function Ebe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$A.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ch=Object.create(null),SI=Object.create(null);function Qy(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function fE(t,e,n){return typeof e=="string"?Vv(Qy(t,e),n):Vv(Qy(t,""),e)}class Tbe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>hE(i.backgroundColor),this.hoverBorderColor=(r,i)=>hE(i.borderColor),this.hoverColor=(r,i)=>hE(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return fE(this,e,n)}get(e){return Qy(this,e)}describe(e,n){return fE(SI,e,n)}override(e,n){return fE(Ch,e,n)}route(e,n,r,i){const s=Qy(this,e),a=Qy(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[i];return Rt(l)?Object.assign({},c,l):yt(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Gn=new Tbe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Sbe,Abe,Ebe]);function Pbe(t){return!t||Pt(t.size)||Pt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function c1(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ibe(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],d!=null&&!Yn(d))a=c1(t,i,s,a,d);else if(Yn(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Yn(h)&&(a=c1(t,i,s,a,h));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function cd(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function DB(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function AI(t,e,n,r){kG(t,e,n,r,null)}function kG(t,e,n,r,i){let s,a,o,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,p=e.radius;let y=(g||0)*ube;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,p,0,0,Un):t.arc(n,r,p,0,Un),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*p),y+=EB,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*p),y+=EB,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,a=Math.cos(y+ld)*l,d=Math.cos(y+ld)*(i?i/2-c:l),o=Math.sin(y+ld)*l,h=Math.sin(y+ld)*(i?i/2-c:l),t.arc(n-d,r-o,c,y-Wn,y-br),t.arc(n+h,r-a,c,y-br,y),t.arc(n+d,r+o,c,y,y+br),t.arc(n-h,r+a,c,y+br,y+Wn),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=ld;case"rectRot":d=Math.cos(y)*(i?i/2:p),a=Math.cos(y)*p,o=Math.sin(y)*p,h=Math.sin(y)*(i?i/2:p),t.moveTo(n-d,r-o),t.lineTo(n+h,r-a),t.lineTo(n+d,r+o),t.lineTo(n-h,r+a),t.closePath();break;case"crossRot":y+=ld;case"cross":d=Math.cos(y)*(i?i/2:p),a=Math.cos(y)*p,o=Math.sin(y)*p,h=Math.sin(y)*(i?i/2:p),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"star":d=Math.cos(y)*(i?i/2:p),a=Math.cos(y)*p,o=Math.sin(y)*p,h=Math.sin(y)*(i?i/2:p),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a),y+=ld,d=Math.cos(y)*(i?i/2:p),a=Math.cos(y)*p,o=Math.sin(y)*p,h=Math.sin(y)*(i?i/2:p),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(y)*p,o=Math.sin(y)*p,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:p),r+Math.sin(y)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function BA(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zA(t){t.restore()}function Obe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Nbe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Rbe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Mbe(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function Dbe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function kh(t,e,n,r,i,s={}){const a=Yn(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Rbe(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&Dbe(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Pt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),Mbe(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Hv(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Wn,Wn,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Wn,br,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,br,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-br,!0),t.lineTo(n+a.topLeft,r)}const jbe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lbe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Fbe(t,e){const n=(""+t).match(jbe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const $be=t=>+t||0;function mM(t,e){const n={},r=Rt(e),i=r?Object.keys(e):e,s=Rt(t)?r?a=>yt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=$be(s(a));return n}function EG(t){return mM(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nh(t){return mM(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wi(t){const e=EG(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ur(t,e){t=t||{},e=e||Gn.font;let n=yt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=yt(t.style,e.style);r&&!(""+r).match(Lbe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:yt(t.family,e.family),lineHeight:Fbe(yt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:yt(t.weight,e.weight),string:""};return i.string=Pbe(i),i}function by(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function Bbe(t,e,n){const{min:r,max:i}=t,s=gG(e,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Ku(t,e){return Object.assign(Object.create(t),e)}function yM(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=OG("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>yM([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return PG(o,l,()=>Gbe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return LB(o).includes(l)},ownKeys(o){return LB(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function ng(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:TG(t,r),setContext:s=>ng(t,s,n,r),override:s=>ng(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return PG(s,a,()=>Vbe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function TG(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Mu(n)?n:()=>n,isIndexable:Mu(r)?r:()=>r}}const zbe=(t,e)=>t?t+dM(e):e,vM=(t,e)=>Rt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function PG(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function Vbe(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return Mu(o)&&a.isScriptable(e)&&(o=Ube(e,o,t,n)),Yn(o)&&o.length&&(o=Wbe(e,o,t,a.isIndexable)),vM(e,o)&&(o=ng(o,i,s&&s[e],a)),o}function Ube(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||r);return o.delete(t),vM(t,l)&&(l=xM(i._scopes,i,t,l)),l}function Wbe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Rt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=xM(c,i,t,u);e.push(ng(d,s,a&&a[t],o))}}return e}function IG(t,e,n){return Mu(t)?t(e,n):t}const Hbe=(t,e)=>t===!0?e:typeof t=="string"?Ru(e,t):void 0;function Ybe(t,e,n,r,i){for(const s of e){const a=Hbe(n,s);if(a){t.add(a);const o=IG(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function xM(t,e,n,r){const i=e._rootScopes,s=IG(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let l=jB(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=jB(o,a,s,l,r),l===null)?!1:yM(Array.from(o),[""],i,s,()=>Xbe(e,n,r))}function jB(t,e,n,r,i){for(;n;)n=Ybe(t,e,n,r,i);return n}function Xbe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Yn(i)&&Rt(n)?n:i||{}}function Gbe(t,e,n,r){let i;for(const s of e)if(i=OG(zbe(s,t),n),typeof i<"u")return vM(t,i)?xM(n,r,t,i):i}function OG(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function LB(t){let e=t._keys;return e||(e=t._keys=qbe(t._scopes)),e}function qbe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function NG(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=e[c],a[o]={r:i.parse(Ru(u,s),c)};return a}const Kbe=Number.EPSILON||1e-14,rg=(t,e)=>e<t.length&&!t[e].skip&&t[e],RG=t=>t==="x"?"y":"x";function Qbe(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,o=_I(s,i),l=_I(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function Zbe(t,e,n){const r=t.length;let i,s,a,o,l,c=rg(t,0);for(let u=0;u<r-1;++u)if(l=c,c=rg(t,u+1),!(!l||!c)){if(qy(e[u],0,Kbe)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[u]=i*a*e[u],n[u+1]=s*a*e[u])}}function Jbe(t,e,n="x"){const r=RG(n),i=t.length;let s,a,o,l=rg(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=rg(t,c+1),!o)continue;const u=o[n],d=o[r];a&&(s=(u-a[n])/3,o[`cp1${n}`]=u-s,o[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,o[`cp2${n}`]=u+s,o[`cp2${r}`]=d+s*e[c])}}function e0e(t,e="x"){const n=RG(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=rg(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=rg(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[n]-l[n])/u:0}s[a]=o?c?Ho(i[a-1])!==Ho(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}Zbe(t,i,s),Jbe(t,s,e)}function F0(t,e,n){return Math.max(Math.min(t,n),e)}function t0e(t,e){let n,r,i,s,a,o=Pl(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=o,o=n<r-1&&Pl(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=F0(i.cp1x,e.left,e.right),i.cp1y=F0(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=F0(i.cp2x,e.left,e.right),i.cp2y=F0(i.cp2y,e.top,e.bottom)))}function n0e(t,e,n,r,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")e0e(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=Qbe(c,o,t[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&t0e(t,n)}function bM(){return typeof window<"u"&&typeof document<"u"}function wM(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function u1(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const VA=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function r0e(t,e){return VA(t).getPropertyValue(e)}const i0e=["top","right","bottom","left"];function rh(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=i0e[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const s0e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function a0e(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(s0e(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function vd(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=VA(n),s=i.boxSizing==="border-box",a=rh(i,"padding"),o=rh(i,"border","width"),{x:l,y:c,box:u}=a0e(t,n),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:g}=e;return s&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/g*n.height/r)}}function o0e(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&wM(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=VA(s),l=rh(o,"border","width"),c=rh(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=u1(o.maxWidth,s,"clientWidth"),i=u1(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||l1,maxHeight:i||l1}}const $0=t=>Math.round(t*10)/10;function l0e(t,e,n,r){const i=VA(t),s=rh(i,"margin"),a=u1(i.maxWidth,t,"clientWidth")||l1,o=u1(i.maxHeight,t,"clientHeight")||l1,l=o0e(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=rh(i,"border","width"),f=rh(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=$0(Math.min(c,a,l.maxWidth)),u=$0(Math.min(u,o,l.maxHeight)),c&&!u&&(u=$0(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=$0(Math.floor(u*r))),{width:c,height:u}}function FB(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const c0e=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bM()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function $B(t,e){const n=r0e(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function xd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function u0e(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function d0e(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=xd(t,i,n),o=xd(i,s,n),l=xd(s,e,n),c=xd(a,o,n),u=xd(o,l,n);return xd(c,u,n)}const h0e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},f0e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function gp(t,e,n){return t?h0e(e,n):f0e()}function MG(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function DG(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function jG(t){return t==="angle"?{between:Wv,compare:pbe,normalize:$s}:{between:El,compare:(e,n)=>e-n,normalize:e=>e}}function BB({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function p0e(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=jG(r),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function LG(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=jG(r),{start:u,end:d,loop:h,style:f}=p0e(t,e,n),g=[];let p=!1,y=null,v,x,b;const _=()=>l(i,b,v)&&o(i,b)!==0,w=()=>o(s,v)===0||l(s,b,v),C=()=>p||_(),A=()=>!p||w();for(let k=u,E=u;k<=d;++k)x=e[k%a],!x.skip&&(v=c(x[r]),v!==b&&(p=l(v,i,s),y===null&&C()&&(y=o(v,i)===0?k:E),y!==null&&A()&&(g.push(BB({start:y,end:k,loop:h,count:a,style:f})),y=null),E=k,b=v));return y!==null&&g.push(BB({start:y,end:d,loop:h,count:a,style:f})),g}function FG(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=LG(r[i],t.points,e);s.length&&n.push(...s)}return n}function g0e(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function m0e(t,e,n,r){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function y0e(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=g0e(n,i,s,r);if(r===!0)return zB(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return zB(t,m0e(n,a,l,c),n,e)}function zB(t,e,n,r){return!r||!r.setContext||!n?e:v0e(t,e,n,r)}function v0e(t,e,n,r){const i=t._chart.getContext(),s=VB(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(g,p,y,v){const x=o?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=x;for(;n[p%l].skip;)p+=x;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:y,style:v}),u=v,d=p%l)}}for(const g of e){d=o?d:g.start;let p=n[d%l],y;for(h=d+1;h<=g.end;h++){const v=n[h%l];y=VB(r.setContext(Ku(i,{type:"segment",p0:p,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),x0e(y,u)&&f(d,h-1,g.loop,u),p=v,u=y}d<h-1&&f(d,h-1,g.loop,u)}return c}function VB(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function x0e(t,e){if(!e)return!1;const n=[],r=function(i,s){return gM(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function B0(t,e,n){return t.options.clip?t[n]:e[n]}function b0e(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:B0(n,e,"left"),right:B0(n,e,"right"),top:B0(r,e,"top"),bottom:B0(r,e,"bottom")}:e}function $G(t,e){const n=e._clip;if(n.disabled)return!1;const r=b0e(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class w0e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=wG.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fl=new w0e;const UB="transparent",_0e={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=RB(t||UB),i=r.valid&&RB(e||UB);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class S0e{constructor(e,n,r,i){const s=n[r];i=by([e.to,i,s,e.from]);const a=by([e.from,s,i]);this._active=!0,this._fn=e.fn||_0e[e.type||typeof a],this._easing=Ky[e.easing]||Ky.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=by([e.to,n,i,e.from]),this._from=by([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class BG{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Rt(e))return;const n=Object.keys(Gn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Rt(s))return;const a={};for(const o of n)a[o]=s[o];(Yn(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=C0e(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&A0e(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new S0e(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return fl.add(this._chart,r),!0}}function A0e(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function C0e(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function WB(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function k0e(t,e,n){if(n===!1)return!1;const r=WB(t,n),i=WB(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function E0e(t){let e,n,r,i;return Rt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function zG(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function HB(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=t.values[l],fr(c)&&(s||e===0||Ho(e)===Ho(c))&&(e+=c)}return!u&&!r.all?0:e}function T0e(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function pE(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function P0e(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function I0e(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function O0e(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function YB(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function XB(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=P0e(s,a,r),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:p,[c]:y}=g,v=g._stacks||(g._stacks={});h=v[c]=O0e(i,u,p),h[o]=y,h._top=YB(h,a,!0,r.type),h._bottom=YB(h,a,!1,r.type);const x=h._visualValues||(h._visualValues={});x[o]=y}}function gE(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function N0e(t,e){return Ku(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function R0e(t,e,n){return Ku(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vm(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const mE=t=>t==="reset"||t==="none",GB=(t,e)=>e?t:Object.assign({},t),M0e=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:zG(n,!0),values:null};class io{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,s=n.xAxisID=yt(r.xAxisID,gE(e,"x")),a=n.yAxisID=yt(r.yAxisID,gE(e,"y")),o=n.rAxisID=yt(r.rAxisID,gE(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,a,o),u=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&IB(this._data,this),e._stacked&&Vm(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Rt(n)){const i=this._cachedMeta;this._data=T0e(n,i)}else if(r!==n){if(r){IB(r,this);const i=this._cachedMeta;Vm(i),i._parsed=[]}n&&Object.isExtensible(n)&&vbe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=pE(n.vScale,n),n.stack!==r.stack&&(i=!0,Vm(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(XB(this,n._parsed),n._stacked=pE(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Yn(i[e])?h=this.parseArrayData(r,i,e,n):Rt(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}a&&XB(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+r,d[h]={[o]:u||s.parse(c[g],g),[l]:a.parse(n[g],g)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=n[h],c[u]={x:s.parse(Ru(f,o),h),y:a.parse(Ru(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:zG(i,!0),values:n._stacks[e.axis]._visualValues};return HB(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=HB(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=M0e(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=I0e(o);let h,f;function g(){f=i[h];const p=f[o.axis];return!fr(f[e.axis])||u>p||d<p}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],fr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=E0e(yt(this.options.clip,k0e(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=R0e(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=N0e(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&Uv(r);if(o)return GB(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Gn.elements[e]),g=()=>this.getContext(r,i,n),p=c.resolveNamedOptions(h,f,g,d);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(GB(p,l))),p}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,n))}const c=new BG(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||mE(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){mE(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!mE(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Vm(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ee(io,"defaults",{}),Ee(io,"datasetElementType",null),Ee(io,"dataElementType",null);function D0e(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=bG(r.sort((i,s)=>i-s))}return t._cache.$bar}function j0e(t){const e=t.iScale,n=D0e(e,t.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(Uv(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function L0e(t,e,n,r){const i=n.barThickness;let s,a;return Pt(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function F0e(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function $0e(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function VG(t,e,n,r){return Yn(t)?$0e(t,e,n,r):e[n.axis]=n.parse(t,r),e}function qB(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(VG(h,d,s,c));return l}function yE(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function B0e(t,e,n){return t!==0?Ho(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function z0e(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function V0e(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=z0e(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[KB(u,a,o,l)]=!0,i=c)),s[KB(i,a,o,l)]=!0,t.borderSkipped=s}function KB(t,e,n,r){return r?(t=U0e(t,e,n),t=QB(t,n,e)):t=QB(t,e,n),t}function U0e(t,e,n){return t===e?n:t===n?e:t}function QB(t,e,n){return t==="start"?e:t==="end"?n:t}function W0e(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Hw extends io{parsePrimitiveData(e,n,r,i){return qB(e,n,r,i)}parseArrayData(e,n,r,i){return qB(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,f,g,p;for(h=r,f=r+i;h<f;++h)p=n[h],g={},g[s.axis]=s.parse(Ru(p,c),h),d.push(VG(Ru(p,u),g,a,h));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,o=yE(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const g=this.getParsed(f),p=s||Pt(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),v=(g._stacks||{})[o.axis],x={horizontal:c,base:p.base,enableBorderRadius:!v||yE(g._custom)||a===v._top||a===v._bottom,x:c?p.head:y.center,y:c?y.center:p.head,height:c?y.size:Math.abs(p.size),width:c?Math.abs(p.size):y.size};h&&(x.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const b=x.options||e[f].options;V0e(x,b,v,a),W0e(x,b,u.ratio),this.updateElement(e[f],f,x,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(Pt(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||j0e(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=yE(c);let d=l[n.axis],h=0,f=r?this.applyStack(n,l,r):d,g,p;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Ho(d)!==Ho(c.barEnd)&&(h=0),h+=d);const y=!Pt(s)&&!u?s:h;let v=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(h+f):g=v,p=g-v,Math.abs(p)<a){p=B0e(p,n,o)*a,d===o&&(v-=p/2);const x=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(x,b),w=Math.max(x,b);v=Math.max(Math.min(v,w),_),g=v+p,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const x=Ho(p)*n.getLineWidthForValue(o)/2;v+=x,p-=x}return{size:p,base:v,head:g,center:g+p/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=yt(i.maxBarThickness,1/0);let o,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?F0e(e,n,i,c):L0e(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Ee(Hw,"id","bar"),Ee(Hw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ee(Hw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Yw extends io{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=yt(o[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=yt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=a.axis,d=o.axis;for(let h=n;h<n+r;h++){const f=e[h],g=!s&&this.getParsed(h),p={},y=p[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[u]),v=p[d]=s?o.getBasePixel():o.getPixelForValue(g[d]);p.skip=isNaN(y)||isNaN(v),c&&(p.options=l||this.resolveDataElementOptions(h,f.active?"active":i),s&&(p.options.radius=0)),this.updateElement(f,h,p,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=yt(r&&r._custom,s),i}}Ee(Yw,"id","bubble"),Ee(Yw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ee(Yw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function H0e(t,e,n){let r=1,i=1,s=0,a=0;if(e<Un){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(b,_,w)=>Wv(b,o,l,!0)?1:Math.max(_,_*n,w,w*n),g=(b,_,w)=>Wv(b,o,l,!0)?-1:Math.min(_,_*n,w,w*n),p=f(0,c,d),y=f(br,u,h),v=g(Wn,c,d),x=g(Wn+br,u,h);r=(p-v)/2,i=(y-x)/2,s=-(p+v)/2,a=-(y+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class Nd extends io{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Rt(r[e])){const{key:l="value"}=this._parsing;s=c=>+Ru(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Qa(this.options.rotation-90)}_getCircumference(){return Qa(this.options.circumference)}_getRotationExtents(){let e=Un,n=-Un;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(rbe(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:p}=H0e(d,u,l),y=(r.width-a)/h,v=(r.height-a)/f,x=Math.max(Math.min(y,v)/2,0),b=gG(this.options.radius,x),_=Math.max(b*l,0),w=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=p*b,i.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Un)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,i);let v=this._getRotation(),x;for(x=0;x<n;++x)v+=this._circumference(x,s);for(x=n;x<n+r;++x){const b=this._circumference(x,s),_=e[x],w={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:f};y&&(w.options=p||this.resolveDataElementOptions(x,_.active?"active":i)),v+=b,this.updateElement(_,x,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Un*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=bb(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ee(Nd,"id","doughnut"),Ee(Nd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ee(Nd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ee(Nd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Zy extends io{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=SG(n,i,a);this._drawStart=o,this._drawCount=l,AG(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=a.axis,f=o.axis,{spanGaps:g,segment:p}=this.options,y=tg(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",x=n+r,b=e.length;let _=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const C=e[w],A=v?C:{};if(w<n||w>=x){A.skip=!0;continue}const k=this.getParsed(w),E=Pt(k[f]),T=A[h]=a.getPixelForValue(k[h],w),P=A[f]=s||E?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,k,l):k[f],w);A.skip=isNaN(T)||isNaN(P)||E,A.stop=w>0&&Math.abs(k[h]-_[h])>y,p&&(A.parsed=k,A.raw=c.data[w]),d&&(A.options=u||this.resolveDataElementOptions(w,C.active?"active":i)),v||this.updateElement(C,w,A,i),_=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ee(Zy,"id","line"),Ee(Zy,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ee(Zy,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Jy extends io{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=bb(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return NG.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Wn;let f=h,g;const p=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,p);for(g=n;g<n+r;g++){const y=e[g];let v=f,x=f+this._computeAngle(g,i,p),b=a.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=x,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=x=h));const _={x:u,y:d,innerRadius:0,outerRadius:b,startAngle:v,endAngle:x,options:this.resolveDataElementOptions(g,y.active?"active":i)};this.updateElement(y,g,_,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Qa(this.resolveDataElementOptions(e,n).angle||r):0}}Ee(Jy,"id","polarArea"),Ee(Jy,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ee(Jy,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class CI extends Nd{}Ee(CI,"id","pie"),Ee(CI,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Xw extends io{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return NG.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=n;o<n+r;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),u=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:u.x,h=a?s.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,o,f,i)}}}Ee(Xw,"id","radar"),Ee(Xw,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ee(Xw,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Gw extends io{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:a}=SG(n,r,i);if(this._drawStart=s,this._drawCount=a,AG(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=a.axis,g=o.axis,{spanGaps:p,segment:y}=this.options,v=tg(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none";let b=n>0&&this.getParsed(n-1);for(let _=n;_<n+r;++_){const w=e[_],C=this.getParsed(_),A=x?w:{},k=Pt(C[g]),E=A[f]=a.getPixelForValue(C[f],_),T=A[g]=s||k?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[g],_);A.skip=isNaN(E)||isNaN(T)||k,A.stop=_>0&&Math.abs(C[f]-b[f])>v,y&&(A.parsed=C,A.raw=c.data[_]),h&&(A.options=d||this.resolveDataElementOptions(_,w.active?"active":i)),x||this.updateElement(w,_,A,i),b=C}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,a)/2}}Ee(Gw,"id","scatter"),Ee(Gw,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ee(Gw,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Y0e=Object.freeze({__proto__:null,BarController:Hw,BubbleController:Yw,DoughnutController:Nd,LineController:Zy,PieController:CI,PolarAreaController:Jy,RadarController:Xw,ScatterController:Gw});function ud(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _M{constructor(e){Ee(this,"options");this.options=e||{}}static override(e){Object.assign(_M.prototype,e)}init(){}formats(){return ud()}parse(){return ud()}format(){return ud()}add(){return ud()}diff(){return ud()}startOf(){return ud()}endOf(){return ud()}}var X0e={_date:_M};function G0e(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?mbe:Tl;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!Pt(p[d.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(p=>!Pt(p[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function UA(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=G0e(s[o],e,a,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||r(g,c,f)}}}function q0e(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function vE(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||UA(t,n,e,function(o,l,c){!i&&!Pl(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function K0e(t,e,n,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:d}=vG(a,{x:e.x,y:e.y});Wv(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return UA(t,n,e,s),i}function Q0e(t,e,n,r,i,s){let a=[];const o=q0e(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!f)return;const y=o(e,g);y<l?(a=[{element:u,datasetIndex:d,index:h}],l=y):y===l&&a.push({element:u,datasetIndex:d,index:h})}return UA(t,n,e,c),a}function xE(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?K0e(t,e,n,i):Q0e(t,e,n,r,i,s)}function ZB(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return UA(t,n,e,(l,c,u)=>{l[a]&&l[a](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var Z0e={modes:{index(t,e,n,r){const i=vd(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?vE(t,i,s,r,a):xE(t,i,s,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=vd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?vE(t,i,s,r,a):xE(t,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,r){const i=vd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return vE(t,i,s,r,a)},nearest(t,e,n,r){const i=vd(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return xE(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=vd(e,t);return ZB(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=vd(e,t);return ZB(t,i,"y",n.intersect,r)}}};const UG=["left","top","right","bottom"];function Um(t,e){return t.filter(n=>n.pos===e)}function JB(t,e){return t.filter(n=>UG.indexOf(n.pos)===-1&&n.box.axis===e)}function Wm(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function J0e(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function ewe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!UG.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function twe(t,e){const n=ewe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&e.availableHeight)}return n}function nwe(t){const e=J0e(t),n=Wm(e.filter(c=>c.box.fullSize),!0),r=Wm(Um(e,"left"),!0),i=Wm(Um(e,"right")),s=Wm(Um(e,"top"),!0),a=Wm(Um(e,"bottom")),o=JB(e,"x"),l=JB(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Um(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function ez(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function WG(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function rwe(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!Rt(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&WG(a,s.getPadding());const o=Math.max(0,e.outerWidth-ez(a,t,"left","right")),l=Math.max(0,e.outerHeight-ez(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function iwe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function swe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function wy(t,e,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,swe(o.horizontal,e));const{same:d,other:h}=rwe(e,n,o,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&wy(i,e,n,r)||u}function z0(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function tz(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;Uv(c.start)&&(a=c.start),l.fullSize?z0(l,i.left,a,n.outerWidth-i.right-i.left,h):z0(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;Uv(c.start)&&(s=c.start),l.fullSize?z0(l,s,i.top,h,n.outerHeight-i.bottom-i.top):z0(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var Bi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Wi(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=nwe(t.boxes),l=o.vertical,c=o.horizontal;gn(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,y)=>y.box.options&&y.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);WG(h,Wi(r));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),g=twe(l.concat(c),d);wy(o.fullSize,f,d,g),wy(l,f,d,g),wy(c,f,d,g)&&wy(l,f,d,g),iwe(f),tz(o.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,tz(o.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gn(o.chartArea,p=>{const y=p.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class HG{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class awe extends HG{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qw="$chartjs",owe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nz=t=>t===null||t==="";function lwe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[qw]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nz(i)){const s=$B(t,"width");s!==void 0&&(t.width=s)}if(nz(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=$B(t,"height");s!==void 0&&(t.height=s)}return t}const YG=c0e?{passive:!0}:!1;function cwe(t,e,n){t&&t.addEventListener(e,n,YG)}function uwe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,YG)}function dwe(t,e){const n=owe[t.type]||t.type,{x:r,y:i}=vd(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function d1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hwe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||d1(o.addedNodes,r),a=a&&!d1(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function fwe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||d1(o.removedNodes,r),a=a&&!d1(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Yv=new Map;let rz=0;function XG(){const t=window.devicePixelRatio;t!==rz&&(rz=t,Yv.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function pwe(t,e){Yv.size||window.addEventListener("resize",XG),Yv.set(t,e)}function gwe(t){Yv.delete(t),Yv.size||window.removeEventListener("resize",XG)}function mwe(t,e,n){const r=t.canvas,i=r&&wM(r);if(!i)return;const s=_G((o,l)=>{const c=i.clientWidth;n(o,l),c<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),pwe(t,s),a}function bE(t,e,n){n&&n.disconnect(),e==="resize"&&gwe(t)}function ywe(t,e,n){const r=t.canvas,i=_G(s=>{t.ctx!==null&&n(dwe(s,t))},t);return cwe(r,e,i),i}class vwe extends HG{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(lwe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[qw])return!1;const r=n[qw].initial;["height","width"].forEach(s=>{const a=r[s];Pt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[qw],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:hwe,detach:fwe,resize:mwe}[n]||ywe;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:bE,detach:bE,resize:bE}[n]||uwe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return l0e(e,n,r,i)}isAttached(e){const n=e&&wM(e);return!!(n&&n.isConnected)}}function xwe(t){return!bM()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?awe:vwe}var yw;let uc=(yw=class{constructor(){Ee(this,"x");Ee(this,"y");Ee(this,"active",!1);Ee(this,"options");Ee(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return tg(this.x)&&tg(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Ee(yw,"defaults",{}),Ee(yw,"defaultRoutes"),yw);function bwe(t,e){const n=t.options.ticks,r=wwe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Swe(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return Awe(e,c,s,a/i),c;const u=_we(s,e,i);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(V0(e,c,u,Pt(f)?0:o-f,o),d=0,h=a-1;d<h;d++)V0(e,c,u,s[d],s[d+1]);return V0(e,c,u,l,Pt(f)?e.length:l+f),c}return V0(e,c,u),c}function wwe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function _we(t,e,n){const r=Cwe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=dbe(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function Swe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Awe(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function V0(t,e,n,r,i){const s=yt(r,0),a=Math.min(yt(i,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)o++,u=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*n))}function Cwe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const kwe=t=>t==="left"?"right":t==="right"?"left":t,iz=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,sz=(t,e)=>Math.min(e||t,t);function az(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Ewe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function Twe(t,e){gn(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Hm(t){return t.drawTicks?t.tickLength:0}function oz(t,e){if(!t.display)return 0;const n=Ur(t.font,e),r=Wi(t.padding);return(Yn(t.text)?t.text.length:1)*n.lineHeight+r.height}function Pwe(t,e){return Ku(t,{scale:e,type:"scale"})}function Iwe(t,e,n){return Ku(t,{tick:n,index:e,type:"tick"})}function Owe(t,e,n){let r=pM(t);return(n&&e!=="right"||!n&&e==="right")&&(r=kwe(r)),r}function Nwe(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const p=a-i,y=o-s;if(t.isHorizontal()){if(f=Ni(r,s,o),Rt(n)){const v=Object.keys(n)[0],x=n[v];g=u[v].getPixelForValue(x)+p-e}else n==="center"?g=(c.bottom+c.top)/2+p-e:g=iz(t,n,e);h=o-s}else{if(Rt(n)){const v=Object.keys(n)[0],x=n[v];f=u[v].getPixelForValue(x)-y+e}else n==="center"?f=(c.left+c.right)/2-y+e:f=iz(t,n,e);g=Ni(r,a,i),d=n==="left"?-br:br}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class Zh extends uc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ds(e,Number.POSITIVE_INFINITY),n=Ds(n,Number.NEGATIVE_INFINITY),r=Ds(r,Number.POSITIVE_INFINITY),i=Ds(i,Number.NEGATIVE_INFINITY),{min:Ds(e,r),max:Ds(n,i),minDefined:fr(e),maxDefined:fr(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ds(n,Ds(r,n)),max:Ds(r,Ds(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){On(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bbe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?az(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=bwe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){On(this.options.afterUpdate,[this])}beforeSetDimensions(){On(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){On(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),On(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){On(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=On(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){On(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){On(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=sz(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=ti(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),d+6>o&&(o=f/(r-(e.offset?.5:1)),l=this.maxHeight-Hm(e.grid)-n.padding-oz(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=hM(Math.min(Math.asin(ti((u.highest.height+6)/o,-1,1)),Math.asin(ti(l/c,-1,1))-Math.asin(ti(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){On(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){On(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=oz(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Hm(s)+l):(e.height=this.maxHeight,e.width=Hm(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,g=Qa(this.labelRotation),p=Math.cos(g),y=Math.sin(g);if(o){const v=r.mirror?0:y*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=r.mirror?0:p*d.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(c,u,y,p)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*n.height):(h=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){On(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Pt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=az(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/sz(n,r));let c=0,u=0,d,h,f,g,p,y,v,x,b,_,w;for(d=0;d<n;d+=l){if(g=e[d].label,p=this._resolveTickFontOptions(d),i.font=y=p.string,v=s[y]=s[y]||{data:{},gc:[]},x=p.lineHeight,b=_=0,!Pt(g)&&!Yn(g))b=c1(i,v.data,v.gc,b,g),_=x;else if(Yn(g))for(h=0,f=g.length;h<f;++h)w=g[h],!Pt(w)&&!Yn(w)&&(b=c1(i,v.data,v.gc,b,w),_+=x);a.push(b),o.push(_),c=Math.max(b,c),u=Math.max(_,u)}Twe(s,n);const C=a.indexOf(c),A=o.indexOf(u),k=E=>({width:a[E]||0,height:o[E]||0});return{first:k(0),last:k(n-1),widest:k(C),highest:k(A),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return gbe(this._alignToPixels?cd(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Iwe(this.getContext(),e,r))}return this.$context||(this.$context=Pwe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Qa(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Hm(s),f=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,y=p/2,v=function(F){return cd(r,F,p)};let x,b,_,w,C,A,k,E,T,P,N,O;if(a==="top")x=v(this.bottom),A=this.bottom-h,E=x-y,P=v(e.top)+y,O=e.bottom;else if(a==="bottom")x=v(this.top),P=e.top,O=v(e.bottom)-y,A=x+y,E=this.top+h;else if(a==="left")x=v(this.right),C=this.right-h,k=x-y,T=v(e.left)+y,N=e.right;else if(a==="right")x=v(this.left),T=e.left,N=v(e.right)-y,C=x+y,k=this.left+h;else if(n==="x"){if(a==="center")x=v((e.top+e.bottom)/2+.5);else if(Rt(a)){const F=Object.keys(a)[0],B=a[F];x=v(this.chart.scales[F].getPixelForValue(B))}P=e.top,O=e.bottom,A=x+y,E=A+h}else if(n==="y"){if(a==="center")x=v((e.left+e.right)/2);else if(Rt(a)){const F=Object.keys(a)[0],B=a[F];x=v(this.chart.scales[F].getPixelForValue(B))}C=x-y,k=C-h,T=e.left,N=e.right}const L=yt(i.ticks.maxTicksLimit,d),$=Math.max(1,Math.ceil(d/L));for(b=0;b<d;b+=$){const F=this.getContext(b),B=s.setContext(F),D=o.setContext(F),z=B.lineWidth,W=B.color,X=D.dash||[],q=D.dashOffset,J=B.tickWidth,ae=B.tickColor,_e=B.tickBorderDash||[],K=B.tickBorderDashOffset;_=Ewe(this,b,l),_!==void 0&&(w=cd(r,_,z),c?C=k=T=N=w:A=E=P=O=w,f.push({tx1:C,ty1:A,tx2:k,ty2:E,x1:T,y1:P,x2:N,y2:O,width:z,color:W,borderDash:X,borderDashOffset:q,tickWidth:J,tickColor:ae,tickBorderDash:_e,tickBorderDashOffset:K}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Hm(r.grid),f=h+u,g=d?-u:f,p=-Qa(this.labelRotation),y=[];let v,x,b,_,w,C,A,k,E,T,P,N,O="middle";if(i==="top")C=this.bottom-g,A=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+g,A=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(h);A=$.textAlign,w=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(h);A=$.textAlign,w=$.x}else if(n==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(Rt(i)){const $=Object.keys(i)[0],F=i[$];C=this.chart.scales[$].getPixelForValue(F)+f}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-f;else if(Rt(i)){const $=Object.keys(i)[0],F=i[$];w=this.chart.scales[$].getPixelForValue(F)}A=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?O="top":l==="end"&&(O="bottom"));const L=this._getLabelSizes();for(v=0,x=o.length;v<x;++v){b=o[v],_=b.label;const $=s.setContext(this.getContext(v));k=this.getPixelForTick(v)+s.labelOffset,E=this._resolveTickFontOptions(v),T=E.lineHeight,P=Yn(_)?_.length:1;const F=P/2,B=$.color,D=$.textStrokeColor,z=$.textStrokeWidth;let W=A;a?(w=k,A==="inner"&&(v===x-1?W=this.options.reverse?"left":"right":v===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?c==="near"||p!==0?N=-P*T+T/2:c==="center"?N=-L.highest.height/2-F*T+T:N=-L.highest.height+T/2:c==="near"||p!==0?N=T/2:c==="center"?N=L.highest.height/2-F*T:N=L.highest.height-P*T,d&&(N*=-1),p!==0&&!$.showLabelBackdrop&&(w+=T/2*Math.sin(p))):(C=k,N=(1-P)*T/2);let X;if($.showLabelBackdrop){const q=Wi($.backdropPadding),J=L.heights[v],ae=L.widths[v];let _e=N-q.top,K=0-q.left;switch(O){case"middle":_e-=J/2;break;case"bottom":_e-=J;break}switch(A){case"center":K-=ae/2;break;case"right":K-=ae;break;case"inner":v===x-1?K-=ae:v>0&&(K-=ae/2);break}X={left:K,top:_e,width:ae+q.width,height:J+q.height,color:$.backdropColor}}y.push({label:_,font:E,textOffset:N,options:{rotation:p,color:B,strokeColor:D,strokeWidth:z,textAlign:W,textBaseline:O,translation:[w,C],backdrop:X}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Qa(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=cd(e,this.left,a)-a/2,u=cd(e,this.right,o)+o/2,d=h=l):(d=cd(e,this.top,a)-a/2,h=cd(e,this.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&BA(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;kh(r,c,0,u,l,o)}i&&zA(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Ur(r.font),a=Wi(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Rt(n)?(l+=a.bottom,Yn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=Nwe(this,l,n,o);kh(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:Owe(o,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=yt(e.grid&&e.grid.z,-1),i=yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zh.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ur(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class U0{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Dwe(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Rwe(e,a,r),this.override&&Gn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Gn[i]&&(delete Gn[i][r],this.override&&delete Ch[r])}}function Rwe(t,e,n){const r=Vv(Object.create(null),[n?Gn.get(n):{},Gn.get(e),t.defaults]);Gn.set(e,r),t.defaultRoutes&&Mwe(e,t.defaultRoutes),t.descriptors&&Gn.describe(e,t.descriptors)}function Mwe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Gn.route(s,i,l,o)})}function Dwe(t){return"id"in t&&"defaults"in t}class jwe{constructor(){this.controllers=new U0(io,"datasets",!0),this.elements=new U0(uc,"elements"),this.plugins=new U0(Object,"plugins"),this.scales=new U0(Zh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):gn(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=dM(e);On(r["before"+i],[],r),n[e](r),On(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Po=new jwe;class Lwe{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[n,i,s.options];if(On(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=yt(r.options&&r.options.plugins,{}),s=Fwe(r);return i===!1&&!n?[]:Bwe(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Fwe(t){const e={},n=[],r=Object.keys(Po.plugins.items);for(let s=0;s<r.length;s++)n.push(Po.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function $we(t,e){return!e&&t===!1?null:t===!0?{}:t}function Bwe(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=$we(r[l],i);c!==null&&s.push({plugin:o,options:zwe(t.config,{plugin:o,local:n[l]},c,a)})}return s}function zwe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kI(t,e){const n=Gn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Vwe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Uwe(t,e){return t===e?"_index_":"_value_"}function lz(t){if(t==="x"||t==="y"||t==="r")return t}function Wwe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function EI(t,...e){if(lz(t))return t;for(const n of e){const r=n.axis||Wwe(n.position)||t.length>1&&lz(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cz(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Hwe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return cz(t,"x",n[0])||cz(t,"y",n[0])}return{}}function Ywe(t,e){const n=Ch[t.type]||{scales:{}},r=e.scales||{},i=kI(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Rt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=EI(a,o,Hwe(a,t),Gn.scales[o.type]),c=Uwe(l,i),u=n.scales||{};s[a]=Gy(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||kI(o,e),u=(Ch[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=Vwe(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),Gy(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];Gy(o,[Gn.scales[o.type],Gn.scale])}),s}function GG(t){const e=t.options||(t.options={});e.plugins=yt(e.plugins,{}),e.scales=Ywe(t,e)}function qG(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Xwe(t){return t=t||{},t.data=qG(t.data),GG(t),t}const uz=new Map,KG=new Set;function W0(t,e){let n=uz.get(t);return n||(n=e(),uz.set(t,n),KG.add(n)),n}const Ym=(t,e,n)=>{const r=Ru(e,n);r!==void 0&&t.add(r)};class Gwe{constructor(e){this._config=Xwe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qG(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),GG(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return W0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return W0(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return W0(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return W0(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ym(l,e,d))),u.forEach(d=>Ym(l,i,d)),u.forEach(d=>Ym(l,Ch[s]||{},d)),u.forEach(d=>Ym(l,Gn,d)),u.forEach(d=>Ym(l,SI,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),KG.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ch[n]||{},Gn.datasets[n]||{},{type:n},Gn,SI]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=dz(this._resolverCache,e,i);let l=a;if(Kwe(a,n)){s.$shared=!1,r=Mu(r)?r():r;const c=this.createResolver(e,r,o);l=ng(a,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=dz(this._resolverCache,e,r);return Rt(n)?ng(s,n,void 0,i):s}}function dz(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:yM(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const qwe=t=>Rt(t)&&Object.getOwnPropertyNames(t).some(e=>Mu(t[e]));function Kwe(t,e){const{isScriptable:n,isIndexable:r}=TG(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(Mu(o)||qwe(o))||a&&Yn(o))return!0}return!1}var Qwe="4.4.9";const Zwe=["top","bottom","left","right","chartArea"];function hz(t,e){return t==="top"||t==="bottom"||Zwe.indexOf(t)===-1&&e==="x"}function fz(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function pz(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),On(n&&n.onComplete,[t],e)}function Jwe(t){const e=t.chart,n=e.options.animation;On(n&&n.onProgress,[t],e)}function QG(t){return bM()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kw={},gz=t=>{const e=QG(t);return Object.values(Kw).filter(n=>n.canvas===e).pop()};function e_e(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function t_e(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Cc;let WA=(Cc=class{static register(...e){Po.add(...e),mz()}static unregister(...e){Po.remove(...e),mz()}constructor(e,n){const r=this.config=new Gwe(n),i=QG(e),s=gz(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||xwe(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=nbe(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Lwe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xbe(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Kw[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fl.listen(this,"complete",pz),fl.listen(this,"progress",Jwe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Pt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Po}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DB(this.canvas,this.ctx),this}stop(){return fl.stop(this),this}resize(e,n){fl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,FB(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),On(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};gn(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=EI(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),gn(s,a=>{const o=a.options,l=o.id,c=EI(l,o),u=yt(o.type,a.dtype);(o.position===void 0||hz(o.position,c)!==hz(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=Po.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),gn(i,(a,o)=>{a||delete r[o]}),gn(r,a=>{Bi.configure(this,a,a.options),Bi.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(fz("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||kI(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Po.getController(o),{datasetElementType:c,dataElementType:u}=Gn.datasets[o];Object.assign(l,{dataElementType:Po.getElement(u),datasetElementType:c&&Po.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){gn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||gn(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fz("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){gn(this.scales,e=>{Bi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!kB(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;e_e(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!kB(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],gn(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Mu(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fl.has(this)?this.attached&&!fl.running(this)&&fl.start(this):(this.draw(),pz({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=$G(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&BA(n,i),e.controller.draw(),i&&zA(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Pl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Z0e.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Ku(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Uv(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),fl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),DB(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};gn(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){gn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},gn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!a1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),l=lbe(e),c=t_e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,On(s.onHover,[e,o,this],this),l&&On(s.onClick,[e,o,this],this));const u=!a1(o,i);return(u||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Ee(Cc,"defaults",Gn),Ee(Cc,"instances",Kw),Ee(Cc,"overrides",Ch),Ee(Cc,"registry",Po),Ee(Cc,"version",Qwe),Ee(Cc,"getChart",gz),Cc);function mz(){return gn(WA.instances,t=>t._plugins.invalidate())}function n_e(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,r-c,n+c),l>i?(c=i/l,t.arc(s,a,l,n+c,r-c,!0)):t.arc(s,a,i,n+br,r-br),t.closePath(),t.clip()}function r_e(t){return mM(t,["outerStart","outerEnd","innerStart","innerEnd"])}function i_e(t,e,n,r){const i=r_e(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(n-Math.min(s,l))*r/2;return ti(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:ti(i.innerStart,0,a),innerEnd:ti(i.innerEnd,0,a)}}function wf(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function h1(t,e,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const g=i-l;if(r){const $=u>0?u-r:0,F=d>0?d-r:0,B=($+F)/2,D=B!==0?g*B/(B+r):g;f=(g-D)/2}const p=Math.max(.001,g*d-n/Wn)/d,y=(g-p)/2,v=l+y+f,x=i-y-f,{outerStart:b,outerEnd:_,innerStart:w,innerEnd:C}=i_e(e,h,d,x-v),A=d-b,k=d-_,E=v+b/A,T=x-_/k,P=h+w,N=h+C,O=v+w/P,L=x-C/N;if(t.beginPath(),s){const $=(E+T)/2;if(t.arc(a,o,d,E,$),t.arc(a,o,d,$,T),_>0){const z=wf(k,T,a,o);t.arc(z.x,z.y,_,T,x+br)}const F=wf(N,x,a,o);if(t.lineTo(F.x,F.y),C>0){const z=wf(N,L,a,o);t.arc(z.x,z.y,C,x+br,L+Math.PI)}const B=(x-C/h+(v+w/h))/2;if(t.arc(a,o,h,x-C/h,B,!0),t.arc(a,o,h,B,v+w/h,!0),w>0){const z=wf(P,O,a,o);t.arc(z.x,z.y,w,O+Math.PI,v-br)}const D=wf(A,v,a,o);if(t.lineTo(D.x,D.y),b>0){const z=wf(A,E,a,o);t.arc(z.x,z.y,b,v-br,E)}}else{t.moveTo(a,o);const $=Math.cos(E)*d+a,F=Math.sin(E)*d+o;t.lineTo($,F);const B=Math.cos(T)*d+a,D=Math.sin(T)*d+o;t.lineTo(B,D)}t.closePath()}function s_e(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){h1(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%Un||Un))}return h1(t,e,n,r,l,i),t.fill(),l}function a_e(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){h1(t,e,n,r,g,i);for(let p=0;p<s;++p)t.stroke();isNaN(o)||(g=a+(o%Un||Un))}f&&n_e(t,e,g),s||(h1(t,e,n,r,g,i),t.stroke())}class _y extends uc{constructor(n){super();Ee(this,"circumference");Ee(this,"endAngle");Ee(this,"fullCircles");Ee(this,"innerRadius");Ee(this,"outerRadius");Ee(this,"pixelMargin");Ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=vG(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=yt(h,c-l),p=Wv(a,l,c)&&l!==c,y=g>=Un||p,v=El(o,u+f,d+f);return y&&v}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+a)/2,h=(o+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Un?Math.floor(i/Un):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Wn,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,s_e(n,this,u,a,o),a_e(n,this,u,a,o),n.restore()}}Ee(_y,"id","arc"),Ee(_y,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ee(_y,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ee(_y,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ZG(t,e,n=e){t.lineCap=yt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(yt(n.borderDash,e.borderDash)),t.lineDashOffset=yt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=yt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=yt(n.borderWidth,e.borderWidth),t.strokeStyle=yt(n.borderColor,e.borderColor)}function o_e(t,e,n){t.lineTo(n.x,n.y)}function l_e(t){return t.stepped?Obe:t.tension||t.cubicInterpolationMode==="monotone"?Nbe:o_e}function JG(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function c_e(t,e,n,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=JG(i,n,r),u=l_e(s);let{move:d=!0,reverse:h}=r||{},f,g,p;for(f=0;f<=c;++f)g=i[(o+(h?c-f:f))%a],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,p,g,h,s.stepped),p=g);return l&&(g=i[(o+(h?c:0))%a],u(t,p,g,h,s.stepped)),!!l}function u_e(t,e,n,r){const i=e.points,{count:s,start:a,ilen:o}=JG(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,g,p,y,v;const x=_=>(a+(c?o-_:_))%s,b=()=>{p!==y&&(t.lineTo(u,y),t.lineTo(u,p),t.lineTo(u,v))};for(l&&(f=i[x(0)],t.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[x(h)],f.skip)continue;const _=f.x,w=f.y,C=_|0;C===g?(w<p?p=w:w>y&&(y=w),u=(d*u+_)/++d):(b(),t.lineTo(_,w),g=C,d=0,p=y=w),v=w}b()}function TI(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?u_e:c_e}function d_e(t){return t.stepped?u0e:t.tension||t.cubicInterpolationMode==="monotone"?d0e:xd}function h_e(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),ZG(t,e.options),t.stroke(i)}function f_e(t,e,n,r){const{segments:i,options:s}=e,a=TI(e);for(const o of i)ZG(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const p_e=typeof Path2D=="function";function g_e(t,e,n,r){p_e&&!e.options.segment?h_e(t,e,n,r):f_e(t,e,n,r)}class ru extends uc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;n0e(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y0e(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=FG(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=d_e(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],g=s[h];if(f===g){o.push(f);continue}const p=Math.abs((i-f[n])/(g[n]-f[n])),y=l(f,g,p,r.stepped);y[n]=e[n],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,n,r){return TI(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=TI(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),g_e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ee(ru,"id","line"),Ee(ru,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ee(ru,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ee(ru,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yz(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Qw extends uc{constructor(n){super();Ee(this,"parsed");Ee(this,"skip");Ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return yz(this,n,"x",r)}inYRange(n,r){return yz(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Pl(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,AI(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ee(Qw,"id","point"),Ee(Qw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ee(Qw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function eq(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,o=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function iu(t,e,n,r){return t?0:ti(e,n,r)}function m_e(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=EG(r);return{t:iu(i.top,s.top,0,n),r:iu(i.right,s.right,0,e),b:iu(i.bottom,s.bottom,0,n),l:iu(i.left,s.left,0,e)}}function y_e(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=nh(i),a=Math.min(e,n),o=t.borderSkipped,l=r||Rt(i);return{topLeft:iu(!l||o.top||o.left,s.topLeft,0,a),topRight:iu(!l||o.top||o.right,s.topRight,0,a),bottomLeft:iu(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:iu(!l||o.bottom||o.right,s.bottomRight,0,a)}}function v_e(t){const e=eq(t),n=e.right-e.left,r=e.bottom-e.top,i=m_e(t,n/2,r/2),s=y_e(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function wE(t,e,n,r){const i=e===null,s=n===null,o=t&&!(i&&s)&&eq(t,r);return o&&(i||El(e,o.left,o.right))&&(s||El(n,o.top,o.bottom))}function x_e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function b_e(t,e){t.rect(e.x,e.y,e.w,e.h)}function _E(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Zw extends uc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=v_e(this),o=x_e(a.radius)?Hv:b_e;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,_E(a,n,s)),e.clip(),o(e,_E(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,_E(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return wE(this,e,n,r)}inXRange(e,n){return wE(this,e,null,n)}inYRange(e,n){return wE(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ee(Zw,"id","bar"),Ee(Zw,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ee(Zw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var w_e=Object.freeze({__proto__:null,ArcElement:_y,BarElement:Zw,LineElement:ru,PointElement:Qw});const PI=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vz=PI.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function tq(t){return PI[t%PI.length]}function nq(t){return vz[t%vz.length]}function __e(t,e){return t.borderColor=tq(e),t.backgroundColor=nq(e),++e}function S_e(t,e){return t.backgroundColor=t.data.map(()=>tq(e++)),e}function A_e(t,e){return t.backgroundColor=t.data.map(()=>nq(e++)),e}function C_e(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Nd?e=S_e(n,e):i instanceof Jy?e=A_e(n,e):i&&(e=__e(n,e))}}function xz(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function k_e(t){return t&&(t.borderColor||t.backgroundColor)}function E_e(){return Gn.borderColor!=="rgba(0,0,0,0.1)"||Gn.backgroundColor!=="rgba(0,0,0,0.1)"}var T_e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,a=xz(r)||k_e(i)||s&&xz(s)||E_e();if(!n.forceOverride&&a)return;const o=C_e(t);r.forEach(o)}};function P_e(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const a=[],o=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,d,h,f,g,p;for(a[l++]=t[u],d=0;d<s-2;d++){let y=0,v=0,x;const b=Math.floor((d+1)*o)+1+e,_=Math.min(Math.floor((d+2)*o)+1,n)+e,w=_-b;for(x=b;x<_;x++)y+=t[x].x,v+=t[x].y;y/=w,v/=w;const C=Math.floor(d*o)+1+e,A=Math.min(Math.floor((d+1)*o)+1,n)+e,{x:k,y:E}=t[u];for(f=g=-1,x=C;x<A;x++)g=.5*Math.abs((k-y)*(t[x].y-E)-(k-t[x].x)*(v-E)),g>f&&(f=g,h=t[x],p=x);a[l++]=h,u=p}return a[l++]=t[c],a}function I_e(t,e,n,r){let i=0,s=0,a,o,l,c,u,d,h,f,g,p;const y=[],v=e+n-1,x=t[e].x,_=t[v].x-x;for(a=e;a<e+n;++a){o=t[a],l=(o.x-x)/_*r,c=o.y;const w=l|0;if(w===u)c<g?(g=c,d=a):c>p&&(p=c,h=a),i=(s*i+o.x)/++s;else{const C=a-1;if(!Pt(d)&&!Pt(h)){const A=Math.min(d,h),k=Math.max(d,h);A!==f&&A!==C&&y.push({...t[A],x:i}),k!==f&&k!==C&&y.push({...t[k],x:i})}a>0&&C!==f&&y.push(t[C]),y.push(o),u=w,s=0,g=p=c,d=h=f=a}}return y}function rq(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function bz(t){t.data.datasets.forEach(e=>{rq(e)})}function O_e(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=ti(Tl(e,s.axis,a).lo,0,n-1)),c?i=ti(Tl(e,s.axis,o).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var N_e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){bz(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),c=a||i.data;if(by([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=O_e(l,c);const f=n.threshold||4*r;if(h<=f){rq(i);return}Pt(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(n.algorithm){case"lttb":g=P_e(c,d,h,r,n);break;case"min-max":g=I_e(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){bz(t)}};function R_e(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const o of r){let{start:l,end:c}=o;c=SM(l,c,i);const u=II(n,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const d=FG(e,u);for(const h of d){const f=II(n,s[h.start],s[h.end],h.loop),g=LG(o,i,f);for(const p of g)a.push({source:p,target:h,start:{[n]:wz(u,f,"start",Math.max)},end:{[n]:wz(u,f,"end",Math.min)}})}}return a}function II(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=$s(i),s=$s(s)),{property:t,start:i,end:s}}function M_e(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=SM(a,o,i);const l=i[a],c=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function SM(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function wz(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function iq(t,e){let n=[],r=!1;return Yn(t)?(r=!0,n=t):n=M_e(t,e),n.length?new ru({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function _z(t){return t&&t.fill!==!1}function D_e(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!fr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function j_e(t,e,n){const r=B_e(t);if(Rt(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return fr(i)&&Math.floor(i)===i?L_e(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function L_e(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function F_e(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Rt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function $_e(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Rt(t)?r=t.value:r=e.getBaseValue(),r}function B_e(t){const e=t.options,n=e.fill;let r=yt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function z_e(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,o=V_e(e,n);o.push(iq({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)U_e(i,a[u],o)}return new ru({points:i,options:{}})}function V_e(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function U_e(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=W_e(s,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function W_e(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][n],h=a[u.end][n];if(El(i,d,h)){o=i===d,l=i===h;break}}return{first:o,last:l,point:r}}class sq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:Un},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function H_e(t){const{chart:e,fill:n,line:r}=t;if(fr(n))return Y_e(e,n);if(n==="stack")return z_e(t);if(n==="shape")return!0;const i=X_e(t);return i instanceof sq?i:iq(i,r)}function Y_e(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function X_e(t){return(t.scale||{}).getPointPositionForValue?q_e(t):G_e(t)}function G_e(t){const{scale:e={},fill:n}=t,r=F_e(n,e);if(fr(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function q_e(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=$_e(n,e,s),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new sq({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function SE(t,e,n){const r=H_e(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},g=i.getDatasetMeta(s),p=$G(i,g);r&&a.points.length&&(BA(t,n),K_e(t,{line:a,target:r,above:h,below:f,area:n,scale:o,axis:l,clip:p}),zA(t))}function K_e(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==i&&(Sz(t,r,a.top),Az(t,{line:n,target:r,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),Sz(t,r,a.bottom)),Az(t,{line:n,target:r,color:s,scale:o,property:c,clip:l}),t.restore()}function Sz(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],d=i[SM(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Az(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:o}=e,l=R_e(n,r,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=s}={}}=c,g=r!==!0;t.save(),t.fillStyle=f,Q_e(t,a,o,g&&II(i,d,h)),t.beginPath();const p=!!n.pathSegment(t,c);let y;if(g){p?t.closePath():Cz(t,r,h,i);const v=!!r.pathSegment(t,u,{move:p,reverse:!0});y=p&&v,y||Cz(t,r,d,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function Q_e(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=a,c=i.top,u=o,d=i.bottom):(l=i.left,c=a,u=i.right,d=o),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function Cz(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var Z_e={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof ru&&(l={visible:t.isDatasetVisible(a),index:a,fill:j_e(o,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=D_e(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&SE(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;_z(s)&&SE(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!_z(r)||n.drawTime!=="beforeDatasetDraw"||SE(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kz=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},J_e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let Ez=class extends uc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=On(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ur(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=kz(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,p)=>{const y=r+n/2+s.measureText(g.text).width;(p===0||c[c.length-1]+y+2*o>a)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:y,height:i},c[c.length-1]+=y+o}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,g=0,p=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:x,itemHeight:b}=e1e(r,n,s,y,i);v>0&&f+b+2*o>u&&(d+=h+o,c.push({width:h,height:f}),g+=h+o,p++,h=f=0),l[v]={left:g,top:f,col:p,width:x,height:b},h=Math.max(h,x),f+=b+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=gp(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ni(r,this.left+i,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Ni(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Ni(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Ni(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;BA(e,this),this._draw(),zA(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=Gn.color,l=gp(e.rtl,this.left,this.width),c=Ur(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:y}=kz(a,d),v=function(C,A,k){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const E=yt(k.lineWidth,1);if(i.fillStyle=yt(k.fillStyle,o),i.lineCap=yt(k.lineCap,"butt"),i.lineDashOffset=yt(k.lineDashOffset,0),i.lineJoin=yt(k.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=yt(k.strokeStyle,o),i.setLineDash(yt(k.lineDash,[])),a.usePointStyle){const T={radius:p*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:E},P=l.xPlus(C,g/2),N=A+h;kG(i,T,P,N,a.pointStyleWidth&&g)}else{const T=A+Math.max((d-p)/2,0),P=l.leftForLtr(C,g),N=nh(k.borderRadius);i.beginPath(),Object.values(N).some(O=>O!==0)?Hv(i,{x:P,y:T,w:g,h:p,radius:N}):i.rect(P,T,g,p),i.fill(),E!==0&&i.stroke()}i.restore()},x=function(C,A,k){kh(i,k.text,C,A+y/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?f={x:Ni(s,this.left+u,this.right-r[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:Ni(s,this.top+_+u,this.bottom-n[0].height),line:0},MG(this.ctx,e.textDirection);const w=y+u;this.legendItems.forEach((C,A)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const k=i.measureText(C.text).width,E=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),T=g+h+k;let P=f.x,N=f.y;l.setWidth(this.width),b?A>0&&P+T+u>this.right&&(N=f.y+=w,f.line++,P=f.x=Ni(s,this.left+u,this.right-r[f.line])):A>0&&N+w>this.bottom&&(P=f.x=P+n[f.line].width+u,f.line++,N=f.y=Ni(s,this.top+_+u,this.bottom-n[f.line].height));const O=l.x(P);if(v(O,N,C),P=bbe(E,P+g+h,b?P+T:this.right,e.rtl),x(l.x(P),N,C),b)f.x+=T+u;else if(typeof C.text!="string"){const L=c.lineHeight;f.y+=aq(C,L)+u}else f.y+=w}),DG(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ur(n.font),i=Wi(n.padding);if(!n.display)return;const s=gp(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ni(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((p,y)=>Math.max(p,y.height),0);u=c+Ni(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ni(o,d,d+h);a.textAlign=s.textAlign(pM(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,kh(a,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=Ur(e.font),r=Wi(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(El(e,this.left,this.right)&&El(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],El(e,i.left,i.left+i.width)&&El(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!r1e(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=J_e(i,r);i&&!s&&On(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&On(n.onHover,[e,r,this],this)}else r&&On(n.onClick,[e,r,this],this)}};function e1e(t,e,n,r,i){const s=t1e(r,t,e,n),a=n1e(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function t1e(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function n1e(t,e,n){let r=t;return typeof e.text!="string"&&(r=aq(e,n)),r}function aq(t,e){const n=t.text?t.text.length:0;return e*n}function r1e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var i1e={id:"legend",_element:Ez,start(t,e,n){const r=t.legend=new Ez({ctx:t.ctx,options:n,chart:t});Bi.configure(t,r,n),Bi.addBox(t,r)},stop(t){Bi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Bi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Wi(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let AM=class extends uc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Yn(r.text)?r.text.length:1;this._padding=Wi(r.padding);const s=i*Ur(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ni(o,r,s),d=n+e,c=s-r):(a.position==="left"?(u=r+e,d=Ni(o,i,n),l=Wn*-.5):(u=s-e,d=Ni(o,n,i),l=Wn*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ur(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);kh(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:pM(n.align),textBaseline:"middle",translation:[a,o]})}};function s1e(t,e){const n=new AM({ctx:t.ctx,options:e,chart:t});Bi.configure(t,n,e),Bi.addBox(t,n),t.titleBlock=n}var a1e={id:"title",_element:AM,start(t,e,n){s1e(t,n)},stop(t){const e=t.titleBlock;Bi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Bi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const H0=new WeakMap;var o1e={id:"subtitle",start(t,e,n){const r=new AM({ctx:t.ctx,options:n,chart:t});Bi.configure(t,r,n),Bi.addBox(t,r),H0.set(t,r)},stop(t){Bi.removeBox(t,H0.get(t)),H0.delete(t)},beforeUpdate(t,e,n){const r=H0.get(t);Bi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sy={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=_I(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Eo(t,e){return e&&(Yn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function l1e(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Tz(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Ur(e.bodyFont),c=Ur(e.titleFont),u=Ur(e.footerFont),d=s.length,h=i.length,f=r.length,g=Wi(e.padding);let p=g.height,y=0,v=r.reduce((_,w)=>_+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*_+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0;const b=function(_){y=Math.max(y,n.measureText(_).width+x)};return n.save(),n.font=c.string,gn(t.title,b),n.font=l.string,gn(t.beforeBody.concat(t.afterBody),b),x=e.displayColors?a+2+e.boxPadding:0,gn(r,_=>{gn(_.before,b),gn(_.lines,b),gn(_.after,b)}),x=0,n.font=u.string,gn(t.footer,b),n.restore(),y+=g.width,{width:y,height:p}}function c1e(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function u1e(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function d1e(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),u1e(c,t,e,n)&&(c="center"),c}function Pz(t,e,n){const r=n.yAlign||e.yAlign||c1e(t,n);return{xAlign:n.xAlign||e.xAlign||d1e(t,e,n,r),yAlign:r}}function h1e(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function f1e(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Iz(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=nh(a);let g=h1e(e,o);const p=f1e(e,l,c);return l==="center"?o==="left"?g+=c:o==="right"&&(g-=c):o==="left"?g-=Math.max(u,h)+i:o==="right"&&(g+=Math.max(d,f)+i),{x:ti(g,0,r.width-e.width),y:ti(p,0,r.height-e.height)}}function Y0(t,e,n){const r=Wi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Oz(t){return Eo([],pl(t))}function p1e(t,e,n){return Ku(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Nz(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const oq={beforeTitle:cl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:cl,beforeBody:cl,beforeLabel:cl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:cl,afterBody:cl,beforeFooter:cl,footer:cl,afterFooter:cl};function us(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?oq[e].call(n,r):i}var jT;let Rz=(jT=class extends uc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new BG(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=p1e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=us(r,"beforeTitle",this,e),s=us(r,"title",this,e),a=us(r,"afterTitle",this,e);let o=[];return o=Eo(o,pl(i)),o=Eo(o,pl(s)),o=Eo(o,pl(a)),o}getBeforeBody(e,n){return Oz(us(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return gn(e,s=>{const a={before:[],lines:[],after:[]},o=Nz(r,s);Eo(a.before,pl(us(o,"beforeLabel",this,s))),Eo(a.lines,us(o,"label",this,s)),Eo(a.after,pl(us(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return Oz(us(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=us(r,"beforeFooter",this,e),s=us(r,"footer",this,e),a=us(r,"afterFooter",this,e);let o=[];return o=Eo(o,pl(i)),o=Eo(o,pl(s)),o=Eo(o,pl(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(l1e(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,r))),gn(o,u=>{const d=Nz(e.callbacks,u);i.push(us(d,"labelColor",this,u)),s.push(us(d,"labelPointStyle",this,u)),a.push(us(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Sy[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Tz(this,r),c=Object.assign({},o,l),u=Pz(this.chart,r,c),d=Iz(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=nh(o),{x:h,y:f}=e,{width:g,height:p}=n;let y,v,x,b,_,w;return s==="center"?(_=f+p/2,i==="left"?(y=h,v=y-a,b=_+a,w=_-a):(y=h+g,v=y+a,b=_-a,w=_+a),x=y):(i==="left"?v=h+Math.max(l,u)+a:i==="right"?v=h+g-Math.max(c,d)-a:v=this.caretX,s==="top"?(b=f,_=b-a,y=v-a,x=v+a):(b=f+p,_=b+a,y=v+a,x=v-a),w=b),{x1:y,x2:v,x3:x,y1:b,y2:_,y3:w}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=gp(r.rtl,this.x,this.width);for(e.x=Y0(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=Ur(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Ur(s.bodyFont),d=Y0(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,AI(e,p,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,AI(e,p,y,v)}else{e.lineWidth=Rt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,c),y=i.leftForLtr(i.xPlus(h,1),c-2),v=nh(a.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Hv(e,{x:p,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Hv(e,{x:y,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=a.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Ur(r.bodyFont);let h=d.lineHeight,f=0;const g=gp(r.rtl,this.x,this.width),p=function(k){n.fillText(k,g.x(e.x+f),e.y+h/2),e.y+=h+s},y=g.textAlign(a);let v,x,b,_,w,C,A;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=Y0(this,y,r),n.fillStyle=r.bodyColor,gn(this.beforeBody,p),f=o&&y!=="right"?a==="center"?c/2+u:c+2+u:0,_=0,C=i.length;_<C;++_){for(v=i[_],x=this.labelTextColors[_],n.fillStyle=x,gn(v.before,p),b=v.lines,o&&b.length&&(this._drawColorBox(n,e,_,g,r),h=Math.max(d.lineHeight,l)),w=0,A=b.length;w<A;++w)p(b[w]),h=d.lineHeight;gn(v.after,p)}f=0,h=d.lineHeight,gn(this.afterBody,p),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=gp(r.rtl,this.x,this.width);for(e.x=Y0(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Ur(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=nh(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+c,l+u-g),n.quadraticCurveTo(o+c,l+u,o+c-g,l+u),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+f,l+u),n.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Sy[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Tz(this,e),l=Object.assign({},a,this._size),c=Pz(n,e,l),u=Iz(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Wi(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),MG(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),DG(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!a1(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),l=n||!a1(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Sy[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}},Ee(jT,"positioners",Sy),jT);var g1e={id:"tooltip",_element:Rz,positioners:Sy,afterInit(t,e,n){n&&(t.tooltip=new Rz({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},m1e=Object.freeze({__proto__:null,Colors:T_e,Decimation:N_e,Filler:Z_e,Legend:i1e,SubTitle:o1e,Title:a1e,Tooltip:g1e});const y1e=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function v1e(t,e,n,r){const i=t.indexOf(e);if(i===-1)return y1e(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const x1e=(t,e)=>t===null?null:ti(Math.round(t),0,e);function Mz(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class OI extends Zh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:v1e(r,e,yt(n,e),this._addedLabels),x1e(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return Mz.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ee(OI,"id","category"),Ee(OI,"defaults",{ticks:{callback:Mz}});function b1e(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,g=u-1,{min:p,max:y}=e,v=!Pt(a),x=!Pt(o),b=!Pt(c),_=(y-p)/(d+1);let w=TB((y-p)/g/f)*f,C,A,k,E;if(w<1e-14&&!v&&!x)return[{value:p},{value:y}];E=Math.ceil(y/w)-Math.floor(p/w),E>g&&(w=TB(E*w/g/f)*f),Pt(l)||(C=Math.pow(10,l),w=Math.ceil(w*C)/C),i==="ticks"?(A=Math.floor(p/w)*w,k=Math.ceil(y/w)*w):(A=p,k=y),v&&x&&s&&fbe((o-a)/s,w/1e3)?(E=Math.round(Math.min((o-a)/w,u)),w=(o-a)/E,A=a,k=o):b?(A=v?a:A,k=x?o:k,E=c-1,w=(k-A)/E):(E=(k-A)/w,qy(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const T=Math.max(PB(w),PB(A));C=Math.pow(10,Pt(l)?T:l),A=Math.round(A*C)/C,k=Math.round(k*C)/C;let P=0;for(v&&(h&&A!==a?(n.push({value:a}),A<a&&P++,qy(Math.round((A+P*w)*C)/C,a,Dz(a,_,t))&&P++):A<a&&P++);P<E;++P){const N=Math.round((A+P*w)*C)/C;if(x&&N>o)break;n.push({value:N})}return x&&h&&k!==o?n.length&&qy(n[n.length-1].value,o,Dz(o,_,t))?n[n.length-1].value=o:n.push({value:o}):(!x||k===o)&&n.push({value:k}),n}function Dz(t,e,{horizontal:n,minRotation:r}){const i=Qa(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class f1 extends Zh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(e){const l=Ho(i),c=Ho(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=b1e(i,s);return e.bounds==="ticks"&&yG(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return bb(e,this.chart.options.locale,this.options.ticks.format)}}class NI extends f1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=fr(e)?e:0,this.max=fr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Qa(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ee(NI,"id","linear"),Ee(NI,"defaults",{ticks:{callback:$A.formatters.numeric}});const Xv=t=>Math.floor(nu(t)),dd=(t,e)=>Math.pow(10,Xv(t)+e);function jz(t){return t/Math.pow(10,Xv(t))===1}function Lz(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function w1e(t,e){const n=e-t;let r=Xv(n);for(;Lz(t,e,r)>10;)r++;for(;Lz(t,e,r)<10;)r--;return Math.min(r,Xv(t))}function _1e(t,{min:e,max:n}){e=Ds(t.min,e);const r=[],i=Xv(e);let s=w1e(e,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,u=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=Ds(t.min,Math.round((l+u+d*Math.pow(10,s))*a)/a);for(;h<n;)r.push({value:h,major:jz(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),h=Math.round((l+u+d*Math.pow(10,s))*a)/a;const f=Ds(t.max,h);return r.push({value:f,major:jz(f),significand:d}),r}class RI extends Zh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=f1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return fr(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=fr(e)?Math.max(0,e):null,this.max=fr(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!fr(this._userMin)&&(this.min=e===dd(this.min,0)?dd(this.min,-1):dd(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(dd(r,-1)),a(dd(i,1)))),r<=0&&s(dd(i,-1)),i<=0&&a(dd(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=_1e(n,this);return e.bounds==="ticks"&&yG(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":bb(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=nu(e),this._valueRange=nu(this.max)-nu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(nu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Ee(RI,"id","logarithmic"),Ee(RI,"defaults",{ticks:{callback:$A.formatters.logarithmic,major:{enabled:!0}}});function MI(t){const e=t.ticks;if(e.display&&t.display){const n=Wi(e.backdropPadding);return yt(e.font&&e.font.size,Gn.font.size)+n.height}return 0}function S1e(t,e,n){return n=Yn(n)?n:[n],{w:Ibe(t,e.string,n),h:n.length*e.lineHeight}}function Fz(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function A1e(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Wn/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],o),d=Ur(c.font),h=S1e(t.ctx,d,t._pointLabels[l]);r[l]=h;const f=$s(t.getIndexAngle(l)+o),g=Math.round(hM(f)),p=Fz(g,u.x,h.w,0,180),y=Fz(g,u.y,h.h,90,270);C1e(n,e,f,p,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=T1e(t,r,i)}function C1e(t,e,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function k1e(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,r+i+a,s),c=Math.round(hM($s(l.angle+br))),u=O1e(l.y,o.h,c),d=P1e(c),h=I1e(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+o.w,bottom:u+o.h}}function E1e(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Pl({x:n,y:r},e)||Pl({x:n,y:s},e)||Pl({x:i,y:r},e)||Pl({x:i,y:s},e))}function T1e(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:MI(s)/2,additionalAngle:a?Wn/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=k1e(t,u,l);r.push(d),o==="auto"&&(d.visible=E1e(d,c),d.visible&&(c=d))}return r}function P1e(t){return t===0||t===180?"center":t<180?"left":"right"}function I1e(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function O1e(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function N1e(t,e,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=e;if(!Pt(o)){const l=nh(e.borderRadius),c=Wi(e.backdropPadding);t.fillStyle=o;const u=r-c.left,d=i-c.top,h=s-r+c.width,f=a-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Hv(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function R1e(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(t.getPointLabelContext(i));N1e(n,a,s);const o=Ur(a.font),{x:l,y:c,textAlign:u}=s;kh(n,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function lq(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Un);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function M1e(t,e,n,r,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),lq(t,n,a,r),s.closePath(),s.stroke(),s.restore())}function D1e(t,e,n){return Ku(t,{label:n,index:e,type:"pointLabel"})}class Ay extends f1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Wi(MI(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=fr(e)&&!isNaN(e)?e:0,this.max=fr(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/MI(this.options))}generateTickLabels(e){f1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=On(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?A1e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Un/(this._pointLabels.length||1),r=this.options.startAngle||0;return $s(e*n+Qa(r))}getDistanceFromCenterForValue(e){if(Pt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Pt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return D1e(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-br+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),lq(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&R1e(this,a),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),g=s.setContext(h);M1e(this,f,l,a,g)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Ur(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=Wi(c.backdropPadding);e.fillRect(-a/2-d.left,-s-u.size/2-d.top,a+d.width,u.size+d.height)}kh(e,o.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}Ee(Ay,"id","radialLinear"),Ee(Ay,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$A.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Ee(Ay,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ee(Ay,"descriptors",{angleLines:{_fallback:"grid"}});const HA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ys=Object.keys(HA);function $z(t,e){return t-e}function Bz(t,e){if(Pt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),fr(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(tg(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function zz(t,e,n,r){const i=ys.length;for(let s=ys.indexOf(t);s<i-1;++s){const a=HA[ys[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return ys[s]}return ys[i-1]}function j1e(t,e,n,r,i){for(let s=ys.length-1;s>=ys.indexOf(n);s--){const a=ys[s];if(HA[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return ys[n?ys.indexOf(n):0]}function L1e(t){for(let e=ys.indexOf(t)+1,n=ys.length;e<n;++e)if(HA[ys[e]].common)return ys[e]}function Vz(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=fM(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function F1e(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function Uz(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:F1e(t,r,i,n)}class Gv extends Zh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new X0e._date(e.adapters.date);i.init(n),Gy(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Bz(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=fr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=fr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=ybe(i,s,a);return this._unit=n.unit||(r.autoSkip?zz(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):j1e(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:L1e(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Uz(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=ti(n,0,a),r=ti(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||zz(s.minUnit,n,r,this._getLabelCapacity(n)),o=yt(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=tg(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,o,a),f++)Vz(u,h,g);return(h===r||i.bounds==="ticks"||f===1)&&Vz(u,h,g),Object.keys(u).sort($z).map(p=>+p)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return On(a,[e,n,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=r[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Qa(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Uz(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Bz(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bG(e.sort($z))}}Ee(Gv,"id","time"),Ee(Gv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function X0(t,e,n){let r=0,i=t.length-1,s,a,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Tl(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Tl(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class DI extends Gv{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=X0(n,this.min),this._tableRange=X0(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(X0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return X0(this._table,r*this._tableRange+this._minPos,!0)}}Ee(DI,"id","timeseries"),Ee(DI,"defaults",Gv.defaults);var $1e=Object.freeze({__proto__:null,CategoryScale:OI,LinearScale:NI,LogarithmicScale:RI,RadialLinearScale:Ay,TimeScale:Gv,TimeSeriesScale:DI});const B1e=[Y0e,w_e,m1e,$1e],cq="label";function Wz(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function z1e(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function uq(t,e){t.labels=e}function dq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cq;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function V1e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cq;const n={labels:[],datasets:[]};return uq(n,t.labels),dq(n,t.datasets,e),n}function U1e(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=I.useRef(null),g=I.useRef(null),p=()=>{f.current&&(g.current=new WA(f.current,{type:a,data:V1e(o,s),options:l&&{...l},plugins:c}),Wz(e,g.current))},y=()=>{Wz(e,null),g.current&&(g.current.destroy(),g.current=null)};return I.useEffect(()=>{!i&&g.current&&l&&z1e(g.current,l)},[i,l]),I.useEffect(()=>{!i&&g.current&&uq(g.current.config.data,o.labels)},[i,o.labels]),I.useEffect(()=>{!i&&g.current&&o.datasets&&dq(g.current.config.data,o.datasets,s)},[i,o.datasets]),I.useEffect(()=>{g.current&&(i?(y(),setTimeout(p)):g.current.update(d))},[i,l,o.labels,o.datasets,d]),I.useEffect(()=>{g.current&&(y(),setTimeout(p))},[a]),I.useEffect(()=>(p(),()=>y()),[]),U.createElement("canvas",{ref:f,role:"img",height:n,width:r,...h},u)}const W1e=I.forwardRef(U1e);function H1e(t,e){return WA.register(e),I.forwardRef((n,r)=>U.createElement(W1e,{...n,ref:r,type:t}))}const Y1e=H1e("line",Zy);WA.register(...B1e);function X1e(){var A,k,E;const{data:t=[],isLoading:e,error:n,retryFetchCards:r}=Qh(),{displayCases:i=[]}=FA(),[s,a]=I.useState([]),{user:o}=jn();console.log("Dashboard rendering with cards:",t.length,"isLoading:",e,"error:",!!n);const l=t.length,c=t.reduce((T,P)=>{const N=P.currentValue||P.price||0;return T+N},0),u=t.reduce((T,P)=>T+(P.pricePaid||0),0),d=c-u,h=l?u/l:0,f=u?d/u*100:0,g={};t.forEach(T=>{const P=T.playerName||"Unknown";g[P]=(g[P]||0)+1});const p=((A=Object.entries(g).sort((T,P)=>P[1]-T[1])[0])==null?void 0:A[0])||"N/A",y={};t.forEach(T=>{const P=T.condition||"Raw";y[P]=(y[P]||0)+1});const v=((k=Object.entries(y).sort((T,P)=>P[1]-T[1])[0])==null?void 0:k[0])||"N/A",x=t.reduce((T,P)=>{const N=P.currentValue||P.price||0,O=T.currentValue||T.price||0;return N>O?P:T},{playerName:"N/A",currentValue:0,price:0}),b=x.currentValue||x.price||0;function _(T){if(!T)return!1;const P=T.toUpperCase();return P.includes("PSA")||P.includes("BGS")||P.includes("SGC")||P.includes("CGC")}const w=t.filter(T=>_(T.condition)).length,C=i.length>0?i.reduce((T,P)=>{var L,$;const N=(P.likes||0)+(((L=P.comments)==null?void 0:L.length)||0)+(P.visits||0),O=(T.likes||0)+((($=T.comments)==null?void 0:$.length)||0)+(T.visits||0);return N>O?P:T},i[0]):null;return I.useEffect(()=>{async function T(){if(!o)return;const P=pi(Zt(de,"users",o.uid,"value_history"),bh("timestamp")),O=(await Xn(P)).docs.map(L=>L.data());a(O)}T()},[o]),m.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Collection Dashboard"}),e&&m.jsxs("div",{className:"flex justify-center items-center mb-4",children:[m.jsx(jl,{className:"h-8 w-8 animate-spin text-blue-500 mr-2"}),m.jsx("span",{className:"text-blue-500",children:"Loading collection data..."})]}),n&&!e&&m.jsxs("div",{className:"flex flex-col items-center justify-center bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[m.jsx("p",{className:"text-red-600 mb-2",children:"There was a problem loading your collection data."}),m.jsxs(xe,{variant:"outline",onClick:r,className:"flex items-center",children:[m.jsx(Od,{className:"h-4 w-4 mr-2"}),"Retry"]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx(G0,{title:"Total Cards",value:e?"Loading...":l,isLoading:e,hasError:!!n&&!e}),m.jsx(G0,{title:"Total Value",value:e?"Loading...":`$${c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,isLoading:e,hasError:!!n&&!e}),m.jsx(G0,{title:"Average Price",value:e?"Loading...":`$${h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,isLoading:e,hasError:!!n&&!e}),m.jsx(G0,{title:"ROI",value:e?"Loading...":`${f.toFixed(1)}%`,valueColor:f>=0?"text-green-600":"text-red-600",isLoading:e,hasError:!!n&&!e})]}),m.jsx("div",{className:"mb-8",children:m.jsx(Ixe,{})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white shadow rounded-lg p-6 border border-gray-200",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Collection Insights"}),m.jsx("div",{className:"space-y-4",children:e?m.jsx("div",{className:"flex justify-center py-4",children:m.jsx(jl,{className:"h-6 w-6 animate-spin text-blue-500"})}):n?m.jsx("div",{className:"flex justify-center py-4 text-red-500",children:"Unable to load insights"}):m.jsxs(m.Fragment,{children:[m.jsx(_f,{label:"Most Valuable Card",value:`${x.playerName} - $${b.toLocaleString()}`}),m.jsx(_f,{label:"Most Common Grade",value:v}),m.jsx(_f,{label:"Top Player",value:p}),m.jsx(_f,{label:"Graded Cards",value:w}),m.jsx(_f,{label:"Total Profit/Loss",value:`$${d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,valueColor:d>=0?"text-green-600":"text-red-600"}),C&&m.jsx(_f,{label:"Most Active Display Case",value:`${C.name} (❤️ ${C.likes||0}, 💬 ${((E=C.comments)==null?void 0:E.length)||0}, 👁️ ${C.visits||0})`})]})})]}),m.jsxs("div",{className:"bg-white shadow rounded-lg p-6 border border-gray-200",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Collection Value Over Time"}),m.jsx("div",{className:"my-8",children:s.length>1?m.jsx(Y1e,{data:{labels:s.map(T=>T.timestamp.toDate().toLocaleDateString()),datasets:[{label:"Total Value",data:s.map(T=>T.totalValue),borderColor:"rgb(34,197,94)",backgroundColor:"rgba(34,197,94,0.2)",tension:.3}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}}):m.jsx("div",{className:"text-gray-500",children:"No value history yet. Update all card values to start tracking."})})]})]})]})}function G0({title:t,value:e,valueColor:n="text-gray-900",isLoading:r=!1,hasError:i=!1}){return m.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-2xl shadow-lg p-6 flex flex-col items-start gap-2 border border-gray-100 dark:border-gray-800 hover:shadow-xl transition-shadow group cursor-pointer",children:[m.jsx("div",{className:"flex items-center gap-3 mb-2",children:m.jsx("h2",{className:"font-heading text-lg md:text-xl text-primary dark:text-secondary uppercase tracking-wide",children:t})}),r?m.jsxs("div",{className:"mt-2 flex items-center",children:[m.jsx(jl,{className:"h-5 w-5 animate-spin text-primary dark:text-secondary mr-2"}),m.jsx("span",{className:"text-gray-500",children:"Loading..."})]}):i?m.jsx("div",{className:"mt-2 flex items-center",children:m.jsx("span",{className:"text-red-500",children:"Error loading data"})}):m.jsx("p",{className:`mt-2 text-3xl md:text-4xl font-mono font-bold ${n} group-hover:text-accent transition-colors`,children:e})]})}function _f({label:t,value:e,valueColor:n="text-gray-900"}){return m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:t}),m.jsx("span",{className:`font-medium ${n}`,children:e})]})}async function G1e(t,e){console.log(`🔴 Attempting emergency delete for cardId: ${t}`),console.log(`👤 User ID: ${e}`),console.log(`🔍 Primary path: users/${e}/collection/${t}`),console.log(`🔍 Secondary path: users/${e}/cards/${t}`),console.log(`🔍 Fallback path: cards/${t}`);const n=[Ie(de,"users",e,"collection",t),Ie(de,"users",e,"cards",t),Ie(de,"cards",t)];for(const r of n)try{return console.log(`⏳ Attempting to delete from: ${r.path}`),await el(r),console.log(`✅ Successfully deleted from: ${r.path}`),!0}catch(i){console.warn(`❌ Failed to delete from: ${r.path}`,i)}return console.error("🛑 Card could not be deleted from any known path."),!1}function CM({cardId:t,onDeleted:e}){const{user:n}=jn(),[r,i]=I.useState(!1),[s,a]=I.useState(!1),[o,l]=I.useState(null),c=lc();if(!n)return null;const u=async()=>{if(window.confirm("Are you sure you want to delete this card?")){i(!0),l(null);try{console.log(`[EmergencyDeleteButton] Starting deletion for card ${t}`),await G1e(t,n.uid)?(c.invalidateQueries({queryKey:["cards",n.uid]}),c.invalidateQueries({queryKey:["displayCases",n.uid]}),l({success:!0,text:"Card deleted successfully!"}),e==null||e()):(l({success:!1,text:"Failed to delete card. See console for details."}),console.error("[EmergencyDeleteButton] Card deletion failed - check browser console logs"))}catch(d){console.error("[EmergencyDeleteButton] Unexpected error during deletion:",d),l({success:!1,text:d instanceof Error?d.message:"An unexpected error occurred"})}finally{i(!1)}}};return m.jsxs("div",{className:"relative",children:[m.jsx(xe,{variant:"destructive",size:"icon",onClick:u,disabled:r,className:"h-8 w-8",children:r?"...":m.jsx(vxe,{size:16})}),o&&m.jsxs("div",{className:`absolute top-full right-0 mt-2 p-2 text-xs rounded-md shadow-lg z-10 ${o.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,style:{minWidth:"200px"},children:[o.text,!o.success&&m.jsx("button",{className:"block mt-1 text-blue-600 hover:underline",onClick:()=>a(d=>!d),children:s?"Hide Debug Info":"Show Debug Info"}),!o.success&&s&&m.jsxs("div",{className:"mt-2 p-2 bg-gray-800 text-white rounded text-xs overflow-auto max-h-40",children:[m.jsxs("p",{children:["Card ID: ",t]}),m.jsxs("p",{children:["User ID: ",n.uid]}),m.jsxs("p",{children:["Primary Path: users/",n.uid,"/collection/",t]}),m.jsxs("p",{children:["Secondary Path: users/",n.uid,"/cards/",t]}),m.jsxs("p",{children:["Fallback Path: cards/",t]}),m.jsx("p",{className:"mt-1",children:"Check console for more details"})]})]})]})}const q1e=({cards:t,onEditCard:e,onUpdateCard:n,updatingCardIds:r=[],isModalOpen:i=!1})=>{const s=lc();if(!t||t.length===0)return m.jsx("div",{className:"text-center text-gray-500 py-4",children:"No cards in your collection yet. Add your first card!"});const a=()=>{s.invalidateQueries({queryKey:["cards"]})};return m.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.map(o=>m.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>e(o),children:[!i&&m.jsxs("div",{className:"absolute top-2 right-2 z-30 flex space-x-1",children:[m.jsx("div",{onClick:l=>l.stopPropagation(),children:m.jsx(CM,{cardId:o.id,onDeleted:a})}),n&&m.jsx("div",{onClick:l=>l.stopPropagation(),children:m.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white",onClick:()=>n(o),disabled:r.includes(o.id),children:r.includes(o.id)?m.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"}):m.jsx(Od,{className:"h-4 w-4"})})}),m.jsx("div",{onClick:l=>l.stopPropagation(),children:m.jsx(xe,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white",title:"Check on eBay",onClick:()=>{const l=`${o.year} ${o.playerName} ${o.cardSet} ${o.variation||""} ${o.cardNumber} ${o.condition||""}`;window.open(`https://www.ebay.com/sch/i.html?_nkw=${encodeURIComponent(l)}&_sacat=0&LH_Complete=1&LH_Sold=1`,"_blank")},children:m.jsx(aG,{className:"h-4 w-4"})})})]}),o.imageUrl?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:o.imageUrl,alt:`${o.playerName} ${o.year} ${o.cardSet}`,className:"rounded-xl w-full shadow-md aspect-[2/3] object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center text-white text-sm rounded-xl p-2",children:m.jsxs("div",{className:"text-center p-3",children:[m.jsx("div",{className:"font-semibold mb-1",children:o.playerName}),m.jsxs("div",{className:"text-xs mb-1",children:[o.year," ",o.cardSet]}),o.variation&&m.jsxs("div",{className:"text-xs mb-1",children:["Variation: ",o.variation]}),o.condition&&m.jsxs("div",{className:"text-xs mb-1",children:["Condition: ",o.condition]}),m.jsxs("div",{className:"text-xs mt-2 flex justify-between",children:[m.jsxs("span",{children:["Paid: $",(o.pricePaid||0).toFixed(2)]}),m.jsxs("span",{children:["Value: $",(o.currentValue||0).toFixed(2)]})]})]})})]}):m.jsx("div",{className:"rounded-xl w-full shadow-md aspect-[2/3] bg-gray-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center p-4",children:[m.jsx("div",{className:"font-semibold",children:o.playerName}),m.jsxs("div",{className:"text-xs text-gray-600",children:[o.year," ",o.cardSet]}),o.variation&&m.jsxs("div",{className:"text-xs text-gray-600",children:["Var: ",o.variation]})]})})]},o.id))})};var wb=t=>t.type==="checkbox",Rd=t=>t instanceof Date,Ji=t=>t==null;const hq=t=>typeof t=="object";var _r=t=>!Ji(t)&&!Array.isArray(t)&&hq(t)&&!Rd(t),K1e=t=>_r(t)&&t.target?wb(t.target)?t.target.checked:t.target.value:t,Q1e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Z1e=(t,e)=>t.has(Q1e(e)),J1e=t=>{const e=t.constructor&&t.constructor.prototype;return _r(e)&&e.hasOwnProperty("isPrototypeOf")},kM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ii(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(kM&&(t instanceof Blob||r))&&(n||_r(t)))if(e=n?[]:{},!n&&!J1e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ii(t[i]));else return t;return e}var YA=t=>Array.isArray(t)?t.filter(Boolean):[],Er=t=>t===void 0,Ue=(t,e,n)=>{if(!e||!_r(t))return n;const r=YA(e.split(/[,[\].]+?/)).reduce((i,s)=>Ji(i)?i:i[s],t);return Er(r)||r===t?Er(t[e])?n:t[e]:r},Oo=t=>typeof t=="boolean",EM=t=>/^\w*$/.test(t),fq=t=>YA(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wn=(t,e,n)=>{let r=-1;const i=EM(e)?[e]:fq(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=n;if(r!==a){const c=t[o];l=_r(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Hz={BLUR:"blur",FOCUS_OUT:"focusout"},Xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ul={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};U.createContext(null);var eSe=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Xa.all&&(e._proxyFormState[a]=!r||Xa.all),t[a]}});return i};const tSe=typeof window<"u"?I.useLayoutEffect:I.useEffect;var Lo=t=>typeof t=="string",nSe=(t,e,n,r,i)=>Lo(t)?(r&&e.watch.add(t),Ue(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ue(n,s))):(r&&(e.watchAll=!0),n),pq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ev=t=>Array.isArray(t)?t:[t],Yz=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},jI=t=>Ji(t)||!hq(t);function Fc(t,e){if(jI(t)||jI(e))return t===e;if(Rd(t)&&Rd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Rd(s)&&Rd(a)||_r(s)&&_r(a)||Array.isArray(s)&&Array.isArray(a)?!Fc(s,a):s!==a)return!1}}return!0}var Ki=t=>_r(t)&&!Object.keys(t).length,TM=t=>t.type==="file",Ga=t=>typeof t=="function",p1=t=>{if(!kM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gq=t=>t.type==="select-multiple",PM=t=>t.type==="radio",rSe=t=>PM(t)||wb(t),AE=t=>p1(t)&&t.isConnected;function iSe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Er(t)?r++:t[e[r++]];return t}function sSe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Er(t[e]))return!1;return!0}function Lr(t,e){const n=Array.isArray(e)?e:EM(e)?[e]:fq(e),r=n.length===1?t:iSe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(_r(r)&&Ki(r)||Array.isArray(r)&&sSe(r))&&Lr(t,n.slice(0,-1)),t}var mq=t=>{for(const e in t)if(Ga(t[e]))return!0;return!1};function g1(t,e={}){const n=Array.isArray(t);if(_r(t)||n)for(const r in t)Array.isArray(t[r])||_r(t[r])&&!mq(t[r])?(e[r]=Array.isArray(t[r])?[]:{},g1(t[r],e[r])):Ji(t[r])||(e[r]=!0);return e}function yq(t,e,n){const r=Array.isArray(t);if(_r(t)||r)for(const i in t)Array.isArray(t[i])||_r(t[i])&&!mq(t[i])?Er(e)||jI(n[i])?n[i]=Array.isArray(t[i])?g1(t[i],[]):{...g1(t[i])}:yq(t[i],Ji(e)?{}:e[i],n[i]):n[i]=!Fc(t[i],e[i]);return n}var Xm=(t,e)=>yq(t,e,g1(e));const Xz={value:!1,isValid:!1},Gz={value:!0,isValid:!0};var vq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Er(t[0].attributes.value)?Er(t[0].value)||t[0].value===""?Gz:{value:t[0].value,isValid:!0}:Gz:Xz}return Xz},xq=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Er(t)?t:e?t===""?NaN:t&&+t:n&&Lo(t)?new Date(t):r?r(t):t;const qz={isValid:!1,value:null};var bq=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,qz):qz;function Kz(t){const e=t.ref;return TM(e)?e.files:PM(e)?bq(t.refs).value:gq(e)?[...e.selectedOptions].map(({value:n})=>n):wb(e)?vq(t.refs).value:xq(Er(e.value)?t.ref.value:e.value,t)}var aSe=(t,e,n,r)=>{const i={};for(const s of t){const a=Ue(e,s);a&&wn(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},m1=t=>t instanceof RegExp,Gm=t=>Er(t)?t:m1(t)?t.source:_r(t)?m1(t.value)?t.value.source:t.value:t,Qz=t=>({isOnSubmit:!t||t===Xa.onSubmit,isOnBlur:t===Xa.onBlur,isOnChange:t===Xa.onChange,isOnAll:t===Xa.all,isOnTouch:t===Xa.onTouched});const Zz="AsyncFunction";var oSe=t=>!!t&&!!t.validate&&!!(Ga(t.validate)&&t.validate.constructor.name===Zz||_r(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Zz)),lSe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jz=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const tv=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ue(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(tv(o,e))break}else if(_r(o)&&tv(o,e))break}}};function eV(t,e,n){const r=Ue(t,n);if(r||EM(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Ue(e,s),o=Ue(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var cSe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Ki(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Xa.all))},uSe=(t,e,n)=>!t||!e||t===e||ev(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),dSe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hSe=(t,e)=>!YA(Ue(t,e)).length&&Lr(t,e),fSe=(t,e,n)=>{const r=ev(Ue(t,n));return wn(r,"root",e[n]),wn(t,n,r),t},Jw=t=>Lo(t);function tV(t,e,n="validate"){if(Jw(t)||Array.isArray(t)&&t.every(Jw)||Oo(t)&&!t)return{type:n,message:Jw(t)?t:"",ref:e}}var Sf=t=>_r(t)&&!m1(t)?t:{value:t,message:""},nV=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:p,valueAsNumber:y,mount:v}=t._f,x=Ue(n,p);if(!v||e.has(p))return{};const b=o?o[0]:a,_=N=>{i&&b.reportValidity&&(b.setCustomValidity(Oo(N)?"":N||""),b.reportValidity())},w={},C=PM(a),A=wb(a),k=C||A,E=(y||TM(a))&&Er(a.value)&&Er(x)||p1(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,T=pq.bind(null,p,r,w),P=(N,O,L,$=ul.maxLength,F=ul.minLength)=>{const B=N?O:L;w[p]={type:N?$:F,message:B,ref:a,...T(N?$:F,B)}};if(s?!Array.isArray(x)||!x.length:l&&(!k&&(E||Ji(x))||Oo(x)&&!x||A&&!vq(o).isValid||C&&!bq(o).isValid)){const{value:N,message:O}=Jw(l)?{value:!!l,message:l}:Sf(l);if(N&&(w[p]={type:ul.required,message:O,ref:b,...T(ul.required,O)},!r))return _(O),w}if(!E&&(!Ji(d)||!Ji(h))){let N,O;const L=Sf(h),$=Sf(d);if(!Ji(x)&&!isNaN(x)){const F=a.valueAsNumber||x&&+x;Ji(L.value)||(N=F>L.value),Ji($.value)||(O=F<$.value)}else{const F=a.valueAsDate||new Date(x),B=W=>new Date(new Date().toDateString()+" "+W),D=a.type=="time",z=a.type=="week";Lo(L.value)&&x&&(N=D?B(x)>B(L.value):z?x>L.value:F>new Date(L.value)),Lo($.value)&&x&&(O=D?B(x)<B($.value):z?x<$.value:F<new Date($.value))}if((N||O)&&(P(!!N,L.message,$.message,ul.max,ul.min),!r))return _(w[p].message),w}if((c||u)&&!E&&(Lo(x)||s&&Array.isArray(x))){const N=Sf(c),O=Sf(u),L=!Ji(N.value)&&x.length>+N.value,$=!Ji(O.value)&&x.length<+O.value;if((L||$)&&(P(L,N.message,O.message),!r))return _(w[p].message),w}if(f&&!E&&Lo(x)){const{value:N,message:O}=Sf(f);if(m1(N)&&!x.match(N)&&(w[p]={type:ul.pattern,message:O,ref:a,...T(ul.pattern,O)},!r))return _(O),w}if(g){if(Ga(g)){const N=await g(x,n),O=tV(N,b);if(O&&(w[p]={...O,...T(ul.validate,O.message)},!r))return _(O.message),w}else if(_r(g)){let N={};for(const O in g){if(!Ki(N)&&!r)break;const L=tV(await g[O](x,n),b,O);L&&(N={...L,...T(O,L.message)},_(L.message),r&&(w[p]=N))}if(!Ki(N)&&(w[p]={ref:b,...N},!r))return w}}return _(!0),w};const pSe={mode:Xa.onSubmit,reValidateMode:Xa.onChange,shouldFocusError:!0};function gSe(t={}){let e={...pSe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ga(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=_r(e.defaultValues)||_r(e.values)?Ii(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ii(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Yz(),state:Yz()},f=e.criteriaMode===Xa.all,g=H=>Z=>{clearTimeout(c),c=setTimeout(H,Z)},p=async H=>{if(!e.disabled&&(u.isValid||d.isValid||H)){const Z=e.resolver?Ki((await A()).errors):await E(r,!0);Z!==n.isValid&&h.state.next({isValid:Z})}},y=(H,Z)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((H||Array.from(o.mount)).forEach(ee=>{ee&&(Z?wn(n.validatingFields,ee,Z):Lr(n.validatingFields,ee))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Ki(n.validatingFields)}))},v=(H,Z=[],ee,Se,we=!0,he=!0)=>{if(Se&&ee&&!e.disabled){if(a.action=!0,he&&Array.isArray(Ue(r,H))){const Pe=ee(Ue(r,H),Se.argA,Se.argB);we&&wn(r,H,Pe)}if(he&&Array.isArray(Ue(n.errors,H))){const Pe=ee(Ue(n.errors,H),Se.argA,Se.argB);we&&wn(n.errors,H,Pe),hSe(n.errors,H)}if((u.touchedFields||d.touchedFields)&&he&&Array.isArray(Ue(n.touchedFields,H))){const Pe=ee(Ue(n.touchedFields,H),Se.argA,Se.argB);we&&wn(n.touchedFields,H,Pe)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Xm(i,s)),h.state.next({name:H,isDirty:P(H,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wn(s,H,Z)},x=(H,Z)=>{wn(n.errors,H,Z),h.state.next({errors:n.errors})},b=H=>{n.errors=H,h.state.next({errors:n.errors,isValid:!1})},_=(H,Z,ee,Se)=>{const we=Ue(r,H);if(we){const he=Ue(s,H,Er(ee)?Ue(i,H):ee);Er(he)||Se&&Se.defaultChecked||Z?wn(s,H,Z?he:Kz(we._f)):L(H,he),a.mount&&p()}},w=(H,Z,ee,Se,we)=>{let he=!1,Pe=!1;const rt={name:H};if(!e.disabled){if(!ee||Se){(u.isDirty||d.isDirty)&&(Pe=n.isDirty,n.isDirty=rt.isDirty=P(),he=Pe!==rt.isDirty);const Tt=Fc(Ue(i,H),Z);Pe=!!Ue(n.dirtyFields,H),Tt?Lr(n.dirtyFields,H):wn(n.dirtyFields,H,!0),rt.dirtyFields=n.dirtyFields,he=he||(u.dirtyFields||d.dirtyFields)&&Pe!==!Tt}if(ee){const Tt=Ue(n.touchedFields,H);Tt||(wn(n.touchedFields,H,ee),rt.touchedFields=n.touchedFields,he=he||(u.touchedFields||d.touchedFields)&&Tt!==ee)}he&&we&&h.state.next(rt)}return he?rt:{}},C=(H,Z,ee,Se)=>{const we=Ue(n.errors,H),he=(u.isValid||d.isValid)&&Oo(Z)&&n.isValid!==Z;if(e.delayError&&ee?(l=g(()=>x(H,ee)),l(e.delayError)):(clearTimeout(c),l=null,ee?wn(n.errors,H,ee):Lr(n.errors,H)),(ee?!Fc(we,ee):we)||!Ki(Se)||he){const Pe={...Se,...he&&Oo(Z)?{isValid:Z}:{},errors:n.errors,name:H};n={...n,...Pe},h.state.next(Pe)}},A=async H=>{y(H,!0);const Z=await e.resolver(s,e.context,aSe(H||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(H),Z},k=async H=>{const{errors:Z}=await A(H);if(H)for(const ee of H){const Se=Ue(Z,ee);Se?wn(n.errors,ee,Se):Lr(n.errors,ee)}else n.errors=Z;return Z},E=async(H,Z,ee={valid:!0})=>{for(const Se in H){const we=H[Se];if(we){const{_f:he,...Pe}=we;if(he){const rt=o.array.has(he.name),Tt=we._f&&oSe(we._f);Tt&&u.validatingFields&&y([Se],!0);const In=await nV(we,o.disabled,s,f,e.shouldUseNativeValidation&&!Z,rt);if(Tt&&u.validatingFields&&y([Se]),In[he.name]&&(ee.valid=!1,Z))break;!Z&&(Ue(In,he.name)?rt?fSe(n.errors,In,he.name):wn(n.errors,he.name,In[he.name]):Lr(n.errors,he.name))}!Ki(Pe)&&await E(Pe,Z,ee)}}return ee.valid},T=()=>{for(const H of o.unMount){const Z=Ue(r,H);Z&&(Z._f.refs?Z._f.refs.every(ee=>!AE(ee)):!AE(Z._f.ref))&&fe(H)}o.unMount=new Set},P=(H,Z)=>!e.disabled&&(H&&Z&&wn(s,H,Z),!Fc(W(),i)),N=(H,Z,ee)=>nSe(H,o,{...a.mount?s:Er(Z)?i:Lo(H)?{[H]:Z}:Z},ee,Z),O=H=>YA(Ue(a.mount?s:i,H,e.shouldUnregister?Ue(i,H,[]):[])),L=(H,Z,ee={})=>{const Se=Ue(r,H);let we=Z;if(Se){const he=Se._f;he&&(!he.disabled&&wn(s,H,xq(Z,he)),we=p1(he.ref)&&Ji(Z)?"":Z,gq(he.ref)?[...he.ref.options].forEach(Pe=>Pe.selected=we.includes(Pe.value)):he.refs?wb(he.ref)?he.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(we)?Pe.checked=!!we.find(rt=>rt===Pe.value):Pe.checked=we===Pe.value||!!we)}):he.refs.forEach(Pe=>Pe.checked=Pe.value===we):TM(he.ref)?he.ref.value="":(he.ref.value=we,he.ref.type||h.state.next({name:H,values:Ii(s)})))}(ee.shouldDirty||ee.shouldTouch)&&w(H,we,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&z(H)},$=(H,Z,ee)=>{for(const Se in Z){if(!Z.hasOwnProperty(Se))return;const we=Z[Se],he=`${H}.${Se}`,Pe=Ue(r,he);(o.array.has(H)||_r(we)||Pe&&!Pe._f)&&!Rd(we)?$(he,we,ee):L(he,we,ee)}},F=(H,Z,ee={})=>{const Se=Ue(r,H),we=o.array.has(H),he=Ii(Z);wn(s,H,he),we?(h.array.next({name:H,values:Ii(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&ee.shouldDirty&&h.state.next({name:H,dirtyFields:Xm(i,s),isDirty:P(H,he)})):Se&&!Se._f&&!Ji(he)?$(H,he,ee):L(H,he,ee),Jz(H,o)&&h.state.next({...n}),h.state.next({name:a.mount?H:void 0,values:Ii(s)})},B=async H=>{a.mount=!0;const Z=H.target;let ee=Z.name,Se=!0;const we=Ue(r,ee),he=Tt=>{Se=Number.isNaN(Tt)||Rd(Tt)&&isNaN(Tt.getTime())||Fc(Tt,Ue(s,ee,Tt))},Pe=Qz(e.mode),rt=Qz(e.reValidateMode);if(we){let Tt,In;const _i=Z.type?Kz(we._f):K1e(H),Gr=H.type===Hz.BLUR||H.type===Hz.FOCUS_OUT,Si=!lSe(we._f)&&!e.resolver&&!Ue(n.errors,ee)&&!we._f.deps||dSe(Gr,Ue(n.touchedFields,ee),n.isSubmitted,rt,Pe),wo=Jz(ee,o,Gr);wn(s,ee,_i),Gr?(we._f.onBlur&&we._f.onBlur(H),l&&l(0)):we._f.onChange&&we._f.onChange(H);const Is=w(ee,_i,Gr),Cn=!Ki(Is)||wo;if(!Gr&&h.state.next({name:ee,type:H.type,values:Ii(s)}),Si)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Gr&&p():Gr||p()),Cn&&h.state.next({name:ee,...wo?{}:Is});if(!Gr&&wo&&h.state.next({...n}),e.resolver){const{errors:ea}=await A([ee]);if(he(_i),Se){const gc=eV(n.errors,r,ee),Os=eV(ea,r,gc.name||ee);Tt=Os.error,ee=Os.name,In=Ki(ea)}}else y([ee],!0),Tt=(await nV(we,o.disabled,s,f,e.shouldUseNativeValidation))[ee],y([ee]),he(_i),Se&&(Tt?In=!1:(u.isValid||d.isValid)&&(In=await E(r,!0)));Se&&(we._f.deps&&z(we._f.deps),C(ee,In,Tt,Is))}},D=(H,Z)=>{if(Ue(n.errors,Z)&&H.focus)return H.focus(),1},z=async(H,Z={})=>{let ee,Se;const we=ev(H);if(e.resolver){const he=await k(Er(H)?H:we);ee=Ki(he),Se=H?!we.some(Pe=>Ue(he,Pe)):ee}else H?(Se=(await Promise.all(we.map(async he=>{const Pe=Ue(r,he);return await E(Pe&&Pe._f?{[he]:Pe}:Pe)}))).every(Boolean),!(!Se&&!n.isValid)&&p()):Se=ee=await E(r);return h.state.next({...!Lo(H)||(u.isValid||d.isValid)&&ee!==n.isValid?{}:{name:H},...e.resolver||!H?{isValid:ee}:{},errors:n.errors}),Z.shouldFocus&&!Se&&tv(r,D,H?we:o.mount),Se},W=H=>{const Z={...a.mount?s:i};return Er(H)?Z:Lo(H)?Ue(Z,H):H.map(ee=>Ue(Z,ee))},X=(H,Z)=>({invalid:!!Ue((Z||n).errors,H),isDirty:!!Ue((Z||n).dirtyFields,H),error:Ue((Z||n).errors,H),isValidating:!!Ue(n.validatingFields,H),isTouched:!!Ue((Z||n).touchedFields,H)}),q=H=>{H&&ev(H).forEach(Z=>Lr(n.errors,Z)),h.state.next({errors:H?n.errors:{}})},J=(H,Z,ee)=>{const Se=(Ue(r,H,{_f:{}})._f||{}).ref,we=Ue(n.errors,H)||{},{ref:he,message:Pe,type:rt,...Tt}=we;wn(n.errors,H,{...Tt,...Z,ref:Se}),h.state.next({name:H,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&Se&&Se.focus&&Se.focus()},ae=(H,Z)=>Ga(H)?h.state.subscribe({next:ee=>H(N(void 0,Z),ee)}):N(H,Z,!0),_e=H=>h.state.subscribe({next:Z=>{uSe(H.name,Z.name,H.exact)&&cSe(Z,H.formState||u,hn,H.reRenderRoot)&&H.callback({values:{...s},...n,...Z})}}).unsubscribe,K=H=>(a.mount=!0,d={...d,...H.formState},_e({...H,formState:d})),fe=(H,Z={})=>{for(const ee of H?ev(H):o.mount)o.mount.delete(ee),o.array.delete(ee),Z.keepValue||(Lr(r,ee),Lr(s,ee)),!Z.keepError&&Lr(n.errors,ee),!Z.keepDirty&&Lr(n.dirtyFields,ee),!Z.keepTouched&&Lr(n.touchedFields,ee),!Z.keepIsValidating&&Lr(n.validatingFields,ee),!e.shouldUnregister&&!Z.keepDefaultValue&&Lr(i,ee);h.state.next({values:Ii(s)}),h.state.next({...n,...Z.keepDirty?{isDirty:P()}:{}}),!Z.keepIsValid&&p()},Ne=({disabled:H,name:Z})=>{(Oo(H)&&a.mount||H||o.disabled.has(Z))&&(H?o.disabled.add(Z):o.disabled.delete(Z))},re=(H,Z={})=>{let ee=Ue(r,H);const Se=Oo(Z.disabled)||Oo(e.disabled);return wn(r,H,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:H}},name:H,mount:!0,...Z}}),o.mount.add(H),ee?Ne({disabled:Oo(Z.disabled)?Z.disabled:e.disabled,name:H}):_(H,!0,Z.value),{...Se?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Gm(Z.min),max:Gm(Z.max),minLength:Gm(Z.minLength),maxLength:Gm(Z.maxLength),pattern:Gm(Z.pattern)}:{},name:H,onChange:B,onBlur:B,ref:we=>{if(we){re(H,Z),ee=Ue(r,H);const he=Er(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,Pe=rSe(he),rt=ee._f.refs||[];if(Pe?rt.find(Tt=>Tt===he):he===ee._f.ref)return;wn(r,H,{_f:{...ee._f,...Pe?{refs:[...rt.filter(AE),he,...Array.isArray(Ue(i,H))?[{}]:[]],ref:{type:he.type,name:H}}:{ref:he}}}),_(H,!1,void 0,he)}else ee=Ue(r,H,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(Z1e(o.array,H)&&a.action)&&o.unMount.add(H)}}},ge=()=>e.shouldFocusError&&tv(r,D,o.mount),Ae=H=>{Oo(H)&&(h.state.next({disabled:H}),tv(r,(Z,ee)=>{const Se=Ue(r,ee);Se&&(Z.disabled=Se._f.disabled||H,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(we=>{we.disabled=Se._f.disabled||H}))},0,!1))},se=(H,Z)=>async ee=>{let Se;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let we=Ii(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:Pe}=await A();n.errors=he,we=Pe}else await E(r);if(o.disabled.size)for(const he of o.disabled)wn(we,he,void 0);if(Lr(n.errors,"root"),Ki(n.errors)){h.state.next({errors:{}});try{await H(we,ee)}catch(he){Se=he}}else Z&&await Z({...n.errors},ee),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ki(n.errors)&&!Se,submitCount:n.submitCount+1,errors:n.errors}),Se)throw Se},et=(H,Z={})=>{Ue(r,H)&&(Er(Z.defaultValue)?F(H,Ii(Ue(i,H))):(F(H,Z.defaultValue),wn(i,H,Ii(Z.defaultValue))),Z.keepTouched||Lr(n.touchedFields,H),Z.keepDirty||(Lr(n.dirtyFields,H),n.isDirty=Z.defaultValue?P(H,Ii(Ue(i,H))):P()),Z.keepError||(Lr(n.errors,H),u.isValid&&p()),h.state.next({...n}))},Ge=(H,Z={})=>{const ee=H?Ii(H):i,Se=Ii(ee),we=Ki(H),he=we?i:Se;if(Z.keepDefaultValues||(i=ee),!Z.keepValues){if(Z.keepDirtyValues){const Pe=new Set([...o.mount,...Object.keys(Xm(i,s))]);for(const rt of Array.from(Pe))Ue(n.dirtyFields,rt)?wn(he,rt,Ue(s,rt)):F(rt,Ue(he,rt))}else{if(kM&&Er(H))for(const Pe of o.mount){const rt=Ue(r,Pe);if(rt&&rt._f){const Tt=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(p1(Tt)){const In=Tt.closest("form");if(In){In.reset();break}}}}for(const Pe of o.mount)F(Pe,Ue(he,Pe))}s=Ii(he),h.array.next({values:{...he}}),h.state.next({values:{...he}})}o={mount:Z.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:we?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!Fc(H,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:we?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Xm(i,s):n.dirtyFields:Z.keepDefaultValues&&H?Xm(i,H):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ot=(H,Z)=>Ge(Ga(H)?H(s):H,Z),rn=(H,Z={})=>{const ee=Ue(r,H),Se=ee&&ee._f;if(Se){const we=Se.refs?Se.refs[0]:Se.ref;we.focus&&(we.focus(),Z.shouldSelect&&Ga(we.select)&&we.select())}},hn=H=>{n={...n,...H}},bn={control:{register:re,unregister:fe,getFieldState:X,handleSubmit:se,setError:J,_subscribe:_e,_runSchema:A,_getWatch:N,_getDirty:P,_setValid:p,_setFieldArray:v,_setDisabledField:Ne,_setErrors:b,_getFieldArray:O,_reset:Ge,_resetDefaultValues:()=>Ga(e.defaultValues)&&e.defaultValues().then(H=>{Ot(H,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Ae,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(H){a=H},get _defaultValues(){return i},get _names(){return o},set _names(H){o=H},get _formState(){return n},get _options(){return e},set _options(H){e={...e,...H}}},subscribe:K,trigger:z,register:re,handleSubmit:se,watch:ae,setValue:F,getValues:W,reset:Ot,resetField:et,clearErrors:q,unregister:fe,setError:J,setFocus:rn,getFieldState:X};return{...bn,formControl:bn}}function mSe(t={}){const e=U.useRef(void 0),n=U.useRef(void 0),[r,i]=U.useState({isDirty:!1,isValidating:!1,isLoading:Ga(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ga(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:gSe(t),formState:r},t.formControl&&t.defaultValues&&!Ga(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,tSe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),U.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),U.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!Ki(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),U.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),U.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),U.useEffect(()=>{t.values&&!Fc(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),U.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=eSe(r,s),e.current}const rV=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ue(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},wq=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?rV(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>rV(i,n,t))}},ySe=(t,e)=>{e.shouldUseNativeValidation&&wq(t,e);const n={};for(const r in t){const i=Ue(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(vSe(e.names||Object.keys(t),r)){const a=Object.assign({},Ue(n,r));wn(a,"root",s),wn(n,r,a)}else wn(n,r,s)}return n},vSe=(t,e)=>{const n=iV(e);return t.some(r=>iV(r).match(`^${n}\\.\\d+`))};function iV(t){return t.replace(/\]|\[/g,"")}function xSe(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[a].types,c=l&&l[r.code];n[a]=pq(a,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n}function bSe(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&wq({},s),{errors:{},values:n.raw?Object.assign({},r):c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:ySe(xSe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}}var Qt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Qt||(Qt={}));var sV;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(sV||(sV={}));const He=Qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ic=t=>{switch(typeof t){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(t)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(t)?He.array:t===null?He.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?He.promise:typeof Map<"u"&&t instanceof Map?He.map:typeof Set<"u"&&t instanceof Set?He.set:typeof Date<"u"&&t instanceof Date?He.date:He.object;default:return He.unknown}},be=Qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ql extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ql))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ql.create=t=>new Ql(t);const LI=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===He.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Qt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qt.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qt.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${Qt.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Qt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Qt.assertNever(t)}return{message:n}};let wSe=LI;function _Se(){return wSe}const SSe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Le(t,e){const n=_Se(),r=SSe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===LI?void 0:LI].filter(i=>!!i)});t.common.issues.push(r)}class qs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return vt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return qs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return vt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const vt=Object.freeze({status:"aborted"}),Cy=t=>({status:"dirty",value:t}),ka=t=>({status:"valid",value:t}),aV=t=>t.status==="aborted",oV=t=>t.status==="dirty",ig=t=>t.status==="valid",y1=t=>typeof Promise<"u"&&t instanceof Promise;var Xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Xe||(Xe={}));var v1=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},_q=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ky,Ey;class Du{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lV=(t,e)=>{if(ig(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ql(t.common.issues);return this._error=n,this._error}}};function Et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class Xt{get description(){return this._def.description}_getType(e){return Ic(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ic(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qs,ctx:{common:e.parent.common,data:e.data,parsedType:Ic(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(y1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ic(e)},i=this._parseSync({data:e,path:r.path,parent:r});return lV(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ic(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return ig(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>ig(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ic(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(y1(i)?i:Promise.resolve(i));return lV(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:be.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new og({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Su.create(this,this._def)}nullable(){return lg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yo.create(this)}promise(){return _1.create(this,this._def)}or(e){return b1.create([this,e],this._def)}and(e){return w1.create(this,e,this._def)}transform(e){return new og({...Et(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new $I({...Et(this._def),innerType:this,defaultValue:n,typeName:ht.ZodDefault})}brand(){return new YSe({typeName:ht.ZodBranded,type:this,...Et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new BI({...Et(this._def),innerType:this,catchValue:n,typeName:ht.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return IM.create(this,e)}readonly(){return zI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ASe=/^c[^\s-]{8,}$/i,CSe=/^[0-9a-z]+$/,kSe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ESe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TSe=/^[a-z0-9_-]{21}$/i,PSe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ISe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OSe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NSe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let CE;const RSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FSe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$Se=new RegExp(`^${Sq}$`);function Aq(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function BSe(t){return new RegExp(`^${Aq(t)}$`)}function zSe(t){let e=`${Sq}T${Aq(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function VSe(t,e){return!!((e==="v4"||!e)&&RSe.test(t)||(e==="v6"||!e)&&DSe.test(t))}function USe(t,e){if(!PSe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function WSe(t,e){return!!((e==="v4"||!e)&&MSe.test(t)||(e==="v6"||!e)&&jSe.test(t))}class su extends Xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==He.string){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:He.string,received:s.parsedType}),vt}const r=new qs;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Le(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Le(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")OSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"email",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")CE||(CE=new RegExp(NSe,"u")),CE.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"emoji",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")ESe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"uuid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")TSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"nanoid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ASe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")CSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid2",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")kSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ulid",code:be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Le(i,{validation:"url",code:be.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"regex",code:be.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?zSe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$Se.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?BSe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:be.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?ISe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"duration",code:be.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?VSe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ip",code:be.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?USe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"jwt",code:be.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?WSe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cidr",code:be.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?LSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"base64",code:be.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?FSe.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"base64url",code:be.invalid_string,message:s.message}),r.dirty()):Qt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:be.invalid_string,...Xe.errToObj(r)})}_addCheck(e){return new su({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Xe.errToObj(n)})}nonempty(e){return this.min(1,Xe.errToObj(e))}trim(){return new su({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new su({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new su({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}su.create=t=>new su({checks:[],typeName:ht.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Et(t)});function HSe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class sg extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==He.number){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:He.number,received:s.parsedType}),vt}let r;const i=new qs;for(const s of this._def.checks)s.kind==="int"?Qt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?HSe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_finite,message:s.message}),i.dirty()):Qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new sg({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new sg({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sg.create=t=>new sg({checks:[],typeName:ht.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Et(t)});class qv extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==He.bigint)return this._getInvalidInput(e);let r;const i=new qs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Qt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Le(n,{code:be.invalid_type,expected:He.bigint,received:n.parsedType}),vt}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new qv({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new qv({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qv.create=t=>new qv({checks:[],typeName:ht.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Et(t)});class cV extends Xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.boolean,received:r.parsedType}),vt}return ka(e.data)}}cV.create=t=>new cV({typeName:ht.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Et(t)});class x1 extends Xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==He.date){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_type,expected:He.date,received:s.parsedType}),vt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Le(s,{code:be.invalid_date}),vt}const r=new qs;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Qt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new x1({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}x1.create=t=>new x1({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ht.ZodDate,...Et(t)});class uV extends Xt{_parse(e){if(this._getType(e)!==He.symbol){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.symbol,received:r.parsedType}),vt}return ka(e.data)}}uV.create=t=>new uV({typeName:ht.ZodSymbol,...Et(t)});class dV extends Xt{_parse(e){if(this._getType(e)!==He.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.undefined,received:r.parsedType}),vt}return ka(e.data)}}dV.create=t=>new dV({typeName:ht.ZodUndefined,...Et(t)});class hV extends Xt{_parse(e){if(this._getType(e)!==He.null){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.null,received:r.parsedType}),vt}return ka(e.data)}}hV.create=t=>new hV({typeName:ht.ZodNull,...Et(t)});class Kv extends Xt{constructor(){super(...arguments),this._any=!0}_parse(e){return ka(e.data)}}Kv.create=t=>new Kv({typeName:ht.ZodAny,...Et(t)});class fV extends Xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ka(e.data)}}fV.create=t=>new fV({typeName:ht.ZodUnknown,...Et(t)});class ju extends Xt{_parse(e){const n=this._getOrReturnCtx(e);return Le(n,{code:be.invalid_type,expected:He.never,received:n.parsedType}),vt}}ju.create=t=>new ju({typeName:ht.ZodNever,...Et(t)});class pV extends Xt{_parse(e){if(this._getType(e)!==He.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.void,received:r.parsedType}),vt}return ka(e.data)}}pV.create=t=>new pV({typeName:ht.ZodVoid,...Et(t)});class Yo extends Xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==He.array)return Le(n,{code:be.invalid_type,expected:He.array,received:n.parsedType}),vt;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Le(n,{code:a?be.too_big:be.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Le(n,{code:be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Le(n,{code:be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Du(n,a,n.path,o)))).then(a=>qs.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Du(n,a,n.path,o)));return qs.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Yo({...this._def,minLength:{value:e,message:Xe.toString(n)}})}max(e,n){return new Yo({...this._def,maxLength:{value:e,message:Xe.toString(n)}})}length(e,n){return new Yo({...this._def,exactLength:{value:e,message:Xe.toString(n)}})}nonempty(e){return this.min(1,e)}}Yo.create=(t,e)=>new Yo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...Et(e)});function $f(t){if(t instanceof kr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Su.create($f(r))}return new kr({...t._def,shape:()=>e})}else return t instanceof Yo?new Yo({...t._def,type:$f(t.element)}):t instanceof Su?Su.create($f(t.unwrap())):t instanceof lg?lg.create($f(t.unwrap())):t instanceof Eh?Eh.create(t.items.map(e=>$f(e))):t}class kr extends Xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==He.object){const c=this._getOrReturnCtx(e);return Le(c,{code:be.invalid_type,expected:He.object,received:c.parsedType}),vt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ju&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Du(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ju){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Le(i,{code:be.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Du(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>qs.mergeObjectSync(r,c)):qs.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Xe.errToObj,new kr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Xe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new kr({...this._def,unknownKeys:"strip"})}passthrough(){return new kr({...this._def,unknownKeys:"passthrough"})}extend(e){return new kr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new kr({...this._def,catchall:e})}pick(e){const n={};for(const r of Qt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new kr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Qt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new kr({...this._def,shape:()=>n})}deepPartial(){return $f(this)}partial(e){const n={};for(const r of Qt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new kr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Qt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Su;)s=s._def.innerType;n[r]=s}return new kr({...this._def,shape:()=>n})}keyof(){return Cq(Qt.objectKeys(this.shape))}}kr.create=(t,e)=>new kr({shape:()=>t,unknownKeys:"strip",catchall:ju.create(),typeName:ht.ZodObject,...Et(e)});kr.strictCreate=(t,e)=>new kr({shape:()=>t,unknownKeys:"strict",catchall:ju.create(),typeName:ht.ZodObject,...Et(e)});kr.lazycreate=(t,e)=>new kr({shape:t,unknownKeys:"strip",catchall:ju.create(),typeName:ht.ZodObject,...Et(e)});class b1 extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Ql(o.ctx.common.issues));return Le(n,{code:be.invalid_union,unionErrors:a}),vt}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Ql(l));return Le(n,{code:be.invalid_union,unionErrors:o}),vt}}get options(){return this._def.options}}b1.create=(t,e)=>new b1({options:t,typeName:ht.ZodUnion,...Et(e)});function FI(t,e){const n=Ic(t),r=Ic(e);if(t===e)return{valid:!0,data:t};if(n===He.object&&r===He.object){const i=Qt.objectKeys(e),s=Qt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=FI(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===He.array&&r===He.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=FI(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===He.date&&r===He.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class w1 extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(aV(s)||aV(a))return vt;const o=FI(s.value,a.value);return o.valid?((oV(s)||oV(a))&&n.dirty(),{status:n.value,value:o.data}):(Le(r,{code:be.invalid_intersection_types}),vt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}w1.create=(t,e,n)=>new w1({left:t,right:e,typeName:ht.ZodIntersection,...Et(n)});class Eh extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.array)return Le(r,{code:be.invalid_type,expected:He.array,received:r.parsedType}),vt;if(r.data.length<this._def.items.length)return Le(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),vt;!this._def.rest&&r.data.length>this._def.items.length&&(Le(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Du(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>qs.mergeArray(n,a)):qs.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Eh({...this._def,rest:e})}}Eh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Eh({items:t,typeName:ht.ZodTuple,rest:null,...Et(e)})};class gV extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.map)return Le(r,{code:be.invalid_type,expected:He.map,received:r.parsedType}),vt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new Du(r,o,r.path,[c,"key"])),value:s._parse(new Du(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return vt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return vt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}gV.create=(t,e,n)=>new gV({valueType:e,keyType:t,typeName:ht.ZodMap,...Et(n)});class Qv extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==He.set)return Le(r,{code:be.invalid_type,expected:He.set,received:r.parsedType}),vt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Le(r,{code:be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Le(r,{code:be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return vt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new Du(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Qv({...this._def,minSize:{value:e,message:Xe.toString(n)}})}max(e,n){return new Qv({...this._def,maxSize:{value:e,message:Xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qv.create=(t,e)=>new Qv({valueType:t,minSize:null,maxSize:null,typeName:ht.ZodSet,...Et(e)});class mV extends Xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mV.create=(t,e)=>new mV({getter:t,typeName:ht.ZodLazy,...Et(e)});class yV extends Xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Le(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),vt}return{status:"valid",value:e.data}}get value(){return this._def.value}}yV.create=(t,e)=>new yV({value:t,typeName:ht.ZodLiteral,...Et(e)});function Cq(t,e){return new ag({values:t,typeName:ht.ZodEnum,...Et(e)})}class ag extends Xt{constructor(){super(...arguments),ky.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{expected:Qt.joinValues(r),received:n.parsedType,code:be.invalid_type}),vt}if(v1(this,ky,"f")||_q(this,ky,new Set(this._def.values),"f"),!v1(this,ky,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{received:n.data,code:be.invalid_enum_value,options:r}),vt}return ka(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ag.create(e,{...this._def,...n})}exclude(e,n=this._def){return ag.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ky=new WeakMap;ag.create=Cq;class vV extends Xt{constructor(){super(...arguments),Ey.set(this,void 0)}_parse(e){const n=Qt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==He.string&&r.parsedType!==He.number){const i=Qt.objectValues(n);return Le(r,{expected:Qt.joinValues(i),received:r.parsedType,code:be.invalid_type}),vt}if(v1(this,Ey,"f")||_q(this,Ey,new Set(Qt.getValidEnumValues(this._def.values)),"f"),!v1(this,Ey,"f").has(e.data)){const i=Qt.objectValues(n);return Le(r,{received:r.data,code:be.invalid_enum_value,options:i}),vt}return ka(e.data)}get enum(){return this._def.values}}Ey=new WeakMap;vV.create=(t,e)=>new vV({values:t,typeName:ht.ZodNativeEnum,...Et(e)});class _1 extends Xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==He.promise&&n.common.async===!1)return Le(n,{code:be.invalid_type,expected:He.promise,received:n.parsedType}),vt;const r=n.parsedType===He.promise?n.data:Promise.resolve(n.data);return ka(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_1.create=(t,e)=>new _1({type:t,typeName:ht.ZodPromise,...Et(e)});class og extends Xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Le(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return vt;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?vt:l.status==="dirty"||n.value==="dirty"?Cy(l.value):l});{if(n.value==="aborted")return vt;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?vt:o.status==="dirty"||n.value==="dirty"?Cy(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?vt:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?vt:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ig(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ig(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);Qt.assertNever(i)}}og.create=(t,e,n)=>new og({schema:t,typeName:ht.ZodEffects,effect:e,...Et(n)});og.createWithPreprocess=(t,e,n)=>new og({schema:e,effect:{type:"preprocess",transform:t},typeName:ht.ZodEffects,...Et(n)});class Su extends Xt{_parse(e){return this._getType(e)===He.undefined?ka(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:ht.ZodOptional,...Et(e)});class lg extends Xt{_parse(e){return this._getType(e)===He.null?ka(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lg.create=(t,e)=>new lg({innerType:t,typeName:ht.ZodNullable,...Et(e)});class $I extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===He.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$I.create=(t,e)=>new $I({innerType:t,typeName:ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Et(e)});class BI extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return y1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ql(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ql(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}BI.create=(t,e)=>new BI({innerType:t,typeName:ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Et(e)});class xV extends Xt{_parse(e){if(this._getType(e)!==He.nan){const r=this._getOrReturnCtx(e);return Le(r,{code:be.invalid_type,expected:He.nan,received:r.parsedType}),vt}return{status:"valid",value:e.data}}}xV.create=t=>new xV({typeName:ht.ZodNaN,...Et(t)});class YSe extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class IM extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?vt:s.status==="dirty"?(n.dirty(),Cy(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?vt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new IM({in:e,out:n,typeName:ht.ZodPipeline})}}class zI extends Xt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ig(i)&&(i.value=Object.freeze(i.value)),i);return y1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}zI.create=(t,e)=>new zI({innerType:t,typeName:ht.ZodReadonly,...Et(e)});function bV(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function XSe(t,e={},n){return t?Kv.create().superRefine((r,i)=>{const s=t(r);if(s instanceof Promise)return s.then(a=>{if(!a){const o=bV(e,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}});if(!s){const a=bV(e,r),o=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:o})}}):Kv.create()}var ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ht||(ht={}));const GSe=(t,e={message:`Input not instance of ${t.name}`})=>XSe(n=>n instanceof t,e),hd=su.create,wV=sg.create;Kv.create;ju.create;Yo.create;const qSe=kr.create;b1.create;w1.create;Eh.create;ag.create;_1.create;Su.create;lg.create;async function KSe(t,e){const n=Z2(gpe,`cards/${e}/${Date.now()}-${t.name}`);return await K2(n,t),Q2(n)}const tn=I.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:Dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));tn.displayName="Input";function QSe(t,e=globalThis==null?void 0:globalThis.document){const n=tl(t);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZSe="DismissableLayer",VI="dismissableLayer.update",JSe="dismissableLayer.pointerDownOutside",eAe="dismissableLayer.focusOutside",_V,kq=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XA=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=I.useContext(kq),[u,d]=I.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=I.useState({}),g=Yr(e,A=>d(A)),p=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(y),x=u?p.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,w=rAe(A=>{const k=A.target,E=[...c.branches].some(T=>T.contains(k));!_||E||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},h),C=iAe(A=>{const k=A.target;[...c.branches].some(T=>T.contains(k))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},h);return QSe(A=>{x===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),I.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_V=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),SV(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_V)}},[u,h,n,c]),I.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),SV())},[u,c]),I.useEffect(()=>{const A=()=>f({});return document.addEventListener(VI,A),()=>document.removeEventListener(VI,A)},[]),m.jsx(dn.div,{...l,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:lt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:lt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:lt(t.onPointerDownCapture,w.onPointerDownCapture)})});XA.displayName=ZSe;var tAe="DismissableLayerBranch",nAe=I.forwardRef((t,e)=>{const n=I.useContext(kq),r=I.useRef(null),i=Yr(e,r);return I.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(dn.div,{...t,ref:i})});nAe.displayName=tAe;function rAe(t,e=globalThis==null?void 0:globalThis.document){const n=tl(t),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){Eq(JSe,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iAe(t,e=globalThis==null?void 0:globalThis.document){const n=tl(t),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&Eq(eAe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SV(){const t=new CustomEvent(VI);document.dispatchEvent(t)}function Eq(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?O8(i,s):i.dispatchEvent(s)}var kE="focusScope.autoFocusOnMount",EE="focusScope.autoFocusOnUnmount",AV={bubbles:!1,cancelable:!0},sAe="FocusScope",GA=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=I.useState(null),c=tl(i),u=tl(s),d=I.useRef(null),h=Yr(e,p=>l(p)),f=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let p=function(b){if(f.paused||!o)return;const _=b.target;o.contains(_)?d.current=_:Ec(d.current,{select:!0})},y=function(b){if(f.paused||!o)return;const _=b.relatedTarget;_!==null&&(o.contains(_)||Ec(d.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&Ec(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),x.disconnect()}}},[r,o,f.paused]),I.useEffect(()=>{if(o){kV.add(f);const p=document.activeElement;if(!o.contains(p)){const v=new CustomEvent(kE,AV);o.addEventListener(kE,c),o.dispatchEvent(v),v.defaultPrevented||(aAe(dAe(Tq(o)),{select:!0}),document.activeElement===p&&Ec(o))}return()=>{o.removeEventListener(kE,c),setTimeout(()=>{const v=new CustomEvent(EE,AV);o.addEventListener(EE,u),o.dispatchEvent(v),v.defaultPrevented||Ec(p??document.body,{select:!0}),o.removeEventListener(EE,u),kV.remove(f)},0)}}},[o,c,u,f]);const g=I.useCallback(p=>{if(!n&&!r||f.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(y&&v){const x=p.currentTarget,[b,_]=oAe(x);b&&_?!p.shiftKey&&v===_?(p.preventDefault(),n&&Ec(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),n&&Ec(_,{select:!0})):v===x&&p.preventDefault()}},[n,r,f.paused]);return m.jsx(dn.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});GA.displayName=sAe;function aAe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ec(r,{select:e}),document.activeElement!==n)return}function oAe(t){const e=Tq(t),n=CV(e,t),r=CV(e.reverse(),t);return[n,r]}function Tq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CV(t,e){for(const n of t)if(!lAe(n,{upTo:e}))return n}function lAe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cAe(t){return t instanceof HTMLInputElement&&"select"in t}function Ec(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cAe(t)&&e&&t.select()}}var kV=uAe();function uAe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=EV(t,e),t.unshift(e)},remove(e){var n;t=EV(t,e),(n=t[0])==null||n.resume()}}}function EV(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dAe(t){return t.filter(e=>e.tagName!=="A")}var hAe="Portal",qA=I.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=I.useState(!1);fo(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?s9.createPortal(m.jsx(dn.div,{...r,ref:e}),a):null});qA.displayName=hAe;var TE=0;function OM(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??TV()),document.body.insertAdjacentElement("beforeend",t[1]??TV()),TE++,()=>{TE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),TE--}},[])}function TV(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var e_="right-scroll-bar-position",t_="width-before-scroll-bar",fAe="with-scroll-bars-hidden",pAe="--removed-body-scroll-bar-size";function PE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gAe(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mAe=typeof window<"u"?I.useLayoutEffect:I.useEffect,PV=new WeakMap;function yAe(t,e){var n=gAe(null,function(r){return t.forEach(function(i){return PE(i,r)})});return mAe(function(){var r=PV.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||PE(o,null)}),s.forEach(function(o){i.has(o)||PE(o,a)})}PV.set(n,t)},[t]),n}function vAe(t){return t}function xAe(t,e){e===void 0&&(e=vAe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function bAe(t){t===void 0&&(t={});var e=xAe(null);return e.options=jo({async:!0,ssr:!1},t),e}var Pq=function(t){var e=t.sideCar,n=tb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,jo({},n))};Pq.isSideCarExport=!0;function wAe(t,e){return t.useMedium(e),Pq}var Iq=bAe(),IE=function(){},KA=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:IE,onWheelCapture:IE,onTouchMoveCapture:IE}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,p=t.inert,y=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,b=t.gapMode,_=tb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,C=yAe([n,e]),A=jo(jo({},_),i);return I.createElement(I.Fragment,null,u&&I.createElement(w,{sideCar:Iq,removeScrollBar:c,shards:d,noRelative:f,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?I.cloneElement(I.Children.only(o),jo(jo({},A),{ref:C})):I.createElement(x,jo({},A,{className:l,ref:C}),o))});KA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KA.classNames={fullWidth:t_,zeroRight:e_};var _Ae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SAe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_Ae();return e&&t.setAttribute("nonce",e),t}function AAe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CAe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kAe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SAe())&&(AAe(e,n),CAe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EAe=function(){var t=kAe();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Oq=function(){var t=EAe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},TAe={left:0,top:0,right:0,gap:0},OE=function(t){return parseInt(t||"",10)||0},PAe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[OE(n),OE(r),OE(i)]},IAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TAe;var e=PAe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},OAe=Oq(),mp="data-scroll-locked",NAe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fAe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(mp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(e_,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(t_,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(e_," .").concat(e_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(t_," .").concat(t_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mp,`] {
    `).concat(pAe,": ").concat(o,`px;
  }
`)},IV=function(){var t=parseInt(document.body.getAttribute(mp)||"0",10);return isFinite(t)?t:0},RAe=function(){I.useEffect(function(){return document.body.setAttribute(mp,(IV()+1).toString()),function(){var t=IV()-1;t<=0?document.body.removeAttribute(mp):document.body.setAttribute(mp,t.toString())}},[])},MAe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;RAe();var s=I.useMemo(function(){return IAe(i)},[i]);return I.createElement(OAe,{styles:NAe(s,!e,i,n?"":"!important")})},UI=!1;if(typeof window<"u")try{var q0=Object.defineProperty({},"passive",{get:function(){return UI=!0,!0}});window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{UI=!1}var Af=UI?{passive:!1}:!1,DAe=function(t){return t.tagName==="TEXTAREA"},Nq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DAe(t)&&n[e]==="visible")},jAe=function(t){return Nq(t,"overflowY")},LAe=function(t){return Nq(t,"overflowX")},OV=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Rq(t,r);if(i){var s=Mq(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FAe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$Ae=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Rq=function(t,e){return t==="v"?jAe(e):LAe(e)},Mq=function(t,e){return t==="v"?FAe(e):$Ae(e)},BAe=function(t,e){return t==="h"&&e==="rtl"?-1:1},zAe=function(t,e,n,r,i){var s=BAe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,u=a>0,d=0,h=0;do{var f=Mq(t,o),g=f[0],p=f[1],y=f[2],v=p-y-s*g;(g||v)&&Rq(t,o)&&(d+=v,h+=g),o=o.parentNode.host||o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},K0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},NV=function(t){return[t.deltaX,t.deltaY]},RV=function(t){return t&&"current"in t?t.current:t},VAe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WAe=0,Cf=[];function HAe(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),i=I.useState(WAe++)[0],s=I.useState(Oq)[0],a=I.useRef(t);I.useEffect(function(){a.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=Boe([t.lockRef.current],(t.shards||[]).map(RV),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=I.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var v=K0(p),x=n.current,b="deltaX"in p?p.deltaX:x[0]-v[0],_="deltaY"in p?p.deltaY:x[1]-v[1],w,C=p.target,A=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&A==="h"&&C.type==="range")return!1;var k=OV(A,C);if(!k)return!0;if(k?w=A:(w=A==="v"?"h":"v",k=OV(A,C)),!k)return!1;if(!r.current&&"changedTouches"in p&&(b||_)&&(r.current=w),!w)return!0;var E=r.current||w;return zAe(E,y,p,E==="h"?b:_)},[]),l=I.useCallback(function(p){var y=p;if(!(!Cf.length||Cf[Cf.length-1]!==s)){var v="deltaY"in y?NV(y):K0(y),x=e.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&VAe(w.delta,v)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(RV).filter(Boolean).filter(function(w){return w.contains(y.target)}),_=b.length>0?o(y,b[0]):!a.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=I.useCallback(function(p,y,v,x){var b={name:p,delta:y,target:v,should:x,shadowParent:YAe(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),u=I.useCallback(function(p){n.current=K0(p),r.current=void 0},[]),d=I.useCallback(function(p){c(p.type,NV(p),p.target,o(p,t.lockRef.current))},[]),h=I.useCallback(function(p){c(p.type,K0(p),p.target,o(p,t.lockRef.current))},[]);I.useEffect(function(){return Cf.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Af),document.addEventListener("touchmove",l,Af),document.addEventListener("touchstart",u,Af),function(){Cf=Cf.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Af),document.removeEventListener("touchmove",l,Af),document.removeEventListener("touchstart",u,Af)}},[]);var f=t.removeScrollBar,g=t.inert;return I.createElement(I.Fragment,null,g?I.createElement(s,{styles:UAe(i)}):null,f?I.createElement(MAe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XAe=wAe(Iq,HAe);var QA=I.forwardRef(function(t,e){return I.createElement(KA,jo({},t,{ref:e,sideCar:XAe}))});QA.classNames=KA.classNames;var GAe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},kf=new WeakMap,Q0=new WeakMap,Z0={},NE=0,Dq=function(t){return t&&(t.host||Dq(t.parentNode))},qAe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Dq(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},KAe=function(t,e,n,r){var i=qAe(e,Array.isArray(t)?t:[t]);Z0[n]||(Z0[n]=new WeakMap);var s=Z0[n],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var f=h.getAttribute(r),g=f!==null&&f!=="false",p=(kf.get(h)||0)+1,y=(s.get(h)||0)+1;kf.set(h,p),s.set(h,y),a.push(h),p===1&&g&&Q0.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),o.clear(),NE++,function(){a.forEach(function(d){var h=kf.get(d)-1,f=s.get(d)-1;kf.set(d,h),s.set(d,f),h||(Q0.has(d)||d.removeAttribute(r),Q0.delete(d)),f||d.removeAttribute(n)}),NE--,NE||(kf=new WeakMap,kf=new WeakMap,Q0=new WeakMap,Z0={})}},NM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=GAe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),KAe(r,i,n,"aria-hidden")):function(){return null}},ZA="Dialog",[jq,FJe]=cc(ZA),[QAe,vo]=jq(ZA),Lq=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=I.useRef(null),l=I.useRef(null),[c,u]=gb({prop:r,defaultProp:i??!1,onChange:s,caller:ZA});return m.jsx(QAe,{scope:e,triggerRef:o,contentRef:l,contentId:bu(),titleId:bu(),descriptionId:bu(),open:c,onOpenChange:u,onOpenToggle:I.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};Lq.displayName=ZA;var Fq="DialogTrigger",$q=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vo(Fq,n),s=Yr(e,i.triggerRef);return m.jsx(dn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DM(i.open),...r,ref:s,onClick:lt(t.onClick,i.onOpenToggle)})});$q.displayName=Fq;var RM="DialogPortal",[ZAe,Bq]=jq(RM,{forceMount:void 0}),zq=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=vo(RM,e);return m.jsx(ZAe,{scope:e,forceMount:n,children:I.Children.map(r,a=>m.jsx(yo,{present:n||s.open,children:m.jsx(qA,{asChild:!0,container:i,children:a})}))})};zq.displayName=RM;var S1="DialogOverlay",Vq=I.forwardRef((t,e)=>{const n=Bq(S1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vo(S1,t.__scopeDialog);return s.modal?m.jsx(yo,{present:r||s.open,children:m.jsx(eCe,{...i,ref:e})}):null});Vq.displayName=S1;var JAe=Ah("DialogOverlay.RemoveScroll"),eCe=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vo(S1,n);return m.jsx(QA,{as:JAe,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(dn.div,{"data-state":DM(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Th="DialogContent",Uq=I.forwardRef((t,e)=>{const n=Bq(Th,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=vo(Th,t.__scopeDialog);return m.jsx(yo,{present:r||s.open,children:s.modal?m.jsx(tCe,{...i,ref:e}):m.jsx(nCe,{...i,ref:e})})});Uq.displayName=Th;var tCe=I.forwardRef((t,e)=>{const n=vo(Th,t.__scopeDialog),r=I.useRef(null),i=Yr(e,n.contentRef,r);return I.useEffect(()=>{const s=r.current;if(s)return NM(s)},[]),m.jsx(Wq,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:lt(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:lt(t.onFocusOutside,s=>s.preventDefault())})}),nCe=I.forwardRef((t,e)=>{const n=vo(Th,t.__scopeDialog),r=I.useRef(!1),i=I.useRef(!1);return m.jsx(Wq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Wq=I.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=vo(Th,n),l=I.useRef(null),c=Yr(e,l);return OM(),m.jsxs(m.Fragment,{children:[m.jsx(GA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(XA,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":DM(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(rCe,{titleId:o.titleId}),m.jsx(sCe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),MM="DialogTitle",Hq=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vo(MM,n);return m.jsx(dn.h2,{id:i.titleId,...r,ref:e})});Hq.displayName=MM;var Yq="DialogDescription",Xq=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vo(Yq,n);return m.jsx(dn.p,{id:i.descriptionId,...r,ref:e})});Xq.displayName=Yq;var Gq="DialogClose",qq=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vo(Gq,n);return m.jsx(dn.button,{type:"button",...r,ref:e,onClick:lt(t.onClick,()=>i.onOpenChange(!1))})});qq.displayName=Gq;function DM(t){return t?"open":"closed"}var Kq="DialogTitleWarning",[$Je,Qq]=mme(Kq,{contentName:Th,titleName:MM,docsSlug:"dialog"}),rCe=({titleId:t})=>{const e=Qq(Kq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},iCe="DialogDescriptionWarning",sCe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qq(iCe).contentName}}.`;return I.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},aCe=Lq,oCe=$q,lCe=zq,Zq=Vq,Jq=Uq,e7=Hq,t7=Xq,n7=qq;const Xo=aCe,n_=oCe,cCe=lCe,uCe=n7,r7=I.forwardRef(({className:t,...e},n)=>m.jsx(Zq,{ref:n,className:Dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));r7.displayName=Zq.displayName;const so=I.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(cCe,{children:[m.jsx(r7,{}),m.jsxs(Jq,{ref:r,className:Dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-48 data-[state=closed]:slide-out-to-top-[48px] data-[state=open]:slide-in-from-left-48 data-[state=open]:slide-in-from-top-[48px] sm:rounded-lg max-h-[90vh] overflow-y-auto",t),...n,children:[e,m.jsxs(n7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(vb,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));so.displayName=Jq.displayName;const ao=({className:t,...e})=>m.jsx("div",{className:Dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ao.displayName="DialogHeader";const Go=({className:t,...e})=>m.jsx("div",{className:Dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Go.displayName="DialogFooter";const oo=I.forwardRef(({className:t,...e},n)=>m.jsx(e7,{ref:n,className:Dt("text-lg font-semibold leading-none tracking-tight",t),...e}));oo.displayName=e7.displayName;const yp=I.forwardRef(({className:t,...e},n)=>m.jsx(t7,{ref:n,className:Dt("text-sm text-muted-foreground",t),...e}));yp.displayName=t7.displayName;const dCe=qSe({playerName:hd().min(1,"Player name is required"),year:hd().min(1,"Year is required"),cardSet:hd().min(1,"Card set is required"),variation:hd().optional(),cardNumber:hd().min(1,"Card number is required"),condition:hd().min(1,"Condition is required"),pricePaid:wV().optional(),currentValue:wV().optional(),image:GSe(File).optional(),tags:hd().optional()});function hCe({isOpen:t,onClose:e,onCardAdded:n}){const{user:r}=jn(),{addCard:i}=Qh(),[s,a]=I.useState(!1),{register:o,handleSubmit:l,reset:c,setValue:u,formState:{errors:d}}=mSe({resolver:bSe(dCe)}),h=async f=>{if(r)try{a(!0);let g;f.image&&(g=await KSe(f.image,r.uid));const{image:p,tags:y,...v}=f,x={...v,ownerId:r.uid,...g?{imageUrl:g}:{},...y?{tags:y.split(",").map(b=>b.trim()).filter(Boolean)}:{}};await i({...x,tags:x.tags||[]}),c(),e(),n==null||n(),ce.success("Card added successfully")}catch(g){console.error("Error adding card:",g),ce.error("Failed to add card")}finally{a(!1)}};return m.jsx(Xo,{open:t,onOpenChange:e,children:m.jsxs(so,{className:"max-h-[90vh] overflow-y-auto bg-white",children:[m.jsx(ao,{children:m.jsx(oo,{className:"text-2xl font-bold text-gray-900",children:"Add New Card"})}),m.jsxs("form",{onSubmit:l(h),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Player Name *"}),m.jsx(tn,{...o("playerName"),className:"mt-1",placeholder:"Enter player name (e.g., LeBron James)"}),d.playerName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.playerName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Year *"}),m.jsx(tn,{...o("year"),className:"mt-1",placeholder:"Enter card year (e.g., 2023)"}),d.year&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.year.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Card Set *"}),m.jsx(tn,{...o("cardSet"),className:"mt-1",placeholder:"Enter card set (e.g., Prizm, Topps Chrome)"}),d.cardSet&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.cardSet.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Variation (Optional)"}),m.jsx(tn,{...o("variation"),className:"mt-1",placeholder:"Enter card variation (e.g., Silver, Refractor)"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Card Number *"}),m.jsx(tn,{...o("cardNumber"),className:"mt-1",placeholder:"Enter card number (e.g., #23, 123)"}),d.cardNumber&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.cardNumber.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Condition *"}),m.jsx(tn,{...o("condition"),placeholder:"Enter grading company and grade (e.g., PSA 9, BGS 9.5) or 'Raw'",className:"mt-1"}),d.condition&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.condition.message}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Examples: PSA 10, BGS 9.5, SGC 9, Raw NM-MT"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Price Paid"}),m.jsx(tn,{type:"number",step:"0.01",...o("pricePaid",{valueAsNumber:!0,onChange:f=>{const g=parseFloat(f.target.value);isNaN(g)||(f.target.value=g.toFixed(2))}}),className:"mt-1",placeholder:"0.00"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Current Value"}),m.jsx(tn,{type:"number",step:"0.01",...o("currentValue",{valueAsNumber:!0,onChange:f=>{const g=parseFloat(f.target.value);isNaN(g)||(f.target.value=g.toFixed(2))}}),className:"mt-1",placeholder:"0.00"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Tags (comma separated)"}),m.jsx(tn,{...o("tags"),placeholder:"e.g. Rookie, Jazz, Holo",className:"mt-1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Card Image (Optional)"}),m.jsx(tn,{type:"file",accept:"image/*",onChange:f=>{var p;const g=(p=f.target.files)==null?void 0:p[0];g&&u("image",g)},className:"mt-1"})]}),m.jsxs("div",{className:"flex justify-between pt-4",children:[m.jsx("div",{className:"text-sm text-gray-500",children:"* Required fields"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(xe,{type:"button",variant:"outline",onClick:e,disabled:s,className:"text-gray-900",children:"Cancel"}),m.jsx(xe,{type:"submit",disabled:s,children:s?"Adding...":"Add Card"})]})]})]})]})})}const MV=[10,25,50,100];function fCe({onEditCard:t,cards:e,onUpdateCard:n,updatingCardIds:r=[]}){const{user:i}=jn(),[s,a]=I.useState(1),[o,l]=I.useState(10),[c,u]=I.useState("createdAt"),[d,h]=I.useState("desc"),[f,g]=I.useState(""),p=lc(),y=I.useMemo(()=>{const C=new Set;return e.forEach(A=>{var k;(k=A.tags)==null||k.forEach(E=>C.add(E))}),Array.from(C).sort()},[e]),v=I.useMemo(()=>{let C=e;return f&&(C=C.filter(A=>{var k;return(k=A.tags)==null?void 0:k.includes(f)})),[...C].sort((A,k)=>{let E=0;switch(c){case"createdAt":const T=A.createdAt?new Date(A.createdAt).getTime():0,P=k.createdAt?new Date(k.createdAt).getTime():0;E=T-P;break;case"playerName":E=(A.playerName||"").localeCompare(k.playerName||"");break;case"value":E=(A.currentValue||A.price||0)-(k.currentValue||k.price||0);break;case"year":{const N=Number(A.year)||0,O=Number(k.year)||0;E=N-O;break}}return d==="asc"?E:-E})},[e,f,c,d]),x=v.slice((s-1)*o,s*o),b=Math.ceil(v.length/o),_=C=>{C===c?h(d==="asc"?"desc":"asc"):(u(C),h("desc")),a(1)},w=()=>{p.invalidateQueries({queryKey:["cards"]})};return e.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:"No cards in your collection yet. Add some cards to get started!"}):m.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-gray-200",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{htmlFor:"tag-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Tag"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{id:"tag-filter",value:f,onChange:C=>{g(C.target.value),a(1)},className:"rounded-md border-gray-300 text-sm",children:[m.jsx("option",{value:"",children:"All Tags"}),y.map(C=>m.jsx("option",{value:C,children:C},C))]}),f&&m.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>{g(""),a(1)},className:"h-8 w-8 p-0",children:m.jsx(vb,{className:"h-4 w-4"})})]})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("select",{value:o,"aria-label":"Select number of cards per page",onChange:C=>{l(Number(C.target.value)),a(1)},className:"rounded-md border-gray-300 text-sm",children:MV.map(C=>m.jsxs("option",{value:C,children:[C," per page"]},C))})})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("playerName"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Player",m.jsx(lE,{className:"h-4 w-4"})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",onClick:()=>_("year"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Year",m.jsx(lE,{className:"h-4 w-4"})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Set"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variation"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("value"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Value",m.jsx(lE,{className:"h-4 w-4"})]})}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tags"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(C=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.playerName}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.year}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.cardSet}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.variation}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.condition}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",(C.currentValue||C.price||0).toFixed(2)]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.tags&&C.tags.length>0?C.tags.join(", "):"—"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[n&&m.jsx(xe,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),n(C)},disabled:r.includes(C.id),children:r.includes(C.id)?m.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"}):m.jsx(Od,{className:"h-4 w-4"})}),m.jsx(xe,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",title:"Check on eBay",onClick:A=>{A.stopPropagation();const k=`${C.year} ${C.playerName} ${C.cardSet} ${C.variation||""} ${C.cardNumber} ${C.condition||""}`;window.open(`https://www.ebay.com/sch/i.html?_nkw=${encodeURIComponent(k)}&_sacat=0&LH_Complete=1&LH_Sold=1`,"_blank")},children:m.jsx(aG,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>t==null?void 0:t(C),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),m.jsx(CM,{cardId:C.id,onDeleted:w})]})})]},C.id))})]})}),b>1&&m.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[m.jsx("div",{className:"flex items-center gap-4",children:m.jsx("select",{value:o,"aria-label":"Select number of cards per page",onChange:C=>{l(Number(C.target.value)),a(1)},className:"rounded-md border-gray-300 text-sm",children:MV.map(C=>m.jsxs("option",{value:C,children:[C," per page"]},C))})}),m.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[m.jsx("button",{onClick:()=>a(C=>Math.max(1,C-1)),disabled:s===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),m.jsx("button",{onClick:()=>a(C=>Math.min(b,C+1)),disabled:s===b,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),m.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[m.jsx("div",{children:m.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",m.jsx("span",{className:"font-medium",children:(s-1)*o+1})," to"," ",m.jsx("span",{className:"font-medium",children:Math.min(s*o,e.length)})," of"," ",m.jsx("span",{className:"font-medium",children:e.length})," results"]})}),m.jsx("div",{children:m.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:Array.from({length:b},(C,A)=>A+1).map(C=>m.jsx("button",{onClick:()=>a(C),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s===C?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:C},C))})})]})]})]})}const i7="@firebase/installations",jM="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=1e4,a7=`w:${jM}`,o7="FIS_v2",pCe="https://firebaseinstallations.googleapis.com/v1",gCe=60*60*1e3,mCe="installations",yCe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vCe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ph=new Vh(mCe,yCe,vCe);function l7(t){return t instanceof Ca&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7({projectId:t}){return`${pCe}/projects/${t}/installations`}function u7(t){return{token:t.token,requestStatus:2,expiresIn:bCe(t.expiresIn),creationTime:Date.now()}}async function d7(t,e){const r=(await e.json()).error;return Ph.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function h7({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xCe(t,{refreshToken:e}){const n=h7(t);return n.append("Authorization",wCe(e)),n}async function f7(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bCe(t){return Number(t.replace("s","000"))}function wCe(t){return`${o7} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Ce({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=c7(t),i=h7(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:n,authVersion:o7,appId:t.appId,sdkVersion:a7},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await f7(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:u7(c.authToken)}}else throw await d7("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SCe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ACe=/^[cdef][\w-]{21}$/,WI="";function CCe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kCe(t);return ACe.test(n)?n:WI}catch{return WI}}function kCe(t){return SCe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new Map;function m7(t,e){const n=JA(t);y7(n,e),ECe(n,e)}function y7(t,e){const n=g7.get(t);if(n)for(const r of n)r(e)}function ECe(t,e){const n=TCe();n&&n.postMessage({key:t,fid:e}),PCe()}let Md=null;function TCe(){return!Md&&"BroadcastChannel"in self&&(Md=new BroadcastChannel("[Firebase] FID Change"),Md.onmessage=t=>{y7(t.data.key,t.data.fid)}),Md}function PCe(){g7.size===0&&Md&&(Md.close(),Md=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ICe="firebase-installations-database",OCe=1,Ih="firebase-installations-store";let RE=null;function LM(){return RE||(RE=P9(ICe,OCe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ih)}}})),RE}async function A1(t,e){const n=JA(t),i=(await LM()).transaction(Ih,"readwrite"),s=i.objectStore(Ih),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&m7(t,e.fid),e}async function v7(t){const e=JA(t),r=(await LM()).transaction(Ih,"readwrite");await r.objectStore(Ih).delete(e),await r.done}async function eC(t,e){const n=JA(t),i=(await LM()).transaction(Ih,"readwrite"),s=i.objectStore(Ih),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&m7(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t){let e;const n=await eC(t.appConfig,r=>{const i=NCe(r),s=RCe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===WI?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NCe(t){const e=t||{fid:CCe(),registrationStatus:0};return x7(e)}function RCe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ph.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MCe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DCe(t)}:{installationEntry:e}}async function MCe(t,e){try{const n=await _Ce(t,e);return A1(t.appConfig,n)}catch(n){throw l7(n)&&n.customData.serverCode===409?await v7(t.appConfig):await A1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function DCe(t){let e=await DV(t.appConfig);for(;e.registrationStatus===1;)await p7(100),e=await DV(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await FM(t);return r||n}return e}function DV(t){return eC(t,e=>{if(!e)throw Ph.create("installation-not-found");return x7(e)})}function x7(t){return jCe(t)?{fid:t.fid,registrationStatus:0}:t}function jCe(t){return t.registrationStatus===1&&t.registrationTime+s7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LCe({appConfig:t,heartbeatServiceProvider:e},n){const r=FCe(t,n),i=xCe(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:a7,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await f7(()=>fetch(r,o));if(l.ok){const c=await l.json();return u7(c)}else throw await d7("Generate Auth Token",l)}function FCe(t,{fid:e}){return`${c7(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e=!1){let n;const r=await eC(t.appConfig,s=>{if(!b7(s))throw Ph.create("not-registered");const a=s.authToken;if(!e&&zCe(a))return s;if(a.requestStatus===1)return n=$Ce(t,e),s;{if(!navigator.onLine)throw Ph.create("app-offline");const o=UCe(s);return n=BCe(t,o),o}});return n?await n:r.authToken}async function $Ce(t,e){let n=await jV(t.appConfig);for(;n.authToken.requestStatus===1;)await p7(100),n=await jV(t.appConfig);const r=n.authToken;return r.requestStatus===0?$M(t,e):r}function jV(t){return eC(t,e=>{if(!b7(e))throw Ph.create("not-registered");const n=e.authToken;return WCe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function BCe(t,e){try{const n=await LCe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await A1(t.appConfig,r),n}catch(n){if(l7(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await v7(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await A1(t.appConfig,r)}throw n}}function b7(t){return t!==void 0&&t.registrationStatus===2}function zCe(t){return t.requestStatus===2&&!VCe(t)}function VCe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gCe}function UCe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function WCe(t){return t.requestStatus===1&&t.requestTime+s7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HCe(t){const e=t,{installationEntry:n,registrationPromise:r}=await FM(e);return r?r.catch(console.error):$M(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YCe(t,e=!1){const n=t;return await XCe(n),(await $M(n,e)).token}async function XCe(t){const{registrationPromise:e}=await FM(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GCe(t){if(!t||!t.options)throw ME("App Configuration");if(!t.name)throw ME("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ME(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ME(t){return Ph.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="installations",qCe="installations-internal",KCe=t=>{const e=t.getProvider("app").getImmediate(),n=GCe(e),r=Xu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QCe=t=>{const e=t.getProvider("app").getImmediate(),n=Xu(e,w7).getImmediate();return{getId:()=>HCe(n),getToken:i=>YCe(n,i)}};function ZCe(){uo(new wa(w7,KCe,"PUBLIC")),uo(new wa(qCe,QCe,"PRIVATE"))}ZCe();Cs(i7,jM);Cs(i7,jM,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="analytics",JCe="firebase_id",eke="origin",tke=60*1e3,nke="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BM="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new cA("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rke={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hs=new Vh("analytics","Analytics",rke);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ike(t){if(!t.startsWith(BM)){const e=Hs.create("invalid-gtag-resource",{gtagURL:t});return ks.warn(e.message),""}return t}function _7(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ske(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ake(t,e){const n=ske("firebase-js-sdk-policy",{createScriptURL:ike}),r=document.createElement("script"),i=`${BM}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function oke(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lke(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await _7(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){ks.error(o)}t("config",i,s)}async function cke(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await _7(n);for(const l of a){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){ks.error(s)}}function uke(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await cke(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await lke(t,e,n,r,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){ks.error(o)}}return i}function dke(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=uke(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function hke(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(BM)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fke=30,pke=1e3;class gke{constructor(e={},n=pke){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const S7=new gke;function mke(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yke(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:mke(r)},s=nke.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw Hs.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function vke(t,e=S7,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Hs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Hs.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new wke;return setTimeout(async()=>{o.abort()},tke),A7({appId:r,apiKey:i,measurementId:s},a,o,e)}async function A7(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=S7){var s;const{appId:a,measurementId:o}=t;try{await xke(r,e)}catch(l){if(o)return ks.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await yke(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!bke(c)){if(i.deleteThrottleMetadata(a),o)return ks.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?_F(n,i.intervalMillis,fke):_F(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),ks.debug(`Calling attemptFetch again in ${u} millis`),A7(t,d,r,i)}}function xke(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bke(t){if(!(t instanceof Ca)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wke{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _ke(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ske(){if(C9())try{await k9()}catch(t){return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ake(t,e,n,r,i,s,a){var o;const l=vke(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ks.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ks.error(f)),e.push(l);const c=Ske().then(f=>{if(f)return r.getId()}),[u,d]=await Promise.all([l,c]);hke(s)||ake(s,u.measurementId),i("js",new Date);const h=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return h[eke]="firebase",h.update=!0,d!=null&&(h[JCe]=d),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cke{constructor(e){this.app=e}_delete(){return delete nv[this.app.options.appId],Promise.resolve()}}let nv={},LV=[];const FV={};let DE="dataLayer",kke="gtag",$V,C7,BV=!1;function Eke(){const t=[];if(A9()&&t.push("This is a browser extension environment."),wae()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Hs.create("invalid-analytics-context",{errorInfo:e});ks.warn(n.message)}}function Tke(t,e,n){Eke();const r=t.options.appId;if(!r)throw Hs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ks.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hs.create("no-api-key");if(nv[r]!=null)throw Hs.create("already-exists",{id:r});if(!BV){oke(DE);const{wrappedGtag:s,gtagCore:a}=dke(nv,LV,FV,DE,kke);C7=s,$V=a,BV=!0}return nv[r]=Ake(t,LV,FV,e,$V,DE,n),new Cke(t)}function Pke(t=eb()){t=Jt(t);const e=Xu(t,C1);return e.isInitialized()?e.getImmediate():Ike(t)}function Ike(t,e={}){const n=Xu(t,C1);if(n.isInitialized()){const i=n.getImmediate();if(fh(e,n.getOptions()))return i;throw Hs.create("already-initialized")}return n.initialize({options:e})}function Oke(t,e,n,r){t=Jt(t),_ke(C7,nv[t.app.options.appId],e,n,r).catch(i=>ks.error(i))}const zV="@firebase/analytics",VV="0.10.8";function Nke(){uo(new wa(C1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Tke(r,i,n)},"PUBLIC")),uo(new wa("analytics-internal",t,"PRIVATE")),Cs(zV,VV),Cs(zV,VV,"esm2017");function t(e){try{const n=e.getProvider(C1).getImmediate();return{logEvent:(r,i,s)=>Oke(n,r,i,s)}}catch(n){throw Hs.create("interop-component-reg-failed",{reason:n})}}}Nke();const Rke={apiKey:"AIzaSyAfb2YtBxD5YEWrNpG0J3GN_g0ZfPzsoOE",authDomain:"sports-card-analyzer.firebaseapp.com",projectId:"sports-card-analyzer",storageBucket:"sports-card-analyzer.firebasestorage.app",messagingSenderId:"27312906394",appId:"1:27312906394:web:11296b8bb530daad5a7f23",measurementId:"G-YNZTKCHQT0"},tC=Ioe().length?eb():HR(Rke);Ug(tC);const UV=wX(tC);RA(tC);typeof window<"u"&&Pke(tC);const WV="https://backend-k0tblsbgf-jordan-linfords-projects.vercel.app";class Mke{static async fetchCardMarketValue(e){try{const n={player:e.playerName,year:e.year,set:e.brand,number:e.cardNumber,condition:e.grade||"ungraded"},r=new URLSearchParams(n).toString(),i=await fetch(`${WV}/api/fetch-price?${r}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).price||null}catch(n){return console.error("Error fetching market value:",n),null}}static async fetchLatestCardPrice(e){try{const n=new URLSearchParams({player:e.player,year:e.year,set:e.set,number:e.number,condition:e.condition}),r=await fetch(`${WV}/api/fetch-price?${n}`);if(!r.ok)throw new Error(`Failed to fetch card price: ${r.statusText}`);const i=await r.json();return{price:i.price||0,source:i.source||"Unknown",timestamp:new Date().toISOString()}}catch(n){throw console.error("Error fetching card price:",n),n}}static async updateAllCardValues(e){try{const n=Zt(UV,"users",e,"cards"),r=await Xn(n);for(const o of r.docs){const l=o.data();try{const c=await this.fetchLatestCardPrice({player:l.playerName,year:l.year,set:l.cardSet,number:l.cardNumber,condition:l.condition||"ungraded"});await Yt(o.ref,{currentValue:c.price,lastUpdated:c.timestamp,priceSource:c.source})}catch(c){console.error(`Failed to update card ${l.playerName}:`,c);continue}}let i=0;(await Xn(n)).forEach(o=>{const l=o.data();i+=l.currentValue||l.price||0});const a=Zt(UV,"users",e,"value_history");await Kh(a,{timestamp:gr.now(),totalValue:i})}catch(n){throw console.error("Error updating card values:",n),n}}}class k1{static getUserCardsRef(e){return Zt(de,"users",e,"cards")}static getUserCollectionRef(e){return Zt(de,"users",e,"collection")}static getCardRef(e,n){return Ie(de,"users",e,"cards",n)}static getCollectionCardRef(e,n){return Ie(de,"users",e,"collection",n)}static async createCard(e,n){const r=new Date().toISOString(),i=this.getUserCardsRef(e),s={...n,ownerId:e,createdAt:r,updatedAt:r},a=await Kh(i,s);return{...s,id:a.id}}static async batchCreateCards(e,n){const r=Jk(de),i=new Date().toISOString(),s=this.getUserCardsRef(e),a=[];for(const o of n){const l=Ie(s),c={...o,ownerId:e,createdAt:i,updatedAt:i};r.set(l,c),a.push({...c,id:l.id})}return await r.commit(),a}static async getCardsByOwner(e,n,r){const i=[];r&&i.push(bh(r.field,r.direction)),n&&(i.push(tI(n.pageSize)),n.startAfter&&i.push(D$(n.startAfter)));const s=this.getUserCardsRef(e),a=this.getUserCollectionRef(e),o=pi(s,...i),l=pi(a,...i),[c,u]=await Promise.all([Xn(o),Xn(l)]),d=new Map;return[...c.docs,...u.docs].forEach(f=>{d.has(f.id)||d.set(f.id,{id:f.id,...f.data()})}),{cards:Array.from(d.values()),lastDoc:c.docs[c.docs.length-1]||u.docs[u.docs.length-1]}}static async getCard(e,n){const r=this.getCardRef(e,n),i=this.getCollectionCardRef(e,n),s=await Ye(r);if(s.exists())return{id:s.id,...s.data()};const a=await Ye(i);return a.exists()?{id:a.id,...a.data()}:null}static async updateCard(e,n,r){const i=this.getCardRef(e,n),s=this.getCollectionCardRef(e,n),a={...r,updatedAt:new Date().toISOString()},o=await Ye(i),l=await Ye(s);if(o.exists())await Yt(i,a);else if(l.exists())await Yt(s,a);else throw new Error("Card not found in either collection");const c=await this.getCard(e,n);if(!c)throw new Error("Failed to retrieve updated card");return c}static async batchUpdateCards(e,n){const r=Jk(de),i=new Date().toISOString();for(const s of n){const a=this.getCardRef(e,s.id),o=this.getCollectionCardRef(e,s.id),l=await Ye(a),c=await Ye(o);l.exists()?r.update(a,{...s.data,updatedAt:i}):c.exists()&&r.update(o,{...s.data,updatedAt:i})}await r.commit()}static async deleteCard(e,n){console.log(`CardService.deleteCard: Deleting card ${n} for user ${e}`);const r=this.getCardRef(e,n),i=this.getCollectionCardRef(e,n),s=await Ye(r),a=await Ye(i);let o=!1;if(s.exists()&&(await el(r),console.log("CardService.deleteCard: Deleted card from cards path"),o=!0),a.exists()&&(await el(i),console.log("CardService.deleteCard: Deleted card from collection path"),o=!0),!o)throw console.error(`CardService.deleteCard: Card ${n} not found in either location`),new Error(`Card not found or could not be deleted: ${n}`);try{console.log("CardService.deleteCard: Checking display cases for card references");const l=Zt(de,"users",e,"display_cases"),c=await Xn(l);let u=0;for(const d of c.docs){const h=d.data();if(!(!h.cardIds||!Array.isArray(h.cardIds))&&h.cardIds.includes(n)){console.log(`CardService.deleteCard: Removing card from display case: ${d.id}`);const f=h.cardIds.filter(p=>p!==n),g=Ie(de,"users",e,"display_cases",d.id);if(await Yt(g,{cardIds:f,updatedAt:new Date}),u++,h.isPublic)try{const p=Ie(de,"public_display_cases",d.id);(await Ye(p)).exists()&&(await Yt(p,{cardIds:f,updatedAt:new Date}),console.log(`CardService.deleteCard: Updated public display case ${d.id}`))}catch(p){console.error(`CardService.deleteCard: Error updating public display case ${d.id}:`,p)}}}u>0?console.log(`CardService.deleteCard: Removed card from ${u} display cases`):console.log("CardService.deleteCard: Card was not in any display cases")}catch(l){console.error("CardService.deleteCard: Error removing card from display cases:",l)}console.log("CardService.deleteCard: Card deletion completed successfully")}static async batchDeleteCards(e,n){const r=Jk(de);for(const i of n){const s=this.getCardRef(e,i),a=this.getCollectionCardRef(e,i),o=await Ye(s),l=await Ye(a);o.exists()&&r.delete(s),l.exists()&&r.delete(a)}await r.commit()}static async searchCards(e,n,r,i){const s=[];n.playerName&&(s.push(En("playerName",">=",n.playerName)),s.push(En("playerName","<=",n.playerName+""))),n.year&&s.push(En("year","==",n.year)),n.brand&&s.push(En("brand","==",n.brand)),n.grade&&s.push(En("grade","==",n.grade)),n.minValue!==void 0&&s.push(En("currentValue",">=",n.minValue)),n.maxValue!==void 0&&s.push(En("currentValue","<=",n.maxValue)),i&&s.push(bh(i.field,i.direction)),r&&(s.push(tI(r.pageSize)),r.startAfter&&s.push(D$(r.startAfter)));const a=this.getUserCardsRef(e),o=pi(a,...s),l=await Xn(o);return{cards:l.docs.map(u=>({id:u.id,...u.data()})),lastDoc:l.docs[l.docs.length-1]}}static async fetchCardMarketValue(e){return Mke.fetchCardMarketValue(e)}}async function Dke(t,e){const n=RA(),r=Z2(n,`cards/${e}/${Date.now()}-${t.name}`);return await K2(r,t),await Q2(r)}const jke=({card:t,isOpen:e,onClose:n,onCardUpdated:r,onCardDeleted:i})=>{var v;const{user:s}=jn(),[a,o]=I.useState(t),[l,c]=I.useState(!1),[u,d]=I.useState(null),[h,f]=I.useState(((v=t.tags)==null?void 0:v.join(", "))||""),g=lc(),p=async x=>{var _;const b=(_=x.target.files)==null?void 0:_[0];if(!(!b||!s))try{const w=await Dke(b,s.uid);o(C=>({...C,imageUrl:w}))}catch{d("Failed to upload image")}},y=async x=>{if(x.preventDefault(),!s){d("You must be logged in to edit cards");return}c(!0),d(null);try{const b=h.split(",").map(E=>E.trim()).filter(Boolean),_=a.pricePaid!==void 0?parseFloat(a.pricePaid.toFixed(2)):void 0,w=a.currentValue!==void 0?parseFloat(a.currentValue.toFixed(2)):void 0,C={playerName:a.playerName,year:a.year,cardSet:a.cardSet,variation:a.variation,cardNumber:a.cardNumber,condition:a.condition,imageUrl:a.imageUrl,tags:b,pricePaid:_,currentValue:w};console.log("Updating card with tags:",b);const A=await k1.updateCard(s.uid,a.id,C);if(JSON.stringify(t.tags)!==JSON.stringify(b))try{console.log("Syncing updated card with display cases...");const E=await y8({...A,tags:b},s.uid);E.syncedCount>0&&ce.success(`Card was updated in ${E.syncedCount} display case(s) based on tag changes`)}catch(E){console.error("Error syncing card with display cases:",E),ce.error("Error syncing card with display cases. Try refreshing the page.")}g.invalidateQueries({queryKey:["cards",s==null?void 0:s.uid]}),g.invalidateQueries({queryKey:["displayCases",s==null?void 0:s.uid]}),g.invalidateQueries({queryKey:["displayCasesWithCards",s==null?void 0:s.uid]}),await new Promise(E=>setTimeout(E,500)),r(),n()}catch(b){console.error("Error updating card:",b),d("Failed to update card")}finally{c(!1)}};return e?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Card"}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700",children:"Player Name"}),m.jsx("input",{id:"playerName",type:"text",value:a.playerName,onChange:x=>o(b=>({...b,playerName:x.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Year"}),m.jsx("input",{id:"year",type:"text",value:a.year,onChange:x=>o({...a,year:x.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cardSet",className:"block text-sm font-medium text-gray-700",children:"Card Set"}),m.jsx("input",{id:"cardSet",type:"text",value:a.cardSet,onChange:x=>o(b=>({...b,cardSet:x.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variation",className:"block text-sm font-medium text-gray-700",children:"Variation"}),m.jsx("input",{id:"variation",type:"text",value:a.variation,onChange:x=>o(b=>({...b,variation:x.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700",children:"Card Number"}),m.jsx("input",{id:"cardNumber",type:"text",value:a.cardNumber,onChange:x=>o(b=>({...b,cardNumber:x.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700",children:"Condition"}),m.jsx("input",{id:"condition",type:"text",value:a.condition,onChange:x=>o(b=>({...b,condition:x.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter grading company and grade (e.g., PSA 9, BGS 9.5) or 'Raw'",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"pricePaid",className:"block text-sm font-medium text-gray-700",children:"Price Paid ($)"}),m.jsx("input",{id:"pricePaid",type:"number",value:a.pricePaid!==void 0?a.pricePaid.toFixed(2):"",onChange:x=>{const b=parseFloat(x.target.value);o(_=>({..._,pricePaid:isNaN(b)?0:b}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"currentValue",className:"block text-sm font-medium text-gray-700",children:"Current Value ($)"}),m.jsx("input",{id:"currentValue",type:"number",value:a.currentValue!==void 0?a.currentValue.toFixed(2):"",onChange:x=>{const b=parseFloat(x.target.value);o(_=>({..._,currentValue:isNaN(b)?0:b}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),m.jsx("input",{id:"tags",type:"text",value:h,onChange:x=>{f(x.target.value);const b=x.target.value.split(",").map(_=>_.trim()).filter(Boolean);o(_=>({..._,tags:b}))},placeholder:"e.g. Rookie, Holo, Lakers",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Separate multiple tags with commas (e.g., "Rookie, Holo, Lakers")'})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image"}),m.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:p,className:"mt-1 block w-full"}),l&&m.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."}),a.imageUrl&&m.jsx("img",{src:a.imageUrl,alt:a.playerName,className:"mt-2 h-32 w-auto object-contain"})]}),u&&m.jsx("p",{className:"text-red-500 text-sm",children:u}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(CM,{cardId:a.id,onDeleted:()=>{i(),n()}}),m.jsxs("div",{className:"space-x-2",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",disabled:l,children:"Save Changes"})]})]})]})]})}):null};function k7(t,e){return function(){return t.apply(e,arguments)}}const{toString:Lke}=Object.prototype,{getPrototypeOf:zM}=Object,{iterator:nC,toStringTag:E7}=Symbol,rC=(t=>e=>{const n=Lke.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xo=t=>(t=t.toLowerCase(),e=>rC(e)===t),iC=t=>e=>typeof e===t,{isArray:Qg}=Array,Zv=iC("undefined");function Fke(t){return t!==null&&!Zv(t)&&t.constructor!==null&&!Zv(t.constructor)&&Es(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const T7=xo("ArrayBuffer");function $ke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&T7(t.buffer),e}const Bke=iC("string"),Es=iC("function"),P7=iC("number"),sC=t=>t!==null&&typeof t=="object",zke=t=>t===!0||t===!1,r_=t=>{if(rC(t)!=="object")return!1;const e=zM(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(E7 in t)&&!(nC in t)},Vke=xo("Date"),Uke=xo("File"),Wke=xo("Blob"),Hke=xo("FileList"),Yke=t=>sC(t)&&Es(t.pipe),Xke=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Es(t.append)&&((e=rC(t))==="formdata"||e==="object"&&Es(t.toString)&&t.toString()==="[object FormData]"))},Gke=xo("URLSearchParams"),[qke,Kke,Qke,Zke]=["ReadableStream","Request","Response","Headers"].map(xo),Jke=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _b(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Qg(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function I7(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Dd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O7=t=>!Zv(t)&&t!==Dd;function HI(){const{caseless:t}=O7(this)&&this||{},e={},n=(r,i)=>{const s=t&&I7(e,i)||i;r_(e[s])&&r_(r)?e[s]=HI(e[s],r):r_(r)?e[s]=HI({},r):Qg(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_b(arguments[r],n);return e}const eEe=(t,e,n,{allOwnKeys:r}={})=>(_b(e,(i,s)=>{n&&Es(i)?t[s]=k7(i,n):t[s]=i},{allOwnKeys:r}),t),tEe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nEe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rEe=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&zM(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iEe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sEe=t=>{if(!t)return null;if(Qg(t))return t;let e=t.length;if(!P7(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aEe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zM(Uint8Array)),oEe=(t,e)=>{const r=(t&&t[nC]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},lEe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cEe=xo("HTMLFormElement"),uEe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),HV=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dEe=xo("RegExp"),N7=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_b(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},hEe=t=>{N7(t,(e,n)=>{if(Es(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Es(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fEe=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Qg(t)?r(t):r(String(t).split(e)),n},pEe=()=>{},gEe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function mEe(t){return!!(t&&Es(t.append)&&t[E7]==="FormData"&&t[nC])}const yEe=t=>{const e=new Array(10),n=(r,i)=>{if(sC(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Qg(r)?[]:{};return _b(r,(a,o)=>{const l=n(a,i+1);!Zv(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},vEe=xo("AsyncFunction"),xEe=t=>t&&(sC(t)||Es(t))&&Es(t.then)&&Es(t.catch),R7=((t,e)=>t?setImmediate:e?((n,r)=>(Dd.addEventListener("message",({source:i,data:s})=>{i===Dd&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Dd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Es(Dd.postMessage)),bEe=typeof queueMicrotask<"u"?queueMicrotask.bind(Dd):typeof process<"u"&&process.nextTick||R7,wEe=t=>t!=null&&Es(t[nC]),te={isArray:Qg,isArrayBuffer:T7,isBuffer:Fke,isFormData:Xke,isArrayBufferView:$ke,isString:Bke,isNumber:P7,isBoolean:zke,isObject:sC,isPlainObject:r_,isReadableStream:qke,isRequest:Kke,isResponse:Qke,isHeaders:Zke,isUndefined:Zv,isDate:Vke,isFile:Uke,isBlob:Wke,isRegExp:dEe,isFunction:Es,isStream:Yke,isURLSearchParams:Gke,isTypedArray:aEe,isFileList:Hke,forEach:_b,merge:HI,extend:eEe,trim:Jke,stripBOM:tEe,inherits:nEe,toFlatObject:rEe,kindOf:rC,kindOfTest:xo,endsWith:iEe,toArray:sEe,forEachEntry:oEe,matchAll:lEe,isHTMLForm:cEe,hasOwnProperty:HV,hasOwnProp:HV,reduceDescriptors:N7,freezeMethods:hEe,toObjectSet:fEe,toCamelCase:uEe,noop:pEe,toFiniteNumber:gEe,findKey:I7,global:Dd,isContextDefined:O7,isSpecCompliantForm:mEe,toJSONObject:yEe,isAsyncFn:vEe,isThenable:xEe,setImmediate:R7,asap:bEe,isIterable:wEe};function mt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const M7=mt.prototype,D7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{D7[t]={value:t}});Object.defineProperties(mt,D7);Object.defineProperty(M7,"isAxiosError",{value:!0});mt.from=(t,e,n,r,i,s)=>{const a=Object.create(M7);return te.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),mt.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const _Ee=null;function YI(t){return te.isPlainObject(t)||te.isArray(t)}function j7(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function YV(t,e,n){return t?t.concat(e).map(function(i,s){return i=j7(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function SEe(t){return te.isArray(t)&&!t.some(YI)}const AEe=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function aC(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!te.isUndefined(y[p])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(te.isDate(g))return g.toISOString();if(!l&&te.isBlob(g))throw new mt("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(g)||te.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,y){let v=g;if(g&&!y&&typeof g=="object"){if(te.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(te.isArray(g)&&SEe(g)||(te.isFileList(g)||te.endsWith(p,"[]"))&&(v=te.toArray(g)))return p=j7(p),v.forEach(function(b,_){!(te.isUndefined(b)||b===null)&&e.append(a===!0?YV([p],_,s):a===null?p:p+"[]",c(b))}),!1}return YI(g)?!0:(e.append(YV(y,p,s),c(g)),!1)}const d=[],h=Object.assign(AEe,{defaultVisitor:u,convertValue:c,isVisitable:YI});function f(g,p){if(!te.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(g),te.forEach(g,function(v,x){(!(te.isUndefined(v)||v===null)&&i.call(e,v,te.isString(x)?x.trim():x,p,h))===!0&&f(v,p?p.concat(x):[x])}),d.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return f(t),e}function XV(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function VM(t,e){this._pairs=[],t&&aC(t,this,e)}const L7=VM.prototype;L7.append=function(e,n){this._pairs.push([e,n])};L7.toString=function(e){const n=e?function(r){return e.call(this,r,XV)}:XV;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function CEe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function F7(t,e,n){if(!e)return t;const r=n&&n.encode||CEe;te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=te.isURLSearchParams(e)?e.toString():new VM(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class GV{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kEe=typeof URLSearchParams<"u"?URLSearchParams:VM,EEe=typeof FormData<"u"?FormData:null,TEe=typeof Blob<"u"?Blob:null,PEe={isBrowser:!0,classes:{URLSearchParams:kEe,FormData:EEe,Blob:TEe},protocols:["http","https","file","blob","url","data"]},UM=typeof window<"u"&&typeof document<"u",XI=typeof navigator=="object"&&navigator||void 0,IEe=UM&&(!XI||["ReactNative","NativeScript","NS"].indexOf(XI.product)<0),OEe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NEe=UM&&window.location.href||"http://localhost",REe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UM,hasStandardBrowserEnv:IEe,hasStandardBrowserWebWorkerEnv:OEe,navigator:XI,origin:NEe},Symbol.toStringTag,{value:"Module"})),$i={...REe,...PEe};function MEe(t,e){return aC(t,new $i.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return $i.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DEe(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jEe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function B7(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&te.isArray(i)?i.length:a,l?(te.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!te.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&te.isArray(i[a])&&(i[a]=jEe(i[a])),!o)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(r,i)=>{e(DEe(r),i,n,0)}),n}return null}function LEe(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sb={transitional:$7,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=te.isObject(e);if(s&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(B7(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MEe(e,this.formSerializer).toString();if((o=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return aC(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),LEe(e)):e}],transformResponse:[function(e){const n=this.transitional||Sb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?mt.from(o,mt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$i.classes.FormData,Blob:$i.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Sb.headers[t]={}});const FEe=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$Ee=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&FEe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},qV=Symbol("internals");function qm(t){return t&&String(t).trim().toLowerCase()}function i_(t){return t===!1||t==null?t:te.isArray(t)?t.map(i_):String(t)}function BEe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const zEe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jE(t,e,n,r,i){if(te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!te.isString(e)){if(te.isString(r))return e.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(e)}}function VEe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function UEe(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Ts=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,c){const u=qm(l);if(!u)throw new Error("header name must be a non-empty string");const d=te.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=i_(o))}const a=(o,l)=>te.forEach(o,(c,u)=>s(c,u,l));if(te.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(te.isString(e)&&(e=e.trim())&&!zEe(e))a($Ee(e),n);else if(te.isObject(e)&&te.isIterable(e)){let o={},l,c;for(const u of e){if(!te.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?te.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=qm(e),e){const r=te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return BEe(i);if(te.isFunction(n))return n.call(this,i,r);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qm(e),e){const r=te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=qm(a),a){const o=te.findKey(r,a);o&&(!n||jE(r,r[o],o,n))&&(delete r[o],i=!0)}}return te.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||jE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return te.forEach(this,(i,s)=>{const a=te.findKey(r,s);if(a){n[a]=i_(i),delete n[s];return}const o=e?VEe(s):String(s).trim();o!==s&&delete n[s],n[o]=i_(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[qV]=this[qV]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=qm(a);r[o]||(UEe(i,a),r[o]=!0)}return te.isArray(e)?e.forEach(s):s(e),this}};Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Ts.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});te.freezeMethods(Ts);function LE(t,e){const n=this||Sb,r=e||n,i=Ts.from(r.headers);let s=r.data;return te.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function z7(t){return!!(t&&t.__CANCEL__)}function Zg(t,e,n){mt.call(this,t??"canceled",mt.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(Zg,mt,{__CANCEL__:!0});function V7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function WEe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HEe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];a||(a=c),n[i]=l,r[i]=c;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function YEe(t,e){let n=0,r=1e3/e,i,s;const a=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const E1=(t,e,n=3)=>{let r=0;const i=HEe(50,250);return YEe(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,c=i(l),u=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},KV=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},QV=t=>(...e)=>te.asap(()=>t(...e)),XEe=$i.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$i.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($i.origin),$i.navigator&&/(msie|trident)/i.test($i.navigator.userAgent)):()=>!0,GEe=$i.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),te.isString(r)&&a.push("path="+r),te.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qEe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function KEe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function U7(t,e,n){let r=!qEe(e);return t&&(r||n==!1)?KEe(t,e):e}const ZV=t=>t instanceof Ts?{...t}:t;function Oh(t,e){e=e||{};const n={};function r(c,u,d,h){return te.isPlainObject(c)&&te.isPlainObject(u)?te.merge.call({caseless:h},c,u):te.isPlainObject(u)?te.merge({},u):te.isArray(u)?u.slice():u}function i(c,u,d,h){if(te.isUndefined(u)){if(!te.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function s(c,u){if(!te.isUndefined(u))return r(void 0,u)}function a(c,u){if(te.isUndefined(u)){if(!te.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,d)=>i(ZV(c),ZV(u),d,!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);te.isUndefined(h)&&d!==o||(n[u]=h)}),n}const W7=t=>{const e=Oh({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Ts.from(a),e.url=F7(U7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(te.isFormData(n)){if($i.hasStandardBrowserEnv||$i.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if($i.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(e)),r||r!==!1&&XEe(e.url))){const c=i&&s&&GEe.read(s);c&&a.set(i,c)}return e},QEe=typeof XMLHttpRequest<"u",ZEe=QEe&&function(t){return new Promise(function(n,r){const i=W7(t);let s=i.data;const a=Ts.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,f,g;function p(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const b=Ts.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};V7(function(A){n(A),p()},function(A){r(A),p()},w),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new mt("Request aborted",mt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new mt("Network Error",mt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||$7;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new mt(_,w.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,t,y)),y=null},s===void 0&&a.setContentType(null),"setRequestHeader"in y&&te.forEach(a.toJSON(),function(_,w){y.setRequestHeader(w,_)}),te.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),c&&([h,g]=E1(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,f]=E1(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new Zg(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=WEe(i.url);if(x&&$i.protocols.indexOf(x)===-1){r(new mt("Unsupported protocol "+x+":",mt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},JEe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof mt?u:new Zg(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new mt(`timeout ${e} of ms exceeded`,mt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>te.asap(o),l}},eTe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tTe=async function*(t,e){for await(const n of nTe(t))yield*eTe(n,e)},nTe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},JV=(t,e,n,r)=>{const i=tTe(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},oC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",H7=oC&&typeof ReadableStream=="function",rTe=oC&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Y7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},iTe=H7&&Y7(()=>{let t=!1;const e=new Request($i.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),e4=64*1024,GI=H7&&Y7(()=>te.isReadableStream(new Response("").body)),T1={stream:GI&&(t=>t.body)};oC&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!T1[e]&&(T1[e]=te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new mt(`Response type '${e}' is not supported`,mt.ERR_NOT_SUPPORT,r)})})})(new Response);const sTe=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request($i.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await rTe(t)).byteLength},aTe=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??sTe(e)},oTe=oC&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=W7(t);c=c?(c+"").toLowerCase():"text";let f=JEe([i,s&&s.toAbortSignal()],a),g;const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let y;try{if(l&&iTe&&n!=="get"&&n!=="head"&&(y=await aTe(u,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(te.isFormData(r)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[A,k]=KV(y,E1(QV(l)));r=JV(w.body,e4,A,k)}}te.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let x=await fetch(g);const b=GI&&(c==="stream"||c==="response");if(GI&&(o||b&&p)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=x[E]});const C=te.toFiniteNumber(x.headers.get("content-length")),[A,k]=o&&KV(C,E1(QV(o),!0))||[];x=new Response(JV(x.body,e4,A,()=>{k&&k(),p&&p()}),w)}c=c||"text";let _=await T1[te.findKey(T1,c)||"text"](x,t);return!b&&p&&p(),await new Promise((w,C)=>{V7(w,C,{data:_,headers:Ts.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(v){throw p&&p(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,t,g),{cause:v.cause||v}):mt.from(v,v&&v.code,t,g)}}),qI={http:_Ee,xhr:ZEe,fetch:oTe};te.forEach(qI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const t4=t=>`- ${t}`,lTe=t=>te.isFunction(t)||t===null||t===!1,X7={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!lTe(n)&&(r=qI[(a=String(n)).toLowerCase()],r===void 0))throw new mt(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(t4).join(`
`):" "+t4(s[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:qI};function FE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zg(null,t)}function n4(t){return FE(t),t.headers=Ts.from(t.headers),t.data=LE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),X7.getAdapter(t.adapter||Sb.adapter)(t).then(function(r){return FE(t),r.data=LE.call(t,t.transformResponse,r),r.headers=Ts.from(r.headers),r},function(r){return z7(r)||(FE(t),r&&r.response&&(r.response.data=LE.call(t,t.transformResponse,r.response),r.response.headers=Ts.from(r.response.headers))),Promise.reject(r)})}const G7="1.9.0",lC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lC[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const r4={};lC.transitional=function(e,n,r){function i(s,a){return"[Axios v"+G7+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new mt(i(a," has been removed"+(n?" in "+n:"")),mt.ERR_DEPRECATED);return n&&!r4[a]&&(r4[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};lC.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cTe(t,e,n){if(typeof t!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new mt("option "+s+" must be "+l,mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new mt("Unknown option "+s,mt.ERR_BAD_OPTION)}}const s_={assertOptions:cTe,validators:lC},ko=s_.validators;let ih=class{constructor(e){this.defaults=e||{},this.interceptors={request:new GV,response:new GV}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Oh(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&s_.assertOptions(r,{silentJSONParsing:ko.transitional(ko.boolean),forcedJSONParsing:ko.transitional(ko.boolean),clarifyTimeoutError:ko.transitional(ko.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:s_.assertOptions(i,{encode:ko.function,serialize:ko.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),s_.assertOptions(n,{baseUrl:ko.spelling("baseURL"),withXsrfToken:ko.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&te.merge(s.common,s[n.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Ts.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,h;if(!l){const g=[n4.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=o.length;let f=n;for(d=0;d<h;){const g=o[d++],p=o[d++];try{f=g(f)}catch(y){p.call(this,y);break}}try{u=n4.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Oh(this.defaults,e);const n=U7(e.baseURL,e.url,e.allowAbsoluteUrls);return F7(n,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){ih.prototype[e]=function(n,r){return this.request(Oh(r||{},{method:e,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(Oh(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ih.prototype[e]=n(),ih.prototype[e+"Form"]=n(!0)});let uTe=class q7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new Zg(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new q7(function(i){e=i}),cancel:e}}};function dTe(t){return function(n){return t.apply(null,n)}}function hTe(t){return te.isObject(t)&&t.isAxiosError===!0}const KI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(KI).forEach(([t,e])=>{KI[e]=t});function K7(t){const e=new ih(t),n=k7(ih.prototype.request,e);return te.extend(n,ih.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return K7(Oh(t,i))},n}const rr=K7(Sb);rr.Axios=ih;rr.CanceledError=Zg;rr.CancelToken=uTe;rr.isCancel=z7;rr.VERSION=G7;rr.toFormData=aC;rr.AxiosError=mt;rr.Cancel=rr.CanceledError;rr.all=function(e){return Promise.all(e)};rr.spread=dTe;rr.isAxiosError=hTe;rr.mergeConfig=Oh;rr.AxiosHeaders=Ts;rr.formToJSON=t=>B7(te.isHTMLForm(t)?new FormData(t):t);rr.getAdapter=X7.getAdapter;rr.HttpStatusCode=KI;rr.default=rr;const{Axios:VJe,AxiosError:UJe,CanceledError:WJe,isCancel:HJe,CancelToken:YJe,VERSION:XJe,all:GJe,Cancel:qJe,isAxiosError:KJe,spread:QJe,toFormData:ZJe,AxiosHeaders:JJe,HttpStatusCode:eet,formToJSON:tet,getAdapter:net,mergeConfig:ret}=rr,fTe=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(null),[i,s]=I.useState(null),[a,o]=I.useState("table"),[l,c]=I.useState(!1),[u,d]=I.useState([]),{user:h}=jn(),{data:f=[],isLoading:g,error:p,retryFetchCards:y}=Qh();I.useEffect(()=>{console.log("CollectionPage: Cards data loaded",{count:f.length,loading:g,error:p==null?void 0:p.message}),f.length>0&&console.log("CollectionPage: Sample card data:",f.slice(0,2).map(E=>({id:E.id,player:E.playerName,values:{currentValue:E.currentValue,price:E.price,pricePaid:E.pricePaid}})))},[f,g,p]);const v=Array.from(new Set(f.flatMap(E=>E.tags||[]))).sort(),x=n?f.filter(E=>{var T;return(T=E.tags)==null?void 0:T.includes(n)}):f,b=()=>e(!0),_=()=>e(!1),w=E=>s(E),C=async E=>{var T;if(!h){ce.error("You must be logged in to update card values");return}d(P=>[...P,E.id]),ce.info(`Updating value for ${E.playerName}...`);try{try{const O=await rr.get("http://localhost:3001/api/health");if(!O.data||O.data.status!=="ok"){ce.error("eBay scraper server is not responding properly. Make sure it's running."),d(L=>L.filter($=>$!==E.id));return}console.log("Scraper server health check passed:",O.data)}catch(O){console.error("Scraper server health check failed:",O),ce.error("Cannot connect to the eBay scraper server. Make sure it's running on port 3001."),d(L=>L.filter($=>$!==E.id));return}if(!E.playerName||!E.year||!E.cardSet){console.log(`Skipping card ${E.id} due to missing search fields`),ce.info(`Cannot update ${E.playerName||"card"} - missing required search fields.`),d(O=>O.filter(L=>L!==E.id));return}const P={playerName:E.playerName,year:E.year,cardSet:E.cardSet,cardNumber:E.cardNumber,variation:E.variation,grade:k(E.condition)};console.log("Search parameters being sent to eBay scraper:",P);const N=`${E.year} ${E.playerName} ${E.cardSet} ${E.variation||""} ${E.cardNumber} ${E.condition}`.trim();console.log("Full search string that would be used manually:",N),console.log(`Fetching data for: ${E.playerName} ${E.year} ${E.cardSet}`);try{const O={...P,fullSearchString:N,useFullSearch:!0},$=await rr.post("http://localhost:3001/api/text-search",{query:N},{headers:{"Content-Type":"application/json",Origin:window.location.origin}});if(console.log(`Response for ${E.playerName}: success=${$.data.success}, listings=${((T=$.data.listings)==null?void 0:T.length)||0}`),$.data.success&&$.data.listings&&$.data.listings.length>0){const B=$.data.listings.sort((z,W)=>new Date(W.date).getTime()-new Date(z.date).getTime()).slice(0,3),D=B.reduce((z,W)=>z+(W.totalPrice||W.price||0),0);if(B.length>0&&D>0){const z=D/B.length;if(console.log(`Found value for ${E.playerName}: $${z} (from ${B.length} recent sales)`),z>0){const W=E.currentValue||0;await k1.updateCard(h.uid,E.id,{currentValue:z}),ce.success(`Updated ${E.playerName} value from $${W.toFixed(2)} to $${z.toFixed(2)}`),y()}else ce.info(`No update needed for ${E.playerName}`)}else console.log(`No valid sales data for ${E.playerName} - totalPrice: ${D}, recentSales: ${B.length}`),ce.info(`No recent sales data found for ${E.playerName}`)}else console.log(`No listings found for ${E.playerName}`),ce.info(`No sales listings found for ${E.playerName}`)}catch(O){console.error(`Error fetching data for ${E.playerName}:`,O),ce.error(`Error updating ${E.playerName}: ${O instanceof Error?O.message:"Unknown error"}`)}}catch(P){console.error(`Error processing card ${E.id}:`,P),ce.error(`Error updating ${E.playerName}: ${P instanceof Error?P.message:"Unknown error"}`)}finally{d(P=>P.filter(N=>N!==E.id))}},A=async()=>{if(!h){ce.error("You must be logged in to update card values");return}c(!0);try{const E=await rr.post(`${Wa.replace(/\/$/,"")}/api/update-collection/${h.uid}`);E.data.success?(ce.success(`Updated values for ${E.data.updatedCount||0} cards`),await y()):ce.error(E.data.message||"Failed to update collection")}catch(E){console.error("Server update error",E),ce.error((E==null?void 0:E.message)||"Server error")}finally{c(!1)}},k=E=>!E||E.toLowerCase()==="raw"?"raw":(E.toLowerCase().includes("psa")||E.toLowerCase().includes("bgs")||E.toLowerCase().includes("sgc"),E);return g?m.jsxs("div",{className:"p-4 text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mx-auto"}),m.jsx("p",{className:"mt-2",children:"Loading your collection..."})]}):p?m.jsxs("div",{className:"p-4 text-center text-red-500",children:[m.jsxs("p",{children:["Error loading collection: ",p.message]}),m.jsx(xe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h1",{className:"text-2xl font-bold",children:["My Collection ",f.length>0&&`(${f.length} cards)`]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(xe,{onClick:A,disabled:l||f.length===0,variant:f.length===0?"outline":"secondary",children:l?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"mr-2 inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent"}),"Updating All..."]}):"Update All Card Values"}),m.jsx(xe,{onClick:b,children:"+ Add Card"})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[m.jsx("button",{className:`px-3 py-1 text-sm rounded-full border ${n?"bg-white":"bg-blue-600 text-white"}`,onClick:()=>r(null),children:"All"}),v.map(E=>m.jsx("button",{className:`px-3 py-1 text-sm rounded-full border ${n===E?"bg-blue-600 text-white":"bg-white"}`,onClick:()=>r(E),children:E},E))]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:`px-3 py-1 text-sm rounded border ${a==="table"?"bg-gray-200":"bg-white"}`,onClick:()=>o("table"),children:"Table View"}),m.jsx("button",{className:`px-3 py-1 text-sm rounded border ${a==="grid"?"bg-gray-200":"bg-white"}`,onClick:()=>o("grid"),children:"Grid View"})]})]}),a==="table"?m.jsx(fCe,{cards:x,onEditCard:w,onUpdateCard:C,updatingCardIds:u}):m.jsx(q1e,{cards:x,onEditCard:w,onUpdateCard:C,updatingCardIds:u,isModalOpen:t||!!i}),t&&m.jsx(hCe,{isOpen:t,onClose:_,onCardAdded:_}),i&&m.jsx(jke,{card:i,isOpen:!!i,onClose:()=>s(null),onCardUpdated:()=>s(null),onCardDeleted:()=>s(null)})]})};function rv({className:t,...e}){return m.jsx("div",{className:Dt("animate-pulse rounded-md bg-muted",t),...e})}var pTe="Label",Q7=I.forwardRef((t,e)=>m.jsx(dn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q7.displayName=pTe;var Z7=Q7;const zn=I.forwardRef(({className:t,...e},n)=>m.jsx(Z7,{ref:n,className:Dt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));zn.displayName=Z7.displayName;const gTe=()=>{const{signInWithGoogle:t,signInWithEmail:e,signUpWithEmail:n,resetPassword:r,loading:i,user:s}=jn(),[a,o]=I.useState(!1),[l,c]=I.useState(""),[u,d]=I.useState(""),[h,f]=I.useState(!1),[g,p]=I.useState(!1),[y,v]=I.useState(""),x=Aa();I.useEffect(()=>{s&&x("/dashboard")},[s,x]);const b=async()=>{try{o(!0),await t()}catch(C){console.error("Error signing in with Google:",C)}finally{o(!1)}},_=async C=>{C.preventDefault(),v(""),o(!0);try{h?await n(l,u):await e(l,u),x("/dashboard")}catch(A){v(A.message)}finally{o(!1)}},w=async()=>{if(!l){v("Please enter your email address");return}try{await r(l),p(!1)}catch(C){v(C.message)}};return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsx(rv,{className:"h-12 w-full"}),m.jsx(rv,{className:"h-10 w-full"})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsx("div",{children:m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:g?"Reset your password":h?"Create your account":"Sign in to your account"})}),g?m.jsxs("div",{className:"mt-8 space-y-6",children:[m.jsxs("div",{children:[m.jsx(zn,{htmlFor:"reset-email",children:"Email address"}),m.jsx(tn,{id:"reset-email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:C=>c(C.target.value),placeholder:"Enter your email"})]}),y&&m.jsx("div",{className:"text-red-600 text-sm text-center",children:y}),m.jsxs("div",{className:"flex flex-col space-y-4",children:[m.jsx(xe,{onClick:w,className:"w-full",children:"Send Reset Link"}),m.jsx(xe,{variant:"outline",onClick:()=>p(!1),className:"w-full",children:"Back to login"})]})]}):m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[m.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[m.jsxs("div",{children:[m.jsx(zn,{htmlFor:"email",children:"Email address"}),m.jsx(tn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:C=>c(C.target.value),placeholder:"Enter your email"})]}),m.jsxs("div",{children:[m.jsx(zn,{htmlFor:"password",children:"Password"}),m.jsx(tn,{id:"password",name:"password",type:"password",autoComplete:h?"new-password":"current-password",required:!0,value:u,onChange:C=>d(C.target.value),placeholder:"Enter your password"})]})]}),y&&m.jsx("div",{className:"text-red-600 text-sm text-center",children:y}),m.jsxs("div",{className:"flex flex-col space-y-4",children:[m.jsx(xe,{type:"submit",disabled:a,className:"w-full",children:a?h?"Creating account...":"Signing in...":h?"Create account":"Sign in"}),m.jsxs(xe,{type:"button",variant:"outline",onClick:b,disabled:a,className:"w-full",children:[m.jsx("img",{className:"h-5 w-5 mr-2",src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo"}),"Sign in with Google"]})]})]}),m.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[!g&&m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",onClick:()=>f(!h),className:"text-sm text-blue-600 hover:text-blue-500",children:h?"Already have an account? Sign in":"Don't have an account? Register"}),!h&&m.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot your password?"})]}),m.jsx(xs,{to:"/",className:"text-sm text-blue-600 hover:text-blue-500",children:"Back to home"})]})]})})},J7=""+new URL("brand-blue-C7HsNMdZ.png",import.meta.url).href;function mTe(){const t=Vg(),{user:e,logout:n}=jn(),r=Aa(),[i,s]=I.useState(!1),[a,o]=I.useState(0),[l,c]=I.useState(0),[u,d]=I.useState(0),[h,f]=I.useState(!1);I.useEffect(()=>{if(!e)return;f(!0);const v=Zt(de,"messages"),x=pi(v,En("recipientId","==",e.uid),En("read","==",!1),bh("timestamp","desc")),b=eg(x,w=>{o(w.docs.length),g(w.docs.length,l),f(!1)},w=>{console.error("Error getting unread messages:",w),f(!1)});return(async()=>{try{const w=Zt(de,"public_display_cases"),C=pi(w,En("userId","==",e.uid)),A=await Xn(C);let k=0;for(const E of A.docs){const T=E.data();T.comments&&Array.isArray(T.comments)&&(k+=T.comments.length)}return c(k),g(a,k),()=>{}}catch(w){return console.error("Error fetching display cases or comments:",w),()=>{}}})(),()=>{b()}},[e]);const g=(v,x)=>{d(v+x)},p=async()=>{try{await n(),r("/login")}catch(v){console.error("Error signing out:",v)}},y=()=>{s(!i)};return m.jsx(m.Fragment,{children:m.jsxs("nav",{className:"w-full h-16 bg-white dark:bg-background-dark shadow-md px-6 flex items-center justify-between relative z-50",children:[m.jsxs(xs,{to:"/",className:"flex items-center gap-3 pl-1",children:[m.jsx("img",{src:J7,alt:"Sports Card Analyzer Logo",className:"h-24 max-h-24 w-auto object-contain select-none",style:{maxHeight:"60px"},draggable:!1}),m.jsx("span",{className:"text-2xl font-bold text-primary whitespace-nowrap",children:"Sports Card Analyzer"})]}),m.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100",onClick:y,"aria-label":"Toggle menu",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:i?m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("div",{className:"hidden md:flex gap-4 ml-8 items-center",children:[m.jsx(Ef,{to:"/dashboard",label:"Dashboard",active:t.pathname==="/dashboard"}),m.jsx(Ef,{to:"/collection",label:"Collection",active:t.pathname==="/collection"}),m.jsx(Ef,{to:"/display-cases",label:"Display Cases",active:t.pathname==="/display-cases"}),m.jsx(Ef,{to:"/market-analyzer",label:"Market Analyzer",active:t.pathname==="/market-analyzer"}),m.jsx(Ef,{to:"/trade-analyzer",label:"Trade Analyzer",active:t.pathname.startsWith("/trade-analyzer")}),e&&m.jsx(Ef,{to:"/profile",label:"Profile",active:t.pathname==="/profile"})]}),m.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e&&m.jsx("div",{className:"relative",children:m.jsxs(xs,{to:"/dashboard",className:"flex items-center gap-1",children:[m.jsx(yve,{className:"h-5 w-5 text-gray-500"}),u>0&&!h&&m.jsx(Io,{className:"absolute -top-2 -right-2 px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:u})]})}),e?m.jsx("button",{onClick:p,className:"text-sm text-red-600 hover:text-red-900 font-bold px-3 py-1 rounded-2xl bg-red-50 dark:bg-red-900/20",children:"Sign Out"}):m.jsx(xs,{to:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Sign in"})]}),i&&m.jsxs("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white dark:bg-background-dark shadow-lg p-4 flex flex-col gap-2 border-t border-gray-200",children:[m.jsx(Tf,{to:"/dashboard",label:"Dashboard",active:t.pathname==="/dashboard",onClick:()=>s(!1)}),m.jsx(Tf,{to:"/collection",label:"Collection",active:t.pathname==="/collection",onClick:()=>s(!1)}),m.jsx(Tf,{to:"/display-cases",label:"Display Cases",active:t.pathname==="/display-cases",onClick:()=>s(!1)}),m.jsx(Tf,{to:"/market-analyzer",label:"Market Analyzer",active:t.pathname==="/market-analyzer",onClick:()=>s(!1)}),m.jsx(Tf,{to:"/trade-analyzer",label:"Trade Analyzer",active:t.pathname.startsWith("/trade-analyzer"),onClick:()=>s(!1)}),e&&m.jsxs("div",{className:"flex items-center",children:[m.jsx(Tf,{to:"/profile",label:"Profile",active:t.pathname==="/profile",onClick:()=>s(!1)}),u>0&&m.jsx(Io,{className:"ml-2 px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:u})]}),m.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:e?m.jsx("button",{onClick:()=>{p(),s(!1)},className:"w-full text-left text-red-600 hover:text-red-900 py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Sign Out"}):m.jsx(xs,{to:"/login",onClick:()=>s(!1),className:"block w-full text-left text-primary hover:text-secondary py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Sign in"})})]})]})})}function Ef({to:t,label:e,active:n}){return m.jsx(xs,{to:t,className:`font-body text-lg px-3 py-1 rounded-2xl transition-colors ${n?"bg-primary text-white dark:bg-secondary dark:text-background-dark":"text-primary dark:text-secondary hover:bg-primary/10 dark:hover:bg-secondary/20"}`,children:e})}function Tf({to:t,label:e,active:n,onClick:r}){return m.jsx(xs,{to:t,onClick:r,className:`block py-2 px-3 rounded-md transition-colors ${n?"bg-primary text-white dark:bg-secondary dark:text-background-dark":"text-primary dark:text-secondary hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:e})}function yTe(){return m.jsx("footer",{className:"w-full bg-gray-100 dark:bg-background-dark text-gray-700 dark:text-white py-6 px-4 mt-12 border-t border-gray-300 dark:border-gray-700",children:m.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:J7,alt:"Sports Card Analyzer Logo",className:"h-10 w-auto object-contain select-none",draggable:!1}),m.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Sports Card Analyzer Pro"})]}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[m.jsx(xs,{to:"/about",className:"hover:underline",children:"About"}),m.jsx(xs,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),m.jsx("a",{href:"mailto:admin@sportsanalyzer.com",className:"hover:underline",children:"Contact Support"})]}),m.jsxs("div",{className:"text-xs text-center md:text-right",children:["© ",new Date().getFullYear()," Sports Card Analyzer. All rights reserved."]})]})})}const vTe=({children:t})=>m.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-background-dark flex flex-col",children:[m.jsx(mTe,{}),m.jsx("main",{className:"flex-1 max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t}),m.jsx(yTe,{})]}),WM=I.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:Dt("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));WM.displayName="Textarea";var eK={exports:{}},tK={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=I;function xTe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bTe=typeof Object.is=="function"?Object.is:xTe,wTe=cg.useState,_Te=cg.useEffect,STe=cg.useLayoutEffect,ATe=cg.useDebugValue;function CTe(t,e){var n=e(),r=wTe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return STe(function(){i.value=n,i.getSnapshot=e,$E(i)&&s({inst:i})},[t,n,e]),_Te(function(){return $E(i)&&s({inst:i}),t(function(){$E(i)&&s({inst:i})})},[t]),ATe(n),n}function $E(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bTe(t,n)}catch{return!0}}function kTe(t,e){return e()}var ETe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kTe:CTe;tK.useSyncExternalStore=cg.useSyncExternalStore!==void 0?cg.useSyncExternalStore:ETe;eK.exports=tK;var TTe=eK.exports;function PTe(){return TTe.useSyncExternalStore(ITe,()=>!0,()=>!1)}function ITe(){return()=>{}}var HM="Avatar",[OTe,iet]=cc(HM),[NTe,nK]=OTe(HM),rK=I.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=I.useState("idle");return m.jsx(NTe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(dn.span,{...r,ref:e})})});rK.displayName=HM;var iK="AvatarImage",sK=I.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=nK(iK,n),o=RTe(r,s),l=tl(c=>{i(c),a.onImageLoadingStatusChange(c)});return fo(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?m.jsx(dn.img,{...s,ref:e,src:r}):null});sK.displayName=iK;var aK="AvatarFallback",oK=I.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=nK(aK,n),[a,o]=I.useState(r===void 0);return I.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?m.jsx(dn.span,{...i,ref:e}):null});oK.displayName=aK;function i4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RTe(t,{referrerPolicy:e,crossOrigin:n}){const r=PTe(),i=I.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=I.useState(()=>i4(s,t));return fo(()=>{o(i4(s,t))},[s,t]),fo(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,e]),a}var lK=rK,cK=sK,uK=oK;const P1=I.forwardRef(({className:t,...e},n)=>m.jsx(lK,{ref:n,className:Dt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));P1.displayName=lK.displayName;const I1=I.forwardRef(({className:t,...e},n)=>m.jsx(cK,{ref:n,className:Dt("aspect-square h-full w-full",t),...e}));I1.displayName=cK.displayName;const O1=I.forwardRef(({className:t,...e},n)=>m.jsx(uK,{ref:n,className:Dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));O1.displayName=uK.displayName;function MTe({displayCaseId:t}){const{user:e}=jn(),[n,r]=I.useState([]),[i,s]=I.useState(""),[a,o]=I.useState(!0),[l,c]=I.useState(!1),[u,d]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t){o(!0);try{const p=Ie(de,"public_display_cases",t),y=await Ye(p);if(y.exists()){const v=y.data();if(v.comments&&Array.isArray(v.comments)){const x=v.comments.map(b=>{var _;return{...b,timestamp:((_=b.timestamp)==null?void 0:_.toDate())||new Date,userId:b.userId||"",userName:b.userName||"Anonymous"}});x.sort((b,_)=>_.timestamp.getTime()-b.timestamp.getTime()),r(x)}}}catch(p){console.error("Error fetching comments:",p),ce.error("Failed to load comments")}finally{o(!1)}}})()},[t]);const h=async g=>{if(g.preventDefault(),!e){d(!0);return}if(!i.trim()){ce.error("Comment cannot be empty");return}c(!0);try{const p=Ie(de,"public_display_cases",t);if((await Ye(p)).exists()){const v={userId:e.uid,userName:e.displayName||"Anonymous",photoURL:e.photoURL||"",text:i.trim(),timestamp:new Date};await Yt(p,{comments:tfe(v)}),r(x=>[{...v,id:Math.random().toString(36).substr(2,9)},...x]),s(""),ce.success("Comment added successfully")}else ce.error("Display case not found")}catch(p){console.error("Error adding comment:",p),ce.error("Failed to add comment")}finally{c(!1)}},f=()=>{e||d(!0)};return m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Comments"}),m.jsxs("form",{onSubmit:h,className:"space-y-3",children:[m.jsx(WM,{placeholder:e?"Add a comment...":"Sign in to leave a comment",value:i,onChange:g=>s(g.target.value),onFocus:f,className:"min-h-[100px]",disabled:l||!e}),m.jsx("div",{className:"flex justify-end",children:m.jsx(xe,{type:"submit",disabled:l||!e||!i.trim(),children:l?"Posting...":e?"Post Comment":"Sign in to comment"})})]}),m.jsx(Xo,{open:u,onOpenChange:d,children:m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsxs(ao,{children:[m.jsx(oo,{children:"Sign in required"}),m.jsx(yp,{children:"Please sign in or create an account to comment on this display case."})]}),m.jsxs(Go,{className:"flex gap-2 justify-end",children:[m.jsx(xe,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),m.jsx(xe,{onClick:()=>{window.location.href=`/login?redirect=${encodeURIComponent(window.location.pathname)}`},children:"Sign in / Create Account"})]})]})}),m.jsx("div",{className:"space-y-4 mt-8",children:a?m.jsx("div",{className:"text-center text-gray-500",children:"Loading comments..."}):n.length>0?n.map((g,p)=>{var y;return m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex gap-3 items-start mb-2",children:[m.jsx(P1,{className:"h-8 w-8",children:g.photoURL?m.jsx(I1,{src:g.photoURL,alt:g.userName}):m.jsx(O1,{children:((y=g.userName)==null?void 0:y.charAt(0))||"?"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-medium text-sm",children:g.userName||"Anonymous"}),m.jsx("div",{className:"text-xs text-gray-500",children:Ww(g.timestamp,{addSuffix:!0})})]})]}),m.jsx("p",{className:"text-gray-700 pl-11",children:g.text})]},p)}):m.jsx("div",{className:"text-center text-gray-500",children:"No comments yet. Be the first to comment!"})}),!e&&n.length===0&&m.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Sign in to leave a comment on this display case."})]})}class au{static async addLike(e,n){if(!e||!n)throw new Error("Display case ID and user ID are required");try{const r=Zt(de,"likes");await Kh(r,{displayCaseId:e,userId:n,timestamp:Zf()}),console.log("Like added successfully"),await au.updateLikesCount(e)}catch(r){throw console.error("Error adding like:",r),r}}static async removeLike(e,n){if(!e||!n)throw new Error("Display case ID and user ID are required");try{const r=Zt(de,"likes"),i=pi(r,En("displayCaseId","==",e),En("userId","==",n)),s=await Xn(i);if(s.empty)console.warn("No like found to remove");else{const a=s.docs[0];await el(a.ref),console.log("Like removed successfully"),await au.updateLikesCount(e)}}catch(r){throw console.error("Error removing like:",r),r}}static async hasUserLiked(e,n){if(!e||!n)return!1;try{const r=Zt(de,"likes"),i=pi(r,En("displayCaseId","==",e),En("userId","==",n));return!(await Xn(i)).empty}catch(r){return console.error("Error checking if user liked:",r),!1}}static async getLikeCount(e){if(!e)return 0;try{const n=Zt(de,"likes"),r=pi(n,En("displayCaseId","==",e));return(await Xn(r)).size}catch(n){return console.error("Error getting like count:",n),0}}static async updateLikesCount(e){if(!e)return!1;try{const n=await au.getLikeCount(e),r=Ie(de,"public_display_cases",e);if((await Ye(r)).exists())return await Yt(r,{likes:n,updatedAt:new Date}),console.log(`Updated likes count for display case ${e} to ${n}`),!0;{const s=Ie(de,"displayCases",e);return(await Ye(s)).exists()?(await Yt(s,{likes:n,updatedAt:new Date}),console.log(`Updated likes count for legacy display case ${e} to ${n}`),!0):(console.log(`Display case ${e} not found in any collection`),!1)}}catch(n){return console.error(`Error updating likes count for display case ${e}:`,n),!1}}static onLikesChange(e,n,r){if(!e)return console.error("Display case ID is required"),()=>{};try{const i=Zt(de,"likes"),s=pi(i,En("displayCaseId","==",e));return eg(s,n,a=>{console.error("Error in likes listener:",a),r&&r(a)})}catch(i){return console.error("Error setting up likes listener:",i),()=>{}}}}const oi=[];for(let t=0;t<256;++t)oi.push((t+256).toString(16).slice(1));function DTe(t,e=0){return(oi[t[e+0]]+oi[t[e+1]]+oi[t[e+2]]+oi[t[e+3]]+"-"+oi[t[e+4]]+oi[t[e+5]]+"-"+oi[t[e+6]]+oi[t[e+7]]+"-"+oi[t[e+8]]+oi[t[e+9]]+"-"+oi[t[e+10]]+oi[t[e+11]]+oi[t[e+12]]+oi[t[e+13]]+oi[t[e+14]]+oi[t[e+15]]).toLowerCase()}let BE;const jTe=new Uint8Array(16);function LTe(){if(!BE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BE=crypto.getRandomValues.bind(crypto)}return BE(jTe)}const FTe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s4={randomUUID:FTe};function $Te(t,e,n){var i;if(s4.randomUUID&&!t)return s4.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??LTe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DTe(r)}function BTe({displayCaseId:t}){const{user:e}=jn(),[n,r]=I.useState(0),[i,s]=I.useState(!1),[a,o]=I.useState(!1),[l,c]=I.useState(null),{displayCases:u=[]}=FA();u.length>0&&u.reduce((f,g)=>{var v,x;const p=(g.likes||0)+(((v=g.comments)==null?void 0:v.length)||0)+(g.visits||0),y=(f.likes||0)+(((x=f.comments)==null?void 0:x.length)||0)+(f.visits||0);return p>y?g:f},u[0]);const d=()=>{let f=localStorage.getItem("anonymousUserId");return f||(f=$Te(),localStorage.setItem("anonymousUserId",f)),f};I.useEffect(()=>{(async()=>{if(t)try{const g=Ie(de,"public_display_cases",t);(await Ye(g)).exists()||(console.error("Display case does not exist:",t),c("This display case no longer exists"))}catch(g){console.error("Error verifying display case:",g)}})()},[t]),I.useEffect(()=>{if(!t)return;const f=y=>{r(y.size);const v=e?e.uid:d(),x=y.docs.some(b=>b.data().userId===v);s(x)},g=y=>{console.error("Likes listener error:",y),ce.error("Unable to load likes")};return au.onLikesChange(t,f,g)},[t,e]),I.useEffect(()=>{(async()=>{if(t)try{const g=e?e.uid:d(),p=await au.hasUserLiked(t,g);s(p)}catch(g){console.error("Error checking if user liked:",g)}})()},[e,t]);const h=async()=>{if(c(null),!a){o(!0);try{const f=e?e.uid:d();i?await au.removeLike(t,f):await au.addLike(t,f)}catch(f){console.error("Failed to update like:",f),f.code==="permission-denied"?(c("You don't have permission to like this display case"),ce.error("Permission denied")):(c("Failed to update like"),ce.error("Something went wrong"))}finally{o(!1)}}};return m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:h,disabled:a||!!l,className:`flex items-center space-x-1 text-sm transition-colors ${i?"text-red-500":"text-gray-400 hover:text-red-500"} disabled:opacity-50 disabled:cursor-not-allowed`,"aria-label":i?"Unlike":"Like",title:l||(i?"Unlike":"Like"),children:[m.jsx(vy,{className:`w-4 h-4 ${a?"animate-pulse":""}`,fill:i?"currentColor":"none"}),m.jsx("span",{children:n})]}),l&&m.jsx("div",{className:"absolute top-full left-0 mt-1 text-xs text-red-500",children:l})]})}const zTe=["top","right","bottom","left"],Lu=Math.min,Bs=Math.max,N1=Math.round,J0=Math.floor,qo=t=>({x:t,y:t}),VTe={left:"right",right:"left",bottom:"top",top:"bottom"},UTe={start:"end",end:"start"};function QI(t,e,n){return Bs(t,Lu(e,n))}function Zl(t,e){return typeof t=="function"?t(e):t}function Jl(t){return t.split("-")[0]}function Jg(t){return t.split("-")[1]}function YM(t){return t==="x"?"y":"x"}function XM(t){return t==="y"?"height":"width"}function Ll(t){return["top","bottom"].includes(Jl(t))?"y":"x"}function GM(t){return YM(Ll(t))}function WTe(t,e,n){n===void 0&&(n=!1);const r=Jg(t),i=GM(t),s=XM(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=R1(a)),[a,R1(a)]}function HTe(t){const e=R1(t);return[ZI(t),e,ZI(e)]}function ZI(t){return t.replace(/start|end/g,e=>UTe[e])}function YTe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function XTe(t,e,n,r){const i=Jg(t);let s=YTe(Jl(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ZI)))),s}function R1(t){return t.replace(/left|right|bottom|top/g,e=>VTe[e])}function GTe(t){return{top:0,right:0,bottom:0,left:0,...t}}function dK(t){return typeof t!="number"?GTe(t):{top:t,right:t,bottom:t,left:t}}function M1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function a4(t,e,n){let{reference:r,floating:i}=t;const s=Ll(e),a=GM(e),o=XM(a),l=Jl(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Jg(e)){case"start":f[a]-=h*(n&&c?-1:1);break;case"end":f[a]+=h*(n&&c?-1:1);break}return f}const qTe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=a4(c,r,l),h=r,f={},g=0;for(let p=0;p<o.length;p++){const{name:y,fn:v}=o[p],{x,y:b,data:_,reset:w}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:t,floating:e}});u=x??u,d=b??d,f={...f,[y]:{...f[y],..._}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:u,y:d}=a4(c,h,l)),p=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Jv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Zl(e,t),g=dK(f),y=o[h?d==="floating"?"reference":"floating":d],v=M1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},w=M1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-w.top+g.top)/_.y,bottom:(w.bottom-v.bottom+g.bottom)/_.y,left:(v.left-w.left+g.left)/_.x,right:(w.right-v.right+g.right)/_.x}}const KTe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Zl(t,e)||{};if(c==null)return{};const d=dK(u),h={x:n,y:r},f=GM(i),g=XM(f),p=await a.getDimensions(c),y=f==="y",v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[f]-h[f]-s.floating[g],w=h[f]-s.reference[f],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let A=C?C[b]:0;(!A||!await(a.isElement==null?void 0:a.isElement(C)))&&(A=o.floating[b]||s.floating[g]);const k=_/2-w/2,E=A/2-p[g]/2-1,T=Lu(d[v],E),P=Lu(d[x],E),N=T,O=A-p[g]-P,L=A/2-p[g]/2+k,$=QI(N,L,O),F=!l.arrow&&Jg(i)!=null&&L!==$&&s.reference[g]/2-(L<N?T:P)-p[g]/2<0,B=F?L<N?L-N:L-O:0;return{[f]:h[f]+B,data:{[f]:$,centerOffset:L-$-B,...F&&{alignmentOffset:B}},reset:F}}}),QTe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Zl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Jl(i),x=Ll(o),b=Jl(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(b||!p?[R1(o)]:HTe(o)),C=g!=="none";!h&&C&&w.push(...XTe(o,p,g,_));const A=[o,...w],k=await Jv(e,y),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(k[v]),d){const $=WTe(i,a,_);E.push(k[$[0]],k[$[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every($=>$<=0)){var P,N;const $=(((P=s.flip)==null?void 0:P.index)||0)+1,F=A[$];if(F){var O;const D=d==="alignment"?x!==Ll(F):!1,z=((O=T[0])==null?void 0:O.overflows[0])>0;if(!D||z)return{data:{index:$,overflows:T},reset:{placement:F}}}let B=(N=T.filter(D=>D.overflows[0]<=0).sort((D,z)=>D.overflows[1]-z.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(f){case"bestFit":{var L;const D=(L=T.filter(z=>{if(C){const W=Ll(z.placement);return W===x||W==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((z,W)=>z[1]-W[1])[0])==null?void 0:L[0];D&&(B=D);break}case"initialPlacement":B=o;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function o4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function l4(t){return zTe.some(e=>t[e]>=0)}const ZTe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Zl(t,e);switch(r){case"referenceHidden":{const s=await Jv(e,{...i,elementContext:"reference"}),a=o4(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:l4(a)}}}case"escaped":{const s=await Jv(e,{...i,altBoundary:!0}),a=o4(s,n.floating);return{data:{escapedOffsets:a,escaped:l4(a)}}}default:return{}}}}};async function JTe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Jl(n),o=Jg(n),l=Ll(n)==="y",c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=Zl(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const ePe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await JTe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},tPe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=Zl(t,e),c={x:n,y:r},u=await Jv(e,l),d=Ll(Jl(i)),h=YM(d);let f=c[h],g=c[d];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=f+u[y],b=f-u[v];f=QI(x,f,b)}if(a){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=g+u[y],b=g-u[v];g=QI(x,g,b)}const p=o.fn({...e,[h]:f,[d]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:s,[d]:a}}}}}},nPe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Zl(t,e),u={x:n,y:r},d=Ll(i),h=YM(d);let f=u[h],g=u[d];const p=Zl(o,e),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+y.mainAxis,w=s.reference[h]+s.reference[b]-y.mainAxis;f<_?f=_:f>w&&(f=w)}if(c){var v,x;const b=h==="y"?"width":"height",_=["top","left"].includes(Jl(i)),w=s.reference[d]-s.floating[b]+(_&&((v=a.offset)==null?void 0:v[d])||0)+(_?0:y.crossAxis),C=s.reference[d]+s.reference[b]+(_?0:((x=a.offset)==null?void 0:x[d])||0)-(_?y.crossAxis:0);g<w?g=w:g>C&&(g=C)}return{[h]:f,[d]:g}}}},rPe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Zl(t,e),u=await Jv(e,c),d=Jl(i),h=Jg(i),f=Ll(i)==="y",{width:g,height:p}=s.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,y=h==="end"?"top":"bottom");const x=p-u.top-u.bottom,b=g-u.left-u.right,_=Lu(p-u[y],x),w=Lu(g-u[v],b),C=!e.middlewareData.shift;let A=_,k=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=x),C&&!h){const T=Bs(u.left,0),P=Bs(u.right,0),N=Bs(u.top,0),O=Bs(u.bottom,0);f?k=g-2*(T!==0||P!==0?T+P:Bs(u.left,u.right)):A=p-2*(N!==0||O!==0?N+O:Bs(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:A});const E=await a.getDimensions(o.floating);return g!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function cC(){return typeof window<"u"}function em(t){return hK(t)?(t.nodeName||"").toLowerCase():"#document"}function Ys(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function il(t){var e;return(e=(hK(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hK(t){return cC()?t instanceof Node||t instanceof Ys(t).Node:!1}function po(t){return cC()?t instanceof Element||t instanceof Ys(t).Element:!1}function nl(t){return cC()?t instanceof HTMLElement||t instanceof Ys(t).HTMLElement:!1}function c4(t){return!cC()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ys(t).ShadowRoot}function Ab(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=go(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function iPe(t){return["table","td","th"].includes(em(t))}function uC(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qM(t){const e=KM(),n=po(t)?go(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sPe(t){let e=Fu(t);for(;nl(e)&&!ug(e);){if(qM(e))return e;if(uC(e))return null;e=Fu(e)}return null}function KM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ug(t){return["html","body","#document"].includes(em(t))}function go(t){return Ys(t).getComputedStyle(t)}function dC(t){return po(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fu(t){if(em(t)==="html")return t;const e=t.assignedSlot||t.parentNode||c4(t)&&t.host||il(t);return c4(e)?e.host:e}function fK(t){const e=Fu(t);return ug(e)?t.ownerDocument?t.ownerDocument.body:t.body:nl(e)&&Ab(e)?e:fK(e)}function ex(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=fK(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Ys(i);if(s){const o=JI(a);return e.concat(a,a.visualViewport||[],Ab(i)?i:[],o&&n?ex(o):[])}return e.concat(i,ex(i,[],n))}function JI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pK(t){const e=go(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=nl(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=N1(n)!==s||N1(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function QM(t){return po(t)?t:t.contextElement}function vp(t){const e=QM(t);if(!nl(e))return qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=pK(e);let a=(s?N1(n.width):n.width)/r,o=(s?N1(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const aPe=qo(0);function gK(t){const e=Ys(t);return!KM()||!e.visualViewport?aPe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oPe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ys(t)?!1:e}function Nh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=QM(t);let a=qo(1);e&&(r?po(r)&&(a=vp(r)):a=vp(t));const o=oPe(s,n,r)?gK(s):qo(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=Ys(s),f=r&&po(r)?Ys(r):r;let g=h,p=JI(g);for(;p&&r&&f!==g;){const y=vp(p),v=p.getBoundingClientRect(),x=go(p),b=v.left+(p.clientLeft+parseFloat(x.paddingLeft))*y.x,_=v.top+(p.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=b,c+=_,g=Ys(p),p=JI(g)}}return M1({width:u,height:d,x:l,y:c})}function ZM(t,e){const n=dC(t).scrollLeft;return e?e.left+n:Nh(il(t)).left+n}function mK(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ZM(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function lPe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=il(r),o=e?uC(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=qo(1);const u=qo(0),d=nl(r);if((d||!d&&!s)&&((em(r)!=="body"||Ab(a))&&(l=dC(r)),nl(r))){const f=Nh(r);c=vp(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=a&&!d&&!s?mK(a,l,!0):qo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function cPe(t){return Array.from(t.getClientRects())}function uPe(t){const e=il(t),n=dC(t),r=t.ownerDocument.body,i=Bs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Bs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ZM(t);const o=-n.scrollTop;return go(r).direction==="rtl"&&(a+=Bs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function dPe(t,e){const n=Ys(t),r=il(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=KM();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function hPe(t,e){const n=Nh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=nl(t)?vp(t):qo(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function u4(t,e,n){let r;if(e==="viewport")r=dPe(t,n);else if(e==="document")r=uPe(il(t));else if(po(e))r=hPe(e,n);else{const i=gK(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return M1(r)}function yK(t,e){const n=Fu(t);return n===e||!po(n)||ug(n)?!1:go(n).position==="fixed"||yK(n,e)}function fPe(t,e){const n=e.get(t);if(n)return n;let r=ex(t,[],!1).filter(o=>po(o)&&em(o)!=="body"),i=null;const s=go(t).position==="fixed";let a=s?Fu(t):t;for(;po(a)&&!ug(a);){const o=go(a),l=qM(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ab(a)&&!l&&yK(t,a))?r=r.filter(u=>u!==a):i=o,a=Fu(a)}return e.set(t,r),r}function pPe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?uC(e)?[]:fPe(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const d=u4(e,u,i);return c.top=Bs(d.top,c.top),c.right=Lu(d.right,c.right),c.bottom=Lu(d.bottom,c.bottom),c.left=Bs(d.left,c.left),c},u4(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gPe(t){const{width:e,height:n}=pK(t);return{width:e,height:n}}function mPe(t,e,n){const r=nl(e),i=il(e),s=n==="fixed",a=Nh(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=qo(0);function c(){l.x=ZM(i)}if(r||!r&&!s)if((em(e)!=="body"||Ab(i))&&(o=dC(e)),r){const f=Nh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?mK(i,o):qo(0),d=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function zE(t){return go(t).position==="static"}function d4(t,e){if(!nl(t)||go(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return il(t)===n&&(n=n.ownerDocument.body),n}function vK(t,e){const n=Ys(t);if(uC(t))return n;if(!nl(t)){let i=Fu(t);for(;i&&!ug(i);){if(po(i)&&!zE(i))return i;i=Fu(i)}return n}let r=d4(t,e);for(;r&&iPe(r)&&zE(r);)r=d4(r,e);return r&&ug(r)&&zE(r)&&!qM(r)?n:r||sPe(t)||n}const yPe=async function(t){const e=this.getOffsetParent||vK,n=this.getDimensions,r=await n(t.floating);return{reference:mPe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vPe(t){return go(t).direction==="rtl"}const xPe={convertOffsetParentRelativeRectToViewportRelativeRect:lPe,getDocumentElement:il,getClippingRect:pPe,getOffsetParent:vK,getElementRects:yPe,getClientRects:cPe,getDimensions:gPe,getScale:vp,isElement:po,isRTL:vPe};function xK(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bPe(t,e){let n=null,r;const i=il(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const g=J0(d),p=J0(i.clientWidth-(u+h)),y=J0(i.clientHeight-(d+f)),v=J0(u),b={rootMargin:-g+"px "+-p+"px "+-y+"px "+-v+"px",threshold:Bs(0,Lu(1,l))||1};let _=!0;function w(C){const A=C[0].intersectionRatio;if(A!==l){if(!_)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!xK(c,t.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return a(!0),s}function wPe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=QM(t),u=i||s?[...c?ex(c):[],...ex(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&o?bPe(c,n):null;let h=-1,f=null;a&&(f=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,p=l?Nh(t):null;l&&y();function y(){const v=Nh(t);p&&!xK(p,v)&&n(),p=v,g=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const _Pe=ePe,SPe=tPe,APe=QTe,CPe=rPe,kPe=ZTe,h4=KTe,EPe=nPe,TPe=(t,e,n)=>{const r=new Map,i={platform:xPe,...n},s={...i.platform,_c:r};return qTe(t,e,{...i,platform:s})};var a_=typeof document<"u"?I.useLayoutEffect:I.useEffect;function D1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!D1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!D1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bK(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function f4(t,e){const n=bK(t);return Math.round(e*n)/n}function VE(t){const e=I.useRef(t);return a_(()=>{e.current=t}),e}function PPe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=I.useState(r);D1(h,r)||f(r);const[g,p]=I.useState(null),[y,v]=I.useState(null),x=I.useCallback(D=>{D!==C.current&&(C.current=D,p(D))},[]),b=I.useCallback(D=>{D!==A.current&&(A.current=D,v(D))},[]),_=s||g,w=a||y,C=I.useRef(null),A=I.useRef(null),k=I.useRef(u),E=l!=null,T=VE(l),P=VE(i),N=VE(c),O=I.useCallback(()=>{if(!C.current||!A.current)return;const D={placement:e,strategy:n,middleware:h};P.current&&(D.platform=P.current),TPe(C.current,A.current,D).then(z=>{const W={...z,isPositioned:N.current!==!1};L.current&&!D1(k.current,W)&&(k.current=W,sA.flushSync(()=>{d(W)}))})},[h,e,n,P,N]);a_(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const L=I.useRef(!1);a_(()=>(L.current=!0,()=>{L.current=!1}),[]),a_(()=>{if(_&&(C.current=_),w&&(A.current=w),_&&w){if(T.current)return T.current(_,w,O);O()}},[_,w,O,T,E]);const $=I.useMemo(()=>({reference:C,floating:A,setReference:x,setFloating:b}),[x,b]),F=I.useMemo(()=>({reference:_,floating:w}),[_,w]),B=I.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const z=f4(F.floating,u.x),W=f4(F.floating,u.y);return o?{...D,transform:"translate("+z+"px, "+W+"px)",...bK(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:W}},[n,o,F.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:O,refs:$,elements:F,floatingStyles:B}),[u,O,$,F,B])}const IPe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?h4({element:r.current,padding:i}).fn(n):{}:r?h4({element:r,padding:i}).fn(n):{}}}},OPe=(t,e)=>({..._Pe(t),options:[t,e]}),NPe=(t,e)=>({...SPe(t),options:[t,e]}),RPe=(t,e)=>({...EPe(t),options:[t,e]}),MPe=(t,e)=>({...APe(t),options:[t,e]}),DPe=(t,e)=>({...CPe(t),options:[t,e]}),jPe=(t,e)=>({...kPe(t),options:[t,e]}),LPe=(t,e)=>({...IPe(t),options:[t,e]});var FPe="Arrow",wK=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(dn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});wK.displayName=FPe;var $Pe=wK;function BPe(t){const[e,n]=I.useState(void 0);return fo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var JM="Popper",[_K,hC]=cc(JM),[zPe,SK]=_K(JM),AK=t=>{const{__scopePopper:e,children:n}=t,[r,i]=I.useState(null);return m.jsx(zPe,{scope:e,anchor:r,onAnchorChange:i,children:n})};AK.displayName=JM;var CK="PopperAnchor",kK=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=SK(CK,n),a=I.useRef(null),o=Yr(e,a);return I.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:m.jsx(dn.div,{...i,ref:o})});kK.displayName=CK;var eD="PopperContent",[VPe,UPe]=_K(eD),EK=I.forwardRef((t,e)=>{var fe,Ne,re,ge,Ae,se;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=t,y=SK(eD,n),[v,x]=I.useState(null),b=Yr(e,et=>x(et)),[_,w]=I.useState(null),C=BPe(_),A=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=r+(s!=="center"?"-"+s:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],N=P.length>0,O={padding:T,boundary:P.filter(HPe),altBoundary:N},{refs:L,floatingStyles:$,placement:F,isPositioned:B,middlewareData:D}=PPe({strategy:"fixed",placement:E,whileElementsMounted:(...et)=>wPe(...et,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[OPe({mainAxis:i+k,alignmentAxis:a}),l&&NPe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?RPe():void 0,...O}),l&&MPe({...O}),DPe({...O,apply:({elements:et,rects:Ge,availableWidth:Ot,availableHeight:rn})=>{const{width:hn,height:Pn}=Ge.reference,bn=et.floating.style;bn.setProperty("--radix-popper-available-width",`${Ot}px`),bn.setProperty("--radix-popper-available-height",`${rn}px`),bn.setProperty("--radix-popper-anchor-width",`${hn}px`),bn.setProperty("--radix-popper-anchor-height",`${Pn}px`)}}),_&&LPe({element:_,padding:o}),YPe({arrowWidth:A,arrowHeight:k}),h&&jPe({strategy:"referenceHidden",...O})]}),[z,W]=IK(F),X=tl(g);fo(()=>{B&&(X==null||X())},[B,X]);const q=(fe=D.arrow)==null?void 0:fe.x,J=(Ne=D.arrow)==null?void 0:Ne.y,ae=((re=D.arrow)==null?void 0:re.centerOffset)!==0,[_e,K]=I.useState();return fo(()=>{v&&K(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(ge=D.transformOrigin)==null?void 0:ge.x,(Ae=D.transformOrigin)==null?void 0:Ae.y].join(" "),...((se=D.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(VPe,{scope:n,placedSide:z,onArrowChange:w,arrowX:q,arrowY:J,shouldHideArrow:ae,children:m.jsx(dn.div,{"data-side":z,"data-align":W,...p,ref:b,style:{...p.style,animation:B?void 0:"none"}})})})});EK.displayName=eD;var TK="PopperArrow",WPe={top:"bottom",right:"left",bottom:"top",left:"right"},PK=I.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=UPe(TK,r),a=WPe[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx($Pe,{...i,ref:n,style:{...i.style,display:"block"}})})});PK.displayName=TK;function HPe(t){return t!==null}var YPe=t=>({name:"transformOrigin",options:t,fn(e){var y,v,x;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=IK(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",p="";return c==="bottom"?(g=a?d:`${h}px`,p=`${-l}px`):c==="top"?(g=a?d:`${h}px`,p=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,p=a?d:`${f}px`):c==="left"&&(g=`${r.floating.width+l}px`,p=a?d:`${f}px`),{data:{x:g,y:p}}}});function IK(t){const[e,n="center"]=t.split("-");return[e,n]}var OK=AK,tD=kK,NK=EK,RK=PK,eO=["Enter"," "],XPe=["ArrowDown","PageUp","Home"],MK=["ArrowUp","PageDown","End"],GPe=[...XPe,...MK],qPe={ltr:[...eO,"ArrowRight"],rtl:[...eO,"ArrowLeft"]},KPe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cb="Menu",[tx,QPe,ZPe]=I8(Cb),[Jh,DK]=cc(Cb,[ZPe,hC,DA]),fC=hC(),jK=DA(),[JPe,ef]=Jh(Cb),[eIe,kb]=Jh(Cb),LK=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=fC(e),[l,c]=I.useState(null),u=I.useRef(!1),d=tl(s),h=sM(i);return I.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),m.jsx(OK,{...o,children:m.jsx(JPe,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(eIe,{scope:e,onClose:I.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:a,children:r})})})};LK.displayName=Cb;var tIe="MenuAnchor",nD=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=fC(n);return m.jsx(tD,{...i,...r,ref:e})});nD.displayName=tIe;var rD="MenuPortal",[nIe,FK]=Jh(rD,{forceMount:void 0}),$K=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=ef(rD,e);return m.jsx(nIe,{scope:e,forceMount:n,children:m.jsx(yo,{present:n||s.open,children:m.jsx(qA,{asChild:!0,container:i,children:r})})})};$K.displayName=rD;var ga="MenuContent",[rIe,iD]=Jh(ga),BK=I.forwardRef((t,e)=>{const n=FK(ga,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ef(ga,t.__scopeMenu),a=kb(ga,t.__scopeMenu);return m.jsx(tx.Provider,{scope:t.__scopeMenu,children:m.jsx(yo,{present:r||s.open,children:m.jsx(tx.Slot,{scope:t.__scopeMenu,children:a.modal?m.jsx(iIe,{...i,ref:e}):m.jsx(sIe,{...i,ref:e})})})})}),iIe=I.forwardRef((t,e)=>{const n=ef(ga,t.__scopeMenu),r=I.useRef(null),i=Yr(e,r);return I.useEffect(()=>{const s=r.current;if(s)return NM(s)},[]),m.jsx(sD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:lt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sIe=I.forwardRef((t,e)=>{const n=ef(ga,t.__scopeMenu);return m.jsx(sD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),aIe=Ah("MenuContent.ScrollLock"),sD=I.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:g,...p}=t,y=ef(ga,n),v=kb(ga,n),x=fC(n),b=jK(n),_=QPe(n),[w,C]=I.useState(null),A=I.useRef(null),k=Yr(e,A,y.onContentChange),E=I.useRef(0),T=I.useRef(""),P=I.useRef(0),N=I.useRef(null),O=I.useRef("right"),L=I.useRef(0),$=g?QA:I.Fragment,F=g?{as:aIe,allowPinchZoom:!0}:void 0,B=z=>{var fe,Ne;const W=T.current+z,X=_().filter(re=>!re.disabled),q=document.activeElement,J=(fe=X.find(re=>re.ref.current===q))==null?void 0:fe.textValue,ae=X.map(re=>re.textValue),_e=vIe(ae,W,J),K=(Ne=X.find(re=>re.textValue===_e))==null?void 0:Ne.ref.current;(function re(ge){T.current=ge,window.clearTimeout(E.current),ge!==""&&(E.current=window.setTimeout(()=>re(""),1e3))})(W),K&&setTimeout(()=>K.focus())};I.useEffect(()=>()=>window.clearTimeout(E.current),[]),OM();const D=I.useCallback(z=>{var X,q;return O.current===((X=N.current)==null?void 0:X.side)&&bIe(z,(q=N.current)==null?void 0:q.area)},[]);return m.jsx(rIe,{scope:n,searchRef:T,onItemEnter:I.useCallback(z=>{D(z)&&z.preventDefault()},[D]),onItemLeave:I.useCallback(z=>{var W;D(z)||((W=A.current)==null||W.focus(),C(null))},[D]),onTriggerLeave:I.useCallback(z=>{D(z)&&z.preventDefault()},[D]),pointerGraceTimerRef:P,onPointerGraceIntentChange:I.useCallback(z=>{N.current=z},[]),children:m.jsx($,{...F,children:m.jsx(GA,{asChild:!0,trapped:i,onMountAutoFocus:lt(s,z=>{var W;z.preventDefault(),(W=A.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(XA,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:m.jsx(L8,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:C,onEntryFocus:lt(l,z=>{v.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(NK,{role:"menu","aria-orientation":"vertical","data-state":nQ(y.open),"data-radix-menu-content":"",dir:v.dir,...x,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:lt(p.onKeyDown,z=>{const X=z.target.closest("[data-radix-menu-content]")===z.currentTarget,q=z.ctrlKey||z.altKey||z.metaKey,J=z.key.length===1;X&&(z.key==="Tab"&&z.preventDefault(),!q&&J&&B(z.key));const ae=A.current;if(z.target!==ae||!GPe.includes(z.key))return;z.preventDefault();const K=_().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);MK.includes(z.key)&&K.reverse(),mIe(K)}),onBlur:lt(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:lt(t.onPointerMove,nx(z=>{const W=z.target,X=L.current!==z.clientX;if(z.currentTarget.contains(W)&&X){const q=z.clientX>L.current?"right":"left";O.current=q,L.current=z.clientX}}))})})})})})})});BK.displayName=ga;var oIe="MenuGroup",aD=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(dn.div,{role:"group",...r,ref:e})});aD.displayName=oIe;var lIe="MenuLabel",zK=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(dn.div,{...r,ref:e})});zK.displayName=lIe;var j1="MenuItem",p4="menu.itemSelect",pC=I.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=I.useRef(null),a=kb(j1,t.__scopeMenu),o=iD(j1,t.__scopeMenu),l=Yr(e,s),c=I.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(p4,{bubbles:!0,cancelable:!0});d.addEventListener(p4,f=>r==null?void 0:r(f),{once:!0}),O8(d,h),h.defaultPrevented?c.current=!1:a.onClose()}};return m.jsx(VK,{...i,ref:l,disabled:n,onClick:lt(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:lt(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:lt(t.onKeyDown,d=>{const h=o.searchRef.current!=="";n||h&&d.key===" "||eO.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});pC.displayName=j1;var VK=I.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=iD(j1,n),o=jK(n),l=I.useRef(null),c=Yr(e,l),[u,d]=I.useState(!1),[h,f]=I.useState("");return I.useEffect(()=>{const g=l.current;g&&f((g.textContent??"").trim())},[s.children]),m.jsx(tx.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:m.jsx(F8,{asChild:!0,...o,focusable:!r,children:m.jsx(dn.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:lt(t.onPointerMove,nx(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:lt(t.onPointerLeave,nx(g=>a.onItemLeave(g))),onFocus:lt(t.onFocus,()=>d(!0)),onBlur:lt(t.onBlur,()=>d(!1))})})})}),cIe="MenuCheckboxItem",UK=I.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return m.jsx(GK,{scope:t.__scopeMenu,checked:n,children:m.jsx(pC,{role:"menuitemcheckbox","aria-checked":L1(n)?"mixed":n,...i,ref:e,"data-state":lD(n),onSelect:lt(i.onSelect,()=>r==null?void 0:r(L1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UK.displayName=cIe;var WK="MenuRadioGroup",[uIe,dIe]=Jh(WK,{value:void 0,onValueChange:()=>{}}),HK=I.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=tl(r);return m.jsx(uIe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:m.jsx(aD,{...i,ref:e})})});HK.displayName=WK;var YK="MenuRadioItem",XK=I.forwardRef((t,e)=>{const{value:n,...r}=t,i=dIe(YK,t.__scopeMenu),s=n===i.value;return m.jsx(GK,{scope:t.__scopeMenu,checked:s,children:m.jsx(pC,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":lD(s),onSelect:lt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});XK.displayName=YK;var oD="MenuItemIndicator",[GK,hIe]=Jh(oD,{checked:!1}),qK=I.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=hIe(oD,n);return m.jsx(yo,{present:r||L1(s.checked)||s.checked===!0,children:m.jsx(dn.span,{...i,ref:e,"data-state":lD(s.checked)})})});qK.displayName=oD;var fIe="MenuSeparator",KK=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(dn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});KK.displayName=fIe;var pIe="MenuArrow",QK=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=fC(n);return m.jsx(RK,{...i,...r,ref:e})});QK.displayName=pIe;var gIe="MenuSub",[set,ZK]=Jh(gIe),Ty="MenuSubTrigger",JK=I.forwardRef((t,e)=>{const n=ef(Ty,t.__scopeMenu),r=kb(Ty,t.__scopeMenu),i=ZK(Ty,t.__scopeMenu),s=iD(Ty,t.__scopeMenu),a=I.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=I.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return I.useEffect(()=>u,[u]),I.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),m.jsx(nD,{asChild:!0,...c,children:m.jsx(VK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nQ(n.open),...t,ref:MA(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:lt(t.onPointerMove,nx(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:lt(t.onPointerLeave,nx(d=>{var f,g;u();const h=(f=n.content)==null?void 0:f.getBoundingClientRect();if(h){const p=(g=n.content)==null?void 0:g.dataset.side,y=p==="right",v=y?-5:5,x=h[y?"left":"right"],b=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:lt(t.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||qPe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),d.preventDefault())})})})});JK.displayName=Ty;var eQ="MenuSubContent",tQ=I.forwardRef((t,e)=>{const n=FK(ga,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ef(ga,t.__scopeMenu),a=kb(ga,t.__scopeMenu),o=ZK(eQ,t.__scopeMenu),l=I.useRef(null),c=Yr(e,l);return m.jsx(tx.Provider,{scope:t.__scopeMenu,children:m.jsx(yo,{present:r||s.open,children:m.jsx(tx.Slot,{scope:t.__scopeMenu,children:m.jsx(sD,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:lt(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:lt(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:lt(t.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=KPe[a.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=o.trigger)==null||f.focus(),u.preventDefault())})})})})})});tQ.displayName=eQ;function nQ(t){return t?"open":"closed"}function L1(t){return t==="indeterminate"}function lD(t){return L1(t)?"indeterminate":t?"checked":"unchecked"}function mIe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function yIe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function vIe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=yIe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function xIe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function bIe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return xIe(n,e)}function nx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var wIe=LK,_Ie=nD,SIe=$K,AIe=BK,CIe=aD,kIe=zK,EIe=pC,TIe=UK,PIe=HK,IIe=XK,OIe=qK,NIe=KK,RIe=QK,MIe=JK,DIe=tQ,gC="DropdownMenu",[jIe,aet]=cc(gC,[DK]),ls=DK(),[LIe,rQ]=jIe(gC),iQ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=ls(e),c=I.useRef(null),[u,d]=gb({prop:i,defaultProp:s??!1,onChange:a,caller:gC});return m.jsx(LIe,{scope:e,triggerId:bu(),triggerRef:c,contentId:bu(),open:u,onOpenChange:d,onOpenToggle:I.useCallback(()=>d(h=>!h),[d]),modal:o,children:m.jsx(wIe,{...l,open:u,onOpenChange:d,dir:r,modal:o,children:n})})};iQ.displayName=gC;var sQ="DropdownMenuTrigger",aQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=rQ(sQ,n),a=ls(n);return m.jsx(_Ie,{asChild:!0,...a,children:m.jsx(dn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:MA(e,s.triggerRef),onPointerDown:lt(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:lt(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});aQ.displayName=sQ;var FIe="DropdownMenuPortal",oQ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ls(e);return m.jsx(SIe,{...r,...n})};oQ.displayName=FIe;var lQ="DropdownMenuContent",cQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rQ(lQ,n),s=ls(n),a=I.useRef(!1);return m.jsx(AIe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:lt(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:lt(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cQ.displayName=lQ;var $Ie="DropdownMenuGroup",BIe=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(CIe,{...i,...r,ref:e})});BIe.displayName=$Ie;var zIe="DropdownMenuLabel",uQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(kIe,{...i,...r,ref:e})});uQ.displayName=zIe;var VIe="DropdownMenuItem",dQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(EIe,{...i,...r,ref:e})});dQ.displayName=VIe;var UIe="DropdownMenuCheckboxItem",hQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(TIe,{...i,...r,ref:e})});hQ.displayName=UIe;var WIe="DropdownMenuRadioGroup",HIe=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(PIe,{...i,...r,ref:e})});HIe.displayName=WIe;var YIe="DropdownMenuRadioItem",fQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(IIe,{...i,...r,ref:e})});fQ.displayName=YIe;var XIe="DropdownMenuItemIndicator",pQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(OIe,{...i,...r,ref:e})});pQ.displayName=XIe;var GIe="DropdownMenuSeparator",gQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(NIe,{...i,...r,ref:e})});gQ.displayName=GIe;var qIe="DropdownMenuArrow",KIe=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(RIe,{...i,...r,ref:e})});KIe.displayName=qIe;var QIe="DropdownMenuSubTrigger",mQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(MIe,{...i,...r,ref:e})});mQ.displayName=QIe;var ZIe="DropdownMenuSubContent",yQ=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ls(n);return m.jsx(DIe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yQ.displayName=ZIe;var JIe=iQ,eOe=aQ,tOe=oQ,vQ=cQ,xQ=uQ,bQ=dQ,wQ=hQ,_Q=fQ,SQ=pQ,AQ=gQ,CQ=mQ,kQ=yQ;const nOe=JIe,rOe=eOe,iOe=I.forwardRef(({className:t,inset:e,children:n,...r},i)=>m.jsxs(CQ,{ref:i,className:Dt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,m.jsx(Tve,{className:"ml-auto h-4 w-4"})]}));iOe.displayName=CQ.displayName;const sOe=I.forwardRef(({className:t,...e},n)=>m.jsx(kQ,{ref:n,className:Dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));sOe.displayName=kQ.displayName;const EQ=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(tOe,{children:m.jsx(vQ,{ref:r,sideOffset:e,className:Dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));EQ.displayName=vQ.displayName;const Py=I.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(bQ,{ref:r,className:Dt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Py.displayName=bQ.displayName;const aOe=I.forwardRef(({className:t,children:e,checked:n,...r},i)=>m.jsxs(wQ,{ref:i,className:Dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(SQ,{children:m.jsx(oM,{className:"h-4 w-4"})})}),e]}));aOe.displayName=wQ.displayName;const oOe=I.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(_Q,{ref:r,className:Dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(SQ,{children:m.jsx(Ive,{className:"h-2 w-2 fill-current"})})}),e]}));oOe.displayName=_Q.displayName;const lOe=I.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(xQ,{ref:r,className:Dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));lOe.displayName=xQ.displayName;const cOe=I.forwardRef(({className:t,...e},n)=>m.jsx(AQ,{ref:n,className:Dt("-mx-1 my-1 h-px bg-muted",t),...e}));cOe.displayName=AQ.displayName;async function TQ({userId:t,actionType:e,cooldownPeriod:n=6e4,maxActions:r=5}){if(!t)return!0;try{const i=gr.fromMillis(Date.now()-n),s=Zt(de,"userActions"),a=pi(s,En("userId","==",t),En("actionType","==",e),En("timestamp",">=",i),bh("timestamp","desc"),tI(r+1));return(await Xn(a)).size>r}catch(i){return console.error("Error checking spam:",i),!1}}async function PQ(t,e,n){try{const r=Zt(de,"userActions");await Kh(r,{userId:t,actionType:e,targetId:n,timestamp:gr.now()})}catch(r){console.error("Error recording user action:",r)}}function g4(t){if(!t)return!1;const e=t.toLowerCase();return[/\b\w+\.(xyz|tk|ml|ga|cf|gq)\b/,/\b(click here|limited time offer|act now|guaranteed|congratulations you've won)\b/i,/\b(xxx|porn|casino|gambl(e|ing)|wager)\b/i,/\b(contact me on whatsapp|reach me on telegram|call me now)\b/i,/(.)\1{5,}/,/\b(buy bitcoin now|crypto opportunity|nft investment|wallet synchronization)\b/i,/\b[A-Z]{7,}\b/,/([!?.]){5,}/,/\b(get rich quick|money fast|earn from home easily|investment opportunity|passive income guaranteed|financial freedom now)\b/i].some(r=>r.test(e))}function uOe({publicId:t,title:e}){const n=`${window.location.origin}/display/${t}`,{user:r}=jn(),[i,s]=I.useState(!1),a=async d=>{if(r)try{if(s(!0),await TQ({userId:r.uid,actionType:"message",cooldownPeriod:1e4,maxActions:5})){ce.error("You're sharing too frequently. Please slow down.");return}await PQ(r.uid,"message",t)}catch(h){console.error("Error recording share:",h)}finally{s(!1)}},o=async()=>{try{await navigator.clipboard.writeText(n),ce.success("Link copied to clipboard!"),r&&a("clipboard")}catch(d){console.error("Failed to copy link:",d),ce.error("Failed to copy link")}},l=()=>{const d=encodeURIComponent(`Check out this sports card display: ${e}`),h=encodeURIComponent(n);window.open(`https://twitter.com/intent/tweet?text=${d}&url=${h}`,"_blank"),r&&a()},c=()=>{const d=encodeURIComponent(n);window.open(`https://www.facebook.com/sharer/sharer.php?u=${d}`,"_blank"),r&&a()},u=()=>{const d=encodeURIComponent(`Check out this sports card display: ${e}`),h=encodeURIComponent(`I found this awesome sports card display that I think you'll like:

${n}`);window.open(`mailto:?subject=${d}&body=${h}`,"_blank"),r&&a()};return m.jsxs(nOe,{children:[m.jsx(rOe,{asChild:!0,children:m.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:i,children:[m.jsx(lG,{className:"w-4 h-4"}),"Share"]})}),m.jsxs(EQ,{align:"end",children:[m.jsxs(Py,{onClick:o,children:[m.jsx(Yve,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Copy Link"})]}),m.jsxs(Py,{onClick:l,children:[m.jsx(kxe,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Twitter"})]}),m.jsxs(Py,{onClick:c,children:[m.jsx(Fve,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Facebook"})]}),m.jsxs(Py,{onClick:u,children:[m.jsx(qve,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Email"})]})]})]})}function dOe({sellerId:t,displayCaseId:e,sellerName:n}){const{user:r}=jn(),[i,s]=I.useState(!1),[a,o]=I.useState(""),[l,c]=I.useState(""),[u,d]=I.useState(!1),[h,f]=I.useState(!1),[g,p]=I.useState(!0),[y,v]=I.useState(!1),x=r&&r.uid===t,b=async()=>{if(!r){v(!0);return}if(x){ce.error("You cannot send a message to yourself");return}if(h){ce.error("Please wait before sending another message");return}try{const w=Ie(de,"users",t);if(!(await Ye(w)).exists()){ce.error("Unable to message: Seller account not found");return}s(!0)}catch(w){console.error("Error checking seller:",w),ce.error("Error verifying seller account")}},_=async()=>{if(!r){v(!0);return}if(x){ce.error("You cannot send a message to yourself");return}if(!a.trim()||!l.trim()){ce.error("Please enter both subject and message");return}if(a.length>500){ce.error("Message is too long (500 character limit)");return}try{if(d(!0),await TQ({userId:r.uid,actionType:"message",cooldownPeriod:6e4,maxActions:3})){ce.error("Please slow down. You're sending messages too frequently.");return}if(g4(a)||g4(l)){ce.error("Your message contains inappropriate content.");return}const C=Ie(de,"users",t);if(!(await Ye(C)).exists()){ce.error("Unable to send message: Recipient not found");return}let k="Unknown Display Case",E=!1;try{const T=Ie(de,"public_display_cases",e),P=await Ye(T);if(P.exists())k=P.data().name||"Unnamed Display Case",E=!0;else{const N=Ie(de,"displayCases",e),O=await Ye(N);O.exists()&&(k=O.data().name||"Unnamed Display Case",E=!0)}}catch(T){console.error("Error verifying display case:",T)}if(!E){ce.error("Unable to send message: Display case not found");return}try{const T={senderId:r.uid,senderName:r.displayName||"Anonymous",senderEmail:r.email,recipientId:t,displayCaseId:e,displayCaseName:k,subject:l.trim(),message:a.trim(),timestamp:Zf(),read:!1,deleted:!1};console.log(`Sending message to user ${t} about display case ${e}`);const P=await Kh(Zt(de,"messages"),T);console.log(`Message sent successfully with ID: ${P.id}`),await PQ(r.uid,"message",t),ce.success("Message sent successfully"),o(""),c(""),s(!1),f(!0),setTimeout(()=>f(!1),3e4)}catch(T){console.error("Error sending message:",T);const P=(T==null?void 0:T.message)||"Unknown error",N=(T==null?void 0:T.code)||"unknown";P.includes("permission")||N==="permission-denied"||P.includes("Missing or insufficient permissions")?ce.error("Permission denied: Make sure you're signed in with the correct account"):N==="unavailable"||P.includes("network")?ce.error("Network error: Please check your internet connection and try again"):ce.error("Failed to send message. Please try again later.")}}catch(w){console.error("Error in message preparation:",w),ce.error(`Error preparing message: ${(w==null?void 0:w.message)||"Unknown error"}`)}finally{d(!1)}};return x?m.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2 opacity-70 cursor-default",disabled:!0,children:[m.jsx(hxe,{className:"w-4 h-4"}),"Your Display Case"]}):!r&&g?m.jsxs(m.Fragment,{children:[m.jsxs(xe,{onClick:()=>v(!0),variant:"outline",size:"sm",className:"flex items-center gap-2 opacity-70",children:[m.jsx(uxe,{className:"w-4 h-4"}),"Members Only"]}),m.jsx(Xo,{open:y,onOpenChange:v,children:m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsxs(ao,{children:[m.jsx(oo,{children:"Sign in required"}),m.jsxs(yp,{children:["Please sign in or create an account to message ",n," about this display case."]})]}),m.jsxs(Go,{className:"flex gap-2 justify-end",children:[m.jsx(xe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),m.jsx(xe,{onClick:()=>{window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname)},children:"Sign in / Create Account"})]})]})})]}):m.jsxs(m.Fragment,{children:[m.jsxs(xe,{onClick:b,variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:h,children:[m.jsx(oG,{className:"w-4 h-4"}),"Message Seller"]}),m.jsx(Xo,{open:y,onOpenChange:v,children:m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsxs(ao,{children:[m.jsx(oo,{children:"Sign in required"}),m.jsx(yp,{children:"Please sign in or create an account to message sellers."})]}),m.jsxs(Go,{className:"flex gap-2 justify-end",children:[m.jsx(xe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),m.jsx(xe,{onClick:()=>{window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname)},children:"Sign in / Create Account"})]})]})}),m.jsx(Xo,{open:i,onOpenChange:s,children:m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsxs(ao,{children:[m.jsxs(oo,{children:["Send message to ",n]}),m.jsx(yp,{children:"Ask a question about this display case or its cards."})]}),m.jsxs("div",{className:"grid gap-4 py-4",children:[m.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[m.jsx(zn,{htmlFor:"subject",className:"text-right",children:"Subject"}),m.jsx(tn,{id:"subject",value:l,onChange:w=>c(w.target.value),className:"col-span-3",maxLength:100,disabled:u})]}),m.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[m.jsx(zn,{htmlFor:"message",className:"text-right",children:"Message"}),m.jsx(WM,{id:"message",value:a,onChange:w=>o(w.target.value),className:"col-span-3",rows:5,maxLength:500,disabled:u})]}),m.jsxs("div",{className:"col-span-full text-xs text-gray-500 text-right",children:[a.length,"/500 characters"]})]}),m.jsxs(Go,{children:[m.jsx(uCe,{asChild:!0,children:m.jsx(xe,{variant:"outline",children:"Cancel"})}),m.jsx(xe,{onClick:_,disabled:u||!a.trim()||!l.trim(),children:u?"Sending...":"Send Message"})]})]})})]})}const IQ=({cards:t})=>{const e=I.useRef(null);return I.useEffect(()=>{if(e.current){console.log("DisplayCaseCardGrid: Enforcing 4-column layout");const n=e.current;n.style.cssText=`
        display: grid !important;
        grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
        width: 100% !important;
        gap: 1rem !important;
      `;const r=()=>{window.innerWidth<768?n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `:window.innerWidth<1024?n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `:n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}},[t]),!t||t.length===0?m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No cards in this display case."}):m.jsx("div",{ref:e,className:"display-card-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"1rem",width:"100%"},children:t.map(n=>m.jsx("div",{className:"relative group",children:n.imageUrl?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:n.imageUrl,alt:`${n.playerName} ${n.year} ${n.cardSet}`,className:"rounded-xl w-full shadow-md aspect-[2/3] object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 opacity-0 group-hover:opacity-100 transition-all duration-200 flex items-center justify-center text-white text-sm rounded-xl p-2",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"font-semibold",children:n.playerName}),m.jsxs("div",{className:"text-xs",children:[n.year," ",n.cardSet]}),n.price&&m.jsxs("div",{className:"text-xs mt-1",children:["$",n.price.toLocaleString()]})]})})]}):m.jsx("div",{className:"rounded-xl w-full shadow-md aspect-[2/3] bg-gray-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center p-4",children:[m.jsx("div",{className:"font-semibold",children:n.playerName}),m.jsxs("div",{className:"text-xs text-gray-600",children:[n.year," ",n.cardSet]})]})})},n.id))})};function hOe(){console.log("SimplePublicDisplayCase component mounting");const{publicId:t}=oA();console.log("PublicId from URL params:",t);const e=Aa(),{user:n}=jn();console.log("Current user:",n?`ID: ${n.uid}`:"Not logged in");const[r,i]=I.useState(null),[s,a]=I.useState([]),[o,l]=I.useState(!0),[c,u]=I.useState(!1),[d,h]=I.useState(!1),[f,g]=I.useState(null);return I.useEffect(()=>{async function p(){var v,x,b,_;if(console.log("loadDisplayCase function called, publicId:",t),!t){console.error("No publicId provided in URL"),l(!1);return}try{l(!0);const w=Ie(de,"public_display_cases",t);console.log(`Attempting to load public display case with ID: ${t}`);const C=await Ye(w);if(!C.exists()){if(console.log("Public display case not found, attempting auto-recovery"),n)try{console.log("User is authenticated, attempting recovery with user ID:",n.uid);const E=await tB(t,n.uid);if(console.log("Recovery attempt result:",E),E){console.log("Successfully recovered display case, reloading");const T=await Ye(w);if(T.exists()){console.log("Recovered display case loaded successfully");const P=T.data();console.log("Display case data:",P);const N={id:T.id,name:P.name||"Untitled Display Case",description:P.description,userId:P.userId,cardIds:P.cardIds||[],isPublic:P.isPublic!==!1,background:P.background||"default",createdAt:((v=P.createdAt)==null?void 0:v.toDate())||new Date,updatedAt:((x=P.updatedAt)==null?void 0:x.toDate())||new Date,likes:P.likes||0,comments:P.comments||[]};i(N),n&&N.userId===n.uid&&u(!0),await y(N),l(!1);return}}else console.log("Recovery attempt failed")}catch(E){console.error("Auto-recovery failed:",E)}else console.log("User not authenticated, cannot attempt recovery");l(!1);return}console.log("Public display case found, loading data");const A=C.data();console.log("Display case data from Firestore:",A);const k={id:C.id,name:A.name||"Untitled Display Case",description:A.description,userId:A.userId,cardIds:A.cardIds||[],isPublic:A.isPublic!==!1,background:A.background||"default",createdAt:((b=A.createdAt)==null?void 0:b.toDate())||new Date,updatedAt:((_=A.updatedAt)==null?void 0:_.toDate())||new Date,likes:A.likes||0,comments:A.comments||[]};i(k),console.log("Display case set to state:",k),n&&k.userId===n.uid&&(console.log("Current user is the owner of this display case"),u(!0)),await y(k)}catch(w){console.error("Error loading display case:",w)}finally{l(!1)}}async function y(v){if(console.log("Loading cards for display case, cardIds:",v.cardIds),v.cardIds&&v.cardIds.length>0){const x=v.cardIds.map(async w=>{if(w==="card1"||w==="card2"||w==="card3")return null;try{const C=Ie(de,"cards",w),A=await Ye(C);if(A.exists())return{id:A.id,...A.data()};if(v.userId){const k=Ie(de,"users",v.userId,"collection",w),E=await Ye(k);if(E.exists())return{id:E.id,...E.data()}}return console.warn(`Card ${w} not found`),null}catch(C){return console.error(`Error loading card ${w}:`,C),null}}),_=(await Promise.all(x)).filter(Boolean);console.log(`Loaded ${_.length} valid cards out of ${v.cardIds.length} card IDs`),a(_)}else console.log("No card IDs in display case")}p()},[t,n]),o?m.jsx("div",{className:"flex justify-center items-center h-96",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-xl font-medium mb-2",children:"Loading Display Case"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Please wait..."})]})}):r?m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.name}),r.description&&m.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:r.description})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-400 mb-4",children:[m.jsxs("span",{children:["Created: ",r.createdAt.toLocaleDateString()]}),m.jsx(BTe,{displayCaseId:r.id})]}),m.jsxs("div",{className:"flex justify-center space-x-2",children:[m.jsx(uOe,{publicId:r.id,title:r.name}),r.userId&&m.jsx(dOe,{sellerId:r.userId,displayCaseId:r.id,sellerName:"Owner"})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[m.jsx("div",{className:"flex justify-between items-center mb-4",children:m.jsx("h2",{className:"text-xl font-semibold",children:"Cards"})}),s.length===0?m.jsxs("div",{className:"py-12 text-center",children:[m.jsx("div",{className:"text-3xl mb-2",children:"📭"}),m.jsx("h3",{className:"text-xl font-medium mb-2",children:"Empty Display Case"}),m.jsx("p",{className:"text-gray-500 mb-4 max-w-md mx-auto",children:"This display case doesn't contain any cards from the owner's collection."}),c?m.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg max-w-md mx-auto",children:[m.jsx("p",{className:"text-amber-800 mb-2 font-medium",children:"You own this display case"}),m.jsx("p",{className:"text-amber-700 text-sm mb-4",children:"Add cards from your collection to showcase them here."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(xe,{onClick:()=>window.location.href=`/display-cases/${t}`,size:"sm",className:"w-full",children:"Manage This Display Case"}),m.jsx(xe,{onClick:()=>window.location.href="/collection",size:"sm",variant:"outline",className:"w-full",children:"Go To My Collection"}),m.jsx("div",{className:"pt-4 mt-4 border-t border-amber-200",children:m.jsxs("details",{className:"text-left",children:[m.jsx("summary",{className:"cursor-pointer text-amber-800 font-medium text-sm",children:"Troubleshooting Options"}),m.jsxs("div",{className:"mt-3 space-y-2",children:[m.jsx("p",{className:"text-amber-700 text-xs mb-2",children:"If you've already added cards to your display case but they're not showing here, try these options:"}),m.jsx(xe,{onClick:async()=>{var p;if(!(!t||!n))try{l(!0);const y=Ie(de,"users",n.uid,"display_cases",t),v=await Ye(y);if(v.exists()&&((p=v.data().cardIds)!=null&&p.length)){const x=v.data().cardIds;console.log("Found cards in private display case:",x);const b=Ie(de,"public_display_cases",t);await Yt(b,{cardIds:x,updatedAt:new Date}),console.log("Updated public display case with cards from private case"),window.location.reload()}else alert("No cards found in your private display case. Add cards in the Manage Display Case page first.")}catch(y){console.error("Error syncing cards:",y),alert("Error syncing cards: "+String(y))}finally{l(!1)}},size:"sm",variant:"secondary",className:"w-full text-xs",children:"Force Sync Cards From Private Case"}),m.jsx(xe,{onClick:()=>{t&&(window.location.href=`/display-cases/${t}?debug=true`)},size:"sm",variant:"outline",className:"w-full text-xs",children:"Debug Display Case"})]})]})})]})]}):n?m.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg max-w-md mx-auto",children:[m.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"This collector hasn't added any cards to their display case yet."}),m.jsx(xe,{onClick:()=>window.location.href="/display-cases",size:"sm",variant:"outline",children:"Browse Other Display Cases"})]}):m.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg max-w-md mx-auto",children:[m.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"This collector hasn't added any cards to their display case yet."}),m.jsx("p",{className:"text-gray-500 text-xs",children:"Sign in to create your own display cases and showcase your collection."})]})]}):m.jsxs(m.Fragment,{children:[m.jsx(IQ,{cards:s}),m.jsx("div",{className:"block md:hidden text-xs text-gray-400 mt-2 text-center",children:"Tap cards to view details"})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:m.jsx(MTe,{displayCaseId:r.id})})]}):m.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded-xl shadow-sm",children:[m.jsx("h1",{className:"text-xl font-bold mb-4",children:"Display Case Not Found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"This display case doesn't exist or may have been removed."}),m.jsxs("p",{className:"text-gray-600 mb-4",children:["Attempted to load display case with ID: ",t||"No ID found in URL"]}),t&&n&&m.jsxs("div",{className:"mt-8 p-4 border border-amber-200 bg-amber-50 rounded-md",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Fix Missing Display Case"}),m.jsx("p",{className:"text-sm mb-4",children:"If you're the owner of this display case, we can try to recover it from your private collection."}),m.jsx(xe,{onClick:async()=>{if(t){h(!0),g(null);try{console.log("Attempting to recover display case with ID:",t);const p=await tB(t,n.uid);console.log("Recovery result:",p),p?(g("Display case recovered! Refreshing page..."),setTimeout(()=>window.location.reload(),1500)):g("Couldn't recover display case. Make sure you've created it and added cards.")}catch(p){console.error("Error fixing display case:",p),g(`Error: ${String(p)}`)}finally{h(!1)}}},disabled:d,children:d?"Attempting to recover...":"Recover My Display Case"}),m.jsx(xe,{onClick:()=>{console.log("Returning to display cases list"),e("/display-cases")},className:"ml-2",variant:"outline",children:"View All Display Cases"}),f&&m.jsx("div",{className:`mt-3 p-2 text-sm rounded ${f.includes("Error")||f.includes("Couldn't")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:f})]})]})}const cD=I.forwardRef(({className:t,onCheckedChange:e,...n},r)=>m.jsx("input",{type:"checkbox",className:Dt("h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",t),ref:r,onChange:i=>e==null?void 0:e(i.target.checked),...n})),OQ=({isOpen:t,onClose:e,title:n,children:r,className:i=""})=>{if(!t)return null;const s=a=>{a.target===a.currentTarget&&e()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:s,children:m.jsxs("div",{className:`bg-white rounded-lg shadow-xl p-6 w-full max-w-md transform transition-all ${t?"scale-100 opacity-100":"scale-95 opacity-0"} ${i}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:n}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:"✕"})]}),r]})})};function fOe({isOpen:t,onClose:e}){const[n,r]=I.useState(""),[i,s]=I.useState([]),[a,o]=I.useState("wood"),[l,c]=I.useState(!0),{createDisplayCase:u,isCreating:d}=FA(),{data:h=[]}=Qh(),{user:f}=jn(),g=Array.from(new Set(h.flatMap(v=>v.tags||[]))).sort(),p=v=>{s(x=>x.includes(v)?x.filter(b=>b!==v):[...x,v])},y=async v=>{if(v.preventDefault(),!n.trim()){ce.error("Please enter a display case name");return}if(i.length===0){ce.error("Please select at least one tag");return}const b=h.filter(_=>_.tags&&_.tags.some(w=>i.includes(w))).map(_=>_.id);console.log("Creating display case with:",{name:n,cardIds:b,isPublic:l,selectedTags:i,theme:a}),console.log("Public status:",l?"Public":"Private");try{const _=await u({name:n.trim(),cardIds:b,isPublic:l,tags:i,theme:a});if(console.log("Display case created, ID:",_),l&&f){console.log("Creating public copy of display case");const w=Ie(de,"public_display_cases",_);await Nu(w,{name:n.trim(),cardIds:b,isPublic:!0,tags:i,theme:a,userId:f.uid,ownerName:f.displayName||"Anonymous",createdAt:new Date}),console.log("Public copy created successfully")}else console.log("Display case is private, skipping public copy creation");console.log("Display case created successfully"),r(""),s([]),o("wood"),c(!0),e()}catch(_){console.error("Error creating display case:",_),ce.error("Failed to create display case")}};return m.jsx(OQ,{isOpen:t,onClose:e,title:"Create Display Case",children:m.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"name",children:"Display Case Name"}),m.jsx(tn,{id:"name",value:n,onChange:v=>r(v.target.value),placeholder:"My Favorite Cards",required:!0,className:"w-full"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{children:"Select Tags"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:g.length===0?m.jsx("span",{className:"text-gray-500",children:"No tags found in your collection."}):g.map(v=>m.jsxs("label",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:i.includes(v),onChange:()=>p(v)}),m.jsx("span",{className:"text-sm",children:v})]},v))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"theme",children:"Background Theme"}),m.jsxs("select",{id:"theme",value:a,onChange:v=>o(v.target.value),className:"w-full border rounded px-2 py-1","aria-label":"Theme selection",children:[m.jsx("option",{value:"wood",children:"Wood"}),m.jsx("option",{value:"velvet",children:"Velvet"}),m.jsx("option",{value:"glass",children:"Glass"})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(cD,{id:"public",checked:l,onCheckedChange:v=>c(v)}),m.jsx(zn,{htmlFor:"public",children:"Make this display case public"})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(xe,{type:"button",variant:"outline",onClick:e,disabled:d,children:"Cancel"}),m.jsx(xe,{type:"submit",disabled:d||!n.trim()||i.length===0,children:d?m.jsxs("span",{className:"flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Display Case"})]})]})})}function pOe({displayCase:t}){var f,g;const e=Aa(),[n,r]=I.useState([]),[i,s]=I.useState(!1),[a,o]=I.useState({});I.useEffect(()=>{if(t.cards&&t.cards.length>0){r(t.cards);return}t.cardIds&&t.cardIds.length>0&&(s(!0),(async()=>{try{const y=[];for(const v of t.cardIds){let x=!1;try{const b=await Ye(Ie(de,"users",t.userId,"collection",v));b.exists()&&(y.push({id:b.id,...b.data(),tags:b.data().tags||[]}),x=!0)}catch{}if(!x)try{const b=await Ye(Ie(de,"users",t.userId,"cards",v));b.exists()&&(y.push({id:b.id,...b.data(),tags:b.data().tags||[]}),x=!0)}catch{}if(!x)try{const b=await Ye(Ie(de,"cards",v));b.exists()&&(y.push({id:b.id,...b.data(),tags:b.data().tags||[]}),x=!0)}catch{}x||console.log(`Could not find card with ID: ${v} for display case ${t.name}`)}console.log(`Found ${y.length} out of ${t.cardIds.length} cards for display case ${t.name}`),r(y),s(!1)}catch(y){console.error("Error fetching cards:",y),s(!1)}})())},[t]);const l=()=>{e(`/display-cases/${t.id}`)},c=p=>{if(!p)return"";const y=p.toDate?p.toDate():new Date(p);return eve(y,"MMM d, yyyy")},u=p=>{o(y=>({...y,[p]:!0}))},d=p=>m.jsx("div",{className:"h-28 w-20 bg-gray-100 flex flex-col items-center justify-center text-xs rounded shadow-sm border border-gray-200 overflow-hidden",children:p.playerName?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"font-medium text-center px-1 text-gray-700",children:p.playerName}),p.year&&m.jsx("div",{className:"text-[8px] text-center px-1 text-gray-500",children:p.year})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"font-medium text-center px-1 text-gray-500",children:"Card"}),m.jsx("div",{className:"text-[8px] text-center px-1 text-gray-400 overflow-hidden text-ellipsis",children:p.id?p.id.substring(0,8)+"...":"Unknown"})]})}),h=p=>m.jsxs("div",{className:"h-28 w-20 bg-gray-100 flex flex-col items-center justify-center text-xs rounded shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"font-medium text-center px-1 text-gray-600",children:"Card"}),m.jsxs("div",{className:"text-[8px] text-center px-1 text-gray-500 overflow-hidden text-ellipsis",children:[p.substring(0,8),"..."]})]});return m.jsxs("div",{className:"rounded-2xl border p-4 shadow hover:shadow-lg transition cursor-pointer",onClick:l,children:[m.jsx("h3",{className:"text-lg font-semibold mb-1",children:t.name}),m.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Created on ",c(t.createdAt)]}),t.tags&&t.tags.length>0&&m.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:t.tags.map(p=>m.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 rounded-full text-blue-700 border border-blue-200",children:["#",p]},p))}),m.jsx("div",{className:"h-32 relative border-t mt-2 pt-2 mb-2",children:m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[i?m.jsx("div",{className:"flex items-center justify-center w-full h-28",children:m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})}):n&&n.length>0?n.slice(0,3).map(p=>m.jsx("div",{className:"mr-2",children:p.imageUrl&&!a[p.id]?m.jsx("img",{src:p.imageUrl,alt:p.playerName||"Card image",className:"h-28 w-20 object-cover rounded shadow-sm border border-gray-200",onError:()=>u(p.id),loading:"lazy"}):d(p)},p.id)):t.cardIds&&t.cardIds.length>0?t.cardIds.slice(0,3).map(p=>m.jsx("div",{className:"mr-2",children:h(p)},p)):m.jsx("div",{className:"flex items-center justify-center w-full h-28 bg-gray-100 rounded-lg",children:m.jsx("span",{className:"text-sm text-gray-400",children:"No cards in this display case"})}),(n&&n.length>3||!n.length&&t.cardIds&&t.cardIds.length>3)&&m.jsx("div",{className:"flex items-center justify-center h-28 w-20 bg-gray-50 rounded-lg border border-gray-200",children:m.jsxs("span",{className:"text-sm text-gray-500",children:["+",(n.length>0?n.length:((f=t.cardIds)==null?void 0:f.length)||0)-3]})})]})}),m.jsxs("div",{className:"flex items-center space-x-4 mt-4 text-sm text-gray-500",children:[m.jsxs("span",{title:"Likes",children:["❤️ ",t.likes||0]}),m.jsxs("span",{title:"Comments",children:["💬 ",((g=t.comments)==null?void 0:g.length)||0]}),m.jsxs("span",{title:"Views",children:["👁️ ",t.visits||0]})]})]})}const gOe=({displayCases:t})=>{const e=I.useRef(null);return I.useEffect(()=>{if(e.current){console.log("DisplayCaseGrid: Enforcing 4-column layout");const n=e.current;n.style.cssText=`
        display: grid !important;
        grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
        width: 100% !important;
        gap: 1rem !important;
      `;const r=()=>{window.innerWidth<768?n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `:window.innerWidth<1024?n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `:n.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
            width: 100% !important;
            gap: 1rem !important;
          `};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}},[t]),!t||t.length===0?m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"You haven't created any display cases yet."}):m.jsx("div",{ref:e,className:"display-case-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"1rem",width:"100%"},children:t.map(n=>m.jsx(pOe,{displayCase:n},n.id))})};function mOe(){const{displayCases:t,isLoading:e}=FA(),[n,r]=I.useState(!1),[i,s]=I.useState(!1),[a,o]=I.useState(!1),[l,c]=I.useState([]),{user:u}=jn();Aa(),I.useEffect(()=>{if(!i||!(u!=null&&u.uid)||e||!(t!=null&&t.length))return;async function f(){o(!0);try{const g=t.map(async y=>{var x;if(!((x=y.cardIds)!=null&&x.length))return y;const v=[];for(const b of y.cardIds){const _=await Ye(Ie(de,"cards",b));_.exists()&&v.push(_.data())}return{...y,cards:v}}),p=await Promise.all(g);c(p)}catch(g){console.error("Error fetching card data:",g)}finally{o(!1)}}f()},[t,e,i,u]);const d=e||i&&a,h=i?l:t??[];return m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-8 gap-4 sm:gap-0",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Display Cases"}),m.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[m.jsxs("div",{className:"flex items-center space-x-2 mr-0 sm:mr-4",children:[m.jsx(cD,{id:"show-real-images",checked:i,onCheckedChange:f=>s(!!f)}),m.jsx(zn,{htmlFor:"show-real-images",className:"ml-2 text-sm sm:text-base",children:"Show real card images"})]}),m.jsx("div",{className:"flex gap-2",children:m.jsx(xe,{onClick:()=>r(!0),className:"h-9 px-3 py-1 text-sm sm:px-4 sm:py-2 sm:text-base",children:"Create New"})})]})]}),d?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(6)].map((f,g)=>m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsx(rv,{className:"h-48 w-full mb-4"}),m.jsx(rv,{className:"h-6 w-3/4 mb-2"}),m.jsx(rv,{className:"h-4 w-1/2"})]},g))}):(h==null?void 0:h.length)===0?m.jsxs("div",{className:"text-center py-8 sm:py-12",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-600 mb-3 sm:mb-4",children:"No display cases yet"}),m.jsx("p",{className:"text-gray-500 mb-4 sm:mb-6 text-sm sm:text-base",children:"Create your first display case to showcase your favorite cards"}),m.jsx(xe,{onClick:()=>r(!0),children:"Create Display Case"})]}):m.jsx(gOe,{displayCases:h}),m.jsx(fOe,{isOpen:n,onClose:()=>r(!1)})]})}function yOe({isOpen:t,onClose:e,displayCase:n}){const[r,i]=I.useState(""),[s,a]=I.useState([]),[o,l]=I.useState("wood"),[c,u]=I.useState(!0),[d,h]=I.useState(!1),{data:f=[]}=Qh(),{user:g}=jn();console.log("EditDisplayCaseModal rendered with display case:",n),I.useEffect(()=>{if(n){console.log("Setting initial form values:",n),console.log("isPublic value from database:",n.isPublic),i(n.name||""),a(n.tags||[]),l(n.theme||"wood");const b=n.isPublic===!0;console.log("Setting isPublic to:",b),u(b)}},[n]);const p=Array.from(new Set(f.flatMap(b=>b.tags||[]))).sort();console.log("Available tags:",p),console.log("Selected tags:",s);const y=b=>{a(_=>_.includes(b)?_.filter(w=>w!==b):[..._,b])},v=async()=>{if(!(g!=null&&g.uid)){ce.error("You must be logged in to update a display case");return}h(!0);const b={name:r.trim(),tags:s,isPublic:c,theme:o,cardIds:n.cardIds||[],updatedAt:new Date};console.log("Directly updating display case",n.id,"with data:",b),console.log("isPublic value being saved:",c),console.log("Previous isPublic value:",n.isPublic);try{const _=Ie(de,"users",g.uid,"display_cases",n.id);await Yt(_,b),console.log("Successfully updated main display case document");const w=Ie(de,"public_display_cases",n.id),C=n.isPublic===!0;if(console.log("Was previously public:",C),console.log("Is now public:",c),c!==C)if(c){console.log("Making display case public");const A={...b,id:n.id,publicId:n.id,userId:g.uid,ownerName:g.displayName||"Anonymous",createdAt:n.createdAt,cardIds:n.cardIds||[]};console.log("Public data being saved:",A),await Nu(w,A),console.log("Successfully created public copy")}else{console.log("Making display case private");try{(await Ye(w)).exists()?(await el(w),console.log("Successfully removed public copy")):console.log("Public copy doesn't exist, no need to delete")}catch(A){console.error("Error removing from public collection:",A)}}else if(c){console.log("Updating public display case data");try{if((await Ye(w)).exists()){const k={...b,publicId:n.id,cardIds:n.cardIds||[]};console.log("Updating existing public copy with data:",k),await Yt(w,k),console.log("Successfully updated existing public copy")}else{console.log("Public copy doesn't exist, creating new one");const k={...b,id:n.id,publicId:n.id,userId:g.uid,ownerName:g.displayName||"Anonymous",createdAt:n.createdAt,cardIds:n.cardIds||[]};console.log("New public data being saved:",k),await Nu(w,k),console.log("Successfully created new public copy")}}catch(A){console.error("Error updating public display case:",A)}}console.log("Display case updated successfully"),ce.success("Display case updated successfully"),e()}catch(_){console.error("Error updating display case:",_),ce.error("Failed to update display case: "+(_ instanceof Error?_.message:String(_)))}finally{h(!1)}},x=async b=>{if(b.preventDefault(),!r.trim()){ce.error("Please enter a display case name");return}if(s.length===0){ce.error("Please select at least one tag");return}await v()};return m.jsx(OQ,{isOpen:t,onClose:e,title:"Edit Display Case",children:m.jsxs("form",{onSubmit:x,className:"space-y-6 p-1",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"name",children:"Display Case Name"}),m.jsx(tn,{id:"name",value:r,onChange:b=>i(b.target.value),placeholder:"My Favorite Cards",required:!0,className:"w-full"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{children:"Select Tags"}),m.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto border p-2 rounded",children:p.length===0?m.jsx("span",{className:"text-gray-500",children:"No tags found in your collection."}):p.map(b=>m.jsxs("label",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:s.includes(b),onChange:()=>y(b)}),m.jsx("span",{className:"text-sm",children:b})]},b))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"theme",children:"Background Theme"}),m.jsxs("select",{id:"theme",value:o,onChange:b=>l(b.target.value),className:"w-full border rounded px-2 py-1","aria-label":"Theme selection",children:[m.jsx("option",{value:"wood",children:"Wood"}),m.jsx("option",{value:"velvet",children:"Velvet"}),m.jsx("option",{value:"glass",children:"Glass"})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(cD,{id:"public",checked:c,onCheckedChange:b=>u(b)}),m.jsx(zn,{htmlFor:"public",children:"Make this display case public"})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(xe,{type:"button",variant:"outline",onClick:e,disabled:d,children:"Cancel"}),m.jsx(xe,{type:"submit",disabled:d||!r.trim()||s.length===0,children:d?m.jsxs("span",{className:"flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Display Case"})]})]})})}function vOe({displayCase:t,isOwner:e,userId:n}){const[r,i]=I.useState(!1),[s,a]=I.useState(!1),[o,l]=I.useState(!1),c=Aa();if(!e)return null;const u=async()=>{if(!(!t.id||!n)){l(!0);try{const h=Ie(de,"users",n,"display_cases",t.id);if(await el(h),t.isPublic){console.log("Deleting from public collection");const f=Ie(de,"public_display_cases",t.id);try{(await Ye(f)).exists()&&await el(f)}catch(g){console.error("Error deleting from public collection:",g)}}ce.success("Display case deleted successfully"),c("/display-cases")}catch(h){console.error("Error deleting display case:",h),ce.error("Failed to delete display case"),l(!1)}}},d=()=>{const h=t.id,f=`${window.location.origin}/display/${h}`;navigator.clipboard.writeText(f).then(()=>{ce.success("Public link copied to clipboard!"),console.log("Public URL:",f)}).catch(g=>{console.error("Error copying to clipboard:",g),ce.error("Failed to copy link")})};return m.jsxs("div",{className:"flex gap-2",children:[m.jsx(xe,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Edit"}),t.isPublic&&m.jsxs(xe,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-1",children:[m.jsx(Wve,{className:"h-4 w-4"}),m.jsx("span",{children:"Get Public Link"})]}),m.jsxs(Xo,{open:s,onOpenChange:a,children:[m.jsx(n_,{asChild:!0,children:m.jsx(xe,{variant:"destructive",size:"sm",children:"Delete"})}),m.jsxs(so,{children:[m.jsxs(ao,{children:[m.jsx(oo,{children:"Are you sure?"}),m.jsxs(yp,{children:['This will permanently delete your display case "',t.name,'". This action cannot be undone.']})]}),m.jsxs(Go,{children:[m.jsx(xe,{variant:"outline",onClick:()=>a(!1),disabled:o,children:"Cancel"}),m.jsx(xe,{variant:"destructive",onClick:u,disabled:o,children:o?"Deleting...":"Delete"})]})]})]}),r&&m.jsx(yOe,{isOpen:r,onClose:()=>i(!1),displayCase:t})]})}const m4={wood:"bg-amber-50 border-amber-200",velvet:"bg-purple-50 border-purple-200",glass:"bg-blue-50 border-blue-200"};function xOe(){const{id:t}=oA(),[e,n]=I.useState(null),[r,i]=I.useState([]),[s,a]=I.useState([]),[o,l]=I.useState(!0),[c,u]=I.useState(null),{user:d}=jn();return I.useEffect(()=>{async function h(){if(!(!t||!(d!=null&&d.uid))){l(!0);try{console.log("Fetching display case with ID:",t);const f=Ie(de,"users",d.uid,"display_cases",t);let g=await Ye(f);if(!g.exists()){console.log("Display case not found in user's collection, trying public collection");const p=Ie(de,"public_display_cases",t);g=await Ye(p)}if(g.exists()){const p={id:g.id,...g.data()};console.log("Found display case:",p),n(p),a(p.cardIds||[])}else console.log("Display case not found in either location"),u("Display case not found.")}catch(f){console.error("Error fetching display case:",f),u("Failed to load display case.")}finally{l(!1)}}}h()},[t,d]),I.useEffect(()=>{async function h(){if(!(!(d!=null&&d.uid)||!e))try{console.log("Fetching cards for display case with tags:",e.tags);const f=[];if(s.length>0){console.log("Fetching specific cards by ID:",s);const g=[];for(const p of s){let y=null;try{const v=Ie(de,"users",d.uid,"cards",p),x=await Ye(v);x.exists()&&(y={id:x.id,...x.data()})}catch(v){console.log("Error fetching from cards collection:",v)}if(!y)try{const v=Ie(de,"users",d.uid,"collection",p),x=await Ye(v);x.exists()&&(y={id:x.id,...x.data()})}catch(v){console.log("Error fetching from collection:",v)}y?(f.push(y),g.push(p)):console.log(`Card with ID ${p} no longer exists in user's collection`)}if(g.length<s.length&&e.isPublic)try{console.log("Some cards are missing. Updating public display case to remove stale card IDs");const p=Ie(de,"public_display_cases",t);(await Ye(p)).exists()&&(await Yt(p,{cardIds:g,updatedAt:new Date}),console.log(`Updated public display case ${t} to remove missing cards`))}catch(p){console.error(`Error updating public display case ${t}:`,p)}}else if(e.tags&&e.tags.length>0){console.log("No cardIds, using tag matching instead");try{const g=Zt(de,"users",d.uid,"cards");(await Xn(g)).forEach(y=>{const v=y.data(),x=Array.isArray(v.tags)?v.tags:[],b=e.tags;x.some(_=>b.includes(_))&&f.push({id:y.id,...v})})}catch(g){console.log("Error fetching from cards collection for tag matching:",g)}try{const g=Zt(de,"users",d.uid,"collection");(await Xn(g)).forEach(y=>{const v=y.data(),x=Array.isArray(v.tags)?v.tags:[],b=e.tags;x.some(_=>b.includes(_))&&(f.some(_=>_.id===y.id)||f.push({id:y.id,...v}))})}catch(g){console.log("Error fetching from collection for tag matching:",g)}}console.log("Found matching cards:",f),i(f)}catch(f){console.error("Error fetching matching cards:",f)}}h()},[e,s,d]),o?m.jsx("div",{className:Dt("min-h-screen py-10",e!=null&&e.theme?m4[e.theme]:"bg-muted"),children:m.jsx("div",{className:"max-w-6xl mx-auto px-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[m.jsx("div",{className:"h-8 w-64 bg-muted rounded mb-4"}),m.jsx("div",{className:"h-4 w-48 bg-muted rounded mb-6"}),m.jsx("div",{className:"h-4 w-full bg-muted rounded mb-6"}),m.jsx("div",{className:"h-[60vh] w-full bg-muted rounded"})]})})}):c?m.jsx("div",{className:"max-w-6xl mx-auto px-4 py-10",children:m.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:m.jsx("div",{className:"text-red-500",children:c})})}):e?m.jsx("div",{className:Dt("min-h-screen py-10",m4[e.theme]),children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2",children:e.name}),m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.createdAt&&`Created on ${new Date(e.createdAt.seconds?e.createdAt.seconds*1e3:e.createdAt).toLocaleDateString()}`}),e.tags&&e.tags.length>0&&m.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.tags.map(h=>m.jsxs("span",{className:"text-xs bg-blue-100 px-2 py-1 rounded-full border border-blue-200 text-blue-700",children:["#",h]},h))})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.length>0?m.jsx(IQ,{cards:r}):m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No cards in this display case yet."})})]})}):null}function bOe(){const{id:t}=oA(),{user:e}=jn(),n=Aa(),[r,i]=I.useState(null),[s,a]=I.useState(!0);I.useEffect(()=>{async function l(){if(!(!t||!e)){a(!0);try{const c=Ie(de,"users",e.uid,"display_cases",t),u=await Ye(c);u.exists()?i({id:u.id,...u.data()}):ce.error("Display case not found")}catch(c){console.error("Error fetching display case:",c),ce.error("Failed to load display case")}finally{a(!1)}}}l()},[t,e]);const o=e&&r?e.uid===r.userId:!1;return s?m.jsx("div",{className:"p-8 flex justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):r?m.jsxs("div",{className:"min-h-screen",children:[o&&e&&m.jsx("div",{className:"bg-white border-b mb-4",children:m.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-end",children:m.jsx(vOe,{displayCase:r,isOwner:o,userId:e.uid})})}),m.jsx(xOe,{})]}):m.jsxs("div",{className:"p-8 text-center",children:[m.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Display case not found"}),m.jsx(xe,{className:"mt-4",onClick:()=>n("/display-cases"),children:"Back to Display Cases"})]})}var NQ={};/*!
 * ApexCharts v4.7.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function RQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jQ(r.key),r)}}function De(t,e,n){return e&&y4(t.prototype,e),n&&y4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=uD(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||n.return==null||n.return()}finally{if(o)throw s}}}}function Eb(t){var e=MQ();return function(){var n,r=$1(t);if(e){var i=$1(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(s,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(s)}(this,n)}}function F1(t,e,n){return(e=jQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$1(t)}function Tb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nO(t,e)}function MQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MQ=function(){return!!t})()}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nO(t,e){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nO(t,e)}function DQ(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,a,o,l,c=[],u=!0,d=!1;try{if(o=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(s=o.call(i)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}(t,e)||uD(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wr(t){return function(e){if(Array.isArray(e))return tO(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||uD(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jQ(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:e+""}function dg(t){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function uD(t,e){if(t){if(typeof t=="string")return tO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tO(t,e):void 0}}var G=function(){function t(){Me(this,t)}return De(t,[{key:"shadeRGBColor",value:function(e,n){var r=n.split(","),i=e<0?0:255,s=e<0?-1*e:e,a=parseInt(r[0].slice(4),10),o=parseInt(r[1],10),l=parseInt(r[2],10);return"rgb("+(Math.round((i-a)*s)+a)+","+(Math.round((i-o)*s)+o)+","+(Math.round((i-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,n){var r=parseInt(n.slice(1),16),i=e<0?0:255,s=e<0?-1*e:e,a=r>>16,o=r>>8&255,l=255&r;return"#"+(16777216+65536*(Math.round((i-a)*s)+a)+256*(Math.round((i-o)*s)+o)+(Math.round((i-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,n){return t.isColorHex(n)?this.shadeHexColor(e,n):this.shadeRGBColor(e,n)}}],[{key:"bind",value:function(e,n){return function(){return e.apply(n,arguments)}}},{key:"isObject",value:function(e){return e&&dg(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,n){return Object.prototype.toString.call(n)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var n,r=[];for(n=0;n<e.length;n++)r[n]=e[n];return r}},{key:"extend",value:function(e,n){var r=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(s),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(n)&&Object.keys(n).forEach(function(s){r.isObject(n[s])&&s in e?i[s]=r.extend(e[s],n[s]):Object.assign(i,F1({},s,n[s]))}),i}},{key:"extendArray",value:function(e,n){var r=[];return e.map(function(i){r.push(t.extend(n,i))}),e=r}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||dg(e)!=="object")return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){n=[],r.set(e,n);for(var i=0;i<e.length;i++)n[i]=this.clone(e[i],r)}else if(e instanceof Date)n=new Date(e.getTime());else for(var s in n={},r.set(e,n),e)e.hasOwnProperty(s)&&(n[s]=this.clone(e[s],r));return n}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,n){return Math.pow(n,Math.floor(Math.log(e)/Math.log(n)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(n))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var n=getComputedStyle(e,null),r=e.clientHeight,i=e.clientWidth;return r-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),[i-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){var n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:e.clientWidth,height:e.clientHeight,x:n.left,y:n.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(n,r){return Array.isArray(r)&&(r=r.reduce(function(i,s){return i.length>s.length?i:s})),n.length>r.length?n:r},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var r=e.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var i=0;i<r.length;i++)r[i]=parseInt(r[i].length===1?r[i]+r[i]:r[i],16);return n!==void 0&&r.push(n),"rgba("+r.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,n){for(var r=[],i=2*Math.PI/n,s=0;s<n;s++){var a={};a.x=e*Math.sin(s*i),a.y=-e*Math.cos(s*i),r.push(a)}return r}},{key:"polarToCartesian",value:function(e,n,r,i){var s=(i-90)*Math.PI/180;return{x:e+r*Math.cos(s),y:n+r*Math.sin(s)}}},{key:"escapeString",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",r=e.toString().slice();return r=r.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,n)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,n,r){if(r>=e.length)for(var i=r-e.length+1;i--;)e.push(void 0);return e.splice(r,0,e.splice(n,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,n){for(;(e=e.parentElement)&&!e.classList.contains(n););return e}},{key:"setELstyles",value:function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e.style.key=n[r])}},{key:"preciseAddition",value:function(e,n){var r=(String(e).split(".")[1]||"").length,i=(String(n).split(".")[1]||"").length,s=Math.pow(10,Math.max(r,i));return(Math.round(e*s)+Math.round(n*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)}},{key:"getGCD",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,r-Math.floor(Math.log10(Math.max(e,n))));for(e=Math.round(Math.abs(e)*i),n=Math.round(Math.abs(n)*i);n;){var s=n;n=e%n,e=s}return e/i}},{key:"getPrimeFactors",value:function(e){for(var n=[],r=2;e>=2;)e%r==0?(n.push(r),e/=r):r++;return n}},{key:"mod",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,r-Math.floor(Math.log10(Math.max(e,n))));return(e=Math.round(Math.abs(e)*i))%(n=Math.round(Math.abs(n)*i))/i}}]),t}(),tm=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"animateLine",value:function(e,n,r,i){e.attr(n).animate(i).attr(r)}},{key:"animateMarker",value:function(e,n,r,i){e.attr({opacity:0}).animate(n).attr({opacity:1}).after(function(){i()})}},{key:"animateRect",value:function(e,n,r,i,s){e.attr(n).animate(i).attr(r).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var n=e.el,r=e.realIndex,i=e.j,s=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,d=0;u.config.chart.animations.animateGradually.enabled&&(d=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(d=0),this.morphSVG(n,r,i,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",a,o,l,c*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var n=e.el;n.classList.remove("apexcharts-element-hidden"),n.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var n=this.w;n.globals.animationEnded||(n.globals.animationEnded=!0,this.showDelayedElements(),typeof n.config.chart.events.animationEnd=="function"&&n.config.chart.events.animationEnd(this.ctx,{el:e,w:n}))}},{key:"morphSVG",value:function(e,n,r,i,s,a,o,l){var c=this,u=this.w;s||(s=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var d=function(h){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=d()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),u.globals.shouldAnimate||(o=1),e.plot(s).animate(1,l).plot(s).animate(o,l).plot(a).after(function(){G.isNumber(r)?r===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):i!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&n===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),t}();const rO={},LQ=[];function bt(t,e){if(Array.isArray(t))for(const n of t)bt(n,e);else if(typeof t!="object")FQ(Object.getOwnPropertyNames(e)),rO[t]=Object.assign(rO[t]||{},e);else for(const n in t)bt(n,t[n])}function ds(t){return rO[t]||{}}function FQ(t){LQ.push(...t)}function dD(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function UE(t){return t%360*Math.PI/180}function nm(t){return t.charAt(0).toUpperCase()+t.slice(1)}function rm(t,e,n,r){return e!=null&&n!=null||(r=r||t.bbox(),e==null?e=r.width/r.height*n:n==null&&(n=r.height/r.width*e)),{width:e,height:n}}function iO(t,e){const n=t.origin;let r=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",i=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);const s=typeof r=="string",a=typeof i=="string";if(s||a){const{height:o,width:l,x:c,y:u}=e.bbox();s&&(r=r.includes("left")?c:r.includes("right")?c+l:c+l/2),a&&(i=i.includes("top")?u:i.includes("bottom")?u+o:u+o/2)}return[r,i]}const wOe=new Set(["desc","metadata","title"]),sO=t=>wOe.has(t.nodeName),$Q=(t,e,n={})=>{const r={...e};for(const i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?t.node.setAttribute("data-svgjs",JSON.stringify(r)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},hD="http://www.w3.org/2000/svg",WE="http://www.w3.org/2000/xmlns/",im="http://www.w3.org/1999/xlink",Bt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Pb(){return Bt.window}let fD=class{};const sh={},pD="___SYMBOL___ROOT___";function rx(t,e=hD){return Bt.document.createElementNS(e,t)}function ts(t,e=!1){if(t instanceof fD)return t;if(typeof t=="object")return HE(t);if(t==null)return new sh[pD];if(typeof t=="string"&&t.charAt(0)!=="<")return HE(Bt.document.querySelector(t));const n=e?Bt.document.createElement("div"):rx("svg");return n.innerHTML=t,t=HE(n.firstChild),n.removeChild(n.firstChild),t}function An(t,e){return e&&(e instanceof Bt.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:rx(t)}function oa(t){if(!t)return null;if(t.instance instanceof fD)return t.instance;if(t.nodeName==="#document-fragment")return new sh.Fragment(t);let e=nm(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":sh[e]||(e="Dom"),new sh[e](t)}let HE=oa;function Vt(t,e=t.name,n=!1){return sh[e]=t,n&&(sh[pD]=t),FQ(Object.getOwnPropertyNames(t.prototype)),t}let _Oe=1e3;function BQ(t){return"Svgjs"+nm(t)+_Oe++}function zQ(t){for(let e=t.children.length-1;e>=0;e--)zQ(t.children[e]);return t.id&&(t.id=BQ(t.nodeName)),t}function nt(t,e){let n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function Sn(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}bt("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=ts(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=ts(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=ts(t)).before(this),this},insertAfter:function(t){return(t=ts(t)).after(this),this}});const VQ=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,SOe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,AOe=/rgb\((\d+),(\d+),(\d+)\)/,COe=/(#[a-z_][a-z0-9\-_]*)/i,kOe=/\)\s*,?\s*/,EOe=/\s/g,x4=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,b4=/^rgb\(/,w4=/^(\s+)?$/,_4=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,TOe=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dc=/[\s,]+/,gD=/[MLHVCSQTAZ]/i;function POe(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return n.length===1?"0"+n:n}function Pf(t,e){for(let n=e.length;n--;)if(t[e[n]]==null)return!1;return!0}function YE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}bt("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(dc)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),bt("Dom",{css:function(t,e){const n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){const i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(t)){for(const r of t){const i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const r in t)this.node.style.setProperty(r,t[r]==null||w4.test(t[r])?"":t[r])}return arguments.length===2&&this.node.style.setProperty(t,e==null||w4.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),bt("Dom",{data:function(t,e,n){if(t==null)return this.data(dD(function(r,i){let s;const a=r.length,o=[];for(s=0;s<a;s++)i(r[s])&&o.push(r[s]);return o}(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(t instanceof Array){const r={};for(const i of t)r[i]=this.data(i);return r}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:n===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),bt("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const n in t)this.remember(n,t[n]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class fn{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof fn||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",n){const{random:r,round:i,sin:s,PI:a}=Math;if(e==="vibrant"){const o=24*r()+57,l=38*r()+45,c=360*r();return new fn(o,l,c,"lch")}if(e==="sine"){const o=i(80*s(2*a*(n=n??r())/.5+.01)+150),l=i(50*s(2*a*n/.5+4.6)+200),c=i(100*s(2*a*n/.5+2.3)+150);return new fn(o,l,c)}if(e==="pastel"){const o=8*r()+86,l=17*r()+9,c=360*r();return new fn(o,l,c,"lch")}if(e==="dark"){const o=10+10*r(),l=50*r()+86,c=360*r();return new fn(o,l,c,"lch")}if(e==="rgb"){const o=255*r(),l=255*r(),c=255*r();return new fn(o,l,c)}if(e==="lab"){const o=100*r(),l=256*r()-128,c=256*r()-128;return new fn(o,l,c,"lab")}if(e==="grey"){const o=255*r();return new fn(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(x4.test(e)||b4.test(e))}cmyk(){const{_a:e,_b:n,_c:r}=this.rgb(),[i,s,a]=[e,n,r].map(l=>l/255),o=Math.min(1-i,1-s,1-a);return o===1?new fn(0,0,0,1,"cmyk"):new fn((1-i-o)/(1-o),(1-s-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:n,_c:r}=this.rgb(),[i,s,a]=[e,n,r].map(h=>h/255),o=Math.max(i,s,a),l=Math.min(i,s,a),c=(o+l)/2,u=o===l,d=o-l;return new fn(360*(u?0:o===i?((s-a)/d+(s<a?6:0))/6:o===s?((a-i)/d+2)/6:o===a?((i-s)/d+4)/6:0),100*(u?0:c>.5?d/(2-o-l):d/(o+l)),100*c,"hsl")}init(e=0,n=0,r=0,i=0,s="rgb"){if(e=e||0,this.space)for(const d in this.space)delete this[this.space[d]];if(typeof e=="number")s=typeof i=="string"?i:s,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:n,_c:r,_d:i,space:s});else if(e instanceof Array)this.space=n||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const d=function(h,f){const g=Pf(h,"rgb")?{_a:h.r,_b:h.g,_c:h.b,_d:0,space:"rgb"}:Pf(h,"xyz")?{_a:h.x,_b:h.y,_c:h.z,_d:0,space:"xyz"}:Pf(h,"hsl")?{_a:h.h,_b:h.s,_c:h.l,_d:0,space:"hsl"}:Pf(h,"lab")?{_a:h.l,_b:h.a,_c:h.b,_d:0,space:"lab"}:Pf(h,"lch")?{_a:h.l,_b:h.c,_c:h.h,_d:0,space:"lch"}:Pf(h,"cmyk")?{_a:h.c,_b:h.m,_c:h.y,_d:h.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return g.space=f||g.space,g}(e,n);Object.assign(this,d)}else if(typeof e=="string")if(b4.test(e)){const d=e.replace(EOe,""),[h,f,g]=AOe.exec(d).slice(1,4).map(p=>parseInt(p));Object.assign(this,{_a:h,_b:f,_c:g,_d:0,space:"rgb"})}else{if(!x4.test(e))throw Error("Unsupported string format, can't construct Color");{const d=p=>parseInt(p,16),[,h,f,g]=SOe.exec(function(p){return p.length===4?["#",p.substring(1,2),p.substring(1,2),p.substring(2,3),p.substring(2,3),p.substring(3,4),p.substring(3,4)].join(""):p}(e)).map(d);Object.assign(this,{_a:h,_b:f,_c:g,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:n,z:r}=this.xyz();return new fn(116*n-16,500*(e-n),200*(n-r),"lab")}lch(){const{l:e,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2);let s=180*Math.atan2(r,n)/Math.PI;return s<0&&(s*=-1,s=360-s),new fn(e,i,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:n,y:r,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:f,a:g,b:p}=this;if(this.space==="lch"){const{c:C,h:A}=this,k=Math.PI/180;g=C*Math.cos(k*A),p=C*Math.sin(k*A)}const y=(f+16)/116,v=g/500+y,x=y-p/200,b=16/116,_=.008856,w=7.787;n=.95047*(v**3>_?v**3:(v-b)/w),r=1*(y**3>_?y**3:(y-b)/w),i=1.08883*(x**3>_?x**3:(x-b)/w)}const s=3.2406*n+-1.5372*r+-.4986*i,a=-.9689*n+1.8758*r+.0415*i,o=.0557*n+-.204*r+1.057*i,l=Math.pow,c=.0031308,u=s>c?1.055*l(s,1/2.4)-.055:12.92*s,d=a>c?1.055*l(a,1/2.4)-.055:12.92*a,h=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new fn(255*u,255*d,255*h)}if(this.space==="hsl"){let{h:n,s:r,l:i}=this;if(n/=360,r/=100,i/=100,r===0)return i*=255,new fn(i,i,i);const s=i<.5?i*(1+r):i+r-i*r,a=2*i-s,o=255*YE(a,s,n+1/3),l=255*YE(a,s,n),c=255*YE(a,s,n-1/3);return new fn(o,l,c)}if(this.space==="cmyk"){const{c:n,m:r,y:i,k:s}=this,a=255*(1-Math.min(1,n*(1-s)+s)),o=255*(1-Math.min(1,r*(1-s)+s)),l=255*(1-Math.min(1,i*(1-s)+s));return new fn(a,o,l)}return this;var e}toArray(){const{_a:e,_b:n,_c:r,_d:i,space:s}=this;return[e,n,r,i,s]}toHex(){const[e,n,r]=this._clamped().map(POe);return`#${e}${n}${r}`}toRgb(){const[e,n,r]=this._clamped();return`rgb(${e},${n},${r})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:n,_c:r}=this.rgb(),[i,s,a]=[e,n,r].map(y=>y/255),o=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,d=(.2126*o+.7152*l+.0722*c)/1,h=(.0193*o+.1192*l+.9505*c)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,g=d>.008856?Math.pow(d,1/3):7.787*d+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new fn(f,g,p,"xyz")}_clamped(){const{_a:e,_b:n,_c:r}=this.rgb(),{max:i,min:s,round:a}=Math;return[e,n,r].map(o=>i(0,s(a(o),255)))}}class nn{constructor(...e){this.init(...e)}clone(){return new nn(this)}init(e,n){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:n};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Ke.isMatrixLike(e)||(e=new Ke(e));const{x:n,y:r}=this;return this.x=e.a*n+e.c*r+e.e,this.y=e.b*n+e.d*r+e.f,this}}function If(t,e,n){return Math.abs(e-t)<1e-6}class Ke{constructor(...e){this.init(...e)}static formatTransforms(e){const n=e.flip==="both"||e.flip===!0,r=e.flip&&(n||e.flip==="x")?-1:1,i=e.flip&&(n||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleX)?e.scaleX*r:r,l=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,c=e.shear||0,u=e.rotate||e.theta||0,d=new nn(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),h=d.x,f=d.y,g=new nn(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),p=g.x,y=g.y,v=new nn(e.translate||e.tx||e.translateX,e.ty||e.translateY),x=v.x,b=v.y,_=new nn(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:s,skewY:a,shear:c,theta:u,rx:_.x,ry:_.y,tx:x,ty:b,ox:h,oy:f,px:p,py:y}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,n,r){const i=e.a*n.a+e.c*n.b,s=e.b*n.a+e.d*n.b,a=e.a*n.c+e.c*n.d,o=e.b*n.c+e.d*n.d,l=e.e+e.a*n.e+e.c*n.f,c=e.f+e.b*n.e+e.d*n.f;return r.a=i,r.b=s,r.c=a,r.d=o,r.e=l,r.f=c,r}around(e,n,r){return this.clone().aroundO(e,n,r)}aroundO(e,n,r){const i=e||0,s=n||0;return this.translateO(-i,-s).lmultiplyO(r).translateO(i,s)}clone(){return new Ke(this)}decompose(e=0,n=0){const r=this.a,i=this.b,s=this.c,a=this.d,o=this.e,l=this.f,c=r*a-i*s,u=c>0?1:-1,d=u*Math.sqrt(r*r+i*i),h=Math.atan2(u*i,u*r),f=180/Math.PI*h,g=Math.cos(h),p=Math.sin(h),y=(r*s+i*a)/c,v=s*d/(y*r-i)||a*d/(y*i+r);return{scaleX:d,scaleY:v,shear:y,rotate:f,translateX:o-e+e*g*d+n*(y*g*d-p*v),translateY:l-n+e*p*d+n*(y*p*d+g*v),originX:e,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const n=new Ke(e);return If(this.a,n.a)&&If(this.b,n.b)&&If(this.c,n.c)&&If(this.d,n.d)&&If(this.e,n.e)&&If(this.f,n.f)}flip(e,n){return this.clone().flipO(e,n)}flipO(e,n){return e==="x"?this.scaleO(-1,1,n,0):e==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,e,n||e)}init(e){const n=Ke.fromArray([1,0,0,1,0,0]);return e=e instanceof wi?e.matrixify():typeof e=="string"?Ke.fromArray(e.split(dc).map(parseFloat)):Array.isArray(e)?Ke.fromArray(e):typeof e=="object"&&Ke.isMatrixLike(e)?e:typeof e=="object"?new Ke().transform(e):arguments.length===6?Ke.fromArray([].slice.call(arguments)):n,this.a=e.a!=null?e.a:n.a,this.b=e.b!=null?e.b:n.b,this.c=e.c!=null?e.c:n.c,this.d=e.d!=null?e.d:n.d,this.e=e.e!=null?e.e:n.e,this.f=e.f!=null?e.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.e,a=this.f,o=e*i-n*r;if(!o)throw new Error("Cannot invert "+this);const l=i/o,c=-n/o,u=-r/o,d=e/o,h=-(l*s+u*a),f=-(c*s+d*a);return this.a=l,this.b=c,this.c=u,this.d=d,this.e=h,this.f=f,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const n=e instanceof Ke?e:new Ke(e);return Ke.matrixMultiply(n,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const n=e instanceof Ke?e:new Ke(e);return Ke.matrixMultiply(this,n,this)}rotate(e,n,r){return this.clone().rotateO(e,n,r)}rotateO(e,n=0,r=0){e=UE(e);const i=Math.cos(e),s=Math.sin(e),{a,b:o,c:l,d:c,e:u,f:d}=this;return this.a=a*i-o*s,this.b=o*i+a*s,this.c=l*i-c*s,this.d=c*i+l*s,this.e=u*i-d*s+r*s-n*i+n,this.f=d*i+u*s-n*s-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e);const{a:s,b:a,c:o,d:l,e:c,f:u}=this;return this.a=s*e,this.b=a*n,this.c=o*e,this.d=l*n,this.e=c*e-r*e+r,this.f=u*n-i*n+i,this}shear(e,n,r){return this.clone().shearO(e,n,r)}shearO(e,n=0,r=0){const{a:i,b:s,c:a,d:o,e:l,f:c}=this;return this.a=i+s*e,this.c=a+o*e,this.e=l+c*e-r*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e),e=UE(e),n=UE(n);const s=Math.tan(e),a=Math.tan(n),{a:o,b:l,c,d:u,e:d,f:h}=this;return this.a=o+l*s,this.b=l+o*a,this.c=c+u*s,this.d=u+c*a,this.e=d+h*s-i*s,this.f=h+d*a-r*a,this}skewX(e,n,r){return this.skew(e,0,n,r)}skewY(e,n,r){return this.skew(0,e,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Ke.isMatrixLike(e))return new Ke(e).multiplyO(this);const n=Ke.formatTransforms(e),{x:r,y:i}=new nn(n.ox,n.oy).transform(this),s=new Ke().translateO(n.rx,n.ry).lmultiplyO(this).translateO(-r,-i).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(r,i);if(isFinite(n.px)||isFinite(n.py)){const a=new nn(r,i).transform(s),o=isFinite(n.px)?n.px-a.x:0,l=isFinite(n.py)?n.py-a.y:0;s.translateO(o,l)}return s.translateO(n.tx,n.ty),s}translate(e,n){return this.clone().translateO(e,n)}translateO(e,n){return this.e+=e||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function $c(){if(!$c.nodes){const t=ts().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;$c.nodes={svg:t,path:e}}if(!$c.nodes.svg.node.parentNode){const t=Bt.document.body||Bt.document.documentElement;$c.nodes.svg.addTo(t)}return $c.nodes}function UQ(t){return!(t.width||t.height||t.x||t.y)}Vt(Ke,"Matrix");class pr{constructor(...e){this.init(...e)}addOffset(){return this.x+=Bt.window.pageXOffset,this.y+=Bt.window.pageYOffset,new pr(this)}init(e){return e=typeof e=="string"?e.split(dc).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return UQ(this)}merge(e){const n=Math.min(this.x,e.x),r=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-n,s=Math.max(this.y+this.height,e.y+e.height)-r;return new pr(n,r,i,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Ke||(e=new Ke(e));let n=1/0,r=-1/0,i=1/0,s=-1/0;return[new nn(this.x,this.y),new nn(this.x2,this.y),new nn(this.x,this.y2),new nn(this.x2,this.y2)].forEach(function(a){a=a.transform(e),n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),new pr(n,i,r-n,s-i)}}function S4(t,e,n){let r;try{if(r=e(t.node),UQ(r)&&(i=t.node)!==Bt.document&&!(Bt.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===Bt.document}).call(Bt.document.documentElement,i))throw new Error("Element not in the dom")}catch{r=n(t)}var i;return r}bt({viewbox:{viewbox(t,e,n,r){return t==null?new pr(this.attr("viewBox")):this.attr("viewBox",new pr(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&typeof n!="string"&&typeof r!="string"||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=n/i.width,a=r/i.height,o=Math.min(s,a);if(t==null)return o;let l=o/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new nn(n/2/s+i.x,r/2/a+i.y);const c=new pr(i).transform(new Ke({scale:l,origin:e}));return this.viewbox(c)}}}),Vt(pr,"Box");class Rh extends Array{constructor(e=[],...n){if(super(e,...n),typeof e=="number")return this;this.length=0,this.push(...e)}}nt([Rh],{each(t,...e){return typeof t=="function"?this.map((n,r,i)=>t.call(n,n,r,i)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const IOe=["toArray","constructor","each"];function tf(t,e){return new Rh(dD((e||Bt.document).querySelectorAll(t),function(n){return oa(n)}))}Rh.extend=function(t){t=t.reduce((e,n)=>(IOe.includes(n)||n[0]==="_"||(n in Array.prototype&&(e["$"+n]=Array.prototype[n]),e[n]=function(...r){return this.each(n,...r)}),e),{}),nt([Rh],t)};let OOe=0;const WQ={};function HQ(t){let e=t.getEventHolder();return e===Bt.window&&(e=WQ),e.events||(e.events={}),e.events}function mD(t){return t.getEventTarget()}function Il(t,e,n,r,i){const s=n.bind(r||t),a=ts(t),o=HQ(a),l=mD(a);e=Array.isArray(e)?e:e.split(dc),n._svgjsListenerId||(n._svgjsListenerId=++OOe),e.forEach(function(c){const u=c.split(".")[0],d=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][d]=o[u][d]||{},o[u][d][n._svgjsListenerId]=s,l.addEventListener(u,s,i||!1)})}function ha(t,e,n,r){const i=ts(t),s=HQ(i),a=mD(i);(typeof n!="function"||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(dc)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,d;if(n)s[l]&&s[l][c||"*"]&&(a.removeEventListener(l,s[l][c||"*"][n],r||!1),delete s[l][c||"*"][n]);else if(l&&c){if(s[l]&&s[l][c]){for(d in s[l][c])ha(a,[l,c].join("."),d);delete s[l][c]}}else if(c)for(o in s)for(u in s[o])c===u&&ha(a,[o,c].join("."));else if(l){if(s[l]){for(u in s[l])ha(a,[l,u].join("."));delete s[l]}}else{for(o in s)ha(a,o);(function(h){let f=h.getEventHolder();f===Bt.window&&(f=WQ),f.events&&(f.events={})})(i)}})}class Ib extends fD{addEventListener(){}dispatch(e,n,r){return function(i,s,a,o){const l=mD(i);return s instanceof Bt.window.Event||(s=new Bt.window.CustomEvent(s,{detail:a,cancelable:!0,...o})),l.dispatchEvent(s),s}(this,e,n,r)}dispatchEvent(e){const n=this.getEventHolder().events;if(!n)return!0;const r=n[e.type];for(const i in r)for(const s in r[i])r[i][s](e);return!e.defaultPrevented}fire(e,n,r){return this.dispatch(e,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(e,n,r){return ha(this,e,n,r),this}on(e,n,r,i){return Il(this,e,n,r,i),this}removeEventListener(){}}function A4(){}Vt(Ib,"EventTarget");const XE=400,NOe=">",ROe=0,MOe={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Mh extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(dc).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class dt{constructor(...e){this.init(...e)}convert(e){return new dt(this.value,e)}divide(e){return e=new dt(e),new dt(this/e,this.unit||e.unit)}init(e,n){return n=Array.isArray(e)?e[1]:n,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=n||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(n=e.match(VQ))&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5]):e instanceof dt&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new dt(e),new dt(this-e,this.unit||e.unit)}plus(e){return e=new dt(e),new dt(this+e,this.unit||e.unit)}times(e){return e=new dt(e),new dt(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const DOe=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),YQ=[];class $u extends Ib{constructor(e,n){super(),this.node=e,this.type=e.nodeName,n&&e!==n&&this.attr(n)}add(e,n){return(e=ts(e)).removeNamespace&&this.node instanceof Bt.window.SVGElement&&e.removeNamespace(),n==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[n]&&this.node.insertBefore(e.node,this.node.childNodes[n]),this}addTo(e,n){return ts(e).put(this,n)}children(){return new Rh(dD(this.node.children,function(e){return oa(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(e);return n&&(r=zQ(r)),new this.constructor(r)}each(e,n){const r=this.children();let i,s;for(i=0,s=r.length;i<s;i++)e.apply(r[i],[i,r]),n&&r[i].each(e,n);return this}element(e,n){return this.put(new $u(rx(e),n))}first(){return oa(this.node.firstChild)}get(e){return oa(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,n){return this.xml(e,n,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=BQ(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return oa(this.node.lastChild)}matches(e){const n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,e)}parent(e){let n=this;if(!n.node.parentNode)return null;if(n=oa(n.node.parentNode),!e)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=oa(n.node.parentNode));return n}put(e,n){return e=ts(e),this.add(e,n),e}putIn(e,n){return ts(e).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ts(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,n=null){const r=10**e,i=this.attr(n);for(const s in i)typeof i[s]=="number"&&(i[s]=Math.round(i[s]*r)/r);return this.attr(i),this}svg(e,n){return this.xml(e,n,hD)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const n=this.parent();if(!n)return this.addTo(e);const r=n.index(this);return n.put(e,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){n=n==null||n,this.writeDataToDom();let o=this;if(e!=null){if(o=oa(o.node.cloneNode(!0)),n){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return n?o.node.outerHTML:o.node.innerHTML}n=n!=null&&n;const i=rx("wrapper",r),s=Bt.document.createDocumentFragment();i.innerHTML=e;for(let o=i.children.length;o--;)s.appendChild(i.firstElementChild);const a=this.parent();return n?this.replace(s)&&a:this.add(s)}}nt($u,{attr:function(t,e,n){if(t==null){t={},e=this.node.attributes;for(const r of e)t[r.nodeName]=_4.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}if(t instanceof Array)return t.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?MOe[t]:_4.test(e)?parseFloat(e):e;typeof(e=YQ.reduce((r,i)=>i(t,r,this),e))=="number"?e=new dt(e):DOe.has(t)&&fn.isColor(e)?e=new fn(e):e.constructor===Array&&(e=new Mh(e)),t==="leading"?this.leading&&this.leading(e):typeof n=="string"?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return tf(t,this.node)},findOne:function(t){return oa(this.node.querySelector(t))}}),Vt($u,"Dom");let wi=class extends $u{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new dt(t).plus(this.x()))}dy(t=0){return this.y(new dt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=ts(t));const n=new Rh;let r=this;for(;(r=r.parent())&&r.node!==Bt.document&&r.nodeName!=="#document-fragment"&&(n.push(r),e||r.node!==t.node)&&(!e||!r.matches(t));)if(r.node===this.root().node)return null;return n}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(COe);return e?ts(e[1]):null}root(){const t=this.parent(function(e){return sh[e]}(pD));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=rm(this,t,e);return this.width(new dt(n.width)).height(new dt(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return $Q(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};nt(wi,{bbox:function(){const t=S4(this,e=>e.getBBox(),e=>{try{const n=e.clone().addTo($c().svg).show(),r=n.node.getBBox();return n.remove(),r}catch(n){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${n.toString()}`)}});return new pr(t)},rbox:function(t){const e=S4(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),n=new pr(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new nn(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Ke(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new Ke(e)}return new Ke(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Ke}}}),Vt(wi,"Element");const Km={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let n;e[t]=function(r){if(r===void 0)return this.attr(t);if(typeof r=="string"||r instanceof fn||fn.isRgb(r)||r instanceof wi)this.attr(t,r);else for(n=Km[t].length-1;n>=0;n--)r[Km[t][n]]!=null&&this.attr(Km.prefix(t,Km[t][n]),r[Km[t][n]]);return this},bt(["Element","Runner"],e)}),bt(["Element","Runner"],{matrix:function(t,e,n,r,i,s){return t==null?new Ke(this):this.attr("transform",new Ke(t,e,n,r,i,s))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),bt("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new dt(t)):this.rx(t).ry(e)}}),bt("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new nn(this.node.getPointAtLength(t))}}),bt(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});bt("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(n){return n===null?this.off(e):this.on(e,n),this},t},{})),bt("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(kOe).slice(0,-1).map(function(e){const n=e.trim().split("(");return[n[0],n[1].split(dc).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(e,n){return n[0]==="matrix"?e.lmultiply(Ke.fromArray(n[1])):e[n[0]].apply(e,n[1])},new Ke)},toParent:function(t,e){if(this===t)return this;if(sO(this.node))return this.addTo(t,e);const n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const r=new Ke(this).decompose();return t==null?r:r[t]}Ke.isMatrixLike(t)||(t={...t,origin:iO(t,this)});const n=new Ke(e===!0?this:e||!1).transform(t);return this.attr("transform",n)}});class cs extends wi{flatten(){return this.each(function(){if(this instanceof cs)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),n=e.index(this)){return n=n===-1?e.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(e,n)}),this.remove()}}Vt(cs,"Container");class mC extends cs{constructor(e,n=e){super(An("defs",e),n)}flatten(){return this}ungroup(){return this}}Vt(mC,"Defs");class Js extends wi{}function yD(t){return this.attr("rx",t)}function vD(t){return this.attr("ry",t)}function XQ(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function GQ(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function qQ(t){return this.attr("cx",t)}function KQ(t){return this.attr("cy",t)}function QQ(t){return t==null?2*this.rx():this.rx(new dt(t).divide(2))}function ZQ(t){return t==null?2*this.ry():this.ry(new dt(t).divide(2))}Vt(Js,"Shape");var jOe=Object.freeze({__proto__:null,cx:qQ,cy:KQ,height:ZQ,rx:yD,ry:vD,width:QQ,x:XQ,y:GQ});class o_ extends Js{constructor(e,n=e){super(An("ellipse",e),n)}size(e,n){const r=rm(this,e,n);return this.rx(new dt(r.width).divide(2)).ry(new dt(r.height).divide(2))}}nt(o_,jOe),bt("Container",{ellipse:Sn(function(t=0,e=t){return this.put(new o_).size(t,e).move(0,0)})}),Vt(o_,"Ellipse");let JQ=class extends $u{constructor(e=Bt.document.createDocumentFragment()){super(e)}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){const i=new $u(rx("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(e,!1,r)}};function eZ(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new dt(t),fy:new dt(e)}):this.attr({x1:new dt(t),y1:new dt(e)})}function tZ(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new dt(t),cy:new dt(e)}):this.attr({x2:new dt(t),y2:new dt(e)})}Vt(JQ,"Fragment");var LOe=Object.freeze({__proto__:null,from:eZ,to:tZ});class iv extends cs{constructor(e,n){super(An(e+"Gradient",typeof e=="string"?null:e),n)}attr(e,n,r){return e==="transform"&&(e="gradientTransform"),super.attr(e,n,r)}bbox(){return new pr}targets(){return tf("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}nt(iv,LOe),bt({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Sn(function(t,e){return this.put(new iv(t)).update(e)})}}),Vt(iv,"Gradient");class ix extends cs{constructor(e,n=e){super(An("pattern",e),n)}attr(e,n,r){return e==="transform"&&(e="patternTransform"),super.attr(e,n,r)}bbox(){return new pr}targets(){return tf("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}bt({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Sn(function(t,e,n){return this.put(new ix).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),Vt(ix,"Pattern");let l_=class extends Js{constructor(t,e=t){super(An("image",t),e)}load(t,e){if(!t)return this;const n=new Bt.window.Image;return Il(n,"load",function(r){const i=this.parent(ix);this.width()===0&&this.height()===0&&this.size(n.width,n.height),i instanceof ix&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,r)},this),Il(n,"load error",function(){ha(n)}),this.attr("href",n.src=t,im)}};var C4;C4=function(t,e,n){return t!=="fill"&&t!=="stroke"||TOe.test(e)&&(e=n.root().defs().image(e)),e instanceof l_&&(e=n.root().defs().pattern(0,0,r=>{r.add(e)})),e},YQ.push(C4),bt({Container:{image:Sn(function(t,e){return this.put(new l_).size(0,0).load(t,e)})}}),Vt(l_,"Image");class Bu extends Mh{bbox(){let e=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(s){e=Math.max(s[0],e),n=Math.max(s[1],n),r=Math.min(s[0],r),i=Math.min(s[1],i)}),new pr(r,i,e-r,n-i)}move(e,n){const r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+n];return this}parse(e=[0,0]){const n=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(dc).map(parseFloat)).length%2!=0&&e.pop();for(let r=0,i=e.length;r<i;r+=2)n.push([e[r],e[r+1]]);return n}size(e,n){let r;const i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*e/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let n=0,r=this.length;n<r;n++)e.push(this[n].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Ke.isMatrixLike(e)||(e=new Ke(e));for(let n=this.length;n--;){const[r,i]=this[n];this[n][0]=e.a*r+e.c*i+e.e,this[n][1]=e.b*r+e.d*i+e.f}return this}}const FOe=Bu;var xD=Object.freeze({__proto__:null,MorphArray:FOe,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let jd=class extends Js{constructor(t,e=t){super(An("line",t),e)}array(){return new Bu([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,r){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:n,y2:r}:new Bu(t).toLine(),this.attr(t))}size(t,e){const n=rm(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}};nt(jd,xD),bt({Container:{line:Sn(function(...t){return jd.prototype.plot.apply(this.put(new jd),t[0]!=null?t:[0,0,0,0])})}}),Vt(jd,"Line");let c_=class extends cs{constructor(t,e=t){super(An("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function Jf(t,e){return function(n){return n==null?this[t]:(this[t]=n,e&&e.call(this),this)}}bt({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Sn(function(t,e,n){return this.put(new c_).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)})},marker:{marker(t,e,n,r){let i=["marker"];return t!=="all"&&i.push(t),i=i.join("-"),t=arguments[1]instanceof c_?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),Vt(c_,"Marker");const $Oe={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return e==="none"?--n:e==="both"&&++n,(r,i=!1)=>{let s=Math.floor(r*t);const a=r*s%1==0;return e!=="start"&&e!=="both"||++s,i&&a&&--s,r>=0&&s<0&&(s=0),r<=1&&s>n&&(s=n),s/n}}};class bD{done(){return!1}}class aO extends bD{constructor(e=NOe){super(),this.ease=$Oe[e]||e}step(e,n,r){return typeof e!="number"?r<1?e:n:e+(n-e)*this.ease(r)}}class B1 extends bD{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,n,r,i){return this.stepper(e,n,r,i)}}function k4(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),s=3.9/(i*t);this.d=2*i*s,this.k=s*s}nt(class extends B1{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,r){if(typeof t=="string")return t;if(r.done=n===1/0,n===1/0)return e;if(n===0)return t;n>100&&(n=16),n/=1e3;const i=r.velocity||0,s=-this.d*i-this.k*(t-e),a=t+i*n+s*n*n/2;return r.velocity=i+s*n,r.done=Math.abs(e-a)+Math.abs(i)<.002,r.done?e:a}},{duration:Jf("_duration",k4),overshoot:Jf("_overshoot",k4)});nt(class extends B1{constructor(t=.1,e=.01,n=0,r=1e3){super(),this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if(typeof t=="string")return t;if(r.done=n===1/0,n===1/0)return e;if(n===0)return t;const i=e-t;let s=(r.integral||0)+i*n;const a=(i-(r.error||0))/n,o=this._windup;return o!==!1&&(s=Math.max(-o,Math.min(s,o))),r.error=i,r.integral=s,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*s+this.D*a)}},{windup:Jf("_windup"),p:Jf("P"),i:Jf("I"),d:Jf("D")});const BOe={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},oO={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},GE="mlhvqtcsaz".split("");for(let t=0,e=GE.length;t<e;++t)oO[GE[t]]=function(n){return function(r,i,s){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let a=0,o=r.length;a<o;++a)r[a]=r[a]+(a%2?i.y:i.x);return oO[n](r,i,s)}}(GE[t].toUpperCase());function lO(t){return t.segment.length&&t.segment.length-1===BOe[t.segment[0].toUpperCase()]}function zOe(t,e){t.inNumber&&bd(t,!1);const n=gD.test(e);if(n)t.segment=[e];else{const r=t.lastCommand,i=r.toLowerCase(),s=r===i;t.segment=[i==="m"?s?"l":"L":r]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function bd(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,lO(t)&&cO(t)}function cO(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const n=e.segment[0];return oO[n](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function VOe(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",n=t.segment.length;return e&&(n===4||n===5)}function UOe(t){return t.lastToken.toUpperCase()==="E"}const WOe=new Set([" ",",","	",`
`,"\r","\f"]);class Za extends Mh{bbox(){return $c().path.setAttribute("d",this.toString()),new pr($c.nodes.path.getBBox())}move(e,n){const r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i,s=this.length-1;s>=0;s--)i=this[s][0],i==="M"||i==="L"||i==="T"?(this[s][1]+=e,this[s][2]+=n):i==="H"?this[s][1]+=e:i==="V"?this[s][1]+=n:i==="C"||i==="S"||i==="Q"?(this[s][1]+=e,this[s][2]+=n,this[s][3]+=e,this[s][4]+=n,i==="C"&&(this[s][5]+=e,this[s][6]+=n)):i==="A"&&(this[s][6]+=e,this[s][7]+=n);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(n,r=!0){let i=0,s="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:r,p0:new nn,p:new nn};for(;a.lastToken=s,s=n.charAt(i++);)if(a.inSegment||!zOe(a,s))if(s!==".")if(isNaN(parseInt(s)))if(WOe.has(s))a.inNumber&&bd(a,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(gD.test(s)){if(a.inNumber)bd(a,!1);else{if(!lO(a))throw new Error("parser Error");cO(a)}--i}}else a.number+=s,a.hasExponent=!0;else{if(a.inNumber&&!UOe(a)){bd(a,!1),--i;continue}a.number+=s,a.inNumber=!0}else{if(a.number==="0"||VOe(a)){a.inNumber=!0,a.number=s,bd(a,!0);continue}a.inNumber=!0,a.number+=s}else{if(a.pointSeen||a.hasExponent){bd(a,!1),--i;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=s}return a.inNumber&&bd(a,!1),a.inSegment&&lO(a)&&cO(a),a.segments}(e)}size(e,n){const r=this.bbox();let i,s;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)s=this[i][0],s==="M"||s==="L"||s==="T"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):s==="H"?this[i][1]=(this[i][1]-r.x)*e/r.width+r.x:s==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:s==="C"||s==="S"||s==="Q"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*e/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,s==="C"&&(this[i][5]=(this[i][5]-r.x)*e/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):s==="A"&&(this[i][1]=this[i][1]*e/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*e/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return function(e){let n="";for(let r=0,i=e.length;r<i;r++)n+=e[r][0],e[r][1]!=null&&(n+=e[r][1],e[r][2]!=null&&(n+=" ",n+=e[r][2],e[r][3]!=null&&(n+=" ",n+=e[r][3],n+=" ",n+=e[r][4],e[r][5]!=null&&(n+=" ",n+=e[r][5],n+=" ",n+=e[r][6],e[r][7]!=null&&(n+=" ",n+=e[r][7])))));return n+" "}(this)}}const nZ=t=>{const e=typeof t;return e==="number"?dt:e==="string"?fn.isColor(t)?fn:dc.test(t)?gD.test(t)?Za:Mh:VQ.test(t)?dt:uO:dO.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?Mh:e==="object"?sx:uO};class wd{constructor(e){this._stepper=e||new aO("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,n){return e&&n},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(nZ(e));let n=new this._type(e);return this._type===fn&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===sx&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}}class uO{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ob{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ob.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ob.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const HOe=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class sx{constructor(...e){this.init(...e)}align(e){const n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===e[r+1]){if(n[r+1]===fn&&e[r+7]!==n[r+7]){const o=e[r+7],l=new fn(this.values.splice(r+3,5))[o]().toArray();this.values.splice(r+3,0,...l)}r+=n[r+2]+2;continue}if(!e[r+1])return this;const s=new e[r+1]().toArray(),a=n[r+2]+3;n.splice(r,a,e[r],e[r+1],e[r+2],...s),r+=n[r+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const n=[];for(const r in e){const i=nZ(e[r]),s=new i(e[r]).toArray();n.push([r,i,s.length,...s])}return n.sort(HOe),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){const e={},n=this.values;for(;n.length;){const r=n.shift(),i=n.shift(),s=n.shift(),a=n.splice(0,s);e[r]=new i(a)}return e}}const dO=[uO,Ob,sx];class xp extends Js{constructor(e,n=e){super(An("path",e),n)}array(){return this._array||(this._array=new Za(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,n){return this.attr("d",this.array().move(e,n))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Za(e))}size(e,n){const r=rm(this,e,n);return this.attr("d",this.array().size(r.width,r.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}xp.prototype.MorphArray=Za,bt({Container:{path:Sn(function(t){return this.put(new xp).plot(t||new Za)})}}),Vt(xp,"Path");var rZ=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Bu(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new Bu(t))},size:function(t,e){const n=rm(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}});class Ld extends Js{constructor(e,n=e){super(An("polygon",e),n)}}bt({Container:{polygon:Sn(function(t){return this.put(new Ld).plot(t||new Bu)})}}),nt(Ld,xD),nt(Ld,rZ),Vt(Ld,"Polygon");class Fd extends Js{constructor(e,n=e){super(An("polyline",e),n)}}bt({Container:{polyline:Sn(function(t){return this.put(new Fd).plot(t||new Bu)})}}),nt(Fd,xD),nt(Fd,rZ),Vt(Fd,"Polyline");class u_ extends Js{constructor(e,n=e){super(An("rect",e),n)}}nt(u_,{rx:yD,ry:vD}),bt({Container:{rect:Sn(function(t,e){return this.put(new u_).size(t,e)})}}),Vt(u_,"Rect");class qE{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const n=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const cn={nextDraw:null,frames:new qE,timeouts:new qE,immediates:new qE,timer:()=>Bt.window.performance||Bt.window.Date,transforms:[],frame(t){const e=cn.frames.push({run:t});return cn.nextDraw===null&&(cn.nextDraw=Bt.window.requestAnimationFrame(cn._draw)),e},timeout(t,e){e=e||0;const n=cn.timer().now()+e,r=cn.timeouts.push({run:t,time:n});return cn.nextDraw===null&&(cn.nextDraw=Bt.window.requestAnimationFrame(cn._draw)),r},immediate(t){const e=cn.immediates.push(t);return cn.nextDraw===null&&(cn.nextDraw=Bt.window.requestAnimationFrame(cn._draw)),e},cancelFrame(t){t!=null&&cn.frames.remove(t)},clearTimeout(t){t!=null&&cn.timeouts.remove(t)},cancelImmediate(t){t!=null&&cn.immediates.remove(t)},_draw(t){let e=null;const n=cn.timeouts.last();for(;(e=cn.timeouts.shift())&&(t>=e.time?e.run():cn.timeouts.push(e),e!==n););let r=null;const i=cn.frames.last();for(;r!==i&&(r=cn.frames.shift());)r.run(t);let s=null;for(;s=cn.immediates.shift();)s();cn.nextDraw=cn.timeouts.first()||cn.frames.first()?Bt.window.requestAnimationFrame(cn._draw):null}},YOe=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},XOe=function(){const t=Bt.window;return(t.performance||t.Date).now()};class iZ extends Ib{constructor(e=XOe){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),n=e?e.runner.duration():0;return(e?e.start:this._time)+n}getEndTimeOfTimeline(){const e=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const n=this.speed();if(e==null)return this.speed(-n);const r=Math.abs(n);return this.speed(e?-r:r)}schedule(e,n,r){if(e==null)return this._runners.map(YOe);let i=0;const s=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=s;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){const l=this.getRunnerInfoById(e.id);l&&(i=l.start+n,n=0)}else{if(r!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();i=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:i+n,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const n=this._runnerIds.indexOf(e.id);return n<0||(this._runners.splice(n,1),this._runnerIds.splice(n,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return cn.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=cn.frame(this._step)),this)}_stepFn(e=!1){const n=this._timeSource();let r=n-this._lastSourceTime;e&&(r=0);const i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let s=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let u=i;const d=this._time-l.start;if(d<=0){s=!0;continue}d<u&&(u=d),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}bt({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new iZ,this._timeline):(this._timeline=t,this)}}});class Xs extends Ib{constructor(e){super(),this.id=Xs.id++,e=typeof(e=e??XE)=="function"?new B1(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof B1,this._stepper=this._isDeclarative?e:new aO,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Ke,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,n,r){let i=1,s=!1,a=0;return n=n??ROe,r=r||"last",typeof(e=e??XE)!="object"||e instanceof bD||(n=e.delay??n,r=e.when??r,s=e.swing||s,i=e.times??i,a=e.wait??a,e=e.duration??XE),{duration:e,delay:n,swing:s,times:i,wait:a,when:r}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,n,r){const i=Xs.sanitise(e,n,r),s=new Xs(i.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Ke,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new aO(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,n,r){return typeof e=="object"&&(n=e.swing,r=e.wait,e=e.times),this._times=e||1/0,this._swing=n||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(e){const n=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/n),a=(this._time-s*n)/this._duration;return Math.min(s+a,this._times)}const r=e%1,i=n*Math.floor(e)+this._duration*r;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const n=this._time,r=this._duration,i=this._wait,s=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const d=function(f){const g=a*Math.floor(f%(2*(i+r))/(i+r)),p=g&&!o||!g&&o,y=Math.pow(-1,p)*(f%(i+r))/r+p;return Math.max(Math.min(y,1),0)},h=s*(i+r)-i;return l=n<=0?Math.round(d(1e-5)):n<h?d(n):Math.round(d(h-1e-5)),l}const c=Math.floor(this.loops()),u=a&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,n,r,i){return this._queue.push({initialiser:e||A4,runner:n||A4,retarget:r,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,n,r){if(e instanceof iZ||(r=n,n=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,n,r),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const n=this.position(),r=this._lastPosition!==n&&this._time>=0;this._lastPosition=n;const i=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<i&&this._time>=i;this._lastTime=this._time,s&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=i,this._reseted=!1;let l=!1;return(r||o)&&(this._initialise(r),this.transforms=new Ke,l=this._run(o?e:n),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const n=e-this._time;return this.step(n),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let n=0,r=this._queue.length;n<r;++n){const i=this._queue[n],s=this._isDeclarative||!i.initialised&&e;e=!i.finished,s&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,n){if(this._history[e]={morpher:n,caller:this._queue[this._queue.length-1]},this._isDeclarative){const r=this.timeline();r&&r.play()}}_run(e){let n=!0;for(let r=0,i=this._queue.length;r<i;++r){const s=this._queue[r],a=s.runner.call(this,e);s.finished=s.finished||a===!0,n=n&&s.finished}return n}_tryRetarget(e,n,r){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,n,r):this._history[e].morpher.to(n),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}Xs.id=0;class z1{constructor(e=new Ke,n=-1,r=!0){this.transforms=e,this.id=n,this.done=r}clearTransformsFromQueue(){}}nt([Xs,z1],{mergeWith(t){return new z1(t.transforms.lmultiply(this.transforms),t.id)}});const sZ=(t,e)=>t.lmultiplyO(e),aZ=t=>t.transforms;function GOe(){const t=this._transformationRunners.runners.map(aZ).reduce(sZ,new Ke);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class qOe{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const n=e.id+1;return this.runners.push(e),this.ids.push(n),this}clearBefore(e){const n=this.ids.indexOf(e+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new z1).forEach(r=>r.clearTransformsFromQueue()),this}edit(e,n){const r=this.ids.indexOf(e+1);return this.ids.splice(r,1,e+1),this.runners.splice(r,1,n),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let n=0;n<this.runners.length;++n){const r=this.runners[n];if(e&&r.done&&e.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(r.id);const i=r.mergeWith(e);this.edit(e.id,i),e=i,--n}else e=r}return this}remove(e){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}}bt({Element:{animate(t,e,n){const r=Xs.sanitise(t,e,n),i=this.timeline();return new Xs(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(aZ).reduce(sZ,new Ke)},_addRunner(t){this._transformationRunners.add(t),cn.cancelImmediate(this._frameId),this._frameId=cn.immediate(GOe.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new qOe().add(new z1(new Ke(this))))}}});nt(Xs,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if(typeof e=="string")return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new wd(this._stepper).to(r),s=Object.keys(r);return this.queue(function(){i=i.from(this.element()[t](s))},function(a){return this.element()[t](i.at(a).valueOf()),i.done()},function(a){const o=Object.keys(a),l=(c=s,o.filter(d=>!c.includes(d)));var c;if(l.length){const d=this.element()[t](l),h=new sx(i.from()).valueOf();Object.assign(h,d),i.from(h)}const u=new sx(i.to()).valueOf();Object.assign(u,a),i.to(u),s=o,r=a}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new wd(this._stepper).to(new dt(t));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),e),n.done()},function(r,i){e=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const r=Ke.isMatrixLike(t);n=t.affine!=null?t.affine:n??!r;const i=new wd(this._stepper).type(n?Ob:Ke);let s,a,o,l,c;return this.queue(function(){a=a||this.element(),s=s||iO(t,a),c=new Ke(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:d,y:h}=new nn(s).transform(a._currentTransform(this));let f=new Ke({...t,origin:[d,h]}),g=this._isDeclarative&&o?o:c;if(n){f=f.decompose(d,h),g=g.decompose(d,h);const y=f.rotate,v=g.rotate,x=[y-360,y,y+360],b=x.map(C=>Math.abs(C-v)),_=Math.min(...b),w=b.indexOf(_);f.rotate=x[w]}e&&(r||(f.rotate=t.rotate||0),this._isDeclarative&&l&&(g.rotate=l)),i.from(g),i.to(f);const p=i.at(u);return l=p.rotate,o=new Ke(p),this.addTransform(o),a._addRunner(this),i.done()},function(u){(u.origin||"center").toString()!==(t.origin||"center").toString()&&(s=iO(u,a)),t={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new dt(e),this._tryRetarget(t,e))return this;const n=new wd(this._stepper).to(e);let r=null;return this.queue(function(){r=this.element()[t](),n.from(r),n.to(r+e)},function(i){return this.element()[t](n.at(i)),n.done()},function(i){n.to(r+new dt(i))}),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new wd(this._stepper).to(e);return this.queue(function(){n.from(this.element()[t]())},function(r){return this.element()[t](n.at(r)),n.done()}),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new dt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(arguments.length===4)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;const i=new wd(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(s){return this._element.plot(i.at(s)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new pr(t,e,n,r))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),nt(Xs,{rx:yD,ry:vD,from:eZ,to:tZ}),Vt(Xs,"Runner");class hO extends cs{constructor(e,n=e){super(An("svg",e),n),this.namespace()}defs(){return this.isRoot()?oa(this.node.querySelector("defs"))||this.put(new mC):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Bt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:hD,version:"1.1"}).attr("xmlns:xlink",im,WE):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,WE).attr("xmlns:svgjs",null,WE)}root(){return this.isRoot()?this:super.root()}}bt({Container:{nested:Sn(function(){return this.put(new hO)})}}),Vt(hO,"Svg",!0);let fO=class extends cs{constructor(t,e=t){super(An("symbol",t),e)}};bt({Container:{symbol:Sn(function(){return this.put(new fO)})}}),Vt(fO,"Symbol");var oZ=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(Bt.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class Ja extends Js{constructor(e,n=e){super(An("text",e),n),this.dom.leading=this.dom.leading??new dt(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new dt(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const n=this;let r=0;const i=this.dom.leading;this.each(function(s){if(sO(this.node))return;const a=Bt.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=i*new dt(a);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=o:(this.attr("dy",s?o+r:0),r=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new dt(e.leading||1.3),this}writeDataToDom(){return $Q(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const n=this.node.childNodes;let r=0;e="";for(let i=0,s=n.length;i<s;++i)n[i].nodeName==="textPath"||sO(n[i])?i===0&&(r=i+1):(i!==r&&n[i].nodeType!==3&&oa(n[i]).dom.newLined===!0&&(e+=`
`),e+=n[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let n=0,r=(e=(e+"").split(`
`)).length;n<r;n++)this.newLine(e[n]);return this.build(!1).rebuild()}}nt(Ja,oZ),bt({Container:{text:Sn(function(t=""){return this.put(new Ja).text(t)}),plain:Sn(function(t=""){return this.put(new Ja).plain(t)})}}),Vt(Ja,"Text");class d_ extends Js{constructor(e,n=e){super(An("tspan",e),n),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Ja))return this;const n=e.index(this),r=Bt.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new dt(r);return this.dy(n?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}nt(d_,oZ),bt({Tspan:{tspan:Sn(function(t=""){const e=new d_;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),Vt(d_,"Tspan");class KE extends Js{constructor(e,n=e){super(An("circle",e),n)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new dt(e).divide(2))}}nt(KE,{x:XQ,y:GQ,cx:qQ,cy:KQ,width:QQ,height:ZQ}),bt({Container:{circle:Sn(function(t=0){return this.put(new KE).size(t).move(0,0)})}}),Vt(KE,"Circle");class QE extends cs{constructor(e,n=e){super(An("clipPath",e),n)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return tf("svg [clip-path*="+this.id()+"]")}}bt({Container:{clip:Sn(function(){return this.defs().put(new QE)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof QE?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Vt(QE,"ClipPath");class E4 extends wi{constructor(e,n=e){super(An("foreignObject",e),n)}}bt({Container:{foreignObject:Sn(function(t,e){return this.put(new E4).size(t,e)})}}),Vt(E4,"ForeignObject");var lZ=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(n=>{let r;try{r=n.node instanceof Pb().SVGSVGElement?new pr(n.attr(["x","y","width","height"])):n.bbox()}catch{return}const i=new Ke(n),s=i.translate(t,e).transform(i.inverse()),a=new nn(r.x,r.y).transform(s);n.move(a.x,a.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)},size:function(t,e,n=this.bbox()){const r=rm(this,t,e,n),i=r.width/n.width,s=r.height/n.height;return this.children().forEach(a=>{const o=new nn(n).transform(new Ke(a).inverse());a.scale(i,s,o.x,o.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class Au extends cs{constructor(e,n=e){super(An("g",e),n)}}nt(Au,lZ),bt({Container:{group:Sn(function(){return this.put(new Au)})}}),Vt(Au,"G");let ew=class extends cs{constructor(e,n=e){super(An("a",e),n)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,im)}};nt(ew,lZ),bt({Container:{link:Sn(function(t){return this.put(new ew).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new ew,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),Vt(ew,"A");class ZE extends cs{constructor(e,n=e){super(An("mask",e),n)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return tf("svg [mask*="+this.id()+"]")}}bt({Container:{mask:Sn(function(){return this.defs().put(new ZE)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof ZE?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Vt(ZE,"Mask");class T4 extends wi{constructor(e,n=e){super(An("stop",e),n)}update(e){return(typeof e=="number"||e instanceof dt)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new dt(e.offset)),this}}bt({Gradient:{stop:function(t,e,n){return this.put(new T4).update(t,e,n)}}}),Vt(T4,"Stop");class JE extends wi{constructor(e,n=e){super(An("style",e),n)}addText(e=""){return this.node.textContent+=e,this}font(e,n,r={}){return this.rule("@font-face",{fontFamily:e,src:n,...r})}rule(e,n){return this.addText(function(r,i){if(!r)return"";if(!i)return r;let s=r+"{";for(const a in i)s+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+i[a]+";";return s+="}",s}(e,n))}}bt("Dom",{style(t,e){return this.put(new JE).rule(t,e)},fontface(t,e,n){return this.put(new JE).font(t,e,n)}}),Vt(JE,"Style");class eT extends Ja{constructor(e,n=e){super(An("textPath",e),n)}array(){const e=this.track();return e?e.array():null}plot(e){const n=this.track();let r=null;return n&&(r=n.plot(e)),e==null?r:this}track(){return this.reference("href")}}bt({Container:{textPath:Sn(function(t,e){return t instanceof Ja||(t=this.text(t)),t.path(e)})},Text:{path:Sn(function(t,e=!0){const n=new eT;let r;if(t instanceof xp||(t=this.defs().path(t)),n.attr("href","#"+t,im),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:Sn(function(t){return t instanceof Ja||(t=new Ja().addTo(this.parent()).text(t)),t.path(this)}),targets(){return tf("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),eT.prototype.MorphArray=Za,Vt(eT,"TextPath");class P4 extends Js{constructor(e,n=e){super(An("use",e),n)}use(e,n){return this.attr("href",(n||"")+"#"+e,im)}}bt({Container:{use:Sn(function(t,e){return this.put(new P4).use(t,e)})}}),Vt(P4,"Use");const KOe=ts;nt([hO,fO,l_,ix,c_],ds("viewbox")),nt([jd,Fd,Ld,xp],ds("marker")),nt(Ja,ds("Text")),nt(xp,ds("Path")),nt(mC,ds("Defs")),nt([Ja,d_],ds("Tspan")),nt([u_,o_,iv,Xs],ds("radius")),nt(Ib,ds("EventTarget")),nt($u,ds("Dom")),nt(wi,ds("Element")),nt(Js,ds("Shape")),nt([cs,JQ],ds("Container")),nt(iv,ds("Gradient")),nt(Xs,ds("Runner")),Rh.extend([...new Set(LQ)]),function(t=[]){dO.push(...[].concat(t))}([dt,fn,pr,Ke,Mh,Bu,Za,nn]),nt(dO,{to(t){return new wd().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){return this.fromArray(t.map(function(s,a){return r.step(s,e[a],n,i[a],i)}))}});class Rn extends wi{constructor(e){super(An("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,n){return!(e=super.put(e,n)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return tf('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class wD extends wi{constructor(e,n){super(e,n),this.result(this.id())}in(e){if(e==null){const n=this.attr("in");return this.parent()&&this.parent().find(`[result="${n}"]`)[0]||n}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const ra=t=>function(...e){for(let n=t.length;n--;)e[n]!=null&&this.attr(t[n],e[n])},QOe={blend:ra(["in","in2","mode"]),colorMatrix:ra(["type","values"]),composite:ra(["in","in2","operator"]),convolveMatrix:function(t){t=new Mh(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:ra(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ra(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ra(["in","dx","dy","stdDeviation"]),flood:ra(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,im)},morphology:ra(["operator","radius"]),offset:ra(["dx","dy"]),specularLighting:ra(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ra([]),turbulence:ra(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=nm(t),n=QOe[t];Rn[e+"Effect"]=class extends wD{constructor(r){super(An("fe"+e,r),r)}update(r){return n.apply(this,r),this}},Rn.prototype[t]=Sn(function(r,...i){const s=new Rn[e+"Effect"];return r==null?this.put(s):(typeof r=="function"?r.call(s,s):i.unshift(r),this.put(s).update(i))})}),nt(Rn,{merge(t){const e=this.put(new Rn.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(n=>{n instanceof Rn.MergeNode?e.put(n):e.mergeNode(n)}),e)},componentTransfer(t={}){const e=this.put(new Rn.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const n in t)e.add(new Rn["Func"+n.toUpperCase()](t[n]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=nm(t);Rn[e]=class extends wD{constructor(n){super(An("fe"+e,n),n)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=Rn[nm(t)],n=Sn(function(){return this.put(new e)});Rn.ComponentTransferEffect.prototype[t]=n});["distantLight","pointLight","spotLight"].forEach(t=>{const e=Rn[nm(t)],n=Sn(function(){return this.put(new e)});Rn.DiffuseLightingEffect.prototype[t]=n,Rn.SpecularLightingEffect.prototype[t]=n}),nt(Rn.MergeEffect,{mergeNode(t){return this.put(new Rn.MergeNode).attr("in",t)}}),nt(mC,{filter:function(t){const e=this.put(new Rn);return typeof t=="function"&&t.call(e,e),e}}),nt(cs,{filter:function(t){return this.defs().filter(t)}}),nt(wi,{filterWith:function(t){const e=t instanceof Rn?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const ZOe={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,n,r){return this.parent()&&this.parent().diffuseLighting(t,n,r).in(this)},displacementMap:function(t,e,n,r){return this.parent()&&this.parent().displacementMap(this,t,e,n,r)},dropShadow:function(t,e,n){return this.parent()&&this.parent().dropShadow(this,t,e,n).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,n,r,i){return this.parent()&&this.parent().specularLighting(t,n,r,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,n,r,i){return this.parent()&&this.parent().turbulence(t,e,n,r,i).in(this)}};nt(wD,ZOe),nt(Rn.MergeEffect,{in:function(t){return t instanceof Rn.MergeNode?this.add(t,0):this.add(new Rn.MergeNode().in(t),0),this}}),nt([Rn.CompositeEffect,Rn.BlendEffect,Rn.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),Rn.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var gi=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"getDefaultFilter",value:function(e,n){var r=this.w;e.unfilter(!0),new Rn().size("120%","180%","-5%","-40%"),r.config.chart.dropShadow.enabled&&this.dropShadow(e,r.config.chart.dropShadow,n)}},{key:"applyFilter",value:function(e,n,r){var i,s=this,a=this.w;if(e.unfilter(!0),r!=="none"){var o,l,c=a.config.chart.dropShadow,u=r==="lighten"?2:.3;e.filterWith(function(d){d.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(d,n,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,n)}},{key:"addShadow",value:function(e,n,r,i){var s,a=this.w,o=r.blur,l=r.top,c=r.left,u=r.color,d=r.opacity;if(u=Array.isArray(u)?u[n]:u,((s=a.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(n)===-1)return e;e.offset({in:i,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":d,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,n){var r,i,s,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),G.isMsEdge()&&u.config.chart.type==="radialBar"||((r=u.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(d){l.addShadow(d,c,n,"SourceGraphic")}),n.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,n,r){var i=this.w;if(i.globals.selectedDataPoints[n]!==void 0&&i.globals.selectedDataPoints[n].indexOf(r)>-1){e.node.setAttribute("selected",!0);var s=i.config.states.active.filter;s!=="none"&&this.applyFilter(e,n,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(n){for(var r in n)n.hasOwnProperty(r)&&e.setAttribute(r,n[r])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),ue=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"roundPathCorners",value:function(e,n){function r(k,E,T){var P=E.x-k.x,N=E.y-k.y,O=Math.sqrt(P*P+N*N);return i(k,E,Math.min(1,T/O))}function i(k,E,T){return{x:k.x+(E.x-k.x)*T,y:k.y+(E.y-k.y)*T}}function s(k,E){k.length>2&&(k[k.length-2]=E.x,k[k.length-1]=E.y)}function a(k){return{x:parseFloat(k[k.length-2]),y:parseFloat(k[k.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(k,E){var T=E.match(/^([a-zA-Z])(.+)/);return T?(k.push(T[1]),k.push(T[2])):k.push(E),k},[]).reduce(function(k,E){return parseFloat(E)==E&&k.length?k[k.length-1].push(E):k.push([E]),k},[]),l=[];if(o.length>1){var c=a(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var d=1;d<o.length;d++){var h=l[l.length-1],f=o[d],g=f==u?o[1]:o[d+1];if(g&&h&&h.length>2&&f[0]=="L"&&g.length>2&&g[0]=="L"){var p,y,v=a(h),x=a(f),b=a(g);p=r(x,v,n),y=r(x,b,n),s(f,p),f.origPoint=x,l.push(f);var _=i(p,x,.5),w=i(x,y,.5),C=["C",_.x,_.y,w.x,w.y,y.x,y.y];C.origPoint=x,l.push(C)}else l.push(f)}if(u){var A=a(l[l.length-1]);l.push(["Z"]),s(l[0],A)}}else l=o;return l.reduce(function(k,E){return k+E.join(" ")+" "},"")}},{key:"drawLine",value:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:n,x2:r,y2:i,stroke:s,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:n,width:r>0?r:0,height:i>0?i:0,rx:s,ry:s,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:n,"stroke-width":r})}},{key:"drawCircle",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var r=this.w.globals.dom.Paper.circle(2*e);return n!==null&&r.attr(n),r}},{key:"drawPath",value:function(e){var n=e.d,r=n===void 0?"":n,i=e.stroke,s=i===void 0?"#a8a8a8":i,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,d=e.strokeOpacity,h=d===void 0?1:d,f=e.classes,g=e.strokeLinecap,p=g===void 0?null:g,y=e.strokeDashArray,v=y===void 0?0:y,x=this.w;return p===null&&(p=x.config.stroke.lineCap),(r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r="M 0 ".concat(x.globals.gridHeight)),x.globals.dom.Paper.path(r).attr({fill:l,"fill-opacity":u,stroke:s,"stroke-opacity":h,"stroke-linecap":p,"stroke-width":o,"stroke-dasharray":v,class:f})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this.w.globals.dom.Paper.group();return e!==null&&n.attr(e),n}},{key:"move",value:function(e,n){var r=["M",e,n].join(" ");return r}},{key:"line",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return r===null?i=[" L",e,n].join(" "):r==="H"?i=[" H",e].join(" "):r==="V"&&(i=[" V",n].join(" ")),i}},{key:"curve",value:function(e,n,r,i,s,a){var o=["C",e,n,r,i,s,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,n,r,i){return["Q",e,n,r,i].join(" ")}},{key:"arc",value:function(e,n,r,i,s,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,n,r,i,s,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var n,r=e.j,i=e.realIndex,s=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,d=e.animationDelay,h=e.initialSpeed,f=e.dataChangeSpeed,g=e.className,p=e.chartType,y=e.shouldClipToGrid,v=y===void 0||y,x=e.bindEventsOnPaths,b=x===void 0||x,_=e.drawShadow,w=_===void 0||_,C=this.w,A=new gi(this.ctx),k=new tm(this.ctx),E=this.w.config.chart.animations.enabled,T=E&&this.w.config.chart.animations.dynamicAnimation.enabled;if(s&&s.startsWith("M 0 0")&&a){var P=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);P&&(s=s.replace(/^M\s+0\s+0/,P[0]))}var N=!!(E&&!C.globals.resized||T&&C.globals.dataChanged&&C.globals.shouldAnimate);N?n=s:(n=a,C.globals.animationEnded=!0);var O=C.config.stroke.dashArray,L=0;L=Array.isArray(O)?O[i]:C.config.stroke.dashArray;var $=this.drawPath({d:n,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:g,strokeLinecap:c,strokeDashArray:L});$.attr("index",i),v&&(p==="bar"&&!C.globals.isHorizontal||C.globals.comboCharts?$.attr({"clip-path":"url(#gridRectBarMask".concat(C.globals.cuid,")")}):$.attr({"clip-path":"url(#gridRectMask".concat(C.globals.cuid,")")})),C.config.chart.dropShadow.enabled&&w&&A.dropShadow($,C.config.chart.dropShadow,i),b&&($.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,$)),$.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,$)),$.node.addEventListener("mousedown",this.pathMouseDown.bind(this,$))),$.attr({pathTo:a,pathFrom:s});var F={el:$,j:r,realIndex:i,pathFrom:s,pathTo:a,fill:u,strokeWidth:l,delay:d};return!E||C.globals.resized||C.globals.dataChanged?!C.globals.resized&&C.globals.dataChanged||k.showDelayedElements():k.animatePathsGradually(ve(ve({},F),{},{speed:h})),C.globals.dataChanged&&T&&N&&k.animatePathsGradually(ve(ve({},F),{},{speed:f})),$}},{key:"drawPattern",value:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(n,r,function(a){e==="horizontalLines"?a.line(0,0,r,0).stroke({color:i,width:s+1}):e==="verticalLines"?a.line(0,0,0,n).stroke({color:i,width:s+1}):e==="slantedLines"?a.line(0,0,n,r).stroke({color:i,width:s}):e==="squares"?a.rect(n,r).fill("none").stroke({color:i,width:s}):e==="circles"&&a.circle(n).fill("none").stroke({color:i,width:s})})}},{key:"drawGradient",value:function(e,n,r,i,s){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,d=this.w;n.length<9&&n.indexOf("#")===0&&(n=G.hexToRgba(n,i)),r.length<9&&r.indexOf("#")===0&&(r=G.hexToRgba(r,s));var h=0,f=1,g=1,p=null;l!==null&&(h=l[0]!==void 0?l[0]/100:0,f=l[1]!==void 0?l[1]/100:1,g=l[2]!==void 0?l[2]/100:1,p=l[3]!==void 0?l[3]/100:null);var y=!(d.config.chart.type!=="donut"&&d.config.chart.type!=="pie"&&d.config.chart.type!=="polarArea"&&d.config.chart.type!=="bubble");if(a=c&&c.length!==0?d.globals.dom.Paper.gradient(y?"radial":"linear",function(b){(Array.isArray(c[u])?c[u]:c).forEach(function(_){b.stop(_.offset/100,_.color,_.opacity)})}):d.globals.dom.Paper.gradient(y?"radial":"linear",function(b){b.stop(h,n,i),b.stop(f,r,s),b.stop(g,r,s),p!==null&&b.stop(p,n,i)}),y){var v=d.globals.gridWidth/2,x=d.globals.gridHeight/2;d.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:v,cy:x,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var n=e.text,r=e.maxWidth,i=e.fontSize,s=e.fontFamily,a=this.getTextRects(n,i,s),o=a.width/n.length,l=Math.floor(r/o);return r<a.width?n.slice(0,l-3)+"...":n}},{key:"drawText",value:function(e){var n=this,r=e.x,i=e.y,s=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,d=e.opacity,h=e.maxWidth,f=e.cssClass,g=f===void 0?"":f,p=e.isPlainText,y=p===void 0||p,v=e.dominantBaseline,x=v===void 0?"auto":v,b=this.w;s===void 0&&(s="");var _=s;a||(a="start"),u&&u.length||(u=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,c=c||"regular";var w,C={maxWidth:h,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(s)?w=b.globals.dom.Paper.text(function(A){for(var k=0;k<s.length;k++)_=s[k],h&&(_=n.getTextBasedOnMaxWidth(ve({text:s[k]},C))),k===0?A.tspan(_):A.tspan(_).newLine()}):(h&&(_=this.getTextBasedOnMaxWidth(ve({text:s},C))),w=y?b.globals.dom.Paper.plain(s):b.globals.dom.Paper.text(function(A){return A.tspan(_)})),w.attr({x:r,y:i,"text-anchor":a,"dominant-baseline":x,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+g}),w.node.style.fontFamily=l,w.node.style.opacity=d,w}},{key:"getMarkerPath",value:function(e,n,r,i){var s="";switch(r){case"cross":s="M ".concat(e-(i/=1.4)," ").concat(n-i," L ").concat(e+i," ").concat(n+i,"  M ").concat(e-i," ").concat(n+i," L ").concat(e+i," ").concat(n-i);break;case"plus":s="M ".concat(e-(i/=1.12)," ").concat(n," L ").concat(e+i," ").concat(n,"  M ").concat(e," ").concat(n-i," L ").concat(e," ").concat(n+i);break;case"star":case"sparkle":var a=5;i*=1.15,r==="sparkle"&&(i/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,u=l%2==0?i:i/2;s+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(n-u*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(n-i,` 
             L `).concat(e+i," ").concat(n+i,` 
             L `).concat(e-i," ").concat(n+i,` 
             Z`);break;case"square":case"rect":s="M ".concat(e-(i/=1.125)," ").concat(n-i,` 
           L `).concat(e+i," ").concat(n-i,` 
           L `).concat(e+i," ").concat(n+i,` 
           L `).concat(e-i," ").concat(n+i,` 
           Z`);break;case"diamond":i*=1.05,s="M ".concat(e," ").concat(n-i,` 
             L `).concat(e+i," ").concat(n,` 
             L `).concat(e," ").concat(n+i,` 
             L `).concat(e-i," ").concat(n,` 
            Z`);break;case"line":s="M ".concat(e-(i/=1.1)," ").concat(n,` 
           L `).concat(e+i," ").concat(n);break;default:i*=2,s="M ".concat(e,", ").concat(n,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return s}},{key:"drawMarkerShape",value:function(e,n,r,i,s){var a=this.drawPath({d:this.getMarkerPath(e,n,r,i,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return a.attr({cx:e,cy:n,shape:s.shape,class:s.class?s.class:""}),a}},{key:"drawMarker",value:function(e,n,r){e=e||0;var i=r.pSize||0;return G.isNumber(n)||(i=0,n=0),this.drawMarkerShape(e,n,r==null?void 0:r.shape,i,ve(ve({},r),r.shape==="line"||r.shape==="plus"||r.shape==="cross"?{pointStrokeColor:r.pointFillColor,pointStrokeOpacity:r.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,n){var r=this.w,i=new gi(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof r.config.chart.events.dataPointMouseEnter=="function"&&r.config.chart.events.dataPointMouseEnter(n,this.ctx,{seriesIndex:s,dataPointIndex:a,w:r}),this.ctx.events.fireEvent("dataPointMouseEnter",[n,this.ctx,{seriesIndex:s,dataPointIndex:a,w:r}]),(r.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&r.config.states.hover.filter.type!=="none"&&!r.globals.isTouchDevice){var o=r.config.states.hover.filter;i.applyFilter(e,s,o.type)}}},{key:"pathMouseLeave",value:function(e,n){var r=this.w,i=new gi(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof r.config.chart.events.dataPointMouseLeave=="function"&&r.config.chart.events.dataPointMouseLeave(n,this.ctx,{seriesIndex:s,dataPointIndex:a,w:r}),this.ctx.events.fireEvent("dataPointMouseLeave",[n,this.ctx,{seriesIndex:s,dataPointIndex:a,w:r}]),r.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||r.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,n){var r=this.w,i=new gi(this.ctx),s=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),r.globals.selectedDataPoints[s].indexOf(a)>-1){var l=r.globals.selectedDataPoints[s].indexOf(a);r.globals.selectedDataPoints[s].splice(l,1)}}else{if(!r.config.states.active.allowMultipleDataPointsSelection&&r.globals.selectedDataPoints.length>0){r.globals.selectedDataPoints=[];var c=r.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=r.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),d=function(g){Array.prototype.forEach.call(g,function(p){p.node.setAttribute("selected","false"),i.getDefaultFilter(p,s)})};d(c),d(u)}e.node.setAttribute("selected","true"),o="true",r.globals.selectedDataPoints[s]===void 0&&(r.globals.selectedDataPoints[s]=[]),r.globals.selectedDataPoints[s].push(a)}if(o==="true"){var h=r.config.states.active.filter;if(h!=="none")i.applyFilter(e,s,h.type);else if(r.config.states.hover.filter!=="none"&&!r.globals.isTouchDevice){var f=r.config.states.hover.filter;i.applyFilter(e,s,f.type)}}else r.config.states.active.filter.type!=="none"&&(r.config.states.hover.filter.type==="none"||r.globals.isTouchDevice?i.getDefaultFilter(e,s):(f=r.config.states.hover.filter,i.applyFilter(e,s,f.type)));typeof r.config.chart.events.dataPointSelection=="function"&&r.config.chart.events.dataPointSelection(n,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:r}),n&&this.ctx.events.fireEvent("dataPointSelection",[n,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:a,w:r}])}},{key:"rotateAroundCenter",value:function(e){var n={};return e&&typeof e.getBBox=="function"&&(n=e.getBBox()),{x:n.x+n.width/2,y:n.y+n.height/2}}},{key:"getTextRects",value:function(e,n,r,i){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:n,fontFamily:r,foreColor:"#fff",opacity:0});i&&o.attr("transform",i),a.globals.dom.Paper.add(o);var l=o.bbox();return s||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,n,r){if(typeof e.getComputedTextLength=="function"&&(e.textContent=n,n.length>0&&e.getComputedTextLength()>=r/1.1)){for(var i=n.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=r/1.1)return void(e.textContent=n.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,n){for(var r in n)n.hasOwnProperty(r)&&e.setAttribute(r,n[r])}}]),t}(),mr=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this.w,r=[];if(n.globals.series.length===0)return r;for(var i=0;i<n.globals.series[n.globals.maxValsInArrayIndex].length;i++){for(var s=0,a=0;a<n.globals.series.length;a++)n.globals.series[a][i]!==void 0&&e.indexOf(a)===-1&&(s+=n.globals.series[a][i]);r.push(s)}return r}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(n,r){return n+r},0):this.w.globals.series[e].reduce(function(n,r){return n+r},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,n=this.w,r=[];return n.globals.seriesGroups.forEach(function(i){var s=[];n.config.series.forEach(function(o,l){i.indexOf(n.globals.seriesNames[l])>-1&&s.push(l)});var a=n.globals.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});r.push(e.getStackedSeriesTotals(a))}),r}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,n=this.w.config,r=[],i=[],s=[],a=e.series.length>n.yaxis.length||n.yaxis.some(function(d){return Array.isArray(d.seriesName)});n.series.forEach(function(d,h){s.push(h),i.push(null)}),n.yaxis.forEach(function(d,h){r[h]=[]});var o=[];n.yaxis.forEach(function(d,h){var f=!1;if(d.seriesName){var g=[];Array.isArray(d.seriesName)?g=d.seriesName:g.push(d.seriesName),g.forEach(function(p){n.series.forEach(function(y,v){if(y.name===p){var x=v;h===v||a?!a||s.indexOf(v)>-1?r[h].push([h,v]):console.warn("Series '"+y.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(r[v].push([v,h]),x=h),f=!0,(x=s.indexOf(x))!==-1&&s.splice(x,1)}})})}f||o.push(h)}),r=r.map(function(d,h){var f=[];return d.forEach(function(g){i[g[1]]=g[0],f.push(g[1])}),f});for(var l=n.yaxis.length-1,c=0;c<o.length&&(l=o[c],r[l]=[],s);c++){var u=s[0];s.shift(),r[l].push(u),i[u]=l}s.forEach(function(d){r[l].push(d),i[d]=l}),e.seriesYAxisMap=r.map(function(d){return d}),e.seriesYAxisReverseMap=i.map(function(d){return d}),e.seriesYAxisMap.forEach(function(d,h){d.forEach(function(f){n.series[f]&&n.series[f].group===void 0&&(n.series[f].group="apexcharts-axis-".concat(h.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(n){return n!==null}):this.w.config.series[e].data.filter(function(n){return n!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(n,r,i){return n===i[0]})}},{key:"getCategoryLabels",value:function(e){var n=this.w,r=e.slice();return n.config.xaxis.convertedCatToNumeric&&(r=e.map(function(i,s){return n.config.xaxis.labels.formatter(i-n.globals.minX+1)})),r}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(n){return n.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(n){return n.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,n=0;return e.globals.markers.size.forEach(function(r){n=Math.max(n,r)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(r){n=Math.max(n,r.size)}),n>0&&(e.config.markers.hover.size>0?n=e.config.markers.hover.size:n+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=n,n}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(n,r){var i=0;if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=n[s];else i+=n;return i})}},{key:"getSeriesTotalsXRange",value:function(e,n){var r=this.w;return r.globals.series.map(function(i,s){for(var a=0,o=0;o<i.length;o++)r.globals.seriesX[s][o]>e&&r.globals.seriesX[s][o]<n&&(a+=i[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(n,r){var i=[];if(Array.isArray(n))for(var s=0;s<n.length;s++){var a=e.globals.stackedSeriesTotals[s],o=0;a&&(o=100*n[s]/a),i.push(o)}else{var l=100*n/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);i.push(l)}return i})}},{key:"getCalculatedRatios",value:function(){var e,n,r,i=this,s=this.w,a=s.globals,o=[],l=0,c=[],u=.1,d=0;if(a.yRange=[],a.isMultipleYAxis)for(var h=0;h<a.minYArr.length;h++)a.yRange.push(Math.abs(a.minYArr[h]-a.maxYArr[h])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var f=0;f<a.yRange.length;f++)o.push(a.yRange[f]/a.gridHeight);if(n=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,r=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var g=function(y,v){var x=s.config.yaxis[s.globals.seriesYAxisReverseMap[v]],b=y<0?-1:1;return y=Math.abs(y),x.logarithmic&&(y=i.getBaseLog(x.logBase,y)),-b*y/o[v]};if(a.isMultipleYAxis){c=[];for(var p=0;p<o.length;p++)c.push(g(a.minYArr[p],p))}else(c=[]).push(g(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(u=-a.minY/e,d=a.minX/n)}else(c=[]).push(0),u=0,d=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:n,invertedXRatio:r,baseLineInvertedY:u,baseLineY:c,baseLineX:d}}},{key:"getLogSeries",value:function(e){var n=this,r=this.w;return r.globals.seriesLog=e.map(function(i,s){var a=r.globals.seriesYAxisReverseMap[s];return r.config.yaxis[a]&&r.config.yaxis[a].logarithmic?i.map(function(o){return o===null?null:n.getLogVal(r.config.yaxis[a].logBase,o,s)}):i}),r.globals.invalidLogScale?e:r.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,n){if(e===null)return null;var r=this.w,i=r.globals.seriesYAxisReverseMap[n];return r.config.yaxis[i]&&r.config.yaxis[i].logarithmic?this.getLogVal(r.config.yaxis[i].logBase,e,n):e}},{key:"getBaseLog",value:function(e,n){return Math.log(n)/Math.log(e)}},{key:"getLogVal",value:function(e,n,r){if(n<=0)return 0;var i=this.w,s=i.globals.minYArr[r]===0?-1:this.getBaseLog(e,i.globals.minYArr[r]),a=(i.globals.maxYArr[r]===0?0:this.getBaseLog(e,i.globals.maxYArr[r]))-s;return n<1?n/a:(this.getBaseLog(e,n)-s)/a}},{key:"getLogYRatios",value:function(e){var n=this,r=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(s,a){var o=r.globals.seriesYAxisReverseMap[a];if(r.config.yaxis[o]&&n.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return i.seriesLog.forEach(function(d,h){d.forEach(function(f){r.config.yaxis[h]&&r.config.yaxis[h].logarithmic&&(c=Math.max(f,c),u=Math.min(f,u))})}),l=Math.pow(i.yRange[a],Math.abs(u-c)/i.yRange[a]),i.yLogRatio[a]=l/i.gridHeight,l}}),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,n,r,i){var s=this.w,a=[];return e.series.length>0&&n.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,d){s.config.series[u].group===o&&(l.push(e.series[d]),c.push(u))}),l.length>0&&a.push(i.draw(l,r,c))}),a}}],[{key:"checkComboSeries",value:function(e,n){var r=!1,i=0,s=0;return n===void 0&&(n="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||i++,a.type!==void 0&&a.type!==n&&s++}),s>0&&(r=!0),{comboBarCount:i,comboCharts:r}}},{key:"extendArrayProps",value:function(e,n,r){var i,s,a,o,l,c;return(i=n)!==null&&i!==void 0&&i.yaxis&&(n=e.extendYAxis(n,r)),(s=n)!==null&&s!==void 0&&s.annotations&&(n.annotations.yaxis&&(n=e.extendYAxisAnnotations(n)),(a=n)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(n=e.extendXAxisAnnotations(n)),(l=n)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(n=e.extendPointAnnotations(n))),n}}]),t}(),yC=function(){function t(e){Me(this,t),this.w=e.w,this.annoCtx=e}return De(t,[{key:"setOrientations",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.w;if(e.label.orientation==="vertical"){var i=n!==null?n:0,s=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(s!==null){var a=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,u=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,n){var r=this.w;if(!e||!n.label.text||!String(n.label.text).trim())return null;var i=r.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),a=n.label.style.padding,o=a.left,l=a.right,c=a.top,u=a.bottom;if(n.label.orientation==="vertical"){var d=[o,l,c,u];c=d[0],u=d[1],o=d[2],l=d[3]}var h=s.left-i.left-o,f=s.top-i.top-c,g=this.annoCtx.graphics.drawRect(h-r.globals.barPadForNumericAxis,f,s.width+o+l,s.height+c+u,n.label.borderRadius,n.label.style.background,1,n.label.borderWidth,n.label.borderColor,0);return n.id&&g.node.classList.add(n.id),g}},{key:"annotationsBackground",value:function(){var e=this,n=this.w,r=function(i,s,a){var o=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(s,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,i);c&&(l.insertBefore(c.node,o),i.label.mouseEnter&&c.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&c.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&c.node.addEventListener("click",i.label.click.bind(e,i)))}};n.config.annotations.xaxis.forEach(function(i,s){return r(i,s,"xaxis")}),n.config.annotations.yaxis.forEach(function(i,s){return r(i,s,"yaxis")}),n.config.annotations.points.forEach(function(i,s){return r(i,s,"point")})}},{key:"getY1Y2",value:function(e,n){var r,i=this.w,s=e==="y1"?n.y:n.y2,a=!1;if(this.annoCtx.invertAxis){var o=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,l=o.indexOf(s),c=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));r=c?parseFloat(c.getAttribute("y")):(i.globals.gridHeight/o.length-1)*(l+1)-i.globals.barHeight,n.seriesIndex!==void 0&&i.globals.barHeight&&(r-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*n.seriesIndex)}else{var u,d=i.globals.seriesYAxisMap[n.yAxisIndex][0],h=i.config.yaxis[n.yAxisIndex].logarithmic?new mr(this.annoCtx.ctx).getLogVal(i.config.yaxis[n.yAxisIndex].logBase,s,d)/i.globals.yLogRatio[d]:(s-i.globals.minYArr[d])/(i.globals.yRange[d]/i.globals.gridHeight);r=i.globals.gridHeight-Math.min(Math.max(h,0),i.globals.gridHeight),a=h>i.globals.gridHeight||h<0,!n.marker||n.y!==void 0&&n.y!==null||(r=0),(u=i.config.yaxis[n.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(r=h)}return typeof s=="string"&&s.includes("px")&&(r=parseFloat(s)),{yP:r,clipped:a}}},{key:"getX1X2",value:function(e,n){var r=this.w,i=e==="x1"?n.x:n.x2,s=this.annoCtx.invertAxis?r.globals.minY:r.globals.minX,a=this.annoCtx.invertAxis?r.globals.maxY:r.globals.maxX,o=this.annoCtx.invertAxis?r.globals.yRange[0]:r.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-i)/(o/r.globals.gridWidth):(i-s)/(o/r.globals.gridWidth);return r.config.xaxis.type!=="category"&&!r.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||r.globals.dataFormatXNumeric||r.config.chart.sparkline.enabled||(c=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(c=parseFloat(i)),i==null&&n.marker&&(c=r.globals.gridWidth),n.seriesIndex!==void 0&&r.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=r.globals.barWidth/2*(r.globals.series.length-1)-r.globals.barWidth*n.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(r.globals.gridWidth.toFixed(10))?(c=r.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var n=this.w,r=e;n.config.xaxis.convertedCatToNumeric&&n.globals.categoryLabels.length&&(e=n.globals.categoryLabels.indexOf(e)+1);var i=n.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return s&&(r=parseFloat(s.getAttribute("x"))),r}}]),t}(),JOe=function(){function t(e){Me(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new yC(this.annoCtx)}return De(t,[{key:"addXaxisAnnotation",value:function(e,n,r){var i,s=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,u=e.label.text,d=e.strokeDashArray;if(G.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var h=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,d,e.borderWidth);n.appendChild(h.node),e.id&&h.node.classList.add(e.id)}}else{var f=this.helpers.getX1X2("x2",e);if(i=f.x,c=f.clipped,i<o){var g=o;o=i,i=g}var p=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,i-o,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,d);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),n.appendChild(p.node),e.id&&p.node.classList.add(e.id)}if(!l||!c){var y=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),v=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?y.width/2:0):s.globals.gridHeight,x=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:v+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?y.width/2-12:-y.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:r}),n.appendChild(x.node),this.annoCtx.helpers.setOrientations(e,r)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,n=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return n.config.annotations.xaxis.map(function(i,s){e.addXaxisAnnotation(i,r.node,s)}),r}}]),t}(),hi=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return De(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var n=Date.parse(e);if(!isNaN(n))return this.getTimeStamp(e);var r=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return r=this.getTimeStamp(r)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,n){var r=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(Wr(r.months)),a=[""].concat(Wr(r.shortMonths)),o=[""].concat(Wr(r.days)),l=[""].concat(Wr(r.shortDays));function c(k,E){var T=k+"";for(E=E||2;T.length<E;)T="0"+T;return T}var u=i?e.getUTCFullYear():e.getFullYear();n=(n=(n=n.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var d=(i?e.getUTCMonth():e.getMonth())+1;n=(n=(n=(n=n.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(d))).replace(/(^|[^\\])M/g,"$1"+d);var h=i?e.getUTCDate():e.getDate();n=(n=(n=(n=n.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(h))).replace(/(^|[^\\])d/g,"$1"+h);var f=i?e.getUTCHours():e.getHours(),g=f>12?f-12:f===0?12:f;n=(n=(n=(n=n.replace(/(^|[^\\])HH+/g,"$1"+c(f))).replace(/(^|[^\\])H/g,"$1"+f)).replace(/(^|[^\\])hh+/g,"$1"+c(g))).replace(/(^|[^\\])h/g,"$1"+g);var p=i?e.getUTCMinutes():e.getMinutes();n=(n=n.replace(/(^|[^\\])mm+/g,"$1"+c(p))).replace(/(^|[^\\])m/g,"$1"+p);var y=i?e.getUTCSeconds():e.getSeconds();n=(n=n.replace(/(^|[^\\])ss+/g,"$1"+c(y))).replace(/(^|[^\\])s/g,"$1"+y);var v=i?e.getUTCMilliseconds():e.getMilliseconds();n=n.replace(/(^|[^\\])fff+/g,"$1"+c(v,3)),v=Math.round(v/10),n=n.replace(/(^|[^\\])ff/g,"$1"+c(v)),v=Math.round(v/10);var x=f<12?"AM":"PM";n=(n=(n=n.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+x)).replace(/(^|[^\\])T/g,"$1"+x.charAt(0));var b=x.toLowerCase();n=(n=n.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var _=-e.getTimezoneOffset(),w=i||!_?"Z":_>0?"+":"-";if(!i){var C=(_=Math.abs(_))%60;w+=c(Math.floor(_/60))+":"+c(C)}n=n.replace(/(^|[^\\])K/g,"$1"+w);var A=(i?e.getUTCDay():e.getDay())+1;return n=(n=(n=(n=(n=n.replace(new RegExp(o[0],"g"),o[A])).replace(new RegExp(l[0],"g"),l[A])).replace(new RegExp(s[0],"g"),s[d])).replace(new RegExp(a[0],"g"),a[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,n,r){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(n=i.config.xaxis.max);var s=this.getDate(e),a=this.getDate(n),o=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,n,r){return this.determineDaysOfMonths(e,n)-r}},{key:"determineDaysOfYear",value:function(e){var n=365;return this.isLeapYear(e)&&(n=366),n}},{key:"determineRemainingDaysOfYear",value:function(e,n,r){var i=this.daysCntOfYear[n]+r;return n>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,n){var r=30;switch(e=G.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(r=this.isLeapYear(n)?29:28);break;case this.months31.indexOf(e)>-1:default:r=31}return r}}]),t}(),Nb=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return De(t,[{key:"xLabelFormat",value:function(e,n,r,i){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var a=new hi(this.ctx);return a.formatDate(a.getDate(n),s.config.tooltip.x.format)}return e(n,r,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(n){return n}):e}},{key:"defaultYFormatter",value:function(e,n,r){var i=this.w;if(G.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(n.decimalsInFloat!==void 0?n.decimalsInFloat:i.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,n=this.w;return n.globals.xaxisTooltipFormatter=function(r){return e.defaultGeneralFormatter(r)},n.globals.ttKeyFormatter=function(r){return e.defaultGeneralFormatter(r)},n.globals.ttZFormatter=function(r){return r},n.globals.legendFormatter=function(r){return e.defaultGeneralFormatter(r)},n.config.xaxis.labels.formatter!==void 0?n.globals.xLabelFormatter=n.config.xaxis.labels.formatter:n.globals.xLabelFormatter=function(r){if(G.isNumber(r)){if(!n.config.xaxis.convertedCatToNumeric&&n.config.xaxis.type==="numeric"){if(G.isNumber(n.config.xaxis.decimalsInFloat))return r.toFixed(n.config.xaxis.decimalsInFloat);var i=n.globals.maxX-n.globals.minX;return i>0&&i<100?r.toFixed(1):r.toFixed(0)}return n.globals.isBarHorizontal&&n.globals.maxY-n.globals.minYArr<4?r.toFixed(1):r.toFixed(0)}return r},typeof n.config.tooltip.x.formatter=="function"?n.globals.ttKeyFormatter=n.config.tooltip.x.formatter:n.globals.ttKeyFormatter=n.globals.xLabelFormatter,typeof n.config.xaxis.tooltip.formatter=="function"&&(n.globals.xaxisTooltipFormatter=n.config.xaxis.tooltip.formatter),(Array.isArray(n.config.tooltip.y)||n.config.tooltip.y.formatter!==void 0)&&(n.globals.ttVal=n.config.tooltip.y),n.config.tooltip.z.formatter!==void 0&&(n.globals.ttZFormatter=n.config.tooltip.z.formatter),n.config.legend.formatter!==void 0&&(n.globals.legendFormatter=n.config.legend.formatter),n.config.yaxis.forEach(function(r,i){r.labels.formatter!==void 0?n.globals.yLabelFormatters[i]=r.labels.formatter:n.globals.yLabelFormatters[i]=function(s){return n.globals.xyCharts?Array.isArray(s)?s.map(function(a){return e.defaultYFormatter(a,r,i)}):e.defaultYFormatter(s,r,i):s}}),n.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var n=e.globals.seriesNames.reduce(function(r,i){return r.length>i.length?r:i},0);e.globals.yAxisScale[0].niceMax=n,e.globals.yAxisScale[0].niceMin=n}}}]),t}(),zu=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"getLabel",value:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[i]===void 0?"":e[i],u=c,d=l.globals.xLabelFormatter,h=l.config.xaxis.labels.formatter,f=!1,g=new Nb(this.ctx),p=c;o&&(u=g.xLabelFormat(d,c,p,{i,dateFormatter:new hi(this.ctx).formatDate,w:l}),h!==void 0&&(u=h(c,e[i],{i,dateFormatter:new hi(this.ctx).formatDate,w:l})));var y,v;n.length>0?(y=n[i].unit,v=null,n.forEach(function(w){w.unit==="month"?v="year":w.unit==="day"?v="month":w.unit==="hour"?v="day":w.unit==="minute"&&(v="hour")}),f=v===y,r=n[i].position,u=n[i].value):l.config.xaxis.type==="datetime"&&h===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var x=new ue(this.ctx),b={};b=l.globals.rotateXLabels&&o?x.getTextRects(u,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):x.getTextRects(u,parseInt(a,10));var _=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&_)&&(u=""),{x:r,text:u,textRect:b,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(e,n,r){var i=this.w,s=i.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(i.globals.gridWidth/120)),s>r||e%Math.round(r/(s+1))==0||(n.text=""),n}},{key:"checkForOverflowingLabels",value:function(e,n,r,i,s){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(n.text=""),e===r-1&&a.globals.skipLastTimelinelabel&&(n.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var o=s[s.length-1];n.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(n.text="")}return n}},{key:"checkForReversedLabels",value:function(e,n){var r=this.w;return r.config.yaxis[e]&&r.config.yaxis[e].reversed&&n.reverse(),n}},{key:"yAxisAllSeriesCollapsed",value:function(e){var n=this.w.globals;return!n.seriesYAxisMap[e].some(function(r){return n.collapsedSeriesIndices.indexOf(r)===-1})}},{key:"translateYAxisIndex",value:function(e){var n=this.w,r=n.globals,i=n.config.yaxis;return r.series.length>i.length||i.some(function(s){return Array.isArray(s.seriesName)})?e:r.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var n=this.w,r=n.config.yaxis[e];if(!r.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!r.showForNullSeries){var i=n.globals.seriesYAxisMap[e],s=new mr(this.ctx);return i.every(function(a){return s.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,n){var r=this.w;return Array.isArray(e)&&r.globals.yAxisScale[n]&&this.ctx.theme.pushExtraColors(e,r.globals.yAxisScale[n].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,n,r,i,s,a,o){var l=this.w,c=new ue(this.ctx),u=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=a/2),i.show&&n>0){l.config.yaxis[s].opposite===!0&&(e+=i.width);for(var d=n;d>=0;d--){var h=c.drawLine(e+r.offsetX-i.width+i.offsetX,u+i.offsetY,e+r.offsetX+i.offsetX,u+i.offsetY,i.color);o.add(h),u+=a}}}}]),t}(),eNe=function(){function t(e){Me(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new yC(this.annoCtx),this.axesUtils=new zu(this.annoCtx)}return De(t,[{key:"addYaxisAnnotation",value:function(e,n,r){var i,s=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,d=!1,h=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){d=!0;var f=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);n.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{if(i=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,i>l){var g=l;l=i,i=g}if(!c||!u){d=!0;var p=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),l-i,0,e.fillColor,e.opacity,1,e.borderColor,a);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),n.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}if(d){var y=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,v=this.annoCtx.graphics.drawText({x:y+e.label.offsetX,y:(i??l)+e.label.offsetY-3,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:r}),n.appendChild(v.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var n=this.w;return n.globals.gridWidth,(e.width.indexOf("%")>-1?n.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,n=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return n.config.annotations.yaxis.forEach(function(i,s){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,r.node,s)}),r}}]),t}(),tNe=function(){function t(e){Me(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new yC(this.annoCtx)}return De(t,[{key:"addPointAnnotation",value:function(e,n,r){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),s=i.x,a=i.clipped,o=(i=this.helpers.getY1Y2("y1",e)).yP,l=i.clipped;if(G.isNumber(s)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,o+e.marker.offsetY,c);n.appendChild(u.node);var d=e.label.text?e.label.text:"",h=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(h.attr({rel:r}),n.appendChild(h.node),e.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});f.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),f.node.innerHTML=e.customSVG.SVG,n.appendChild(f.node)}if(e.image.path){var g=e.image.width?e.image.width:20,p=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-g/2,y:o+e.image.offsetY-p/2,width:g,height:p,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,n=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return n.config.annotations.points.map(function(i,s){e.addPointAnnotation(i,r.node,s)}),r}}]),t}(),cZ={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Cd=function(){function t(){Me(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return De(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[cZ],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(n,r){return n+r},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(n,r){return n+r},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),nNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.graphics=new ue(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new yC(this),this.xAxisAnnotations=new JOe(this),this.yAxisAnnotations=new eNe(this),this.pointsAnnotations=new tNe(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return De(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var n=this.yAxisAnnotations.drawYAxisAnnotations(),r=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,a=[n,r,i],o=[r.node,n.node,i.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(n,r){e.addImage(n,r)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(n,r){e.addText(n,r)})}},{key:"addXaxisAnnotation",value:function(e,n,r){this.xAxisAnnotations.addXaxisAnnotation(e,n,r)}},{key:"addYaxisAnnotation",value:function(e,n,r){this.yAxisAnnotations.addYaxisAnnotation(e,n,r)}},{key:"addPointAnnotation",value:function(e,n,r){this.pointsAnnotations.addPointAnnotation(e,n,r)}},{key:"addText",value:function(e,n){var r=e.x,i=e.y,s=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,d=e.cssClass,h=e.backgroundColor,f=e.borderWidth,g=e.strokeDashArray,p=e.borderRadius,y=e.borderColor,v=e.appendTo,x=v===void 0?".apexcharts-svg":v,b=e.paddingLeft,_=b===void 0?4:b,w=e.paddingRight,C=w===void 0?4:w,A=e.paddingBottom,k=A===void 0?2:A,E=e.paddingTop,T=E===void 0?2:E,P=this.w,N=this.graphics.drawText({x:r,y:i,text:s,textAnchor:a||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||P.config.chart.fontFamily,foreColor:o||P.config.chart.foreColor,cssClass:d}),O=P.globals.dom.baseEl.querySelector(x);O&&O.appendChild(N.node);var L=N.bbox();if(s){var $=this.graphics.drawRect(L.x-_,L.y-T,L.width+_+C,L.height+k+T,p,h||"transparent",1,f,y,g);O.insertBefore($.node,N.node)}}},{key:"addImage",value:function(e,n){var r=this.w,i=e.path,s=e.x,a=s===void 0?0:s,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,d=e.height,h=d===void 0?20:d,f=e.appendTo,g=f===void 0?".apexcharts-svg":f,p=r.globals.dom.Paper.image(i);p.size(u,h).move(a,l);var y=r.globals.dom.baseEl.querySelector(g);return y&&y.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(e,n,r){return this.addAnnotationExternal({params:e,pushToMemory:n,context:r,type:"xaxis",contextMethod:r.addXaxisAnnotation}),r}},{key:"addYaxisAnnotationExternal",value:function(e,n,r){return this.addAnnotationExternal({params:e,pushToMemory:n,context:r,type:"yaxis",contextMethod:r.addYaxisAnnotation}),r}},{key:"addPointAnnotationExternal",value:function(e,n,r){return this.invertAxis===void 0&&(this.invertAxis=r.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:n,context:r,type:"point",contextMethod:r.addPointAnnotation}),r}},{key:"addAnnotationExternal",value:function(e){var n=e.params,r=e.pushToMemory,i=e.context,s=e.type,a=e.contextMethod,o=i,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=c.childNodes.length+1,d=new Cd,h=Object.assign({},s==="xaxis"?d.xAxisAnnotation:s==="yaxis"?d.yAxisAnnotation:d.pointAnnotation),f=G.extend(h,n);switch(s){case"xaxis":this.addXaxisAnnotation(f,c,u);break;case"yaxis":this.addYaxisAnnotation(f,c,u);break;case"point":this.addPointAnnotation(f,c,u)}var g=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),p=this.helpers.addBackgroundToAnno(g,f);return p&&c.insertBefore(p.node,g),r&&l.globals.memory.methodsToExec.push({context:o,id:f.id?f.id:G.randomId(),method:a,label:"addAnnotation",params:n}),i}},{key:"clearAnnotations",value:function(e){for(var n=e.w,r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=n.globals.memory.methodsToExec.length-1;i>=0;i--)n.globals.memory.methodsToExec[i].label!=="addText"&&n.globals.memory.methodsToExec[i].label!=="addAnnotation"||n.globals.memory.methodsToExec.splice(i,1);r=G.listToArray(r),Array.prototype.forEach.call(r,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,n){var r=e.w,i=r.globals.dom.baseEl.querySelectorAll(".".concat(n));i&&(r.globals.memory.methodsToExec.map(function(s,a){s.id===n&&r.globals.memory.methodsToExec.splice(a,1)}),Object.keys(r.config.annotations).forEach(function(s){var a=r.config.annotations[s];Array.isArray(a)&&(r.config.annotations[s]=a.filter(function(o){return o.id!==n}))}),Array.prototype.forEach.call(i,function(s){s.parentElement.removeChild(s)}))}}]),t}(),tT=function(t){var e,n=t.isTimeline,r=t.ctx,i=t.seriesIndex,s=t.dataPointIndex,a=t.y1,o=t.y2,l=t.w,c=l.globals.seriesRangeStart[i][s],u=l.globals.seriesRangeEnd[i][s],d=l.globals.labels[s],h=l.config.series[i].name?l.config.series[i].name:"",f=l.globals.ttKeyFormatter,g=l.config.tooltip.y.title.formatter,p={w:l,seriesIndex:i,dataPointIndex:s,start:c,end:u};typeof g=="function"&&(h=g(h,p)),(e=l.config.series[i].data[s])!==null&&e!==void 0&&e.x&&(d=l.config.series[i].data[s].x),n||l.config.xaxis.type==="datetime"&&(d=new Nb(r).xLabelFormat(l.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new hi(r).formatDate,w:l})),typeof f=="function"&&(d=f(d,p)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,u=o);var y="",v="",x=l.globals.colors[i];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new hi(r);y=b.formatDate(b.getDate(c),l.config.tooltip.x.format),v=b.formatDate(b.getDate(u),l.config.tooltip.x.format)}else y=c,v=u;else y=l.config.tooltip.x.formatter(c),v=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:y,endVal:v,ylabel:d,color:x,seriesName:h}},nT=function(t){var e=t.color,n=t.seriesName,r=t.ylabel,i=t.start,s=t.end,a=t.seriesIndex,o=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(a);i=l.yLbFormatter(i),s=l.yLbFormatter(s);var c=l.yLbFormatter(t.w.globals.series[a][o]),u=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(s,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(n||"")+'</span></div><div> <span class="category">'+r+": </span> "+(t.w.globals.comboCharts?t.w.config.series[a].type==="rangeArea"||t.w.config.series[a].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},ax=function(){function t(e){Me(this,t),this.opts=e}return De(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),G.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,n){var r=n.w.config.series[n.seriesIndex].name;return e!==null?r+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ve(ve({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){var r=n.seriesIndex,i=n.dataPointIndex,s=n.w;return e._getBoxTooltip(s,r,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){var r=n.seriesIndex,i=n.dataPointIndex,s=n.w;return e._getBoxTooltip(s,r,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,n){n.ctx;var r=n.seriesIndex,i=n.dataPointIndex,s=n.w,a=function(){var o=s.globals.seriesRangeStart[r][i];return s.globals.seriesRangeEnd[r][i]-o};return s.globals.comboCharts?s.config.series[r].type==="rangeBar"||s.config.series[r].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(n){var r=tT(ve(ve({},n),{},{isTimeline:!0})),i=r.color,s=r.seriesName,a=r.ylabel,o=r.startVal,l=r.endVal;return nT(ve(ve({},n),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e):function(n){var r=tT(n),i=r.color,s=r.seriesName,a=r.ylabel,o=r.start,l=r.end;return nT(ve(ve({},n),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var n,r;return(n=e.plotOptions.bar)!==null&&n!==void 0&&n.barHeight||(e.plotOptions.bar.barHeight=2),(r=e.plotOptions.bar)!==null&&r!==void 0&&r.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(n){var r=tT(n),i=r.color,s=r.seriesName,a=r.ylabel,o=r.start,l=r.end;return nT(ve(ve({},n),{},{color:i,seriesName:s,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return G.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var n=e.dataLabels.formatter;return e.yaxis.forEach(function(r,i){e.yaxis[i].min=0,e.yaxis[i].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=n||function(r){return typeof r=="number"&&r?r.toFixed(0)+"%":r}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ve(ve({},e),{},{plotOptions:ve(ve({},e.plotOptions),{},{bar:ve(ve({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,n,r){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return G.isNumber(a)?Math.floor(a):a};var i=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return r&&r.length&&(s=r.map(function(a){return Array.isArray(a)?a:String(a)})),s&&s.length&&(e.xaxis.labels.formatter=function(a){return G.isNumber(a)?i(s[Math.floor(a)-1]):i(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,n,r,i,s){var a=e.globals.seriesCandleO[n][r],o=e.globals.seriesCandleH[n][r],l=e.globals.seriesCandleM[n][r],c=e.globals.seriesCandleL[n][r],u=e.globals.seriesCandleC[n][r];return e.config.series[n].type&&e.config.series[n].type!==s?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[n].name?e.config.series[n].name:"series-"+(n+1),": <strong>").concat(e.globals.series[n][r],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(i[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+u+"</span></div></div>"}}]),t}(),ox=function(){function t(e){Me(this,t),this.opts=e}return De(t,[{key:"init",value:function(e){var n=e.responsiveOverride,r=this.opts,i=new Cd,s=new ax(r);this.chartType=r.chart.type,r=this.extendYAxis(r),r=this.extendAnnotations(r);var a=i.init(),o={};if(r&&dg(r)==="object"){var l,c,u,d,h,f,g,p,y,v,x={};x=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(r.chart.type)!==-1?s[r.chart.type]():s.line(),(l=r.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(x=s.funnel()),r.chart.stacked&&r.chart.type==="bar"&&(x=s.stackedBars()),(u=r.chart.brush)!==null&&u!==void 0&&u.enabled&&(x=s.brush(x)),(d=r.plotOptions)!==null&&d!==void 0&&(h=d.line)!==null&&h!==void 0&&h.isSlopeChart&&(x=s.slope()),r.chart.stacked&&r.chart.stackType==="100%"&&(r=s.stacked100(r)),(f=r.plotOptions)!==null&&f!==void 0&&(g=f.bar)!==null&&g!==void 0&&g.isDumbbell&&(r=s.dumbbell(r)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(r),r.xaxis=r.xaxis||window.Apex.xaxis||{},n||(r.xaxis.convertedCatToNumeric=!1),((p=(r=this.checkForCatToNumericXAxis(this.chartType,x,r)).chart.sparkline)!==null&&p!==void 0&&p.enabled||(y=window.Apex.chart)!==null&&y!==void 0&&(v=y.sparkline)!==null&&v!==void 0&&v.enabled)&&(x=s.sparkline(x)),o=G.extend(a,x)}var b=G.extend(o,window.Apex);return a=G.extend(b,r),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,n,r){var i,s,a=new ax(r),o=(e==="bar"||e==="boxPlot")&&((i=r.plotOptions)===null||i===void 0||(s=i.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=r.xaxis.type!=="datetime"&&r.xaxis.type!=="numeric",u=r.xaxis.tickPlacement?r.xaxis.tickPlacement:n.xaxis&&n.xaxis.tickPlacement;return o||l||!c||u==="between"||(r=a.convertCatToNumeric(r)),r}},{key:"extendYAxis",value:function(e,n){var r=new Cd;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=G.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[G.extend(r.yAxis,e.yaxis)]:e.yaxis=G.extendArray(e.yaxis,r.yAxis);var i=!1;e.yaxis.forEach(function(a){a.logarithmic&&(i=!0)});var s=e.series;return n&&!s&&(s=n.config.series),i&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(a,o){if(a.name||(s[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=s[o].name,e.yaxis[o];var l=G.extend(r.yAxis,e.yaxis[0]);return l.show=!1,l})),i&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var n=new Cd;return e.annotations.yaxis=G.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],n.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var n=new Cd;return e.annotations.xaxis=G.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],n.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var n=new Cd;return e.annotations.points=G.extendArray(e.annotations.points!==void 0?e.annotations.points:[],n.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var n=e;if(n.tooltip.shared&&n.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(n.chart.type==="bar"&&n.plotOptions.bar.horizontal){if(n.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");n.yaxis[0].reversed&&(n.yaxis[0].opposite=!0),n.xaxis.tooltip.enabled=!1,n.yaxis[0].tooltip.enabled=!1,n.chart.zoom.enabled=!1}return n.chart.type!=="bar"&&n.chart.type!=="rangeBar"||n.tooltip.shared&&n.xaxis.crosshairs.width==="barWidth"&&n.series.length>1&&(n.xaxis.crosshairs.width="tickWidth"),n.chart.type!=="candlestick"&&n.chart.type!=="boxPlot"||n.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(n.chart.type," chart is not supported.")),n.yaxis[0].reversed=!1),n}}]),t}(),uZ=function(){function t(){Me(this,t)}return De(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var n=this.globalVars(e);return this.initGlobalVars(n),n.initialConfig=G.extend({},e),n.initialSeries=G.clone(e.series),n.lastXAxis=G.clone(n.initialConfig.xaxis),n.lastYAxis=G.clone(n.initialConfig.yaxis),n}}]),t}(),rNe=function(){function t(e){Me(this,t),this.opts=e}return De(t,[{key:"init",value:function(){var e=new ox(this.opts).init({responsiveOverride:!1});return{config:e,globals:new uZ().init(e)}}}]),t}(),lo=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return De(t,[{key:"clippedImgArea",value:function(e){var n=this.w,r=n.config,i=parseInt(n.globals.gridWidth,10),s=parseInt(n.globals.gridHeight,10),a=i>s?i:s,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?r.fill.image.width!==void 0&&r.fill.image.height!==void 0?(l=r.fill.image.width+1,c=r.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var u=document.createElementNS(n.globals.SVGNS,"pattern");ue.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var d=document.createElementNS(n.globals.SVGNS,"image");u.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",o),ue.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),d.style.opacity=e.opacity,n.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var n=this.w,r=n.config.chart.type;return(r==="bar"||r==="rangeBar")&&n.config.plotOptions.bar.distributed||r==="heatmap"||r==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%n.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,n){var r,i=this.w,s=null,a=null,o=Iy(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;l>=n.threshold?(s===null||l>s)&&(s=l):(a===null||l<a)&&(a=l)}}catch(d){o.e(d)}finally{o.f()}s===null&&(s=n.threshold),a===null&&(a=n.threshold);var c=s-n.threshold+(n.threshold-a);c===0&&(c=1);var u=100-(n.threshold-a)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:n.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:n.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var n,r,i,s=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,d=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(d=s.globals.seriesColors[this.seriesIndex]),typeof d=="function"&&(d=d({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var h,f,g,p=e.fillType?e.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,v=p==="gradient"||u;e.color&&(d=e.color),(n=s.config.series[this.seriesIndex])!==null&&n!==void 0&&(r=n.data)!==null&&r!==void 0&&(i=r[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(d=(h=s.config.series[this.seriesIndex])===null||h===void 0||(f=h.data)===null||f===void 0||(g=f[e.dataPointIndex])===null||g===void 0?void 0:g.fillColor),d||(d="#fff",console.warn("undefined color - ApexCharts"));var x=d;if(d.indexOf("rgb")===-1?d.indexOf("#")===-1?x=d:d.length<9&&(x=G.hexToRgba(d,y)):d.indexOf("rgba")>-1?y=G.getOpacityFromRGBA(d):x=G.hexToRgba(G.rgb2hex(d),y),e.opacity&&(y=e.opacity),p==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:d,fillOpacity:y,defaultColor:x})),v){var b=Wr(c.fill.gradient.colorStops)||[],_=c.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),_="vertical"),l=this.handleGradientFill({type:_,fillConfig:e.fillConfig,fillColor:d,fillOpacity:y,colorStops:b,i:this.seriesIndex})}if(p==="image"){var w=c.fill.image.src,C=e.patternID?e.patternID:"",A="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(C);this.patternIDs.indexOf(A)===-1&&(this.clippedImgArea({opacity:y,image:Array.isArray(w)?e.seriesNumber<w.length?w[e.seriesNumber]:w[0]:w,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:A}),this.patternIDs.push(A)),a="url(#".concat(A,")")}else a=v?l:p==="pattern"?o:x;return e.solid&&(a=x),a}},{key:"getFillType",value:function(e){var n=this.w;return Array.isArray(n.config.fill.type)?n.config.fill.type[e]:n.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,n=e.config,r=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):n.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),r.fillColors!==void 0&&(i=[],Array.isArray(r.fillColors)?i=r.fillColors.slice():i.push(r.fillColors)),i}},{key:"handlePatternFill",value:function(e){var n=e.fillConfig,r=e.patternFill,i=e.fillColor,s=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;n&&(o=n);var l=this.opts,c=new ue(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,d=i;return Array.isArray(o.pattern.style)?r=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,d,u,s):a:r=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,d,u,s),r}},{key:"handleGradientFill",value:function(e){var n=e.type,r=e.fillColor,i=e.fillOpacity,s=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;s&&(l=ve(ve({},l),s));var c=this.opts,u=new ue(this.ctx),d=new G;n=n||l.gradient.type;var h,f=r,g=l.gradient.opacityFrom===void 0?i:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;f.indexOf("rgba")>-1&&(g=G.getOpacityFromRGBA(f));var p=l.gradient.opacityTo===void 0?i:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)h=l.gradient.shade==="dark"?d.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),r.indexOf("rgb")>-1?G.rgb2hex(r):r):d.shadeColor(parseFloat(l.gradient.shadeIntensity),r.indexOf("rgb")>-1?G.rgb2hex(r):r);else if(l.gradient.gradientToColors[c.seriesNumber]){var y=l.gradient.gradientToColors[c.seriesNumber];h=y,y.indexOf("rgba")>-1&&(p=G.getOpacityFromRGBA(y))}else h=r;if(l.gradient.gradientFrom&&(f=l.gradient.gradientFrom),l.gradient.gradientTo&&(h=l.gradient.gradientTo),l.gradient.inverseColors){var v=f;f=h,h=v}return f.indexOf("rgb")>-1&&(f=G.rgb2hex(f)),h.indexOf("rgb")>-1&&(h=G.rgb2hex(h)),u.drawGradient(n,f,h,g,p,c.size,l.gradient.stops,a,o)}}]),t}(),sm=function(){function t(e,n){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var n=0;n<=e.globals.series.length;n++)e.globals.markers.size[n]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(r){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var n=e.pointsPos,r=e.seriesIndex,i=e.j,s=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,d=r,h=n,f=null,g=new ue(this.ctx),p=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(h.x))for(var y=0;y<h.x.length;y++){var v=void 0,x=i,b=!G.isNumber(h.y[y]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[d][i+1]!==null&&!c&&(b=!0),i===1&&y===0&&(x=0),i===1&&y===1&&(x=1);var _="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(_+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[r]>0:u.config.markers.size>0)||o||p){b||(_+=" w".concat(G.randomId()));var w=this.getMarkerConfig({cssClass:_,seriesIndex:r,dataPointIndex:x});u.config.series[d].data[x]&&(u.config.series[d].data[x].fillColor&&(w.pointFillColor=u.config.series[d].data[x].fillColor),u.config.series[d].data[x].strokeColor&&(w.pointStrokeColor=u.config.series[d].data[x].strokeColor)),s!==void 0&&(w.pSize=s),(h.x[y]<-u.globals.markers.largestSize||h.x[y]>u.globals.gridWidth+u.globals.markers.largestSize||h.y[y]<-u.globals.markers.largestSize||h.y[y]>u.globals.gridHeight+u.globals.markers.largestSize)&&(w.pSize=0),!b&&((u.globals.markers.size[r]>0||o||p)&&!f&&(f=g.group({class:o||p?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(v=g.drawMarker(h.x[y],h.y[y],w)).attr("rel",x),v.attr("j",x),v.attr("index",r),v.node.setAttribute("default-marker-size",w.pSize),new gi(this.ctx).setSelectionFilter(v,r,x),this.addEvents(v),f&&f.add(v))}else u.globals.pointsArray[r]===void 0&&(u.globals.pointsArray[r]=[]),u.globals.pointsArray[r].push([h.x[y],h.y[y]])}return f}},{key:"getMarkerConfig",value:function(e){var n=e.cssClass,r=e.seriesIndex,i=e.dataPointIndex,s=i===void 0?null:i,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,d=u===void 0?null:u,h=this.w,f=this.getMarkerStyle(r),g=c===null?h.globals.markers.size[r]:c,p=h.config.markers;return s!==null&&p.discrete.length&&p.discrete.map(function(y){y.seriesIndex===r&&y.dataPointIndex===s&&(f.pointStrokeColor=y.strokeColor,f.pointFillColor=y.fillColor,g=y.size,f.pointShape=y.shape)}),{pSize:o===null?g:o,pRadius:o!==null?o:p.radius,pointStrokeWidth:d!==null?d:Array.isArray(p.strokeWidth)?p.strokeWidth[r]:p.strokeWidth,pointStrokeColor:f.pointStrokeColor,pointFillColor:f.pointFillColor,shape:f.pointShape||(Array.isArray(p.shape)?p.shape[r]:p.shape),class:n,pointStrokeOpacity:Array.isArray(p.strokeOpacity)?p.strokeOpacity[r]:p.strokeOpacity,pointStrokeDashArray:Array.isArray(p.strokeDashArray)?p.strokeDashArray[r]:p.strokeDashArray,pointFillOpacity:Array.isArray(p.fillOpacity)?p.fillOpacity[r]:p.fillOpacity,seriesIndex:r}}},{key:"addEvents",value:function(e){var n=this.w,r=new ue(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",n.config.markers.onClick),e.node.addEventListener("dblclick",n.config.markers.onDblClick),e.node.addEventListener("touchstart",r.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var n=this.w,r=n.globals.markers.colors,i=n.config.markers.strokeColor||n.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(r)?r[e]:r}}}]),t}(),dZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return De(t,[{key:"draw",value:function(e,n,r){var i=this.w,s=new ue(this.ctx),a=r.realIndex,o=r.pointsPos,l=r.zRatio,c=r.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(o.x))for(var d=0;d<o.x.length;d++){var h=n+1,f=!0;n===0&&d===0&&(h=0),n===0&&d===1&&(h=1);var g=i.globals.markers.size[a];if(l!==1/0){var p=i.config.plotOptions.bubble;g=i.globals.seriesZ[a][h],p.zScaling&&(g/=l),p.minBubbleRadius&&g<p.minBubbleRadius&&(g=p.minBubbleRadius),p.maxBubbleRadius&&g>p.maxBubbleRadius&&(g=p.maxBubbleRadius)}var y=o.x[d],v=o.y[d];if(g=g||0,v!==null&&i.globals.series[a][h]!==void 0||(f=!1),f){var x=this.drawPoint(y,v,g,a,h,n);u.add(x)}c.add(u)}}},{key:"drawPoint",value:function(e,n,r,i,s,a){var o=this.w,l=i,c=new tm(this.ctx),u=new gi(this.ctx),d=new lo(this.ctx),h=new sm(this.ctx),f=new ue(this.ctx),g=h.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[i]&&o.config.series[i].type==="bubble"?r:null}),p=d.fillPath({seriesNumber:i,dataPointIndex:s,color:g.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[i][a]}),y=f.drawMarker(e,n,g);if(o.config.series[l].data[s]&&o.config.series[l].data[s].fillColor&&(p=o.config.series[l].data[s].fillColor),y.attr({fill:p}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;u.dropShadow(y,v,i)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var x=o.config.chart.animations.speed;c.animateMarker(y,x,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(y)},100)})}return y.attr({rel:s,j:s,index:i,"default-marker-size":g.pSize}),u.setSelectionFilter(y,i,s),h.addEvents(y),y.node.classList.add("apexcharts-marker"),y}},{key:"centerTextInBubble",value:function(e){var n=this.w;return{y:e+=parseInt(n.config.dataLabels.style.fontSize,10)/4}}}]),t}(),hg=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"dataLabelsCorrection",value:function(e,n,r,i,s,a,o){var l=this.w,c=!1,u=new ue(this.ctx).getTextRects(r,o),d=u.width,h=u.height;n<0&&(n=0),n>l.globals.gridHeight+h&&(n=l.globals.gridHeight+h/2),l.globals.dataLabelsRects[i]===void 0&&(l.globals.dataLabelsRects[i]=[]),l.globals.dataLabelsRects[i].push({x:e,y:n,width:d,height:h});var f=l.globals.dataLabelsRects[i].length-2,g=l.globals.lastDrawnDataLabelsIndexes[i]!==void 0?l.globals.lastDrawnDataLabelsIndexes[i][l.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(l.globals.dataLabelsRects[i][f]!==void 0){var p=l.globals.dataLabelsRects[i][g];(e>p.x+p.width||n>p.y+p.height||n+h<p.y||e+d<p.x)&&(c=!0)}return(s===0||a)&&(c=!0),{x:e,y:n,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var n=this,r=e.type,i=e.pos,s=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,d=new ue(this.ctx),h=u.config.dataLabels,f=0,g=0,p=a,y=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!h.enabled||!Array.isArray(i.x))return y;y=d.group({class:"apexcharts-data-labels"});for(var v=0;v<i.x.length;v++)if(f=i.x[v]+h.offsetX,g=i.y[v]+h.offsetY+c,!isNaN(f)){a===1&&v===0&&(p=0),a===1&&v===1&&(p=1);var x=u.globals.series[s][p];r==="rangeArea"&&(x=o?u.globals.seriesRangeStart[s][p]:u.globals.seriesRangeEnd[s][p]);var b="",_=function(C){return u.config.dataLabels.formatter(C,{ctx:n.ctx,seriesIndex:s,dataPointIndex:p,w:u})};u.config.chart.type==="bubble"?(b=_(x=u.globals.seriesZ[s][p]),g=i.y[v],g=new dZ(this.ctx).centerTextInBubble(g,s,p).y):x!==void 0&&(b=_(x));var w=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(w=p===0?"end":p===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:f,y:g,text:b,i:s,j:p,parent:y,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:w})}return y}},{key:"plotDataLabelsText",value:function(e){var n=this.w,r=new ue(this.ctx),i=e.x,s=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,d=e.parent,h=e.dataLabelsConfig,f=e.color,g=e.alwaysDrawDataLabel,p=e.offsetCorrection,y=e.className,v=null;if(Array.isArray(n.config.dataLabels.enabledOnSeries)&&n.config.dataLabels.enabledOnSeries.indexOf(a)<0)return v;var x={x:i,y:s,drawnextLabel:!0,textRects:null};p&&(x=this.dataLabelsCorrection(i,s,l,a,o,g,parseInt(h.style.fontSize,10))),n.globals.zoomed||(i=x.x,s=x.y),x.textRects&&(i<-20-x.textRects.width||i>n.globals.gridWidth+x.textRects.width+30)&&(l="");var b=n.globals.dataLabels.style.colors[a];((n.config.chart.type==="bar"||n.config.chart.type==="rangeBar")&&n.config.plotOptions.bar.distributed||n.config.dataLabels.distributed)&&(b=n.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:n.globals.series,seriesIndex:a,dataPointIndex:o,w:n})),f&&(b=f);var _=h.offsetX,w=h.offsetY;if(n.config.chart.type!=="bar"&&n.config.chart.type!=="rangeBar"||(_=0,w=0),n.globals.isSlopeChart&&(o!==0&&(_=-2*h.offsetX+5),o!==0&&o!==n.config.series[a].data.length-1&&(_=0)),x.drawnextLabel){if((v=r.drawText({width:100,height:parseInt(h.style.fontSize,10),x:i+_,y:s+w,foreColor:b,textAnchor:c||h.textAnchor,text:l,fontSize:u||h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight||"normal"})).attr({class:y||"apexcharts-datalabel",cx:i,cy:s}),h.dropShadow.enabled){var C=h.dropShadow;new gi(this.ctx).dropShadow(v,C)}d.add(v),n.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(n.globals.lastDrawnDataLabelsIndexes[a]=[]),n.globals.lastDrawnDataLabelsIndexes[a].push(o)}return v}},{key:"addBackgroundToDataLabel",value:function(e,n){var r=this.w,i=r.config.dataLabels.background,s=i.padding,a=i.padding/2,o=n.width,l=n.height,c=new ue(this.ctx).drawRect(n.x-s,n.y-a/2,o+2*s,l+a,i.borderRadius,r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new gi(this.ctx).dropShadow(c,i.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),r=0;r<n.length;r++){var i=n[r],s=i.getBBox(),a=null;if(s.width&&s.height&&(a=this.addBackgroundToDataLabel(i,s)),a){i.parentNode.insertBefore(a.node,i);var o=e.config.dataLabels.background.backgroundColor||i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),r=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<n.length;i++)r&&r.insertBefore(n[i],r.nextSibling)}}]),t}(),ma=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return De(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(G.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var n=this.getSeriesByName(e),r=parseInt(n.getAttribute("data:realIndex"),10);return{isHidden:n.classList.contains("apexcharts-series-collapsed"),realIndex:r}}},{key:"addCollapsedClassToSeries",value:function(e,n){var r=this.w;function i(s){for(var a=0;a<s.length;a++)s[a].index===n&&e.node.classList.add("apexcharts-series-collapsed")}i(r.globals.collapsedSeries),i(r.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var n=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,n.isHidden),n.isHidden}},{key:"showSeries",value:function(e){var n=this.isSeriesHidden(e);n.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!0)}},{key:"hideSeries",value:function(e){var n=this.isSeriesHidden(e);n.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,s=G.clone(i.globals.initialSeries);i.globals.previousPaths=[],r?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),i.config.series=s,e&&(n&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var n=this.w,r=0;r<e.length;r++)n.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[]);return e}},{key:"highlightSeries",value:function(e){var n=this.w,r=this.getSeriesByName(e),i=parseInt(r==null?void 0:r.getAttribute("data:realIndex"),10),s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(n.globals.axisCharts||n.config.chart.type==="radialBar")if(n.globals.axisCharts){a=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var c=n.globals.seriesYAxisReverseMap[i];l=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else a=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(a)n.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var d=0;d<s.length;d++)s[d].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,n){var r=this.w;n||(n=e.target);var i=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(n.getAttribute("rel"),10)-1;this.highlightSeries(r.globals.seriesNames[s])}else if(e.type==="mouseout")for(var a=0;a<i.length;a++)i[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,n){var r=this,i=this.w,s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var u=0;u<s.length;u++)s[u].classList[c](r.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(n.getAttribute("rel"),10)-1;a("add");var l=i.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var d=0;d<s.length;d++){var h=Number(s[d].getAttribute("val"));h>=c.from&&(h<c.to||c.to===u&&h===u)&&s[d].classList.remove(r.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.w,i=0;if(r.config.series.length>1){for(var s=r.config.series.map(function(o,l){return o.data&&o.data.length>0&&r.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!r.globals.comboCharts||n.length===0||n.length&&n.indexOf(r.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:s.length-1;e==="asc"?a<s.length:a>=0;e==="asc"?a++:a--)if(s[a]!==-1){i=s[a];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,n){return e.type==="bar"||e.type==="column"?n:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,n){return n})}},{key:"getPreviousPaths",value:function(){var e=this.w;function n(a,o,l){for(var c=a[o].childNodes,u={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},d=0;d<c.length;d++)if(c[d].hasAttribute("pathTo")){var h=c[d].getAttribute("pathTo");u.paths.push({d:h})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)n(l,c,a)});var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(r.length>0)for(var i=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(d){var h=function(g){return o[d].getAttribute(g)},f={x:parseFloat(h("x")),y:parseFloat(h("y")),width:parseFloat(h("width")),height:parseFloat(h("height"))};l.push({rect:f,color:o[d].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},s=0;s<r.length;s++)i(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,n=e.config.noData,r=new ue(this.ctx),i=e.globals.svgWidth/2,s=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,n.align==="left"?(i=10,a="start"):n.align==="right"&&(i=e.globals.svgWidth-10,a="end"),n.verticalAlign==="top"?s=50:n.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),i+=n.offsetX,s=s+parseInt(n.style.fontSize,10)+2+n.offsetY,n.text!==void 0&&n.text!==""){var o=r.drawText({x:i,y:s,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,foreColor:n.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var n=this.w,r=0;r<e.length;r++)if(e[r].length===0)for(var i=0;i<e[n.globals.maxValsInArrayIndex].length;i++)e[r].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,n=this.w,r=this.filteredSeriesX(),i=0;i<r.length-1;i++)if(r[i][0]!==r[i+1][0]){e=!1;break}return n.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(n){return n.length>0?n:[]});return e}}]),t}(),_D=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new mr(this.ctx)}return De(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),n=new ma(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),n=new ma(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,n){for(var r=this.w.config,i=this.w.globals,s=r.chart.type==="boxPlot"||r.series[n].type==="boxPlot",a=0;a<e[n].data.length;a++)if(e[n].data[a][1]!==void 0&&(Array.isArray(e[n].data[a][1])&&e[n].data[a][1].length===4&&!s?this.twoDSeries.push(G.parseNumber(e[n].data[a][1][3])):e[n].data[a].length>=5?this.twoDSeries.push(G.parseNumber(e[n].data[a][4])):this.twoDSeries.push(G.parseNumber(e[n].data[a][1])),i.dataFormatXNumeric=!0),r.xaxis.type==="datetime"){var o=new Date(e[n].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[n].data[a][0]);for(var l=0;l<e[n].data.length;l++)e[n].data[l][2]!==void 0&&(this.threeDSeries.push(e[n].data[l][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,n){var r=this.w.config,i=this.w.globals,s=new hi(this.ctx),a=n;i.collapsedSeriesIndices.indexOf(n)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[n].data.length;o++)e[n].data[o].y!==void 0&&(Array.isArray(e[n].data[o].y)?this.twoDSeries.push(G.parseNumber(e[n].data[o].y[e[n].data[o].y.length-1])):this.twoDSeries.push(G.parseNumber(e[n].data[o].y))),e[n].data[o].goals!==void 0&&Array.isArray(e[n].data[o].goals)?(this.seriesGoals[n]===void 0&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(e[n].data[o].goals)):(this.seriesGoals[n]===void 0&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",u=Array.isArray(e[a].data[l].x),d=!u&&!!s.isValidDate(e[a].data[l].x);if(c||d)if(c||r.xaxis.convertedCatToNumeric){var h=i.isBarHorizontal&&i.isRangeData;r.xaxis.type!=="datetime"||h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[a].data[l].x))}else r.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[a].data[l].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[n].data[0]&&e[n].data[0].z!==void 0){for(var f=0;f<e[n].data.length;f++)this.threeDSeries.push(e[n].data[f].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,n){var r=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,n):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,n)),r.seriesRangeStart[n]=i.start===void 0?[]:i.start,r.seriesRangeEnd[n]=i.end===void 0?[]:i.end,r.seriesRange[n]=i.rangeUniques,r.seriesRange.forEach(function(s,a){s&&s.forEach(function(o,l){o.y.forEach(function(c,u){for(var d=0;d<o.y.length;d++)if(u!==d){var h=c.y1,f=c.y2,g=o.y[d].y1;h<=o.y[d].y2&&g<=f&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[d].rangeName)<0&&o.overlaps.push(o.y[d].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,n){var r=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,n):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,n)),r.seriesCandleO[n]=i.o,r.seriesCandleH[n]=i.h,r.seriesCandleM[n]=i.m,r.seriesCandleL[n]=i.l,r.seriesCandleC[n]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,n,r){var i=[],s=[],a=n[r].data.filter(function(u,d,h){return d===h.findIndex(function(f){return f.x===u.x})}).map(function(u,d){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<n[r].data.length;o++)Array.isArray(n[r].data[o])?(i.push(n[r].data[o][1][0]),s.push(n[r].data[o][1][1])):(i.push(n[r].data[o]),s.push(n[r].data[o]));else if(e==="xy")for(var l=function(u){var d=Array.isArray(n[r].data[u].y),h=G.randomId(),f=n[r].data[u].x,g={y1:d?n[r].data[u].y[0]:n[r].data[u].y,y2:d?n[r].data[u].y[1]:n[r].data[u].y,rangeName:h};n[r].data[u].rangeName=h;var p=a.findIndex(function(y){return y.x===f});a[p].y.push(g),i.push(g.y1),s.push(g.y2)},c=0;c<n[r].data.length;c++)l(c);return{start:i,end:s,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,n,r){var i=this.w,s=i.config.chart.type==="boxPlot"||i.config.series[r].type==="boxPlot",a=[],o=[],l=[],c=[],u=[];if(e==="array")if(s&&n[r].data[0].length===6||!s&&n[r].data[0].length===5)for(var d=0;d<n[r].data.length;d++)a.push(n[r].data[d][1]),o.push(n[r].data[d][2]),s?(l.push(n[r].data[d][3]),c.push(n[r].data[d][4]),u.push(n[r].data[d][5])):(c.push(n[r].data[d][3]),u.push(n[r].data[d][4]));else for(var h=0;h<n[r].data.length;h++)Array.isArray(n[r].data[h][1])&&(a.push(n[r].data[h][1][0]),o.push(n[r].data[h][1][1]),s?(l.push(n[r].data[h][1][2]),c.push(n[r].data[h][1][3]),u.push(n[r].data[h][1][4])):(c.push(n[r].data[h][1][2]),u.push(n[r].data[h][1][3])));else if(e==="xy")for(var f=0;f<n[r].data.length;f++)Array.isArray(n[r].data[f].y)&&(a.push(n[r].data[f].y[0]),o.push(n[r].data[f].y[1]),s?(l.push(n[r].data[f].y[2]),c.push(n[r].data[f].y[3]),u.push(n[r].data[f].y[4])):(c.push(n[r].data[f].y[2]),u.push(n[r].data[f].y[3])));return{o:a,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,s=this.w.globals,a=new hi(r),o=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();s.isRangeBar=i.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=i.xaxis.group.groups),e.forEach(function(f,g){f.name!==void 0?s.seriesNames.push(f.name):s.seriesNames.push("series-"+parseInt(g+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Wr(new Set(i.series.map(function(f){return f.group})));i.series.forEach(function(f,g){var p=c.indexOf(f.group);l[p]||(l[p]=[]),l[p].push(s.seriesNames[g])}),s.seriesGroups=l;for(var u=function(){for(var f=0;f<o.length;f++)if(typeof o[f]=="string"){if(!a.isValidDate(o[f]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");n.twoDSeriesX.push(a.parseDate(o[f]))}else n.twoDSeriesX.push(o[f])},d=0;d<e.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[d].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[d].type!=="rangeBar"&&e[d].type!=="rangeArea"||(s.isRangeData=!0,this.handleRangeData(e,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,d):this.isFormatXY()&&this.handleFormatXY(e,d),i.chart.type!=="candlestick"&&e[d].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[d].type!=="boxPlot"||this.handleCandleStickBoxData(e,d),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{i.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(s.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var h=e[d].data.map(function(f){return G.parseNumber(f)});s.series.push(h)}s.seriesZ.push(this.threeDSeries),e[d].color!==void 0?s.seriesColors.push(e[d].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var n=this.w.globals,r=this.w.config;n.series=e.slice(),n.seriesNames=r.labels.slice();for(var i=0;i<n.series.length;i++)n.seriesNames[i]===void 0&&n.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var n=this.w.config,r=this.w.globals;n.xaxis.categories.length>0?r.labels=n.xaxis.categories:n.labels.length>0?r.labels=n.labels.slice():this.fallbackToCategory?(r.labels=r.labels[0],r.seriesRange.length&&(r.seriesRange.map(function(i){i.forEach(function(s){r.labels.indexOf(s.x)<0&&s.x&&r.labels.push(s.x)})}),r.labels=Array.from(new Set(r.labels.map(JSON.stringify)),JSON.parse)),n.xaxis.convertedCatToNumeric&&(new ax(n).convertCatToNumericXaxis(n,this.ctx,r.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var n=this.w.globals,r=this.w.config,i=[];if(n.axisCharts){if(n.series.length>0)if(this.isFormatXY())for(var s=r.series.map(function(d,h){return d.data.filter(function(f,g,p){return p.findIndex(function(y){return y.x===f.x})===g})}),a=s.reduce(function(d,h,f,g){return g[d].length>h.length?d:f},0),o=0;o<s[a].length;o++)i.push(o+1);else for(var l=0;l<n.series[n.maxValsInArrayIndex].length;l++)i.push(l+1);n.seriesX=[];for(var c=0;c<e.length;c++)n.seriesX.push(i);this.w.globals.isBarHorizontal||(n.isXNumeric=!0)}if(i.length===0){i=n.axisCharts?[]:n.series.map(function(d,h){return h+1});for(var u=0;u<e.length;u++)n.seriesX.push(i)}n.labels=i,r.xaxis.convertedCatToNumeric&&(n.categoryLabels=i.map(function(d){return r.xaxis.labels.formatter(d)})),n.noLabelsProvided=!0}},{key:"parseData",value:function(e){var n=this.w,r=n.config,i=n.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),r.chart.stacked){var s=new ma(this.ctx);i.series=s.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(r.xaxis.type!=="numeric"||r.labels.length!==0||r.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,n=[];e.globals.seriesYAxisMap.forEach(function(r,i){var s=0;r.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&s++}),s>0&&s==r.length&&n.push(i)}),e.globals.ignoreYAxisIndexes=n.map(function(r){return r})}}]),t}(),sv=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,n){var r=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",r*n),e.setAttributeNS(null,"height",i*n),e.setAttributeNS(null,"viewBox","0 0 "+r+" "+i)}},{key:"getSvgString",value:function(e){var n=this;return new Promise(function(r){var i=n.w,s=e||i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;s||(s=1);var a=i.globals.svgWidth*s,o=i.globals.svgHeight*s,l=i.globals.dom.elWrap.cloneNode(!0);l.style.width=a+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),u=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(i.globals.svgWidth,'px" height="').concat(i.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(o,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),d=n.svgStringToNode(u);s!==1&&n.scaleSvgNode(d,s),n.convertImagesToBase64(d).then(function(){u=new XMLSerializer().serializeToString(d),r(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var n=this,r=e.getElementsByTagName("image"),i=Array.from(r).map(function(s){var a=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?n.getBase64FromUrl(a).then(function(o){s.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(n,r){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var s=document.createElement("canvas");s.width=i.width,s.height=i.height,s.getContext("2d").drawImage(i,0,0),n(s.toDataURL())},i.onerror=r,i.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(n){e.getSvgString().then(function(r){var i=new Blob([r],{type:"image/svg+xml;charset=utf-8"});n(URL.createObjectURL(i))})})}},{key:"dataURI",value:function(e){var n=this;return new Promise(function(r){var i=n.w,s=e?e.scale||e.width/i.globals.svgWidth:1,a=document.createElement("canvas");a.width=i.globals.svgWidth*s,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*s;var o=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*s,a.height*s),n.getSvgString(s).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(l.drawImage(d,0,0),a.msToBlob){var h=a.msToBlob();r({blob:h})}else{var f=a.toDataURL("image/png");r({imgURI:f})}},d.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(n){e.triggerDownload(n,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,n=this.w.config.chart.toolbar.export.scale,r=this.w.config.chart.toolbar.export.width,i=n?{scale:n}:r?{width:r}:void 0;this.dataURI(i).then(function(s){var a=s.imgURI,o=s.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var n=this,r=e.series,i=e.fileName,s=e.columnDelimiter,a=s===void 0?",":s,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;r||(r=c.config.series);var u=[],d=[],h="",f=c.globals.series.map(function(w,C){return c.globals.collapsedSeriesIndices.indexOf(C)===-1?w:[]}),g=function(w){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(w):c.config.xaxis.type==="datetime"&&String(w).length>=10?new Date(w).toDateString():G.isNumber(w)?w:w.split(a).join("")},p=function(w){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(w):w},y=Math.max.apply(Math,Wr(r.map(function(w){return w.data?w.data.length:0}))),v=new _D(this.ctx),x=new zu(this.ctx),b=function(w){var C="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var A=c.globals.yLabelFormatters[0],k=new ma(n.ctx).getActiveConfigSeriesIndex();C=A(c.globals.labels[w],{seriesIndex:k,dataPointIndex:w,w:c})}else C=x.getLabel(c.globals.labels,c.globals.timescaleLabels,0,w).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?C=c.config.xaxis.categories[w]:c.config.labels.length&&(C=c.config.labels[w]))}else C=c.config.labels[w];return C===null?"nullvalue":(Array.isArray(C)&&(C=C.join(" ")),G.isNumber(C)?C:C.split(a).join(""))},_=function(w,C){if(u.length&&C===0&&d.push(u.join(a)),w.data){w.data=w.data.length&&w.data||Wr(Array(y)).map(function(){return""});for(var A=0;A<w.data.length;A++){u=[];var k=b(A);if(k!=="nullvalue"){if(k||(v.isFormatXY()?k=r[C].data[A].x:v.isFormat2DArray()&&(k=r[C].data[A]?r[C].data[A][0]:"")),C===0){u.push(g(k));for(var E=0;E<c.globals.series.length;E++){var T,P=v.isFormatXY()?(T=r[E].data[A])===null||T===void 0?void 0:T.y:f[E][A];u.push(p(P))}}(c.config.chart.type==="candlestick"||w.type&&w.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[C][A]),u.push(c.globals.seriesCandleH[C][A]),u.push(c.globals.seriesCandleL[C][A]),u.push(c.globals.seriesCandleC[C][A])),(c.config.chart.type==="boxPlot"||w.type&&w.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[C][A]),u.push(c.globals.seriesCandleH[C][A]),u.push(c.globals.seriesCandleM[C][A]),u.push(c.globals.seriesCandleL[C][A]),u.push(c.globals.seriesCandleC[C][A])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[C][A]),u.push(c.globals.seriesRangeEnd[C][A])),u.length&&d.push(u.join(a))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):r.map(function(w,C){var A=(w.name?w.name:"series-".concat(C))+"";c.globals.axisCharts&&u.push(A.split(a).join("")?A.split(a).join(""):"series-".concat(C))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),d.push(u.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?r.map(function(w,C){c.globals.axisCharts?_(w,C):((u=[]).push(g(c.globals.labels[C])),u.push(p(f[C])),d.push(u.join(a)))}):function(){var w=new Set,C={};r.forEach(function(A,k){A==null||A.data.forEach(function(E){var T,P;if(v.isFormatXY())T=E.x,P=E.y;else{if(!v.isFormat2DArray())return;T=E[0],P=E[1]}C[T]||(C[T]=Array(r.length).fill("")),C[T][k]=p(P),w.add(T)})}),u.length&&d.push(u.join(a)),Array.from(w).sort().forEach(function(A){d.push([g(A),C[A].join(a)])})}(),h+=d.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+h),i||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,n,r){var i=document.createElement("a");i.href=e,i.download=(n||this.w.globals.chartID)+r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),t}(),lx=function(){function t(e,n){Me(this,t),this.ctx=e,this.elgrid=n,this.w=e.w;var r=this.w;this.axesUtils=new zu(e),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],r.config.xaxis.position==="top"?this.offY=0:this.offY=r.globals.gridHeight,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return De(t,[{key:"drawXaxis",value:function(){var e=this.w,n=new ue(this.ctx),r=n.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});r.add(i);for(var s=[],a=0;a<this.xaxisLabels.length;a++)s.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,n,i,s,e.globals.isXNumeric,function(g,p){return p}),e.globals.hasXaxisGroups){var o=e.globals.groups;s=[];for(var l=0;l<o.length;l++)s.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,n,i,s,!1,function(g,p){return o[g].cols*p},c)}if(e.config.xaxis.title.text!==void 0){var u=n.group({class:"apexcharts-xaxis-title"}),d=n.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(d),r.add(u)}if(e.config.xaxis.axisBorder.show){var h=e.globals.barPadForNumericAxis,f=n.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-h,this.offY,this.xaxisBorderWidth+h,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(f):r.add(f)}return r}},{key:"drawXAxisLabelAndGroup",value:function(e,n,r,i,s,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],d=[],h=this.w,f=c.xaxisFontSize||this.xaxisFontSize,g=c.xaxisFontFamily||this.xaxisFontFamily,p=c.xaxisForeColors||this.xaxisForeColors,y=c.fontWeight||h.config.xaxis.labels.style.fontWeight,v=c.cssClass||h.config.xaxis.labels.style.cssClass,x=h.globals.padHorizontal,b=i.length,_=h.config.xaxis.type==="category"?h.globals.dataPoints:b;if(_===0&&b>_&&(_=b),s){var w=Math.max(Number(h.config.xaxis.tickAmount)||1,_>1?_-1:_);o=h.globals.gridWidth/Math.min(w,b-1),x=x+a(0,o)/2+h.config.xaxis.labels.offsetX}else o=h.globals.gridWidth/_,x=x+a(0,o)+h.config.xaxis.labels.offsetX;for(var C=function(k){var E=x-a(k,o)/2+h.config.xaxis.labels.offsetX;k===0&&b===1&&o/2===x&&_===1&&(E=h.globals.gridWidth/2);var T=l.axesUtils.getLabel(i,h.globals.timescaleLabels,E,k,u,f,e),P=28;if(h.globals.rotateXLabels&&e&&(P=22),h.config.xaxis.title.text&&h.config.xaxis.position==="top"&&(P+=parseFloat(h.config.xaxis.title.style.fontSize)+2),e||(P=P+parseFloat(f)+(h.globals.xAxisLabelsHeight-h.globals.xAxisGroupLabelsHeight)+(h.globals.rotateXLabels?10:0)),T=h.config.xaxis.tickAmount!==void 0&&h.config.xaxis.tickAmount!=="dataPoints"&&h.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(k,T,b):l.axesUtils.checkForOverflowingLabels(k,T,b,u,d),h.config.xaxis.labels.show){var N=n.drawText({x:T.x,y:l.offY+h.config.xaxis.labels.offsetY+P-(h.config.xaxis.position==="top"?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:T.text,textAnchor:"middle",fontWeight:T.isBold?600:y,fontSize:f,fontFamily:g,foreColor:Array.isArray(p)?e&&h.config.xaxis.convertedCatToNumeric?p[h.globals.minX+k-1]:p[k]:p,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+v});if(r.add(N),N.on("click",function(L){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var $=Object.assign({},h,{labelIndex:k});h.config.chart.events.xAxisLabelClick(L,l.ctx,$)}}),e){var O=document.createElementNS(h.globals.SVGNS,"title");O.textContent=Array.isArray(T.text)?T.text.join(" "):T.text,N.node.appendChild(O),T.text!==""&&(u.push(T.text),d.push(T))}}k<b-1&&(x+=a(k+1,o))},A=0;A<=b-1;A++)C(A)}},{key:"drawXaxisInversed",value:function(e){var n,r,i=this,s=this.w,a=new ue(this.ctx),o=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(s.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)u.push(this.xaxisLabels[d]);n=s.globals.gridHeight/u.length,r=-n/2.2;var h=s.globals.yLabelFormatters[0],f=s.config.yaxis[0].labels;if(f.show)for(var g=function(w){var C=u[w]===void 0?"":u[w];C=h(C,{seriesIndex:e,dataPointIndex:w,w:s});var A=i.axesUtils.getYAxisForeColor(f.style.colors,e),k=0;Array.isArray(C)&&(k=C.length/2*parseInt(f.style.fontSize,10));var E=f.offsetX-15,T="end";i.yaxis.opposite&&(T="start"),s.config.yaxis[0].labels.align==="left"?(E=f.offsetX,T="start"):s.config.yaxis[0].labels.align==="center"?(E=f.offsetX,T="middle"):s.config.yaxis[0].labels.align==="right"&&(T="end");var P=a.drawText({x:E,y:r+n+f.offsetY-k,text:C,textAnchor:T,foreColor:Array.isArray(A)?A[w]:A,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+f.style.cssClass,maxWidth:f.maxWidth});c.add(P),P.on("click",function(L){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var $=Object.assign({},s,{labelIndex:w});s.config.chart.events.xAxisLabelClick(L,i.ctx,$)}});var N=document.createElementNS(s.globals.SVGNS,"title");if(N.textContent=Array.isArray(C)?C.join(" "):C,P.node.appendChild(N),s.config.yaxis[e].labels.rotate!==0){var O=a.rotateAroundCenter(P.node);P.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(O.y,")"))}r+=n},p=0;p<=u.length-1;p++)g(p);if(s.config.yaxis[0].title.text!==void 0){var y=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),v=a.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});y.add(v),l.add(y)}var x=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(x=s.globals.gridWidth);var b=s.config.xaxis.axisBorder;if(b.show){var _=a.drawLine(s.globals.padHorizontal+b.offsetX+x,1+b.offsetY,s.globals.padHorizontal+b.offsetX+x,s.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(_):l.add(_)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(x,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,n,l),l}},{key:"drawXaxisTicks",value:function(e,n,r){var i=this.w,s=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(n=n+a+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(n=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new ue(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,s+i.config.xaxis.axisTicks.offsetX,n+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);r.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,n=[],r=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<r;s++)i=this.xaxisLabels[s].position,n.push(i);else for(var a=r,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),i+=e.globals.gridWidth/l,n.push(i)}return n}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,n=new ue(this.ctx),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<i.length;o++){var l=n.rotateAroundCenter(i[o]);l.y=l.y-1,l.x=l.x+1,i[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),i[o].setAttribute("text-anchor","end"),r.setAttribute("transform","translate(0, ".concat(-10,")"));var c=i[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(f){n.placeTextWithEllipsis(f,f.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var f=e.globals.gridWidth/(e.globals.labels.length+1),g=0;g<i.length;g++){var p=i[g].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(p,function(y){n.placeTextWithEllipsis(y,y.textContent,f)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),d=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var h=0;h<a.length;h++)n.placeTextWithEllipsis(a[h],a[h].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),hZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new zu(e),this.isRangeBar=n.globals.seriesRange.length&&n.globals.isBarHorizontal,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return De(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this.w,r=new ue(this.ctx);e||(e=r.group({class:"apexcharts-grid"}));var i=r.drawLine(n.globals.padHorizontal,1,n.globals.padHorizontal,n.globals.gridHeight,"transparent"),s=r.drawLine(n.globals.padHorizontal,n.globals.gridHeight,n.globals.gridWidth,n.globals.gridHeight,"transparent");return e.add(s),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,n=e.globals,r=new ue(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Wr(e.config.stroke.width)):e.config.stroke.width,s=function(u){var d=document.createElementNS(n.SVGNS,"clipPath");return d.setAttribute("id",u),d};n.dom.elGridRectMask=s("gridRectMask".concat(n.cuid)),n.dom.elGridRectBarMask=s("gridRectBarMask".concat(n.cuid)),n.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(n.cuid)),n.dom.elForecastMask=s("forecastMask".concat(n.cuid)),n.dom.elNonForecastMask=s("nonForecastMask".concat(n.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,n.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,n.barPadForNumericAxis)),n.dom.elGridRect=r.drawRect(-i/2-2,-i/2-2,n.gridWidth+i+4,n.gridHeight+i+4,0,"#fff"),n.dom.elGridRectBar=r.drawRect(-i/2-a-2,-i/2-2,n.gridWidth+i+o+a+4,n.gridHeight+i+4,0,"#fff");var l=e.globals.markers.largestSize;n.dom.elGridRectMarker=r.drawRect(-l,-l,n.gridWidth+2*l,n.gridHeight+2*l,0,"#fff"),n.dom.elGridRectMask.appendChild(n.dom.elGridRect.node),n.dom.elGridRectBarMask.appendChild(n.dom.elGridRectBar.node),n.dom.elGridRectMarkerMask.appendChild(n.dom.elGridRectMarker.node);var c=n.dom.baseEl.querySelector("defs");c.appendChild(n.dom.elGridRectMask),c.appendChild(n.dom.elGridRectBarMask),c.appendChild(n.dom.elGridRectMarkerMask),c.appendChild(n.dom.elForecastMask),c.appendChild(n.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var n=e.i,r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(n===0&&c.globals.skipFirstTimelinelabel||n===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,x1:r,y1:i,x2:s,y2:a,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var d=c.globals.groups;if(d){for(var h=0,f=0;h<n&&f<d.length;f++)h+=d[f].cols;h===n&&(u=.6*c.globals.xAxisLabelsHeight)}}new lx(this.ctx).drawXaxisTicks(r,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var n=e.i,r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),d=c.globals.barPadForNumericAxis,h=i===0&&a===0||r===0&&s===0||i===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(n===0||n===o-1),f=new ue(this).drawLine(r-(u?d:0),i,s+(u?d:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);f.node.classList.add("apexcharts-gridline"),h&&c.config.grid.show?this.elGridBorders.add(f):l.add(f)}},{key:"_drawGridBandRect",value:function(e){var n=e.c,r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.type,l=this.w,c=new ue(this.ctx),u=l.globals.barPadForNumericAxis,d=l.config.grid[o].colors[n],h=c.drawRect(r-(o==="row"?u:0),i,s+(o==="row"?2*u:0),a,0,d,l.config.grid[o].opacity);this.elg.add(h),h.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),h.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var n=this,r=e.xCount,i=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var a,o=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(g){for(var p=g.xC,y=g.x1,v=g.y1,x=g.x2,b=g.y2,_=0;_<p;_++)y=n.xaxisLabels[_].position,x=n.xaxisLabels[_].position,n._drawGridLines({i:_,x1:y,y1:v,x2:x,y2:b,xCount:r,parent:n.elgridLinesV})}({xC:r,x1:o,y1:0,x2:a,y2:l}):(s.globals.isXNumeric&&(r=s.globals.xAxisScale.result.length),function(g){for(var p=g.xC,y=g.x1,v=g.y1,x=g.x2,b=g.y2,_=0;_<p+(s.globals.isXNumeric?0:1);_++)_===0&&p===1&&s.globals.dataPoints===1&&(x=y=s.globals.gridWidth/2),n._drawGridLines({i:_,x1:y,y1:v,x2:x,y2:b,xCount:r,parent:n.elgridLinesV}),x=y+=s.globals.gridWidth/(s.globals.isXNumeric?p-1:p)}({xC:r,x1:o,y1:0,x2:a,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,u=0,d=s.globals.gridWidth,h=i+1;this.isRangeBar&&(h=s.globals.labels.length);for(var f=0;f<h+(this.isRangeBar?1:0);f++)this._drawGridLine({i:f,xCount:h+(this.isRangeBar?1:0),x1:0,y1:c,x2:d,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/(this.isRangeBar?h:i)}}},{key:"_drawInvertedXYLines",value:function(e){var n=e.xCount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show)for(var i,s=r.globals.padHorizontal,a=r.globals.gridHeight,o=0;o<n+1;o++)r.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:n+1,x1:s,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new lx(this.ctx).drawXaxisTicks(s,0,r.globals.dom.elGraphical),i=s+=r.globals.gridWidth/n;if(r.config.grid.yaxis.lines.show)for(var l=0,c=0,u=r.globals.gridWidth,d=0;d<r.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:r.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/r.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,n=e.globals,r=new ue(this.ctx);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<n.seriesYAxisMap.length&&n.ignoreYAxisIndexes.includes(i);)i++;i===n.seriesYAxisMap.length&&(i=0);var s,a=n.yAxisScale[i].result.length-1;if(!n.isBarHorizontal||this.isRangeBar){var o,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(a=n.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((o=n.yAxisScale)===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=n.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:s,tickAmount:a})}else s=a,a=n.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:a});return this.drawGridBands(s,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:n.gridWidth/s}}},{key:"drawGridBands",value:function(e,n){var r,i,s=this,a=this.w;if(((r=a.config.grid.row.colors)===null||r===void 0?void 0:r.length)>0&&function(g,p,y,v,x,b){for(var _=0,w=0;_<p;_++,w++)w>=a.config.grid[g].colors.length&&(w=0),s._drawGridBandRect({c:w,x1:y,y1:v,x2:x,y2:b,type:g}),v+=a.globals.gridHeight/n}("row",n,0,0,a.globals.gridWidth,a.globals.gridHeight/n),((i=a.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,u=a.globals.gridHeight,d=0,h=0;d<e;d++,h++){var f;h>=a.config.grid.column.colors.length&&(h=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[d].position,c=(((f=this.xaxisLabels[d+1])===null||f===void 0?void 0:f.position)||a.globals.gridWidth)-this.xaxisLabels[d].position),this._drawGridBandRect({c:h,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=a.globals.gridWidth/o}}}}]),t}(),fZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new mr(this.ctx)}return De(t,[{key:"niceScale",value:function(e,n){var r,i,s,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(r=c.config.xaxis,i=Math.max((u.svgWidth-100)/25,2)):(r=c.config.yaxis[o],i=Math.max((u.svgHeight-100)/15,2)),G.isNumber(i)||(i=10),s=r.min!==void 0&&r.min!==null,a=r.max!==void 0&&r.min!==null;var d=r.stepSize!==void 0&&r.stepSize!==null,h=r.tickAmount!==void 0&&r.tickAmount!==null,f=h?r.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(i/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!h&&u.multiAxisTickAmount>0&&(f=u.multiAxisTickAmount,h=!0),f=f==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(f)),(e===Number.MIN_VALUE&&n===0||!G.isNumber(e)&&!G.isNumber(n)||e===Number.MIN_VALUE&&n===-Number.MAX_VALUE)&&(e=G.isNumber(r.min)?r.min:0,n=G.isNumber(r.max)?r.max:e+f,u.allSeriesCollapsed=!1),e>n){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var g=n;n=e,e=g}else e===n&&(e=e===0?0:e-1,n=n===0?2:n+1);var p=[];f<1&&(f=1);var y=f,v=Math.abs(n-e);!s&&e>0&&e/v<.15&&(e=0,s=!0),!a&&n<0&&-n/v<.15&&(n=0,a=!0);var x=(v=Math.abs(n-e))/y,b=x,_=Math.floor(Math.log10(b)),w=Math.pow(10,_),C=Math.ceil(b/w);if(x=b=(C=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][C])*w,u.isBarHorizontal&&r.stepSize&&r.type!=="datetime"?(x=r.stepSize,d=!0):d&&(x=r.stepSize),d&&r.forceNiceScale){var A=Math.floor(Math.log10(x));x*=Math.pow(10,_-A)}if(s&&a){var k=v/y;if(h)if(d)if(G.mod(v,x)!=0){var E=G.getGCD(x,k);x=k/E<10?E:k}else G.mod(x,k)==0?x=k:(k=x,h=!1);else x=k;else if(d)G.mod(v,x)==0?k=x:x=k;else if(G.mod(v,x)==0)k=x;else{k=v/(y=Math.ceil(v/x));var T=G.getGCD(v,x);v/T<i&&(k=T),x=k}y=Math.round(v/x)}else{if(s||a){if(a)if(h)e=n-x*y;else{var P=e;e=x*Math.floor(e/x),Math.abs(n-e)/G.getGCD(v,x)>i&&(e=n-x*f,e+=x*Math.floor((P-e)/x))}else if(s)if(h)n=e+x*y;else{var N=n;n=x*Math.ceil(n/x),Math.abs(n-e)/G.getGCD(v,x)>i&&(n=e+x*f,n+=x*Math.ceil((N-n)/x))}}else if(u.isMultipleYAxis&&h){var O=x*Math.floor(e/x),L=O+x*y;L<n&&(x*=2),L=n,n=(e=O)+x*y,v=Math.abs(n-e),e>0&&e<Math.abs(L-n)&&(e=0,n=x*y),n<0&&-n<Math.abs(O-e)&&(n=0,e=-x*y)}else e=x*Math.floor(e/x),n=x*Math.ceil(n/x);v=Math.abs(n-e),x=G.getGCD(v,x),y=Math.round(v/x)}if(h||s||a||(y=Math.ceil((v-l)/(x+l)))>16&&G.getPrimeFactors(y).length<2&&y++,!h&&r.forceNiceScale&&u.yValueDecimal===0&&y>v&&(y=v,x=Math.round(v/y)),y>i&&(!h&&!d||r.forceNiceScale)){var $=G.getPrimeFactors(y),F=$.length-1,B=y;e:for(var D=0;D<F;D++)for(var z=0;z<=F-D;z++){for(var W=Math.min(z+D,F),X=B,q=1,J=z;J<=W;J++)q*=$[J];if((X/=q)<i){B=X;break e}}x=B===y?v:v/B,y=Math.round(v/x)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=y);var ae=e-x,_e=x*l;do ae+=x,p.push(G.stripNumber(ae,7));while(n-ae>_e);return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"linearScale",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(n-e),o=[];if(e===n)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(r=this._adjustTicksForSmallRange(r,i,a))==="dataPoints"&&(r=this.w.globals.dataPoints-1),s||(s=a/r),s=Math.round(100*(s+Number.EPSILON))/100,r===Number.MAX_VALUE&&(r=5,s=1);for(var l=e;r>=0;)o.push(l),l=G.preciseAddition(l,s),r-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,n,r){n<=0&&(n=Math.max(e,r)),e<=0&&(e=Math.min(n,r));for(var i=[],s=Math.ceil(Math.log(n)/Math.log(r)+1),a=Math.floor(Math.log(e)/Math.log(r));a<s;a++)i.push(Math.pow(r,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,n,r){n<=0&&(n=Math.max(e,r)),e<=0&&(e=Math.min(n,r));for(var i=[],s=Math.log(n)/Math.log(r),a=Math.log(e)/Math.log(r),o=s-a,l=Math.round(o),c=o/l,u=0,d=a;u<l;u++,d+=c)i.push(Math.pow(r,d));return i.push(Math.pow(r,s)),{result:i,niceMin:e,niceMax:n}}},{key:"_adjustTicksForSmallRange",value:function(e,n,r){var i=e;if(n!==void 0&&this.w.config.yaxis[n].labels.formatter&&this.w.config.yaxis[n].tickAmount===void 0){var s=Number(this.w.config.yaxis[n].labels.formatter(1));G.isNumber(s)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(r))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,n,r){var i=this.w.globals,s=this.w.config,a=i.isBarHorizontal?s.xaxis:s.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var o=Math.abs(r-n);a.logarithmic&&o<=5&&(i.invalidLogScale=!0),a.logarithmic&&o>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(n,r,a.logBase):this.logarithmicScale(n,r,a.logBase)):r!==-Number.MAX_VALUE&&G.isNumber(r)&&n!==Number.MAX_VALUE&&G.isNumber(n)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(n,r,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,n){var r=this.w,i=r.globals;if(n!==-Number.MAX_VALUE&&G.isNumber(n)){var s=i.xTickAmount;i.xAxisScale=this.linearScale(e,n,s,0,r.config.xaxis.stepSize)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,n=this.w.config,r=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=r.seriesYAxisMap,s=r.minYArr,a=r.maxYArr;r.allSeriesCollapsed=!0,r.barGroups=[],i.forEach(function(o,l){var c=[];o.forEach(function(u){var d,h=(d=n.series[u])===null||d===void 0?void 0:d.group;c.indexOf(h)<0&&c.push(h)}),o.length>0?function(){var u,d,h=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=h,p=f;if(n.chart.stacked)(function(){var x=new Array(r.dataPoints).fill(0),b=[],_=[],w=[];c.forEach(function(){b.push(x.map(function(){return Number.MIN_VALUE})),_.push(x.map(function(){return Number.MIN_VALUE})),w.push(x.map(function(){return Number.MIN_VALUE}))});for(var C=function(k){!u&&n.series[o[k]].type&&(u=n.series[o[k]].type);var E=o[k];d=n.series[E].group?n.series[E].group:"axis-".concat(l),!(r.collapsedSeriesIndices.indexOf(E)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(E)<0)||(r.allSeriesCollapsed=!1,c.forEach(function(T,P){if(n.series[E].group===T)for(var N=0;N<r.series[E].length;N++){var O=r.series[E][N];O>=0?_[P][N]+=O:w[P][N]+=O,b[P][N]+=O,g=Math.min(g,O),p=Math.max(p,O)}})),u!=="bar"&&u!=="column"||r.barGroups.push(d)},A=0;A<o.length;A++)C(A);u||(u=n.chart.type),u==="bar"||u==="column"?c.forEach(function(k,E){h=Math.min(h,Math.min.apply(null,w[E])),f=Math.max(f,Math.max.apply(null,_[E]))}):(c.forEach(function(k,E){g=Math.min(g,Math.min.apply(null,b[E])),p=Math.max(p,Math.max.apply(null,b[E]))}),h=g,f=p),h===Number.MIN_VALUE&&f===Number.MIN_VALUE&&(f=-Number.MAX_VALUE)})();else for(var y=0;y<o.length;y++){var v=o[y];h=Math.min(h,s[v]),f=Math.max(f,a[v]),!(r.collapsedSeriesIndices.indexOf(v)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(v)<0)||(r.allSeriesCollapsed=!1)}n.yaxis[l].min!==void 0&&(h=typeof n.yaxis[l].min=="function"?n.yaxis[l].min(h):n.yaxis[l].min),n.yaxis[l].max!==void 0&&(f=typeof n.yaxis[l].max=="function"?n.yaxis[l].max(f):n.yaxis[l].max),r.barGroups=r.barGroups.filter(function(x,b,_){return _.indexOf(x)===b}),e.setYScaleForIndex(l,h,f),o.forEach(function(x){s[x]=r.yAxisScale[l].niceMin,a[x]=r.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),t}(),pO=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.scales=new fZ(e)}return De(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;i===null&&(i=e+1);var c=a.series,u=c,d=c;s.chart.type==="candlestick"?(u=a.seriesCandleL,d=a.seriesCandleH):s.chart.type==="boxPlot"?(u=a.seriesCandleO,d=a.seriesCandleC):a.isRangeData&&(u=a.seriesRangeStart,d=a.seriesRangeEnd);var h=!1;if(a.seriesX.length>=i){var f,g=(f=a.brushSource)===null||f===void 0?void 0:f.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||g!=null&&g.enabled&&g!=null&&g.autoScaleYaxis)&&(h=!0)}for(var p=e;p<i;p++){a.dataPoints=Math.max(a.dataPoints,c[p].length);var y=s.series[p].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(E){return E!==void 0}).length),a.labels.length&&s.xaxis.type!=="datetime"&&a.series.reduce(function(E,T){return E+T.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var v=0,x=c[p].length-1;if(h){if(s.xaxis.min)for(;v<x&&a.seriesX[p][v]<s.xaxis.min;v++);if(s.xaxis.max)for(;x>v&&a.seriesX[p][x]>s.xaxis.max;x--);}for(var b=v;b<=x&&b<a.series[p].length;b++){var _=c[p][b];if(_!==null&&G.isNumber(_)){var w,C,A,k;switch(((w=d[p])===null||w===void 0?void 0:w[b])!==void 0&&(o=Math.max(o,d[p][b]),n=Math.min(n,d[p][b])),((C=u[p])===null||C===void 0?void 0:C[b])!==void 0&&(n=Math.min(n,u[p][b]),r=Math.max(r,u[p][b])),y){case"candlestick":a.seriesCandleC[p][b]!==void 0&&(o=Math.max(o,a.seriesCandleH[p][b]),n=Math.min(n,a.seriesCandleL[p][b]));break;case"boxPlot":a.seriesCandleC[p][b]!==void 0&&(o=Math.max(o,a.seriesCandleC[p][b]),n=Math.min(n,a.seriesCandleO[p][b]))}y&&y!=="candlestick"&&y!=="boxPlot"&&y!=="rangeArea"&&y!=="rangeBar"&&(o=Math.max(o,a.series[p][b]),n=Math.min(n,a.series[p][b])),a.seriesGoals[p]&&a.seriesGoals[p][b]&&Array.isArray(a.seriesGoals[p][b])&&a.seriesGoals[p][b].forEach(function(E){o=Math.max(o,E.value),n=Math.min(n,E.value)}),r=o,_=G.noExponents(_),G.isFloat(_)&&(a.yValueDecimal=Math.max(a.yValueDecimal,_.toString().split(".")[1].length)),l>((A=u[p])===null||A===void 0?void 0:A[b])&&((k=u[p])===null||k===void 0?void 0:k[b])<0&&(l=u[p][b])}else a.hasNullValues=!0}y!=="bar"&&y!=="column"||(l<0&&o<0&&(o=0,r=Math.max(r,0)),l===Number.MIN_VALUE&&(l=0,n=Math.min(n,0)))}return s.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=n),s.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:n,highestY:r}}},{key:"setYRange",value:function(){var e=this.w.globals,n=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var r,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)r=this.getMinYMaxY(s),e.minYArr[s]=r.lowestY,e.maxYArr[s]=r.highestY,i=Math.min(i,r.lowestY)}return r=this.getMinYMaxY(0,i,null,e.series.length),n.chart.type==="bar"?(e.minY=r.minY,e.maxY=r.maxY):(e.minY=r.lowestY,e.maxY=r.highestY),i=r.lowestY,n.chart.stacked&&this._setStackedMinMax(),n.chart.type==="line"||n.chart.type==="area"||n.chart.type==="scatter"||n.chart.type==="candlestick"||n.chart.type==="boxPlot"||n.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(r.minY,e.minY):r.minY,n.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){n.xaxis[a]!==void 0&&typeof n.xaxis[a]=="number"&&(a==="min"?e.minY=n.xaxis[a]:e.maxY=n.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],n.series.forEach(function(a){switch(a.type||n.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,n=this.w.config,r=n.xaxis.type==="numeric"||n.xaxis.type==="datetime"||n.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&G.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&n.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(n.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),n.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(n.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(i=s-1)}}else i=n.xaxis.tickAmount;if(e.xTickAmount=i,n.xaxis.max!==void 0&&typeof n.xaxis.max=="number"&&(e.maxX=n.xaxis.max),n.xaxis.min!==void 0&&typeof n.xaxis.min=="number"&&(e.minX=n.xaxis.min),n.xaxis.range!==void 0&&(e.minX=e.maxX-n.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(n.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,n.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,n.xaxis.stepSize),e.seriesX=e.labels.slice());r&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var n=0;n<e.series.length;n++)if(e.seriesZ[n]!==void 0)for(var r=0;r<e.seriesZ[n].length;r++)e.seriesZ[n][r]!==null&&G.isNumber(e.seriesZ[n][r])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[n][r]),e.minZ=Math.min(e.minZ,e.seriesZ[n][r]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,n=this.w.config;if(e.minX===e.maxX){var r=new hi(this.ctx);if(n.xaxis.type==="datetime"){var i=r.getDate(e.minX);n.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var s=r.getDate(e.maxX);n.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(n.xaxis.type==="numeric"||n.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(n,r){if(n.length){n.length===1&&n.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=n.slice();i.sort(function(s,a){return s-a}),i.forEach(function(s,a){if(a>0){var o=s-i[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,n=this.w.globals;if(n.series.length){var r=n.seriesGroups;r.length||(r=[this.w.globals.seriesNames.map(function(a){return a})]);var i={},s={};r.forEach(function(a){i[a]=[],s[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(n.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<n.series[n.maxValsInArrayIndex].length;l++){var c,u,d,h;i[a][l]===void 0&&(i[a][l]=0,s[a][l]=0),(e.w.config.chart.stacked&&!n.comboCharts||e.w.config.chart.stacked&&n.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((d=e.w.config.series)===null||d===void 0||(h=d[o])===null||h===void 0?void 0:h.type)==="column"))&&n.series[o][l]!==null&&G.isNumber(n.series[o][l])&&(n.series[o][l]>0?i[a][l]+=parseFloat(n.series[o][l])+1e-4:s[a][l]+=parseFloat(n.series[o][l]))}})}),Object.entries(i).forEach(function(a){var o=DQ(a,1)[0];i[o].forEach(function(l,c){n.maxY=Math.max(n.maxY,i[o][c]),n.minY=Math.min(n.minY,s[o][c])})})}}}]),t}(),SD=function(){function t(e,n){Me(this,t),this.ctx=e,this.elgrid=n,this.w=e.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xAxisoffX=r.config.xaxis.position==="bottom"?r.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new zu(e)}return De(t,[{key:"drawYaxis",value:function(e){var n=this.w,r=new ue(this.ctx),i=n.config.yaxis[e].labels.style,s=i.fontSize,a=i.fontFamily,o=i.fontWeight,l=r.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(n.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=r.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=n.globals.yAxisScale[e].result.length-1,d=n.globals.gridHeight/u,h=n.globals.yLabelFormatters[e],f=this.axesUtils.checkForReversedLabels(e,n.globals.yAxisScale[e].result.slice());if(n.config.yaxis[e].labels.show){var g=n.globals.translateY+n.config.yaxis[e].labels.offsetY;n.globals.isBarHorizontal?g=0:n.config.chart.type==="heatmap"&&(g-=d/2),g+=parseInt(s,10)/3;for(var p=u;p>=0;p--){var y=h(f[p],p,n),v=n.config.yaxis[e].labels.padding;n.config.yaxis[e].opposite&&n.config.yaxis.length!==0&&(v*=-1);var x=this.getTextAnchor(n.config.yaxis[e].labels.align,n.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(i.colors,e),_=Array.isArray(b)?b[p]:b,w=G.listToArray(n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(A){return A.textContent}),C=r.drawText({x:v,y:g,text:w.includes(y)&&!n.config.yaxis[e].labels.showDuplicates?"":y,textAnchor:x,fontSize:s,fontFamily:a,fontWeight:o,maxWidth:n.config.yaxis[e].labels.maxWidth,foreColor:_,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});c.add(C),this.addTooltip(C,y),n.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(r,C,firstLabel,n.config.yaxis[e].labels.rotate),g+=d}}return this.addYAxisTitle(r,l,e),this.addAxisBorder(r,l,e,u,d),l}},{key:"getTextAnchor",value:function(e,n){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":n?"start":"end"}},{key:"addTooltip",value:function(e,n){var r=document.createElementNS(this.w.globals.SVGNS,"title");r.textContent=Array.isArray(n)?n.join(" "):n,e.node.appendChild(r)}},{key:"rotateLabel",value:function(e,n,r,i){var s=e.rotateAroundCenter(r.node),a=e.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(".concat(i," ").concat(s.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,n,r){var i=this.w;if(i.config.yaxis[r].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),a=i.config.yaxis[r].opposite?i.globals.translateYAxisX[r]:0,o=e.drawText({x:a,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[r].title.offsetY,text:i.config.yaxis[r].title.text,textAnchor:"end",foreColor:i.config.yaxis[r].title.style.color,fontSize:i.config.yaxis[r].title.style.fontSize,fontWeight:i.config.yaxis[r].title.style.fontWeight,fontFamily:i.config.yaxis[r].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[r].title.style.cssClass)});s.add(o),n.add(s)}}},{key:"addAxisBorder",value:function(e,n,r,i,s){var a=this.w,o=a.config.yaxis[r].axisBorder,l=31+o.offsetX;if(a.config.yaxis[r].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);n.add(c)}a.config.yaxis[r].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,i,o,a.config.yaxis[r].axisTicks,r,s,n)}},{key:"drawYaxisInversed",value:function(e){var n=this.w,r=new ue(this.ctx),i=r.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});i.add(s);var a=n.globals.yAxisScale[e].result.length-1,o=n.globals.gridWidth/a+.1,l=o+n.config.xaxis.labels.offsetX,c=n.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,n.globals.yAxisScale[e].result.slice()),d=n.globals.timescaleLabels;if(d.length>0&&(this.xaxisLabels=d.slice(),a=(u=d.slice()).length),n.config.xaxis.labels.show)for(var h=d.length?0:a;d.length?h<d.length:h>=0;d.length?h++:h--){var f=c(u[h],h,n),g=n.globals.gridWidth+n.globals.padHorizontal-(l-o+n.config.xaxis.labels.offsetX);if(d.length){var p=this.axesUtils.getLabel(u,d,g,h,this.drawnLabels,this.xaxisFontSize);g=p.x,f=p.text,this.drawnLabels.push(p.text),h===0&&n.globals.skipFirstTimelinelabel&&(f=""),h===u.length-1&&n.globals.skipLastTimelinelabel&&(f="")}var y=r.drawText({x:g,y:this.xAxisoffX+n.config.xaxis.labels.offsetY+30-(n.config.xaxis.position==="top"?n.globals.xAxisHeight+n.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:n.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(n.config.xaxis.labels.style.cssClass)});s.add(y),y.tspan(f),this.addTooltip(y,f),l+=o}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var n=this.w,r=new ue(this.ctx),i=n.config.xaxis.axisBorder;if(i.show){var s=0;n.config.chart.type==="bar"&&n.globals.isXNumeric&&(s-=15);var a=r.drawLine(n.globals.padHorizontal+s+i.offsetX,this.xAxisoffX,n.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var n=this.w,r=new ue(this.ctx);if(n.config.xaxis.title.text!==void 0){var i=r.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=r.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(n.config.xaxis.title.style.fontSize)+n.config.xaxis.title.offsetY+20,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(n.config.xaxis.title.style.cssClass)});i.add(s),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,n){var r=this.w,i=new ue(this.ctx),s=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=s?s.getBoundingClientRect():{width:0,height:0},o=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,n);o.setAttribute("x",c.xPos-(n?10:0));var u=i.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(n?-1*r.config.yaxis[e].title.rotate:r.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,n,r,i){var s=this.w,a=0,o=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(i?a=n.width+s.config.yaxis[e].title.offsetX+r.width/2+o/2:(a=-1*n.width+s.config.yaxis[e].title.offsetX+o/2+r.width/2,s.globals.isBarHorizontal&&(o=25,a=-1*n.width-s.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,n){var r=this.w,i=0,s=0,a=18,o=1;r.config.yaxis.length>1&&(this.multipleYs=!0),r.config.yaxis.forEach(function(l,c){var u=r.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,d=e[c].width+n[c].width;l.opposite?r.globals.isBarHorizontal?(s=r.globals.gridWidth+r.globals.translateX-1,r.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=r.globals.gridWidth+r.globals.translateX+o,u||(o+=d+20),r.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(i=r.globals.translateX-a,u||(a+=d+20),r.globals.translateYAxisX[c]=i+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;G.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(n,r){var i=e.config.yaxis[r];if(i&&!i.floating&&i.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g")),a=G.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-label"))),o=s.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",i.labels.align)}),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?s.setAttribute("transform","translate(".concat(o.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&s.setAttribute("transform","translate(".concat(o.width,", 0)")):s.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),t}(),iNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.documentEvent=G.bind(this.documentEvent,this)}return De(t,[{key:"addEventListener",value:function(e,n){var r=this.w;r.globals.events.hasOwnProperty(e)?r.globals.events[e].push(n):r.globals.events[e]=[n]}},{key:"removeEventListener",value:function(e,n){var r=this.w;if(r.globals.events.hasOwnProperty(e)){var i=r.globals.events[e].indexOf(n);i!==-1&&r.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,n){var r=this.w;if(r.globals.events.hasOwnProperty(e)){n&&n.length||(n=[]);for(var i=r.globals.events[e],s=i.length,a=0;a<s;a++)i[a].apply(null,n)}}},{key:"setupEventHandlers",value:function(){var e=this,n=this.w,r=this.ctx,i=n.globals.dom.baseEl.querySelector(n.globals.chartClass);this.ctx.eventList.forEach(function(s){i.addEventListener(s,function(a){var o=a.target.getAttribute("i")===null&&n.globals.capturedSeriesIndex!==-1?n.globals.capturedSeriesIndex:a.target.getAttribute("i"),l=a.target.getAttribute("j")===null&&n.globals.capturedDataPointIndex!==-1?n.globals.capturedDataPointIndex:a.target.getAttribute("j"),c=Object.assign({},n,{seriesIndex:n.globals.axisCharts?o:0,dataPointIndex:l});a.type==="mousemove"||a.type==="touchmove"?typeof n.config.chart.events.mouseMove=="function"&&n.config.chart.events.mouseMove(a,r,c):a.type==="mouseleave"||a.type==="touchleave"?typeof n.config.chart.events.mouseLeave=="function"&&n.config.chart.events.mouseLeave(a,r,c):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof n.config.chart.events.click=="function"&&n.config.chart.events.click(a,r,c),r.ctx.events.fireEvent("click",[a,r,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){n.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var n=this.w,r=e.target.className;if(e.type==="click"){var i=n.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&r!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}n.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,n.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),sNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"setCurrentLocaleValues",value:function(e){var n=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(n=this.w.config.chart.locales.concat(window.Apex.chart.locales));var r=n.filter(function(s){return s.name===e})[0];if(!r)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=G.extend(cZ,r);this.w.globals.locale=i.options}}]),t}(),aNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"drawAxis",value:function(e,n){var r,i,s=this,a=this.w.globals,o=this.w.config,l=new lx(this.ctx,n),c=new SD(this.ctx,n);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(i=c.drawYaxisInversed(0),r=l.drawXaxisInversed(0),a.dom.elGraphical.add(r),a.dom.elGraphical.add(i)):(r=l.drawXaxis(),a.dom.elGraphical.add(r),o.yaxis.map(function(u,d){if(a.ignoreYAxisIndexes.indexOf(d)===-1&&(i=c.drawYaxis(d),a.dom.Paper.add(i),s.w.config.grid.position==="back")){var h=a.dom.Paper.children()[1];h.remove(),a.dom.Paper.add(h)}})))}}]),t}(),gO=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,n=new ue(this.ctx),r=new gi(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=i.colorFrom,l=i.colorTo,c=i.opacityFrom,u=i.opacityTo,d=i.stops,h=s.enabled,f=s.left,g=s.top,p=s.blur,y=s.color,v=s.opacity,x=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(x=n.drawGradient("vertical",o,l,c,u,null,d,null));var b=n.drawRect();e.config.xaxis.crosshairs.width===1&&(b=n.drawLine());var _=e.globals.gridHeight;(!G.isNumber(_)||_<0)&&(_=0);var w=e.config.xaxis.crosshairs.width;(!G.isNumber(w)||w<0)&&(w=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:_,width:w,height:_,fill:x,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),h&&(b=r.dropShadow(b,{left:f,top:g,blur:p,color:y,opacity:v})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,n=new ue(this.ctx),r=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=n.drawLine(-i,0,e.globals.gridWidth+i,0,r.stroke.color,r.stroke.dashArray,r.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var a=n.drawLine(-i,0,e.globals.gridWidth+i,0,r.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),t}(),oNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"checkResponsiveConfig",value:function(e){var n=this,r=this.w,i=r.config;if(i.responsive.length!==0){var s=i.responsive.slice();s.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var a=new ox({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,d=window.innerWidth>0?window.innerWidth:screen.width;if(d>u){var h=G.clone(r.globals.initialConfig);h.series=G.clone(r.config.series);var f=mr.extendArrayProps(a,h,r);c=G.extend(f,c),c=G.extend(r.config,c),n.overrideResponsiveOptions(c)}else for(var g=0;g<s.length;g++)d<s[g].breakpoint&&(c=mr.extendArrayProps(a,s[g].options,r),c=G.extend(r.config,c),n.overrideResponsiveOptions(c))};if(e){var l=mr.extendArrayProps(a,e,r);l=G.extend(r.config,l),o(l=G.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var n=new ox(e).init({responsiveOverride:!0});this.w.config=n}}]),t}(),lNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return De(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,n=e.chart,r=e.plotOptions;return n.type==="treemap"&&r.treemap&&r.treemap.distributed||n.type==="heatmap"&&r.heatmap&&r.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,n=e.chart,r=e.plotOptions;return r.bar&&r.bar.distributed&&(n.type==="bar"||n.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,n=new G;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var r=Wr(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(r),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,n));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var n=this,r=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,r.config.series.map(function(i,s){var a=e[s]||e[0];return typeof a=="function"?a({value:r.globals.axisCharts?r.globals.series[s][0]||0:r.globals.series[s],seriesIndex:s,dataPointIndex:s,w:n.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,n){e.forEach(function(r,i){r&&(n[i]=r)})}},{key:"getMonochromeColors",value:function(e,n,r){var i=e.color,s=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?n[0].length*n.length:n.length,l=1/(o/s),c=0;return Array.from({length:o},function(){var u=a==="dark"?r.shadeColor(-1*c,i):r.shadeColor(c,i);return c+=l,u})}},{key:"applyColorTypes",value:function(e,n){var r=this,i=this.w;e.forEach(function(s){i.globals[s].colors=i.config[s].colors===void 0?r.isColorFn?i.config.colors:n:i.config[s].colors.slice(),r.pushExtraColors(i.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var n=this.w;n.globals.dataLabels.style.colors=n.config.dataLabels.style.colors===void 0?e:n.config.dataLabels.style.colors.slice(),this.pushExtraColors(n.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var n=this.w;n.globals.markers.colors=n.config.markers.colors===void 0?e:n.config.markers.colors.slice(),this.pushExtraColors(n.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,s=n||i.globals.series.length;if(r===null&&(r=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),r&&i.globals.series.length&&(s=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<s)for(var a=s-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var n=e.theme.mode,r=n==="dark"?"palette4":n==="light"?"palette1":e.theme.palette||"palette1",i=n==="dark"?"#f6f7f8":n==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=n||"light",e.chart.foreColor=i,e.theme.palette=r,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),t}(),cNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var n=this.w,r=e==="title"?n.config.title:n.config.subtitle,i=n.globals.svgWidth/2,s=r.offsetY,a="middle";if(r.align==="left"?(i=10,a="start"):r.align==="right"&&(i=n.globals.svgWidth-10,a="end"),i+=r.offsetX,s=s+parseInt(r.style.fontSize,10)+r.margin/2,r.text!==void 0){var o=new ue(this.ctx).drawText({x:i,y:s,text:r.text,textAnchor:a,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,fontWeight:r.style.fontWeight,foreColor:r.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),n.globals.dom.Paper.add(o)}}}]),t}(),uNe=function(){function t(e){Me(this,t),this.w=e.w,this.dCtx=e}return De(t,[{key:"getTitleSubtitleCoords",value:function(e){var n=this.w,r=0,i=0,s=e==="title"?n.config.title.floating:n.config.subtitle.floating,a=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!s){var o=a.getBoundingClientRect();r=o.width,i=n.globals.axisCharts?o.height+5:o.height}return{width:r,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,n=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(n.style.maxHeight=e.globals.svgHeight/2+"px");var r=Object.assign({},G.getBoundingClientRect(n));return n!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:r.x,y:r.y,height:r.height,width:r.height===0?0:r.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,n=this.w,r=[];n.config.series.forEach(function(l,c){l.data.forEach(function(u,d){var h;h=n.globals.series[c][d],i=n.config.dataLabels.formatter(h,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:d,w:n}),r.push(i)})});var i=G.getLargestStringFromArr(r),s=new ue(this.dCtx.ctx),a=n.config.dataLabels.style,o=s.getTextRects(i,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,n){var r=e;if(this.w.globals.isMultiLineX){var i=n.map(function(a,o){return Array.isArray(a)?a.length:1}),s=Math.max.apply(Math,Wr(i));r=n[i.indexOf(s)]}return r}}]),t}(),dNe=function(){function t(e){Me(this,t),this.w=e.w,this.dCtx=e}return De(t,[{key:"getxAxisLabelsCoords",value:function(){var e,n=this.w,r=n.globals.labels.slice();if(n.config.xaxis.convertedCatToNumeric&&r.length===0&&(r=n.globals.categoryLabels),n.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},n.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=n.config.legend.position!=="left"&&n.config.legend.position!=="right"||n.config.legend.floating?0:this.dCtx.lgRect.width;var s=n.globals.xLabelFormatter,a=G.getLargestStringFromArr(r),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r);n.globals.isBarHorizontal&&(o=a=n.globals.yAxisScale[0].result.reduce(function(g,p){return g.length>p.length?g:p},0));var l=new Nb(this.dCtx.ctx),c=a;a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new hi(this.dCtx.ctx).formatDate,w:n}),o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new hi(this.dCtx.ctx).formatDate,w:n}),(n.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var u=new ue(this.dCtx.ctx),d=u.getTextRects(a,n.config.xaxis.labels.style.fontSize),h=d;if(a!==o&&(h=u.getTextRects(o,n.config.xaxis.labels.style.fontSize)),(e={width:d.width>=h.width?d.width:h.width,height:d.height>=h.height?d.height:h.height}).width*r.length>n.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&n.config.xaxis.labels.rotate!==0||n.config.xaxis.labels.rotateAlways){if(!n.globals.isBarHorizontal){n.globals.rotateXLabels=!0;var f=function(g){return u.getTextRects(g,n.config.xaxis.labels.style.fontSize,n.config.xaxis.labels.style.fontFamily,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1)};d=f(a),a!==o&&(h=f(o)),e.height=(d.height>h.height?d.height:h.height)/1.5,e.width=d.width>h.width?d.width:h.width}}else n.globals.rotateXLabels=!1}return n.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,n=this.w;if(!n.globals.hasXaxisGroups)return{width:0,height:0};var r,i=((e=n.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||n.config.xaxis.labels.style.fontSize,s=n.globals.groups.map(function(d){return d.title}),a=G.getLargestStringFromArr(s),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s),l=new ue(this.dCtx.ctx),c=l.getTextRects(a,i),u=c;return a!==o&&(u=l.getTextRects(o,i)),r={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},n.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,n=0,r=0;if(e.config.xaxis.title.text!==void 0){var i=new ue(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);n=i.width,r=i.height}return{width:n,height:r}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,n=this.w;this.dCtx.timescaleLabels=n.globals.timescaleLabels.slice();var r=this.dCtx.timescaleLabels.map(function(s){return s.value}),i=r.reduce(function(s,a){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>a.length?s:a},0);return 1.05*(e=new ue(this.dCtx.ctx).getTextRects(i,n.config.xaxis.labels.style.fontSize)).width*r.length>n.globals.gridWidth&&n.config.xaxis.labels.rotate!==0&&(n.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var n=this,r=this.w,i=r.globals,s=r.config,a=s.xaxis.type,o=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var l=r.config.yaxis[0].opposite&&r.globals.isBarHorizontal,c=function(u,d){s.yaxis.length>1&&function(h){return i.collapsedSeriesIndices.indexOf(h)!==-1}(d)||function(h){if(n.dCtx.timescaleLabels&&n.dCtx.timescaleLabels.length){var f=n.dCtx.timescaleLabels[0],g=n.dCtx.timescaleLabels[n.dCtx.timescaleLabels.length-1].position+o/1.75-n.dCtx.yAxisWidthRight,p=f.position-o/1.75+n.dCtx.yAxisWidthLeft,y=r.config.legend.position==="right"&&n.dCtx.lgRect.width>0?n.dCtx.lgRect.width:0;g>i.svgWidth-i.translateX-y&&(i.skipLastTimelinelabel=!0),p<-(h.show&&!h.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:o/1.75)&&(i.skipFirstTimelinelabel=!0)}else a==="datetime"?n.dCtx.gridPad.right<o&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):a!=="datetime"&&n.dCtx.gridPad.right<o/2-n.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!r.config.xaxis.labels.trim&&(n.dCtx.xPadRight=o/2+1)}(u)};s.yaxis.forEach(function(u,d){l?(n.dCtx.gridPad.left<o&&(n.dCtx.xPadLeft=o/2+1),n.dCtx.xPadRight=o/2+1):c(u,d)})}}]),t}(),hNe=function(){function t(e){Me(this,t),this.w=e.w,this.dCtx=e}return De(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,n=this.w,r=[],i=10,s=new zu(this.dCtx.ctx);return n.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:n},c=n.globals.yAxisScale[o],u=0;if(!s.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(u=a.labels.minWidth),!s.isYAxisHidden(o)&&a.labels.show&&c.result.length){var d=n.globals.yLabelFormatters[o],h=c.niceMin===Number.MIN_VALUE?0:c.niceMin,f=c.result.reduce(function(_,w){var C,A;return((C=String(d(_,l)))===null||C===void 0?void 0:C.length)>((A=String(d(w,l)))===null||A===void 0?void 0:A.length)?_:w},h),g=f=d(f,l);if(f!==void 0&&f.length!==0||(f=c.niceMax),n.globals.isBarHorizontal){i=0;var p=n.globals.labels.slice();f=G.getLargestStringFromArr(p),f=d(f,{seriesIndex:o,dataPointIndex:-1,w:n}),g=e.dCtx.dimHelpers.getLargestStringFromMultiArr(f,p)}var y=new ue(e.dCtx.ctx),v="rotate(".concat(a.labels.rotate," 0 0)"),x=y.getTextRects(f,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1),b=x;f!==g&&(b=y.getTextRects(g,a.labels.style.fontSize,a.labels.style.fontFamily,v,!1)),r.push({width:(u>b.width||u>x.width?u:b.width>x.width?b.width:x.width)+i,height:b.height>x.height?b.height:x.height})}else r.push({width:0,height:0})}),r}},{key:"getyAxisTitleCoords",value:function(){var e=this,n=this.w,r=[];return n.config.yaxis.map(function(i,s){if(i.show&&i.title.text!==void 0){var a=new ue(e.dCtx.ctx),o="rotate(".concat(i.title.rotate," 0 0)"),l=a.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,o,!1);r.push({width:l.width,height:l.height})}else r.push({width:0,height:0})}),r}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,n=0,r=0,i=0,s=e.globals.yAxisScale.length>1?10:0,a=new zu(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,d=0;l.width>0&&!u?(d=l.width+s,function(h){return e.globals.ignoreYAxisIndexes.indexOf(h)>-1}(c)&&(d=d-l.width-s)):d=u||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?i+=d:r+=d,n+=d};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(n=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=r,this.dCtx.yAxisWidthRight=i,n}}]),t}(),fNe=function(){function t(e){Me(this,t),this.w=e.w,this.dCtx=e}return De(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var n=this.w,r=n.config,i=n.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===r.series.length)return 0;var s=function(f){return["bar","rangeBar","candlestick","boxPlot"].includes(f)},a=r.chart.type,o=0,l=s(a)?r.series.length:1;i.comboBarCount>0&&(l=i.comboBarCount),i.collapsedSeries.forEach(function(f){s(f.type)&&(l-=1)}),r.chart.stacked&&(l=1);var c=s(a)||i.comboBarCount>0,u=Math.abs(i.initialMaxX-i.initialMinX);if(c&&i.isXNumeric&&!i.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=i.dataPoints);var d=u/e,h=i.minXDiff&&i.minXDiff/d>0?i.minXDiff/d:0;h>e/2&&(h/=2),(o=h*parseInt(r.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),i.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,n=this.w,r=n.globals,i=this.dCtx.isSparkline||!r.axisCharts?0:10;["title","subtitle"].forEach(function(o){n.config[o].text!==void 0?i+=n.config[o].margin:i+=e.dCtx.isSparkline||!r.axisCharts?0:5}),!n.config.legend.show||n.config.legend.position!=="bottom"||n.config.legend.floating||r.axisCharts||(i+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");r.gridHeight-=s.height+a.height+i,r.translateY+=s.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,n){var r=this.w,i=new zu(this.dCtx.ctx);r.config.yaxis.forEach(function(s,a){r.globals.ignoreYAxisIndexes.indexOf(a)!==-1||s.floating||i.isYAxisHidden(a)||(s.opposite&&(r.globals.translateX-=n[a].width+e[a].width+parseInt(s.labels.style.fontSize,10)/1.2+12),r.globals.translateX<2&&(r.globals.translateX=2))})}}]),t}(),V1=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new uNe(this),this.dimYAxis=new hNe(this),this.dimXAxis=new dNe(this),this.dimGrid=new fNe(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return De(t,[{key:"plotCoords",value:function(){var e=this,n=this.w,r=n.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(n.config.stroke.width)?Math.max.apply(Math,Wr(n.config.stroke.width)):n.config.stroke.width;this.isSparkline&&((n.config.markers.discrete.length>0||n.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=DQ(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),r.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),r.gridHeight=r.gridHeight-this.gridPad.top-this.gridPad.bottom,r.gridWidth=r.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(r.gridWidth);r.gridWidth=r.gridWidth-2*s,r.translateX=r.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),r.translateY=r.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,n=this.w,r=n.globals,i=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();r.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),n.globals.yLabelsCoords=[],n.globals.yTitleCoords=[],n.config.yaxis.map(function(f,g){n.globals.yLabelsCoords.push({width:i[g].width,index:g}),n.globals.yTitleCoords.push({width:s[g].width,index:g})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),r.translateXAxisY=n.globals.rotateXLabels?this.xAxisHeight/8:-4,r.translateXAxisX=n.globals.rotateXLabels&&n.globals.isXNumeric&&n.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,n.globals.isBarHorizontal&&(r.rotateXLabels=!1,r.translateXAxisY=parseInt(n.config.xaxis.labels.style.fontSize,10)/1.5*-1),r.translateXAxisY=r.translateXAxisY+n.config.xaxis.labels.offsetY,r.translateXAxisX=r.translateXAxisX+n.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;r.xAxisLabelsHeight=this.xAxisHeight-l.height,r.xAxisGroupLabelsHeight=r.xAxisLabelsHeight-a.height,r.xAxisLabelsWidth=this.xAxisWidth,r.xAxisHeight=this.xAxisHeight;var d=10;(n.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||n.config.chart.type==="treemap")&&(c=0,u=0,d=0),this.isSparkline||n.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var h=function(){r.translateX=c+e.datalabelsCoords.width,r.gridHeight=r.svgHeight-e.lgRect.height-u-(e.isSparkline||n.config.chart.type==="treemap"?0:n.globals.rotateXLabels?10:15),r.gridWidth=r.svgWidth-c-2*e.datalabelsCoords.width};switch(n.config.xaxis.position==="top"&&(d=r.xAxisHeight-n.config.xaxis.axisTicks.height-5),n.config.legend.position){case"bottom":r.translateY=d,h();break;case"top":r.translateY=this.lgRect.height+d,h();break;case"left":r.translateY=d,r.translateX=this.lgRect.width+c+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-u-12,r.gridWidth=r.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":r.translateY=d,r.translateX=c+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-u-12,r.gridWidth=r.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,i),new SD(this.ctx).setYAxisXPosition(i,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,n=e.globals,r=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var s=r.chart.type==="pie"||r.chart.type==="polarArea"||r.chart.type==="donut"?"pie":"radialBar",a=r.plotOptions[s].offsetY,o=r.plotOptions[s].offsetX;if(!r.legend.show||r.legend.floating){n.gridHeight=n.svgHeight;var l=n.dom.elWrap.getBoundingClientRect().width;return n.gridWidth=Math.min(l,n.gridHeight),n.translateY=a,void(n.translateX=o+(n.svgWidth-n.gridWidth)/2)}switch(r.legend.position){case"bottom":n.gridHeight=n.svgHeight-this.lgRect.height,n.gridWidth=n.svgWidth,n.translateY=a-10,n.translateX=o+(n.svgWidth-n.gridWidth)/2;break;case"top":n.gridHeight=n.svgHeight-this.lgRect.height,n.gridWidth=n.svgWidth,n.translateY=this.lgRect.height+a+10,n.translateX=o+(n.svgWidth-n.gridWidth)/2;break;case"left":n.gridWidth=n.svgWidth-this.lgRect.width-i,n.gridHeight=r.chart.height!=="auto"?n.svgHeight:n.gridWidth,n.translateY=a,n.translateX=o+this.lgRect.width+i;break;case"right":n.gridWidth=n.svgWidth-this.lgRect.width-i-5,n.gridHeight=r.chart.height!=="auto"?n.svgHeight:n.gridWidth,n.translateY=a,n.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,n,r){var i=this.w,s=i.globals.hasXaxisGroups?2:1,a=r.height+e.height+n.height,o=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,l=i.globals.rotateXLabels?22:10,c=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-n.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,d=0;i.config.yaxis.forEach(function(h){u+=h.labels.minWidth,d+=h.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),t}(),pNe=function(){function t(e){Me(this,t),this.w=e.w,this.lgCtx=e}return De(t,[{key:"getLegendStyles",value:function(){var e,n,r,i=document.createElement("style");i.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(n=e.opts)===null||n===void 0||(r=n.chart)===null||r===void 0?void 0:r.nonce)||this.w.config.chart.nonce;s&&i.setAttribute("nonce",s);var a=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return i.appendChild(a),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),n=e.width;return{clwh:e.height,clww:n}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,n){var r=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var s=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(s.getAttribute("data:realIndex"),10)):(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(s.getAttribute("rel"),10)-1),n?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){r.riseCollapsedSeries(u.cs,u.csi,a)}):this.hideSeries({seriesEl:s,realIndex:a})}else{var o=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=i.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=i.config.plotOptions.pie.donut.labels;new ue(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var n=e.realIndex,r=this.w,i=r.globals,s=G.clone(r.config.series);if(i.axisCharts){var a=r.config.yaxis[i.seriesYAxisReverseMap[n]],o={index:n,data:s[n].data.slice(),type:s[n].type||r.config.chart.type};if(a&&a.show&&a.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(i.ancillaryCollapsedSeries.push(o),i.ancillaryCollapsedSeriesIndices.push(n));else if(i.collapsedSeriesIndices.indexOf(n)<0){i.collapsedSeries.push(o),i.collapsedSeriesIndices.push(n);var l=i.risingSeries.indexOf(n);i.risingSeries.splice(l,1)}}else i.collapsedSeries.push({index:n,data:s[n]}),i.collapsedSeriesIndices.push(n);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===r.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var n=e.seriesEl,r=e.realIndex,i=this.w,s=this.getSeriesAfterCollapsing({realIndex:r}),a=n.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,n,r){var i=this.w,s=G.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===r&&(i.globals.axisCharts?s[r].data=e[a].data.slice():s[r]=e[a].data,typeof s[r]!="number"&&(s[r].hidden=!1),e.splice(a,1),n.splice(a,1),i.globals.risingSeries.push(r));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var n=this.w,r=0;return n.globals.axisCharts?e.forEach(function(i,s){n.globals.collapsedSeriesIndices.indexOf(s)<0&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],r++)}):e.forEach(function(i,s){!n.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,r++)}),n.globals.allSeriesCollapsed=r===e.length,e}}]),t}(),pZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new pNe(this)}return De(t,[{key:"init",value:function(){var e=this.w,n=e.globals,r=e.config,i=r.legend.showForSingleSeries&&n.series.length===1||this.isBarsDistributed||n.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!n.axisCharts)&&r.legend.show){for(;n.dom.elLegendWrap.firstChild;)n.dom.elLegendWrap.removeChild(n.dom.elLegendWrap.firstChild);this.drawLegends(),r.legend.position==="bottom"||r.legend.position==="top"?this.legendAlignHorizontal():r.legend.position!=="right"&&r.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var n=e.i,r=e.fillcolor,i=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var a=i.config.legend.markers.shape||i.config.markers.shape,o=a;Array.isArray(a)&&(o=a[n]);var l=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[n]):parseFloat(i.config.legend.markers.size),c=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[n]):parseFloat(i.config.legend.markers.offsetX),u=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[n]):parseFloat(i.config.legend.markers.offsetY),d=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[n]):parseFloat(i.config.legend.markers.strokeWidth),h=s.style;if(h.height=2*(l+d)+"px",h.width=2*(l+d)+"px",h.left=c+"px",h.top=u+"px",i.config.legend.markers.customHTML)h.background="transparent",h.color=r[n],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[n]&&(s.innerHTML=i.config.legend.markers.customHTML[n]()):s.innerHTML=i.config.legend.markers.customHTML();else{var f=new sm(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:n,strokeWidth:d,size:l}),g=window.SVG().addTo(s).size("100%","100%"),p=new ue(this.ctx).drawMarker(0,0,ve(ve({},f),{},{pointFillColor:Array.isArray(r)?r[n]:f.pointFillColor,shape:o}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(y){y.node.classList.contains("apexcharts-marker-triangle")?y.node.style.transform="translate(50%, 45%)":y.node.style.transform="translate(50%, 50%)"}),g.add(p)}return s}},{key:"drawLegends",value:function(){var e=this,n=this,r=this.w,i=r.config.legend.fontFamily,s=r.globals.seriesNames,a=r.config.legend.markers.fillColors?r.config.legend.markers.fillColors.slice():r.globals.colors.slice();if(r.config.chart.type==="heatmap"){var o=r.config.plotOptions.heatmap.colorScale.ranges;s=o.map(function(f){return f.name?f.name:f.from+" - "+f.to}),a=o.map(function(f){return f.color})}else this.isBarsDistributed&&(s=r.globals.labels.slice());r.config.legend.customLegendItems.length&&(s=r.config.legend.customLegendItems);var l=r.globals.legendFormatter,c=r.config.legend.inverseOrder,u=[];r.globals.seriesGroups.length>1&&r.config.legend.clusterGroupedSeries&&r.globals.seriesGroups.forEach(function(f,g){u[g]=document.createElement("div"),u[g].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(g)),r.config.legend.clusterGroupedSeriesOrientation==="horizontal"?r.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[g].classList.add("apexcharts-legend-group-vertical")});for(var d=function(f){var g,p=l(s[f],{seriesIndex:f,w:r}),y=!1,v=!1;if(r.globals.collapsedSeries.length>0)for(var x=0;x<r.globals.collapsedSeries.length;x++)r.globals.collapsedSeries[x].index===f&&(y=!0);if(r.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<r.globals.ancillaryCollapsedSeriesIndices.length;b++)r.globals.ancillaryCollapsedSeriesIndices[b]===f&&(v=!0);var _=e.createLegendMarker({i:f,fillcolor:a});ue.setAttrs(_,{rel:f+1,"data:collapsed":y||v}),(y||v)&&_.classList.add("apexcharts-inactive-legend");var w=document.createElement("div"),C=document.createElement("span");C.classList.add("apexcharts-legend-text"),C.innerHTML=Array.isArray(p)?p.join(" "):p;var A=r.config.legend.labels.useSeriesColors?r.globals.colors[f]:Array.isArray(r.config.legend.labels.colors)?(g=r.config.legend.labels.colors)===null||g===void 0?void 0:g[f]:r.config.legend.labels.colors;A||(A=r.config.chart.foreColor),C.style.color=A,C.style.fontSize=parseFloat(r.config.legend.fontSize)+"px",C.style.fontWeight=r.config.legend.fontWeight,C.style.fontFamily=i||r.config.chart.fontFamily,ue.setAttrs(C,{rel:f+1,i:f,"data:default-text":encodeURIComponent(p),"data:collapsed":y||v}),w.appendChild(_),w.appendChild(C);var k=new mr(e.ctx);r.config.legend.showForZeroSeries||k.getSeriesTotalByIndex(f)===0&&k.seriesHaveSameValues(f)&&!k.isSeriesNull(f)&&r.globals.collapsedSeriesIndices.indexOf(f)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&w.classList.add("apexcharts-hidden-zero-series"),r.config.legend.showForNullSeries||k.isSeriesNull(f)&&r.globals.collapsedSeriesIndices.indexOf(f)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&w.classList.add("apexcharts-hidden-null-series"),u.length?r.globals.seriesGroups.forEach(function(E,T){var P;E.includes((P=r.config.series[f])===null||P===void 0?void 0:P.name)&&(r.globals.dom.elLegendWrap.appendChild(u[T]),u[T].appendChild(w))}):r.globals.dom.elLegendWrap.appendChild(w),r.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(r.config.legend.horizontalAlign)),r.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+r.config.legend.position),w.classList.add("apexcharts-legend-series"),w.style.margin="".concat(r.config.legend.itemMargin.vertical,"px ").concat(r.config.legend.itemMargin.horizontal,"px"),r.globals.dom.elLegendWrap.style.width=r.config.legend.width?r.config.legend.width+"px":"",r.globals.dom.elLegendWrap.style.height=r.config.legend.height?r.config.legend.height+"px":"",ue.setAttrs(w,{rel:f+1,seriesName:G.escapeString(s[f]),"data:collapsed":y||v}),(y||v)&&w.classList.add("apexcharts-inactive-legend"),r.config.legend.onItemClick.toggleDataSeries||w.classList.add("apexcharts-no-click")},h=c?s.length-1:0;c?h>=0:h<=s.length-1;c?h--:h++)d(h);r.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),r.config.legend.onItemHover.highlightDataSeries&&r.config.legend.customLegendItems.length===0&&(r.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),r.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,n){var r=this.w,i=r.globals.dom.elLegendWrap,s=i.clientHeight,a=0,o=0;if(r.config.legend.position==="bottom")o=r.globals.svgHeight-Math.min(s,r.globals.svgHeight/2)-5;else if(r.config.legend.position==="top"){var l=new V1(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}i.style.position="absolute",a=a+e+r.config.legend.offsetX,o=o+n+r.config.legend.offsetY,i.style.left=a+"px",i.style.top=o+"px",r.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+r.config.legend.offsetX+"px"),["width","height"].forEach(function(d){i.style[d]&&(i.style[d]=parseInt(r.config.legend[d],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var n=new V1(this.ctx),r=n.dimHelpers.getTitleSubtitleCoords("title"),i=n.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=r.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,n=this.legendHelpers.getLegendDimensions(),r=0;e.config.legend.position==="left"&&(r=20),e.config.legend.position==="right"&&(r=e.globals.svgWidth-n.clww-10),this.setLegendWrapXY(r,20)}},{key:"onLegendHovered",value:function(e){var n=this.w,r=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(n.config.chart.type==="heatmap"||this.isBarsDistributed){if(r){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new ma(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&r&&new ma(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var n=this.w;if(!n.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var r=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,r,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,r,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,r,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,r,this.w])),n.config.chart.type!=="treemap"&&n.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&n.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(r,i)}}}]),t}(),gZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return De(t,[{key:"createToolbar",value:function(){var e=this,n=this.w,r=function(){return document.createElement("div")},i=r();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=n.config.chart.toolbar.offsetY+"px",i.style.right=3-n.config.chart.toolbar.offsetX+"px",n.globals.dom.elWrap.appendChild(i),this.elZoom=r(),this.elZoomIn=r(),this.elZoomOut=r(),this.elPan=r(),this.elSelection=r(),this.elZoomReset=r(),this.elMenuIcon=r(),this.elMenu=r(),this.elCustomIcons=[],this.t=n.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(r());var a=[],o=function(d,h,f){var g=d.toLowerCase();e.t[g]&&n.config.chart.zoom.enabled&&a.push({el:h,icon:typeof e.t[g]=="string"?e.t[g]:f,title:e.localeValues[d],class:"apexcharts-".concat(g,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(d){e.t[d]&&n.config.chart[d].enabled&&a.push({el:d==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[d]=="string"?e.t[d]:d==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[d==="zoom"?"selectionZoom":"selection"],class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(d,"-icon")})};l("zoom"),l("selection"),this.t.pan&&n.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(d,h){d.index&&G.moveIndexInArray(a,h,d.index)});for(var u=0;u<a.length;u++)ue.setAttrs(a[u].el,{class:a[u].class,title:a[u].title}),a[u].el.innerHTML=a[u].icon,i.appendChild(a[u].el);this._createHamburgerMenu(i),n.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):n.globals.panEnabled?this.elPan.classList.add(this.selectedClass):n.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),ue.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var n=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],r=0;r<n.length;r++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[r].innerHTML=n[r].title,ue.setAttrs(this.elMenuItems[r],{class:"apexcharts-menu-item ".concat(n[r].name),title:n[r].title}),this.elMenu.appendChild(this.elMenuItems[r])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(r){r.classList.contains("exportSVG")?r.addEventListener("click",e.handleDownload.bind(e,"svg")):r.classList.contains("exportPNG")?r.addEventListener("click",e.handleDownload.bind(e,"png")):r.classList.contains("exportCSV")&&r.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons[n].addEventListener("click",this.t.customIcons[n].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls();var r=e==="selection"?n.ctx.toolbar.elSelection:n.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";n.w.globals[i]=!n.w.globals[i],r.classList.contains(n.ctx.toolbar.selectedClass)?r.classList.remove(n.ctx.toolbar.selectedClass):r.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var n=e==="pan"?this.elPan:this.elZoom,r=e==="pan"?this.elZoom:this.elPan;n&&n.classList.add(this.selectedClass),r&&r.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,n=this.w;n.globals.panEnabled=!1,n.globals.zoomEnabled=!1,n.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(r){r&&r.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var n=(this.minX+this.maxX)/2,r=(this.minX+n)/2,i=(this.maxX+n)/2,s=this._getNewMinXMaxX(r,i);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var n=(this.minX+this.maxX)/2,r=this.minX-(n-this.minX),i=this.maxX-(n-this.maxX),s=this._getNewMinXMaxX(r,i);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,n){var r=this.w.config.xaxis.convertedCatToNumeric;return{minX:r?Math.floor(e):e,maxX:r?Math.floor(n):n}}},{key:"zoomUpdateOptions",value:function(e,n){var r=this.w;if(e!==void 0||n!==void 0){if(!(r.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,n=r.globals.dataPoints),n-e<2))){var i={min:e,max:n},s=this.getBeforeZoomRange(i);s&&(i=s.xaxis);var a={xaxis:i},o=G.clone(r.globals.initialConfig.yaxis);r.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,n){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:n}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:n}))}},{key:"getBeforeZoomRange",value:function(e,n){var r=null;return typeof this.ev.beforeZoom=="function"&&(r=this.ev.beforeZoom(this,{xaxis:e,yaxis:n})),r}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var n=this.w,r=new sv(this.ctx);switch(e){case"svg":r.exportToSVG(this.ctx);break;case"png":r.exportToPng(this.ctx);break;case"csv":r.exportToCSV({series:n.config.series,columnDelimiter:n.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(n){var r=n.w;if(r.globals.lastXAxis.min=r.globals.initialConfig.xaxis.min,r.globals.lastXAxis.max=r.globals.initialConfig.xaxis.max,n.updateHelpers.revertDefaultAxisMinMax(),typeof r.config.chart.events.beforeResetZoom=="function"){var i=r.config.chart.events.beforeResetZoom(n,r);i&&n.updateHelpers.revertDefaultAxisMinMax(i)}typeof r.config.chart.events.zoomed=="function"&&n.ctx.toolbar.zoomCallback({min:r.config.xaxis.min,max:r.config.xaxis.max}),r.globals.zoomed=!1;var s=n.ctx.series.emptyCollapsedSeries(G.clone(r.globals.initialSeries));n.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),gNe=function(t){Tb(n,gZ);var e=Eb(n);function n(r){var i;return Me(this,n),(i=e.call(this,r)).ctx=r,i.w=r.w,i.dragged=!1,i.graphics=new ue(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return De(n,[{key:"init",value:function(r){var i=this,s=r.xyRatios,a=this.w,o=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new pr(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){i.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,s),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(r,i){var s=this.w,a=this.ctx.toolbar,o=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),i.target){var c,u=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(c=i.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var d=this.gridRect.getBoundingClientRect();this.startX=this.clientX-d.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-d.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:r})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(r){var i,s=r.zoomtype,a=r.isResized,o=this.w,l=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(r){var i=this,s=this.w;r.preventDefault();var a=Date.now();a-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(r),s.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-s.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(r),s.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(r){var i,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var a=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(a){var o,l,c,u=(r.clientX-a.left)/a.width,d=this.minX,h=this.maxX,f=h-d;if(r.deltaY<0){var g=d+u*f;l=g-(o=.5*f)/2,c=g+o/2}else l=d-(o=1.5*f)/2,c=h+o/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var p=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<p){var y=(l+c)/2;l=y-p/2,c=y+p/2}}var v=this._getNewMinXMaxX(l,c);isNaN(v.minX)||isNaN(v.maxX)||this.zoomUpdateOptions(v.minX,v.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var r=this,i=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,u){return u==="l"||u==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;r.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var r=this.w,i=this.xyRatios;if(!r.globals.zoomEnabled){if(r.globals.selection!==void 0&&r.globals.selection!==null)this.drawSelectionRect(ve(ve({},r.globals.selection),{},{translateX:r.globals.translateX,translateY:r.globals.translateY}));else if(r.config.chart.selection.xaxis.min!==void 0&&r.config.chart.selection.xaxis.max!==void 0){var s=(r.config.chart.selection.xaxis.min-r.globals.minX)/i.xRatio,a=r.globals.gridWidth-(r.globals.maxX-r.config.chart.selection.xaxis.max)/i.xRatio-s;r.globals.isRangeBar&&(s=(r.config.chart.selection.xaxis.min-r.globals.yAxisScale[0].niceMin)/i.invertedYRatio,a=(r.config.chart.selection.xaxis.max-r.config.chart.selection.xaxis.min)/i.invertedYRatio);var o={x:s,y:0,width:a,height:r.globals.gridHeight,translateX:r.globals.translateX,translateY:r.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof r.config.chart.events.selection=="function"&&r.config.chart.events.selection(this.ctx,{xaxis:{min:r.config.chart.selection.xaxis.min,max:r.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.translateX,c=l===void 0?0:l,u=r.translateY,d=u===void 0?0:u,h=this.w,f=this.zoomRect,g=this.selectionRect;if(this.dragged||h.globals.selection!==null){var p={transform:"translate("+c+", "+d+")"};h.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),f.attr({x:i,y:s,width:a,height:o,fill:h.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":h.config.chart.zoom.zoomedArea.fill.opacity,stroke:h.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":h.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":h.config.chart.zoom.zoomedArea.stroke.opacity}),ue.setAttrs(f.node,p)),h.globals.selectionEnabled&&(g.attr({x:i,y:s,width:a>0?a:0,height:o>0?o:0,fill:h.config.chart.selection.fill.color,"fill-opacity":h.config.chart.selection.fill.opacity,stroke:h.config.chart.selection.stroke.color,"stroke-width":h.config.chart.selection.stroke.width,"stroke-dasharray":h.config.chart.selection.stroke.dashArray,"stroke-opacity":h.config.chart.selection.stroke.opacity}),ue.setAttrs(g.node,p))}}},{key:"hideSelectionRect",value:function(r){r&&r.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(r){var i=r.context,s=r.zoomtype,a=this.w,o=i,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,d=!1,h=!1,f=o.clientX-l.left-a.globals.barPadForNumericAxis,g=o.clientY-l.top,p=f-c,y=g-u,v={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(p+c)>a.globals.gridWidth?p=a.globals.gridWidth-c:f<0&&(p=c),c>f&&(d=!0,p=Math.abs(p)),u>g&&(h=!0,y=Math.abs(y)),v=ve(ve({},v=s==="x"?{x:d?c-p:c,y:0,width:p,height:a.globals.gridHeight}:s==="y"?{x:0,y:h?u-y:u,width:a.globals.gridWidth,height:y}:{x:d?c-p:c,y:h?u-y:u,width:p,height:y}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(v),o.selectionDragging("resizing"),v}},{key:"selectionDragging",value:function(r,i){var s=this,a=this.w;if(i){i.preventDefault();var o=i.detail,l=o.handler,c=o.box,u=c.x,d=c.y;u<this.constraints.x&&(u=this.constraints.x),d<this.constraints.y&&(d=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(d=this.constraints.y2-c.h),l.move(u,d);var h=this.xyRatios,f=this.selectionRect,g=0;r==="resizing"&&(g=30);var p=function(v){return parseFloat(f.node.getAttribute(v))},y={x:p("x"),y:p("y"),width:p("width"),height:p("height")};a.globals.selection=y,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var v,x,b,_,w=s.gridRect.getBoundingClientRect(),C=f.node.getBoundingClientRect();a.globals.isRangeBar?(v=a.globals.yAxisScale[0].niceMin+(C.left-w.left)*h.invertedYRatio,x=a.globals.yAxisScale[0].niceMin+(C.right-w.left)*h.invertedYRatio,b=0,_=1):(v=a.globals.xAxisScale.niceMin+(C.left-w.left)*h.xRatio,x=a.globals.xAxisScale.niceMin+(C.right-w.left)*h.xRatio,b=a.globals.yAxisScale[0].niceMin+(w.bottom-C.bottom)*h.yRatio[0],_=a.globals.yAxisScale[0].niceMax-(C.top-w.top)*h.yRatio[0]);var A={xaxis:{min:v,max:x},yaxis:{min:b,max:_}};a.config.chart.events.selection(s.ctx,A),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(s.ctx,A)},g))}}},{key:"selectionDrawn",value:function(r){var i,s,a=r.context,o=r.zoomtype,l=this.w,c=a,u=this.xyRatios,d=this.ctx.toolbar,h=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),f=c.gridRect.getBoundingClientRect(),g=h.left-f.left-l.globals.barPadForNumericAxis,p=h.right-f.left-l.globals.barPadForNumericAxis,y=h.top-f.top,v=h.bottom-f.top;l.globals.isRangeBar?(i=l.globals.yAxisScale[0].niceMin+g*u.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+p*u.invertedYRatio):(i=l.globals.xAxisScale.niceMin+g*u.xRatio,s=l.globals.xAxisScale.niceMin+p*u.xRatio);var x=[],b=[];if(l.config.yaxis.forEach(function(T,P){var N=l.globals.seriesYAxisMap[P][0],O=l.globals.yAxisScale[P].niceMax-u.yRatio[N]*y,L=l.globals.yAxisScale[P].niceMax-u.yRatio[N]*v;x.push(O),b.push(L)}),c.dragged&&(c.dragX>10||c.dragY>10)&&i!==s){if(l.globals.zoomEnabled){var _=G.clone(l.globals.initialConfig.yaxis),w=G.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(i=Math.floor(i),s=Math.floor(s),i<1&&(i=1,s=l.globals.dataPoints),s-i<2&&(s=i+1)),o!=="xy"&&o!=="x"||(w={min:i,max:s}),o!=="xy"&&o!=="y"||_.forEach(function(T,P){_[P].min=b[P],_[P].max=x[P]}),d){var C=d.getBeforeZoomRange(w,_);C&&(w=C.xaxis?C.xaxis:w,_=C.yaxis?C.yaxis:_)}var A={xaxis:w};l.config.chart.group||(A.yaxis=_),c.ctx.updateHelpers._updateOptions(A,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&d.zoomCallback(w,_)}else if(l.globals.selectionEnabled){var k,E=null;k={min:i,max:s},o!=="xy"&&o!=="y"||(E=G.clone(l.config.yaxis)).forEach(function(T,P){E[P].min=b[P],E[P].max=x[P]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:k,yaxis:E})}}}},{key:"panDragging",value:function(r){var i=r.context,s=this.w,a=i;if(s.globals.lastClientPosition.x!==void 0){var o=s.globals.lastClientPosition.x-a.clientX,l=s.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;a.panScrolled(c,u)}},{key:"panScrolled",value:function(r,i){var s=this.w,a=this.xyRatios,o=G.clone(s.globals.initialConfig.yaxis),l=a.xRatio,c=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(l=a.invertedYRatio,c=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(r=c+s.globals.gridWidth/15*l,i=u+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(r=c-s.globals.gridWidth/15*l,i=u-s.globals.gridWidth/15*l),s.globals.isRangeBar||(r<s.globals.initialMinX||i>s.globals.initialMaxX)&&(r=c,i=u);var d={xaxis:{min:r,max:i}};s.config.chart.group||(d.yaxis=o),this.updateScrolledChart(d,r,i)}},{key:"updateScrolledChart",value:function(r,i,s){var a=this.w;if(this.ctx.updateHelpers._updateOptions(r,!1,!1),typeof a.config.chart.events.scrolled=="function"){var o={xaxis:{min:i,max:s}};a.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),n}(),mZ=function(){function t(e){Me(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return De(t,[{key:"getNearestValues",value:function(e){var n=e.hoverArea,r=e.elGrid,i=e.clientX,s=e.clientY,a=this.w,o=r.getBoundingClientRect(),l=o.width,c=o.height,u=l/(a.globals.dataPoints-1),d=c/a.globals.dataPoints,h=this.hasBars();!a.globals.comboCharts&&!h||a.config.xaxis.convertedCatToNumeric||(u=l/a.globals.dataPoints);var f=i-o.left-a.globals.barPadForNumericAxis,g=s-o.top;f<0||g<0||f>l||g>c?(n.classList.remove("hovering-zoom"),n.classList.remove("hovering-pan")):a.globals.zoomEnabled?(n.classList.remove("hovering-pan"),n.classList.add("hovering-zoom")):a.globals.panEnabled&&(n.classList.remove("hovering-zoom"),n.classList.add("hovering-pan"));var p=Math.round(f/u),y=Math.floor(g/d);h&&!a.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(f/u),p-=1);var v=null,x=null,b=a.globals.seriesXvalues.map(function(k){return k.filter(function(E){return G.isNumber(E)})}),_=a.globals.seriesYvalues.map(function(k){return k.filter(function(E){return G.isNumber(E)})});if(a.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),C=f*(w.width/l),A=g*(w.height/c);v=(x=this.closestInMultiArray(C,A,b,_)).index,p=x.j,v!==null&&a.globals.hasNullValues&&(b=a.globals.seriesXvalues[v],p=(x=this.closestInArray(C,b)).j)}return a.globals.capturedSeriesIndex=v===null?-1:v,(!p||p<1)&&(p=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=y:a.globals.capturedDataPointIndex=p,{capturedSeries:v,j:a.globals.isBarHorizontal?y:p,hoverX:f,hoverY:g}}},{key:"getFirstActiveXArray",value:function(e){for(var n=this.w,r=0,i=e.map(function(a,o){return a.length>0?o:-1}),s=0;s<i.length;s++)if(i[s]!==-1&&n.globals.collapsedSeriesIndices.indexOf(s)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){r=i[s];break}return r}},{key:"closestInMultiArray",value:function(e,n,r,i){for(var s,a=this.w,o=1/0,l=null,c=null,u=0;u<r.length;u++)if(s=u,a.globals.collapsedSeriesIndices.indexOf(s)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var d=r[u],h=i[u],f=Math.min(d.length,h.length),g=0;g<f;g++){var p=e-d[g],y=Math.sqrt(p*p);if(!a.globals.allSeriesHasEqualX){var v=n-h[g];y=Math.sqrt(p*p+v*v)}y<o&&(o=y,l=u,c=g)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,n){for(var r=n[0],i=null,s=Math.abs(e-r),a=0;a<n.length;a++){var o=Math.abs(e-n[a]);o<s&&(s=o,i=a)}return{j:i}}},{key:"isXoverlap",value:function(e){var n=[],r=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(r.length>0)for(var i=0;i<r.length-1;i++)r[i][e]!==void 0&&r[i+1][e]!==void 0&&r[i][e]!==r[i+1][e]&&n.push("unEqual");return n.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,n=this.w.globals.initialSeries,r=0;r<n.length-1;r++)if(n[r].data.length!==n[r+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Wr(e).reduce(function(n,r){return n+r.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");r=Wr(r),n&&(r=r.filter(function(s){var a=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),r.sort(function(s,a){var o=Number(s.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var i=[];return r.forEach(function(s){i.push(s.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,n){var r=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new ue(this.ctx).getMarkerPath(r,i,s,n)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var n=this.w,r=n.config.markers.hover.size;return r===void 0&&(r=n.globals.markers.size[e]+n.config.markers.hover.sizeOffset),r}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var n=this.w,r=this.ttCtx;r.allTooltipSeriesGroups.length===0&&(r.allTooltipSeriesGroups=n.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=r.allTooltipSeriesGroups,s=0;s<i.length;s++)e==="enable"?(i[s].classList.add("apexcharts-active"),i[s].style.display=n.config.tooltip.items.display):(i[s].classList.remove("apexcharts-active"),i[s].style.display="none")}}]),t}(),mNe=function(){function t(e){Me(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new mZ(e)}return De(t,[{key:"drawSeriesTexts",value:function(e){var n=e.shared,r=n===void 0||n,i=e.ttItems,s=e.i,a=s===void 0?0:s,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,d=e.e,h=this.w;h.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:u,w:h}):this.toggleActiveInactiveSeries(r,a);var f=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:f,ttItems:i,shared:r,e:d});var g=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=g.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=g.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var n,r=this,i=e.i,s=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,d=[],h=function(w){return u.globals.seriesGoals[w]&&u.globals.seriesGoals[w][s]&&Array.isArray(u.globals.seriesGoals[w][s])},f=a.xVal,g=a.zVal,p=a.xAxisTTVal,y="",v=u.globals.colors[i];s!==null&&u.config.plotOptions.bar.distributed&&(v=u.globals.colors[s]);for(var x=function(w,C){var A=r.getFormatters(i);y=r.getSeriesName({fn:A.yLbTitleFormatter,index:i,seriesIndex:i,j:s}),u.config.chart.type==="treemap"&&(y=A.yLbTitleFormatter(String(u.config.series[i].data[s].x),{series:u.globals.series,seriesIndex:i,dataPointIndex:s,w:u}));var k=u.config.tooltip.inverseOrder?C:w;if(u.globals.axisCharts){var E=function(N){var O,L,$,F;return u.globals.isRangeData?A.yLbFormatter((O=u.globals.seriesRangeStart)===null||O===void 0||(L=O[N])===null||L===void 0?void 0:L[s],{series:u.globals.seriesRangeStart,seriesIndex:N,dataPointIndex:s,w:u})+" - "+A.yLbFormatter(($=u.globals.seriesRangeEnd)===null||$===void 0||(F=$[N])===null||F===void 0?void 0:F[s],{series:u.globals.seriesRangeEnd,seriesIndex:N,dataPointIndex:s,w:u}):A.yLbFormatter(u.globals.series[N][s],{series:u.globals.series,seriesIndex:N,dataPointIndex:s,w:u})};if(l)A=r.getFormatters(k),y=r.getSeriesName({fn:A.yLbTitleFormatter,index:k,seriesIndex:i,j:s}),v=u.globals.colors[k],n=E(k),h(k)&&(d=u.globals.seriesGoals[k][s].map(function(N){return{attrs:N,val:A.yLbFormatter(N.value,{seriesIndex:k,dataPointIndex:s,w:u})}}));else{var T,P=c==null||(T=c.target)===null||T===void 0?void 0:T.getAttribute("fill");P&&(P.indexOf("url")!==-1?P.indexOf("Pattern")!==-1&&(v=u.globals.dom.baseEl.querySelector(P.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):v=P),n=E(i),h(i)&&Array.isArray(u.globals.seriesGoals[i][s])&&(d=u.globals.seriesGoals[i][s].map(function(N){return{attrs:N,val:A.yLbFormatter(N.value,{seriesIndex:i,dataPointIndex:s,w:u})}}))}}s===null&&(n=A.yLbFormatter(u.globals.series[i],ve(ve({},u),{},{seriesIndex:i,dataPointIndex:i}))),r.DOMHandling({i,t:k,j:s,ttItems:o,values:{val:n,goalVals:d,xVal:f,xAxisTTVal:p,zVal:g},seriesName:y,shared:l,pColor:v})},b=0,_=u.globals.series.length-1;b<u.globals.series.length;b++,_--)x(b,_)}},{key:"getFormatters",value:function(e){var n,r=this.w,i=r.globals.yLabelFormatters[e];return r.globals.ttVal!==void 0?Array.isArray(r.globals.ttVal)?(i=r.globals.ttVal[e]&&r.globals.ttVal[e].formatter,n=r.globals.ttVal[e]&&r.globals.ttVal[e].title&&r.globals.ttVal[e].title.formatter):(i=r.globals.ttVal.formatter,typeof r.globals.ttVal.title.formatter=="function"&&(n=r.globals.ttVal.title.formatter)):n=r.config.tooltip.y.title.formatter,typeof i!="function"&&(i=r.globals.yLabelFormatters[0]?r.globals.yLabelFormatters[0]:function(s){return s}),typeof n!="function"&&(n=function(s){return s?s+": ":""}),{yLbFormatter:i,yLbTitleFormatter:n}}},{key:"getSeriesName",value:function(e){var n=e.fn,r=e.index,i=e.seriesIndex,s=e.j,a=this.w;return n(String(a.globals.seriesNames[r]),{series:a.globals.series,seriesIndex:i,dataPointIndex:s,w:a})}},{key:"DOMHandling",value:function(e){e.i;var n=e.t,r=e.j,i=e.ttItems,s=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,d=s.val,h=s.goalVals,f=s.xVal,g=s.xAxisTTVal,p=s.zVal,y=null;y=i[n].children,c.config.tooltip.fillSeriesColor&&(i[n].style.backgroundColor=l,y[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=f),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=g!==""?g:f);var v=i[n].querySelector(".apexcharts-tooltip-text-y-label");v&&(v.innerHTML=a||"");var x=i[n].querySelector(".apexcharts-tooltip-text-y-value");x&&(x.innerHTML=d!==void 0?d:""),y[0]&&y[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[n]),c.config.tooltip.fillSeriesColor?y[0].style.backgroundColor=l:y[0].style.color=l),c.config.tooltip.marker.show||(y[0].style.display="none");var b=i[n].querySelector(".apexcharts-tooltip-text-goals-label"),_=i[n].querySelector(".apexcharts-tooltip-text-goals-value");if(h.length&&c.globals.seriesGoals[n]){var w=function(){var k="<div>",E="<div>";h.forEach(function(T,P){k+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(T.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(T.attrs.name,"</div>"),E+="<div>".concat(T.val,"</div>")}),b.innerHTML=k+"</div>",_.innerHTML=E+"</div>"};o?c.globals.seriesGoals[n][r]&&Array.isArray(c.globals.seriesGoals[n][r])?w():(b.innerHTML="",_.innerHTML=""):w()}else b.innerHTML="",_.innerHTML="";if(p!==null&&(i[n].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,i[n].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=p!==void 0?p:""),o&&y[0]){if(c.config.tooltip.hideEmptySeries){var C=i[n].querySelector(".apexcharts-tooltip-marker"),A=i[n].querySelector(".apexcharts-tooltip-text");parseFloat(d)==0?(C.style.display="none",A.style.display="none"):(C.style.display="block",A.style.display="block")}d==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(n)>-1||c.globals.collapsedSeriesIndices.indexOf(n)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(n)===-1?y[0].parentNode.style.display="none":y[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(n)===-1&&(y[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,n){var r=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(n));i&&(i.classList.add("apexcharts-active"),i.style.display=r.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var n=e.i,r=e.j,i=this.w,s=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,u={series:i.globals.series,seriesIndex:n,dataPointIndex:r,w:i},d=i.globals.ttZFormatter;r===null?c=i.globals.series[n]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(a=s[n][r],s[n].length===0&&(a=s[this.tooltipUtil.getFirstActiveXArray(s)][r])):a=new _D(this.ctx).isFormatXY()?i.config.series[n].data[r]!==void 0?i.config.series[n].data[r].x:"":i.globals.labels[r]!==void 0?i.globals.labels[r]:"";var h=a;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?a=new Nb(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new hi(this.ctx).formatDate,w:this.w}):a=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](h,u):i.globals.xLabelFormatter(h,u),i.config.tooltip.x.formatter!==void 0&&(a=i.globals.ttKeyFormatter(h,u)),i.globals.seriesZ.length>0&&i.globals.seriesZ[n].length>0&&(l=d(i.globals.seriesZ[n][r],i)),o=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(h,u):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var n=e.i,r=e.j,i=e.y1,s=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[n]&&(l=l[n]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:n,dataPointIndex:r,y1:i,y2:s,w:a});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),t}(),yZ=function(){function t(e){Me(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return De(t,[{key:"moveXCrosshairs",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.ttCtx,i=this.w,s=r.getElXCrosshairs(),a=e-r.xcrosshairsWidth/2,o=i.globals.labels.slice().length;if(n!==null&&(a=i.globals.gridWidth/o*n),s===null||i.globals.isBarHorizontal||(s.setAttribute("x",a),s.setAttribute("x1",a),s.setAttribute("x2",a),s.setAttribute("y2",i.globals.gridHeight),s.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),r.isXAxisTooltipEnabled){var l=a;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(l=a+r.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var n=this.ttCtx;n.ycrosshairs!==null&&ue.setAttrs(n.ycrosshairs,{y1:e,y2:e}),n.ycrosshairsHidden!==null&&ue.setAttrs(n.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var n=this.w,r=this.ttCtx;if(r.xaxisTooltip!==null&&r.xcrosshairsWidth!==0){r.xaxisTooltip.classList.add("apexcharts-active");var i=r.xaxisOffY+n.config.xaxis.tooltip.offsetY+n.globals.translateY+1+n.config.xaxis.offsetY;if(e-=r.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=n.globals.translateX;var s;s=new ue(this.ctx).getTextRects(r.xaxisTooltipText.innerHTML),r.xaxisTooltipText.style.minWidth=s.width+"px",r.xaxisTooltip.style.left=e+"px",r.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var n=this.w,r=this.ttCtx;r.yaxisTTEls===null&&(r.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(r.ycrosshairsHidden.getAttribute("y1"),10),s=n.globals.translateY+i,a=r.yaxisTTEls[e].getBoundingClientRect(),o=a.height,l=n.globals.translateYAxisX[e]-2;n.config.yaxis[e].opposite&&(l-=a.width),s-=o/2,n.globals.ignoreYAxisIndexes.indexOf(e)===-1&&s>0&&s<n.globals.gridHeight?(r.yaxisTTEls[e].classList.add("apexcharts-active"),r.yaxisTTEls[e].style.top=s+"px",r.yaxisTTEls[e].style.left=l+n.config.yaxis[e].tooltip.offsetX+"px"):r.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,s=this.ttCtx,a=s.getElTooltip(),o=s.tooltipRect,l=r!==null?parseFloat(r):1,c=parseFloat(e)+l+5,u=parseFloat(n)+l/2;if(c>i.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>i.globals.gridWidth-o.ttWidth-10&&(c=i.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),i.config.tooltip.followCursor){var d=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-d.left)>i.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(u=s.e.clientY+i.globals.translateY-d.top)>i.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||o.ttHeight/2+u>i.globals.gridHeight&&(u=i.globals.gridHeight-o.ttHeight+i.globals.translateY);isNaN(c)||(c+=i.globals.translateX,a.style.left=c+"px",a.style.top=u+"px")}},{key:"moveMarkers",value:function(e,n){var r=this.w,i=this.ttCtx;if(r.globals.markers.size[e]>0)for(var s=r.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<s.length;a++)parseInt(s[a].getAttribute("rel"),10)===n&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(n,s[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(n,e)}},{key:"moveDynamicPointOnHover",value:function(e,n){var r,i,s,a,o=this.w,l=this.ttCtx,c=new ue(this.ctx),u=o.globals.pointsArray,d=l.tooltipUtil.getHoverMarkerSize(n),h=o.config.series[n].type;if(!h||h!=="column"&&h!=="candlestick"&&h!=="boxPlot"){s=(r=u[n][e])===null||r===void 0?void 0:r[0],a=((i=u[n][e])===null||i===void 0?void 0:i[1])||0;var f=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers path"));if(f&&a<o.globals.gridHeight&&a>0){var g=f.getAttribute("shape"),p=c.getMarkerPath(s,a,g,1.5*d);f.setAttribute("d",p)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,a,d)}}},{key:"moveDynamicPointsOnHover",value:function(e){var n,r=this.ttCtx,i=r.w,s=0,a=0,o=i.globals.pointsArray,l=new ma(this.ctx),c=new ue(this.ctx);n=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=r.tooltipUtil.getHoverMarkerSize(n);if(o[n]&&(s=o[n][e][0],a=o[n][e][1]),!isNaN(s)){var d=r.tooltipUtil.getAllMarkers();if(d.length)for(var h=0;h<i.globals.series.length;h++){var f=o[h];if(i.globals.comboCharts&&f===void 0&&d.splice(h,0,null),f&&f.length){var g=o[h][e][1],p=void 0;d[h].setAttribute("cx",s);var y=d[h].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var v=e+i.globals.series[h].length;p=o[h][v][1],g-=Math.abs(g-p)/2}if(g!==null&&!isNaN(g)&&g<i.globals.gridHeight+u&&g+u>0){var x=c.getMarkerPath(s,g,y,u);d[h].setAttribute("d",x)}else d[h].setAttribute("d","")}}this.moveXCrosshairs(s),r.fixedTooltip||this.moveTooltip(s,a||i.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,n){var r=this.w,i=this.ttCtx,s=r.globals.columnSeries?r.globals.columnSeries.length:r.globals.series.length;r.config.chart.stacked&&(s=r.globals.barGroups.length);var a=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;r.globals.isBarHorizontal&&(a=new ma(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof n!="number"||(o=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(n,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,d=i.getElGrid().getBoundingClientRect(),h=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));r.globals.isXNumeric?(o&&!h&&(l-=s%2!=0?u/2:0),o&&h&&(l-=u/2)):r.globals.isBarHorizontal||(l=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(l)&&(l=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),r.globals.isBarHorizontal?c-=i.tooltipRect.ttHeight:r.config.tooltip.followCursor?c=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:c+i.tooltipRect.ttHeight+15>r.globals.gridHeight&&(c=r.globals.gridHeight),r.globals.isBarHorizontal||this.moveXCrosshairs(l),i.fixedTooltip||this.moveTooltip(l,c||r.globals.gridHeight)}}]),t}(),yNe=function(){function t(e){Me(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new yZ(e)}return De(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,n=new ue(this.ctx),r=new sm(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=Wr(i),e.config.chart.stacked&&i.sort(function(d,h){return parseFloat(d.getAttribute("data:realIndex"))-parseFloat(h.getAttribute("data:realIndex"))});for(var s=0;s<i.length;s++){var a=i[s].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=r.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=n.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),a.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,n);var a=n.getAttribute("cx"),o=n.getAttribute("cy");if(r!==null&&i!==null&&(a=r,o=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var n=this.w,r=this,i=this.ttCtx,s=e,a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=n.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),u=a[l].getAttribute("index");if(o===void 0&&(o=n.globals.markers.size[u]+n.config.markers.hover.sizeOffset),s===parseInt(c,10)){r.newPointSize(s,a[l]);var d=a[l].getAttribute("cx"),h=a[l].getAttribute("cy");r.tooltipPosition.moveXCrosshairs(d),i.fixedTooltip||r.tooltipPosition.moveTooltip(d,h,o)}else r.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,n){var r=this.w,i=r.config.markers.hover.size,s=e===0?n.parentNode.firstChild:n.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var a=parseInt(s.getAttribute("index"),10);i===void 0&&(i=r.globals.markers.size[a]+r.config.markers.hover.sizeOffset),i<0&&(i=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(n,i);n.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var n=parseFloat(e.getAttribute("default-marker-size")),r=this.ttCtx.tooltipUtil.getPathFromPoint(e,n);e.setAttribute("d",r)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=0;n<e.length;n++){var r=parseFloat(e[n].getAttribute("default-marker-size"));if(G.isNumber(r)&&r>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[n],r);e[n].setAttribute("d",i)}else e[n].setAttribute("d","M0,0")}}}]),t}(),vNe=function(){function t(e){Me(this,t),this.w=e.w;var n=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.config.chart.type==="rangeBar"&&n.config.plotOptions.bar.rangeBarGroupRows}return De(t,[{key:"getAttr",value:function(e,n){return parseFloat(e.target.getAttribute(n))}},{key:"handleHeatTreeTooltip",value:function(e){var n=e.e,r=e.opt,i=e.x,s=e.y,a=e.type,o=this.ttCtx,l=this.w;if(n.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(n,"i"),u=this.getAttr(n,"j"),d=this.getAttr(n,"cx"),h=this.getAttr(n,"cy"),f=this.getAttr(n,"width"),g=this.getAttr(n,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:c,j:u,shared:!1,e:n}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,i=d+o.tooltipRect.ttWidth/2+f,s=h+o.tooltipRect.ttHeight/2-g/2,o.tooltipPosition.moveXCrosshairs(d+f/2),i>l.globals.gridWidth/2&&(i=d-o.tooltipRect.ttWidth/2+f),o.w.config.tooltip.followCursor){var p=l.globals.dom.elWrap.getBoundingClientRect();i=l.globals.clientX-p.left-(i>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),s=l.globals.clientY-p.top-(s>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:i,y:s}}},{key:"handleMarkerTooltip",value:function(e){var n,r,i=e.e,s=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),d=parseInt(s.paths.getAttribute("cy"),10),h=parseFloat(s.paths.getAttribute("val"));if(r=parseInt(s.paths.getAttribute("rel"),10),n=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var f=G.findAncestor(s.paths,"apexcharts-series");f&&(n=parseInt(f.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:n,j:r,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:i}),i.type==="mouseup"&&c.markerClick(i,n,r),l.globals.capturedSeriesIndex=n,l.globals.capturedDataPointIndex=r,a=u,o=d+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var g=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-g.top}h<0&&(o=d),c.marker.enlargeCurrentPoint(r,s.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var n,r,i=e.e,s=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,d=0,h=this.getBarTooltipXY({e:i,opt:s});if(h.j!==null||h.barHeight!==0||h.barWidth!==0){n=h.i;var f=h.j;if(a.globals.capturedSeriesIndex=n,a.globals.capturedDataPointIndex=f,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(u=h.x,d=h.y,r=Array.isArray(a.config.stroke.width)?a.config.stroke.width[n]:a.config.stroke.width,c=u):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(d)&&(d=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>a.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var g=o.getElGrid().getBoundingClientRect();d=o.e.clientY-g.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+r/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(d=d+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+a.globals.translateX+"px",l.style.top=d+"px")}}},{key:"getBarTooltipXY",value:function(e){var n=this,r=e.e,i=e.opt,s=this.w,a=null,o=this.ttCtx,l=0,c=0,u=0,d=0,h=0,f=r.target.classList;if(f.contains("apexcharts-bar-area")||f.contains("apexcharts-candlestick-area")||f.contains("apexcharts-boxPlot-area")||f.contains("apexcharts-rangebar-area")){var g=r.target,p=g.getBoundingClientRect(),y=i.elGrid.getBoundingClientRect(),v=p.height;h=p.height;var x=p.width,b=parseInt(g.getAttribute("cx"),10),_=parseInt(g.getAttribute("cy"),10);d=parseFloat(g.getAttribute("barWidth"));var w=r.type==="touchmove"?r.touches[0].clientX:r.clientX;a=parseInt(g.getAttribute("j"),10),l=parseInt(g.parentNode.getAttribute("rel"),10)-1;var C=g.getAttribute("data-range-y1"),A=g.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(g.parentNode.getAttribute("data:realIndex"),10));var k=function(T){return s.globals.isXNumeric?b-x/2:n.isVerticalGroupedRangeBar?b+x/2:b-o.dataPointsDividedWidth+x/2},E=function(){return _-o.dataPointsDividedHeight+v/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:a,y1:C?parseInt(C,10):null,y2:A?parseInt(A,10):null,shared:!o.showOnIntersect&&s.config.tooltip.shared,e:r}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=w-y.left+15,u=E()):(c=k(),u=r.clientY-y.top-o.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=b)<o.xyRatios.baseLineInvertedY&&(c=b-o.tooltipRect.ttWidth),u=E()):(c=k(),u=_)}return{x:c,y:u,barHeight:h,barWidth:d,i:l,j:a}}}]),t}(),xNe=function(){function t(e){Me(this,t),this.w=e.w,this.ttCtx=e}return De(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,n=this.ttCtx,r=e.config.xaxis.position==="bottom";n.xaxisOffY=r?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=r?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;n.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(n.xaxisTooltip=document.createElement("div"),n.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(n.xaxisTooltip),n.xaxisTooltipText=document.createElement("div"),n.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),n.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,n.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,n.xaxisTooltip.appendChild(n.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,n=this.ttCtx,r=0;r<e.config.yaxis.length;r++){var i=e.config.yaxis[r].opposite||e.config.yaxis[r].crosshairs.opposite;n.yaxisOffX=i?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r))===null&&(n.yaxisTooltip=document.createElement("div"),n.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(n.yaxisTooltip),r===0&&(n.yaxisTooltipText=[]),n.yaxisTooltipText[r]=document.createElement("div"),n.yaxisTooltipText[r].classList.add("apexcharts-yaxistooltip-text"),n.yaxisTooltip.appendChild(n.yaxisTooltipText[r]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,n=this.ttCtx,r=n.getElXCrosshairs();if(n.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(i.getAttribute("barWidth"));n.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;n.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;n.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));n.xcrosshairsWidth=c}else n.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(n.xcrosshairsWidth=0),r!==null&&n.xcrosshairsWidth>0&&r.setAttribute("width",n.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,n=this.ttCtx;n.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),n.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,n,r){var i=this.ttCtx,s=this.w,a=s.globals,o=a.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=i.getElGrid().getBoundingClientRect(),u=o[0],d=0;r.yRatio.length>1&&(d=u);var h=(n-c.top)*r.yRatio[d],f=a.maxYArr[u]-a.minYArr[u],g=a.minYArr[u]+(f-h);s.config.yaxis[e].reversed&&(g=a.maxYArr[u]-(f-h)),i.tooltipPosition.moveYCrosshairs(n-c.top),i.yaxisTooltipText[e].innerHTML=l(g),i.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),I4=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new mZ(this),this.tooltipLabels=new mNe(this),this.tooltipPosition=new yZ(this),this.marker=new yNe(this),this.intersect=new vNe(this),this.axesTooltip=new xNe(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return De(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var n=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=n.config.xaxis.tooltip.enabled&&n.globals.axisCharts,this.yaxisTooltips=n.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&n.globals.axisCharts)}),this.allTooltipSeriesGroups=[],n.globals.axisCharts||(this.showTooltipTitle=!1);var r=document.createElement("div");if(r.classList.add("apexcharts-tooltip"),n.config.tooltip.cssClass&&r.classList.add(n.config.tooltip.cssClass),r.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),n.globals.dom.elWrap.appendChild(r),n.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new lx(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!n.globals.comboCharts&&!this.tConfig.intersect&&n.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),n.config.markers.size!==0&&n.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),n.globals.collapsedSeries.length!==n.globals.series.length){this.dataPointsDividedHeight=n.globals.gridHeight/n.globals.dataPoints,this.dataPointsDividedWidth=n.globals.gridWidth/n.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||n.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,r.appendChild(this.tooltipTitle));var s=n.globals.series.length;(n.globals.xyCharts||n.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:n.globals.series.length),this.legendLabels=n.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var n=this,r=this.w,i=[],s=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=r.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),r.config.tooltip.fillSeriesColor?u.style.backgroundColor=r.globals.colors[l]:u.style.color=r.globals.colors[l];var d=r.config.markers.shape,h=d;Array.isArray(d)&&(h=d[l]),u.setAttribute("shape",h),c.appendChild(u);var f=document.createElement("div");f.classList.add("apexcharts-tooltip-text"),f.style.fontFamily=n.tConfig.style.fontFamily||r.config.chart.fontFamily,f.style.fontSize=n.tConfig.style.fontSize,["y","goals","z"].forEach(function(g){var p=document.createElement("div");p.classList.add("apexcharts-tooltip-".concat(g,"-group"));var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(g,"-label")),p.appendChild(y);var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(g,"-value")),p.appendChild(v),f.appendChild(p)}),c.appendChild(f),s.appendChild(c),i.push(c)},o=0;o<e;o++)a(o);return i}},{key:"addSVGEvents",value:function(){var e=this.w,n=e.config.chart.type,r=this.getElTooltip(),i=!(n!=="bar"&&n!=="candlestick"&&n!=="boxPlot"&&n!=="rangeBar"),s=n==="area"||n==="line"||n==="scatter"||n==="bubble"||n==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],d={hoverArea:a,elGrid:o,tooltipEl:r,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):n!=="heatmap"&&n!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var h=0;h<l.length;h++)c.push(l[h].getAttribute("cy")),u.push(l[h].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],d);else if(i&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||n==="heatmap"||n==="treemap"){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(f,d)}if(this.showOnIntersect){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");g.length>0&&this.addPathsEventListeners(g,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,n=this.getElTooltip(),r=n.getBoundingClientRect(),i=r.width+10,s=r.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-s-10),n.style.left=a+"px",n.style.top=o+"px",{x:a,y:o,ttWidth:i,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(n,e)}},{key:"addPathsEventListeners",value:function(e,n){for(var r=this,i=function(a){var o={paths:e[a],tooltipEl:n.tooltipEl,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:n.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,r.onSeriesHover.bind(r,o),{capture:!1,passive:!0})})},s=0;s<e.length;s++)i(s)}},{key:"onSeriesHover",value:function(e,n){var r=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,n):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){r.seriesHover(e,n)},20-i))}},{key:"seriesHover",value:function(e,n){var r=this;this.lastHoverTime=Date.now();var i=[],s=this.w;s.config.chart.group&&(i=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(i.length?i.forEach(function(a){var o=r.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===r.w.globals.minX&&a.w.globals.maxX===r.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:n})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:n}))}},{key:"seriesHoverByContext",value:function(e){var n=e.chartCtx,r=e.ttCtx,i=e.opt,s=e.e,a=n.w,o=this.getElTooltip(n);o&&(r.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},r.e=s,r.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!r.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ma(n).toggleSeriesOnHover(s,s.target.parentNode),a.globals.axisCharts?r.axisChartsTooltips({e:s,opt:i,tooltipRect:r.tooltipRect}):r.nonAxisChartsTooltips({e:s,opt:i,tooltipRect:r.tooltipRect}),r.fixedTooltip&&r.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var n,r,i=e.e,s=e.opt,a=this.w,o=s.elGrid.getBoundingClientRect(),l=i.type==="touchmove"?i.touches[0].clientX:i.clientX,c=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var d=this.getElTooltip(),h=this.getElXCrosshairs(),f=[];a.config.chart.group&&(f=this.ctx.getSyncedCharts());var g=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;h!==null&&h.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter(function(x){return x===!0});if(this.ycrosshairs!==null&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),g&&!this.showOnIntersect||f.length>1)this.handleStickyTooltip(i,l,c,s);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var y=this.intersect.handleHeatTreeTooltip({e:i,opt:s,x:n,y:r,type:a.config.chart.type});n=y.x,r=y.y,d.style.left=n+"px",d.style.top=r+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:s,x:n,y:r});if(this.yaxisTooltips.length)for(var v=0;v<a.config.yaxis.length;v++)this.axesTooltip.drawYaxisTooltipText(v,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var n=e.e,r=e.opt,i=e.tooltipRect,s=this.w,a=r.paths.getAttribute("rel"),o=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(n.type==="mousemove"||n.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:parseInt(a,10)-1,shared:!1});var c=s.globals.clientX-l.left-i.ttWidth/2,u=s.globals.clientY-l.top-i.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var d=a-1,h=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:s});this.legendLabels[d].innerHTML=h}}else n.type!=="mouseout"&&n.type!=="touchend"||(o.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(f){var g=f.getAttribute("data:default-text");f.innerHTML=decodeURIComponent(g)}))}},{key:"handleStickyTooltip",value:function(e,n,r,i){var s=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:n,clientY:r}),o=a.j,l=a.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(i);else if(l!==null)this.handleStickyCapturedSeries(e,l,i,o);else if(this.tooltipUtil.isXoverlap(o)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(d,h){return!s.globals.collapsedSeriesIndices.includes(h)});this.create(e,this,u,o,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,n,r,i){var s=this.w;if(!this.tConfig.shared&&s.globals.series[n][i]===null)return void this.handleMouseOut(r);if(s.globals.series[n][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,n,i,r.ttItems):this.create(e,this,n,i,r.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=s.globals.series.findIndex(function(o,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,i,r.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,n=new ue(this.ctx),r=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<r.length;i++)n.pathMouseLeave(r[i])}},{key:"handleMouseOut",value:function(e){var n=this.w,r=this.getElXCrosshairs();if(n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),n.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),r!==null&&r.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var a=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,n,r){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:n,dataPointIndex:r,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:n,dataPointIndex:r,w:i}])}},{key:"create",value:function(e,n,r,i,s){var a,o,l,c,u,d,h,f,g,p,y,v,x,b,_,w,C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,A=this.w,k=n;e.type==="mouseup"&&this.markerClick(e,r,i),C===null&&(C=this.tConfig.shared);var E=this.tooltipUtil.hasMarkers(r),T=this.tooltipUtil.getElBars(),P=function(){A.globals.markers.largestSize>0?k.marker.enlargePoints(i):k.tooltipPosition.moveDynamicPointsOnHover(i)};if(A.config.legend.tooltipHoverFormatter){var N=A.config.legend.tooltipHoverFormatter,O=Array.from(this.legendLabels);O.forEach(function(J){var ae=J.getAttribute("data:default-text");J.innerHTML=decodeURIComponent(ae)});for(var L=0;L<O.length;L++){var $=O[L],F=parseInt($.getAttribute("i"),10),B=decodeURIComponent($.getAttribute("data:default-text")),D=N(B,{seriesIndex:C?F:r,dataPointIndex:i,w:A});if(C)$.innerHTML=A.globals.collapsedSeriesIndices.indexOf(F)<0?D:B;else if($.innerHTML=F===r?D:B,r===F)break}}var z=ve(ve({ttItems:s,i:r,j:i},((a=A.globals.seriesRange)===null||a===void 0||(o=a[r])===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=A.globals.seriesRange)===null||u===void 0||(d=u[r])===null||d===void 0||(h=d[i])===null||h===void 0||(f=h.y[0])===null||f===void 0?void 0:f.y1}),((g=A.globals.seriesRange)===null||g===void 0||(p=g[r])===null||p===void 0||(y=p[i])===null||y===void 0||(v=y.y[0])===null||v===void 0?void 0:v.y2)!==void 0&&{y2:(x=A.globals.seriesRange)===null||x===void 0||(b=x[r])===null||b===void 0||(_=b[i])===null||_===void 0||(w=_.y[0])===null||w===void 0?void 0:w.y2});if(C){if(k.tooltipLabels.drawSeriesTexts(ve(ve({},z),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),E)P();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(T),this.barSeriesHeight>0)){var W=new ue(this.ctx),X=A.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),k.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&P(),k.tooltipPosition.moveStickyTooltipOverBars(i,r);for(var q=0;q<X.length;q++)W.pathMouseEnter(X[q])}}else k.tooltipLabels.drawSeriesTexts(ve({shared:!1},z)),this.tooltipUtil.hasBars()&&k.tooltipPosition.moveStickyTooltipOverBars(i,r),E&&k.tooltipPosition.moveMarkers(r,i)}}]),t}(),bNe=function(){function t(e){Me(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return De(t,[{key:"handleBarDataLabels",value:function(e){var n,r,i=e.x,s=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,d=e.columnGroupIndex,h=e.series,f=e.barHeight,g=e.barWidth,p=e.barXPosition,y=e.barYPosition,v=e.visibleSeries,x=this.w,b=new ue(this.barCtx.ctx),_=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;x.globals.isXNumeric&&!x.globals.isBarHorizontal?(n=i+parseFloat(g*(v+1)),r=s+parseFloat(f*(v+1))-_):(n=i+parseFloat(g*v),r=s+parseFloat(f*v));var w,C=null,A=i,k=s,E={},T=x.config.dataLabels,P=this.barCtx.barOptions.dataLabels,N=this.barCtx.barOptions.dataLabels.total;y!==void 0&&this.barCtx.isRangeBar&&(r=y,k=y),p!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(n=p,A=p);var O=T.offsetX,L=T.offsetY,$={width:0,height:0};if(x.config.dataLabels.enabled){var F=x.globals.series[l][c];$=b.getTextRects(x.config.dataLabels.formatter?x.config.dataLabels.formatter(F,ve(ve({},x),{},{seriesIndex:l,dataPointIndex:c,w:x})):x.globals.yLabelFormatters[0](F),parseFloat(T.style.fontSize))}var B={x:i,y:s,i:l,j:c,realIndex:u,columnGroupIndex:d,bcx:n,bcy:r,barHeight:f,barWidth:g,textRects:$,strokeWidth:_,dataLabelsX:A,dataLabelsY:k,dataLabelsConfig:T,barDataLabelsConfig:P,barTotalDataLabelsConfig:N,offX:O,offY:L};return E=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(B):this.calculateColumnsDataLabelsPosition(B),w=this.drawCalculatedDataLabels({x:E.dataLabelsX,y:E.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:x.config.chart.stackType==="100%"?h[u][c]:x.globals.series[u][c],i:u,j:c,barWidth:g,barHeight:f,textRects:$,dataLabelsConfig:T}),x.config.chart.stacked&&N.enabled&&(C=this.drawTotalDataLabels({x:E.totalDataLabelsX,y:E.totalDataLabelsY,barWidth:g,barHeight:f,realIndex:u,textAnchor:E.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:T,barTotalDataLabelsConfig:N})),{dataLabelsPos:E,dataLabels:w,totalDataLabels:C}}},{key:"getStackedTotalDataLabel",value:function(e){var n=e.realIndex,r=e.j,i=this.w,s=this.barCtx.stackedSeriesTotals[r];return this.totalFormatter&&(s=this.totalFormatter(s,ve(ve({},i),{},{seriesIndex:n,dataPointIndex:r,w:i}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var n=this,r=this.w,i=e.i,s=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,d=e.barWidth,h=e.barHeight,f=e.textRects,g=e.dataLabelsX,p=e.dataLabelsY,y=e.dataLabelsConfig,v=e.barDataLabelsConfig,x=e.barTotalDataLabelsConfig,b=e.strokeWidth,_=e.offX,w=e.offY,C=u;h=Math.abs(h);var A=r.config.plotOptions.bar.dataLabels.orientation==="vertical",k=this.barCtx.barHelpers.getZeroValueEncounters({i,j:s}).zeroEncounters;u-=b/2;var E=r.globals.gridWidth/r.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?g+=d/2:(g=r.globals.isXNumeric?u-d/2+_:u-E+d/2+_,!r.config.chart.stacked&&k>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(g-=d*k)),A&&(g=g+f.height/2-b/2-2);var T=r.globals.series[i][s]<0,P=c;switch(this.barCtx.isReversed&&(P=c+(T?h:-h)),v.position){case"center":p=A?T?P-h/2+w:P+h/2-w:T?P-h/2+f.height/2+w:P+h/2+f.height/2-w;break;case"bottom":p=A?T?P-h+w:P+h-w:T?P-h+f.height+b+w:P+h-f.height/2+b-w;break;case"top":p=A?T?P+w:P-w:T?P-f.height/2-w:P+f.height+w}var N=P;if(r.globals.seriesGroups.forEach(function($){var F;(F=n.barCtx[$.join(",")])===null||F===void 0||F.prevY.forEach(function(B){N=T?Math.max(B[s],N):Math.min(B[s],N)})}),this.barCtx.lastActiveBarSerieIndex===a&&x.enabled){var O=new ue(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:s}),y.fontSize);o=T?N-O.height/2-w-x.offsetY+18:N+O.height+w+x.offsetY-18;var L=E;l=C+(r.globals.isXNumeric?-d*r.globals.barGroups.length/2:r.globals.barGroups.length*d/2-(r.globals.barGroups.length-1)*d-L)+x.offsetX}return r.config.chart.stacked||(p<0?p=0+b:p+f.height/3>r.globals.gridHeight&&(p=r.globals.gridHeight-b)),{bcx:u,bcy:c,dataLabelsX:g,dataLabelsY:p,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var n=this,r=this.w,i=e.x,s=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,d=e.textRects,h=e.dataLabelsX,f=e.strokeWidth,g=e.dataLabelsConfig,p=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,v=e.offX,x=e.offY,b=r.globals.gridHeight/r.globals.dataPoints,_=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:a}).zeroEncounters;u=Math.abs(u);var w,C,A=l-(this.barCtx.isRangeBar?0:b)+c/2+d.height/2+x-3;!r.config.chart.stacked&&_>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(A-=c*_);var k="start",E=r.globals.series[s][a]<0,T=i;switch(this.barCtx.isReversed&&(T=i+(E?-u:u),k=E?"start":"end"),p.position){case"center":h=E?T+u/2-v:Math.max(d.width/2,T-u/2)+v;break;case"bottom":h=E?T+u-f-v:T-u+f+v;break;case"top":h=E?T-f-v:T-f+v}var P=T;if(r.globals.seriesGroups.forEach(function(O){var L;(L=n.barCtx[O.join(",")])===null||L===void 0||L.prevX.forEach(function($){P=E?Math.min($[a],P):Math.max($[a],P)})}),this.barCtx.lastActiveBarSerieIndex===o&&y.enabled){var N=new ue(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),g.fontSize);E?(w=P-f-v-y.offsetX,k="end"):w=P+v+y.offsetX+(this.barCtx.isReversed?-(u+f):f),C=A-d.height/2+N.height/2+y.offsetY+f,r.globals.barGroups.length>1&&(C-=r.globals.barGroups.length/2*(c/2))}return r.config.chart.stacked||(g.textAnchor==="start"?h-d.width<0?h=E?d.width+f:f:h+d.width>r.globals.gridWidth&&(h=E?r.globals.gridWidth-f:r.globals.gridWidth-d.width-f):g.textAnchor==="middle"?h-d.width/2<0?h=d.width/2+f:h+d.width/2>r.globals.gridWidth&&(h=r.globals.gridWidth-d.width/2-f):g.textAnchor==="end"&&(h<1?h=d.width+f:h+1>r.globals.gridWidth&&(h=r.globals.gridWidth-d.width-f))),{bcx:i,bcy:l,dataLabelsX:h,dataLabelsY:A,totalDataLabelsX:w,totalDataLabelsY:C,totalDataLabelsAnchor:k}}},{key:"drawCalculatedDataLabels",value:function(e){var n=e.x,r=e.y,i=e.val,s=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,d=this.w,h="rotate(0)";d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(h="rotate(-90, ".concat(n,", ").concat(r,")"));var f=new hg(this.barCtx.ctx),g=new ue(this.barCtx.ctx),p=u.formatter,y=null,v=d.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!v){y=g.group({class:"apexcharts-data-labels",transform:h});var x="";i!==void 0&&(x=p(i,ve(ve({},d),{},{seriesIndex:s,dataPointIndex:a,w:d}))),!i&&d.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(x="");var b=d.globals.series[s][a]<0,_=d.config.plotOptions.bar.dataLabels.position;d.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(_==="top"&&(u.textAnchor=b?"end":"start"),_==="center"&&(u.textAnchor="middle"),_==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<g.getTextRects(x,parseFloat(u.style.fontSize)).width&&(x=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(x=""):o.height/1.6>Math.abs(l)&&(x=""));var w=ve({},u);this.barCtx.isHorizontal&&i<0&&(u.textAnchor==="start"?w.textAnchor="end":u.textAnchor==="end"&&(w.textAnchor="start")),f.plotDataLabelsText({x:n,y:r,text:x,i:s,j:a,parent:y,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return y}},{key:"drawTotalDataLabels",value:function(e){var n=e.x,r=e.y,i=e.val,s=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new ue(this.barCtx.ctx);return o.enabled&&n!==void 0&&r!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:n,y:r,foreColor:o.style.color,text:i,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),t}(),wNe=function(){function t(e){Me(this,t),this.w=e.w,this.barCtx=e}return De(t,[{key:"initVariables",value:function(e){var n=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var r=0;r<e.length;r++)if(e[r].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[r].length),n.globals.isXNumeric)for(var i=0;i<e[r].length;i++)n.globals.seriesX[r][i]>n.globals.minX&&n.globals.seriesX[r][i]<n.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=n.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(n.globals.series),G.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(s){return s.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],n.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var n,r,i,s,a,o,l,c,u=this.w,d=u.globals.dataPoints;this.barCtx.isRangeBar&&(d=u.globals.labels.length);var h=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)a=(i=u.globals.gridHeight/d)/h,u.globals.isXNumeric&&(a=(i=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),r=(i-a*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),o=s/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var f=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/f>0&&(s=u.globals.minXDiff/f),(o=s/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?n=this.barCtx.getBarXForNumericXAxis({x:n,j:0,realIndex:e,barWidth:o}).x:n=u.globals.padHorizontal+G.noExponents(s-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=a,u.globals.barWidth=o,{x:n,y:r,yDivision:i,xDivision:s,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(n){e[n]||(e[n]={}),e[n].prevY=[],e[n].prevX=[],e[n].prevYF=[],e[n].prevXF=[],e[n].prevYVal=[],e[n].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(n){e[n]||(e[n]={}),e[n].xArrj=[],e[n].xArrjF=[],e[n].xArrjVal=[],e[n].yArrj=[],e[n].yArrjF=[],e[n].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,n,r,i){var s,a,o,l,c=this.w,u=this.barCtx.ctx.fill,d=null,h=this.barCtx.barOptions.distributed?r:n,f=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(g){e[n][r]>=g.from&&e[n][r]<=g.to&&(d=g.color,f=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:i,dataPointIndex:r,color:d,value:e[n][r],fillConfig:(s=c.config.series[n].data[r])===null||s===void 0?void 0:s.fill,fillType:(a=c.config.series[n].data[r])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[n].data[r])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[i]:c.config.fill.type}),useRangeColor:f}}},{key:"getStrokeWidth",value:function(e,n,r){var i=0,s=this.w;return this.barCtx.series[e][n]===void 0||this.barCtx.series[e][n]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,s.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var n,r=this.w,i=!this.w.config.chart.stacked||r.config.plotOptions.bar.borderRadius<=0,s=e.length,a=0|((n=e[0])===null||n===void 0?void 0:n.length),o=Array.from({length:s},function(){return Array(a).fill(i?"top":"none")});if(i)return o;for(var l=0;l<a;l++){for(var c=[],u=[],d=0,h=0;h<s;h++){var f=e[h][l];f>0?(c.push(h),d++):f<0&&(u.push(h),d++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var g,p=c[0],y=c[c.length-1],v=Iy(c);try{for(v.s();!(g=v.n()).done;){var x=g.value;o[x][l]=x===p?"bottom":x===y?"top":"none"}}catch(F){v.e(F)}finally{v.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var b,_=Math.max.apply(Math,u),w=Math.min.apply(Math,u),C=Iy(u);try{for(C.s();!(b=C.n()).done;){var A=b.value;o[A][l]=A===_?"bottom":A===w?"top":"none"}}catch(F){C.e(F)}finally{C.f()}}else if(c.length>0&&u.length>0){var k,E=c[c.length-1],T=Iy(c);try{for(T.s();!(k=T.n()).done;){var P=k.value;o[P][l]=P===E?"top":"none"}}catch(F){T.e(F)}finally{T.f()}var N,O=Math.max.apply(Math,u),L=Iy(u);try{for(L.s();!(N=L.n()).done;){var $=N.value;o[$][l]=$===O?"bottom":"none"}}catch(F){L.e(F)}finally{L.f()}}else d===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var n=e.j,r=e.i,i=e.x1,s=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new ue(this.barCtx.ctx),d=new ma(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===r){n>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(n%=this.barCtx.barOptions.colors.backgroundBarColors.length);var h=this.barCtx.barOptions.colors.backgroundBarColors[n],f=u.drawRect(i!==void 0?i:0,a!==void 0?a:0,s!==void 0?s:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,h,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(f),f.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var n,r=e.barWidth,i=e.barXPosition,s=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,d=e.realIndex,h=e.i,f=e.j,g=e.w,p=new ue(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var y=r,v=i;(n=g.config.series[d].data[f])!==null&&n!==void 0&&n.columnWidthOffset&&(v=i-g.config.series[d].data[f].columnWidthOffset/2,y=r+g.config.series[d].data[f].columnWidthOffset);var x=o/2,b=v+x,_=v+y-x,w=(c[h][f]>=0?1:-1)*(l?-1:1);s+=.001-x*w,a+=.001+x*w;var C=p.move(b,s),A=p.move(b,s),k=p.line(_,s);if(g.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(d,f,!1)),C=C+p.line(b,a)+p.line(_,a)+k+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][f]==="both"?" Z":" z"),A=A+p.line(b,s)+k+k+k+k+k+p.line(b,s)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][f]==="both"?" Z":" z"),this.arrBorderRadius[d][f]!=="none"&&(C=p.roundPathCorners(C,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[u]).yArrj.push(a-x*w),E.yArrjF.push(Math.abs(s-a+o*w)),E.yArrjVal.push(this.barCtx.series[h][f])}return{pathTo:C,pathFrom:A}}},{key:"getBarpaths",value:function(e){var n,r=e.barYPosition,i=e.barHeight,s=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,d=e.realIndex,h=e.i,f=e.j,g=e.w,p=new ue(this.barCtx.ctx);(o=Array.isArray(o)?o[d]:o)||(o=0);var y=r,v=i;(n=g.config.series[d].data[f])!==null&&n!==void 0&&n.barHeightOffset&&(y=r-g.config.series[d].data[f].barHeightOffset/2,v=i+g.config.series[d].data[f].barHeightOffset);var x=o/2,b=y+x,_=y+v-x,w=(c[h][f]>=0?1:-1)*(l?-1:1);s+=.001+x*w,a+=.001-x*w;var C=p.move(s,b),A=p.move(s,b);g.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(d,f,!1));var k=p.line(s,_);if(C=C+p.line(a,b)+p.line(a,_)+k+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][f]==="both"?" Z":" z"),A=A+p.line(s,b)+k+k+k+k+k+p.line(s,b)+(g.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[d][f]==="both"?" Z":" z"),this.arrBorderRadius[d][f]!=="none"&&(C=p.roundPathCorners(C,g.config.plotOptions.bar.borderRadius)),g.config.chart.stacked){var E=this.barCtx;(E=this.barCtx[u]).xArrj.push(a+x*w),E.xArrjF.push(Math.abs(s-a-o*w)),E.xArrjVal.push(this.barCtx.series[h][f])}return{pathTo:C,pathFrom:A}}},{key:"checkZeroSeries",value:function(e){for(var n=e.series,r=this.w,i=0;i<n.length;i++){for(var s=0,a=0;a<n[r.globals.maxValsInArrayIndex].length;a++)s+=n[i][a];s===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,n){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?n:null;return e!=null&&(r=n+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),r}},{key:"getYForValue",value:function(e,n,r){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?n:null;return e!=null&&(i=n-e/this.barCtx.yRatio[r]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[r]:0)),i}},{key:"getGoalValues",value:function(e,n,r,i,s,a){var o=this,l=this.w,c=[],u=function(f,g){var p;c.push((F1(p={},e,e==="x"?o.getXForValue(f,n,!1):o.getYForValue(f,r,a,!1)),F1(p,"attrs",g),p))};if(l.globals.seriesGoals[i]&&l.globals.seriesGoals[i][s]&&Array.isArray(l.globals.seriesGoals[i][s])&&l.globals.seriesGoals[i][s].forEach(function(f){u(f.value,f)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var d=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,h={strokeHeight:e==="x"?0:l.globals.markers.size[i],strokeWidth:e==="x"?l.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(d[i])?d[i][0]:d[i]};u(l.globals.seriesRangeStart[i][s],h),u(l.globals.seriesRangeEnd[i][s],ve(ve({},h),{},{strokeColor:Array.isArray(d[i])?d[i][1]:d[i]}))}return c}},{key:"drawGoalLine",value:function(e){var n=e.barXPosition,r=e.barYPosition,i=e.goalX,s=e.goalY,a=e.barWidth,o=e.barHeight,l=new ue(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(d){if(d.x>=-1&&d.x<=l.w.globals.gridWidth+1){var h=d.attrs.strokeHeight!==void 0?d.attrs.strokeHeight:o/2,f=r+h+o/2;u=l.drawLine(d.x,f-2*h,d.x,f,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeWidth?d.attrs.strokeWidth:2,d.attrs.strokeLineCap),c.add(u)}}):Array.isArray(s)&&s.forEach(function(d){if(d.y>=-1&&d.y<=l.w.globals.gridHeight+1){var h=d.attrs.strokeWidth!==void 0?d.attrs.strokeWidth:a/2,f=n+h+a/2;u=l.drawLine(f-2*h,d.y,f,d.y,d.attrs.strokeColor?d.attrs.strokeColor:void 0,d.attrs.strokeDashArray,d.attrs.strokeHeight?d.attrs.strokeHeight:2,d.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var n=e.prevPaths,r=e.currPaths,i=e.color,s=this.w,a=n.x,o=n.x1,l=n.barYPosition,c=r.x,u=r.x1,d=r.barYPosition,h=l+r.barHeight,f=new ue(this.barCtx.ctx),g=new G,p=f.move(o,h)+f.line(a,h)+f.line(c,d)+f.line(u,d)+f.line(o,h)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return f.drawPath({d:p,fill:g.shadeColor(.5,G.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var n,r=e.i,i=e.j,s=this.w,a=0,o=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((n=s.globals.columnSeries)===null||n===void 0?void 0:n.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][i];c&&a++,l<r&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var n=this.w,r=n.globals.seriesGroups.findIndex(function(a){return a.indexOf(n.globals.seriesNames[e])>-1}),i=this.barCtx.columnGroupIndices,s=i.indexOf(r);return s<0&&(i.push(r),s=i.length-1),{groupIndex:r,columnGroupIndex:s}}}]),t}(),fg=function(){function t(e,n){Me(this,t),this.ctx=e,this.w=e.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.globals.seriesRange.length&&r.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=n,this.xyRatios!==null&&(this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new ma(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=i.getBarSeriesIndices(),a=new mr(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return s.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new wNe(this)}return De(t,[{key:"draw",value:function(e,n){var r=this.w,i=new ue(this.ctx),s=new mr(this.ctx,r);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});r.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,d,h,f=void 0,g=void 0,p=[],y=[],v=r.globals.comboCharts?n[o]:o,x=this.barHelpers.getGroupIndex(v).columnGroupIndex,b=i.group({class:"apexcharts-series",rel:o+1,seriesName:G.escapeString(r.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(b,v),e[o].length>0&&(this.visibleI=this.visibleI+1);var _=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[v],this.translationsIndex=v);var C=this.translationsIndex;this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed;var A=this.barHelpers.initialPositions(v);g=A.y,_=A.barHeight,u=A.yDivision,h=A.zeroW,f=A.x,w=A.barWidth,c=A.xDivision,d=A.zeroH,this.isHorizontal||y.push(f+w/2);var k=i.group({class:"apexcharts-datalabels","data:realIndex":v});r.globals.delayedElements.push({el:k.node}),k.node.classList.add("apexcharts-element-hidden");var E=i.group({class:"apexcharts-bar-goals-markers"}),T=i.group({class:"apexcharts-bar-shadows"});r.globals.delayedElements.push({el:T.node}),T.node.classList.add("apexcharts-element-hidden");for(var P=0;P<e[o].length;P++){var N=this.barHelpers.getStrokeWidth(o,P,v),O=null,L={indexes:{i:o,j:P,realIndex:v,translationsIndex:C,bc:l},x:f,y:g,strokeWidth:N,elSeries:b};this.isHorizontal?(O=this.drawBarPaths(ve(ve({},L),{},{barHeight:_,zeroW:h,yDivision:u})),w=this.series[o][P]/this.invertedYRatio):(O=this.drawColumnPaths(ve(ve({},L),{},{xDivision:c,barWidth:w,zeroH:d})),_=this.series[o][P]/this.yRatio[C]);var $=this.barHelpers.getPathFillColor(e,o,P,v);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&P>0){var F,B=this.barHelpers.drawBarShadow({color:typeof $.color=="string"&&((F=$.color)===null||F===void 0?void 0:F.indexOf("url"))===-1?$.color:G.hexToRgba(r.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:O});T.add(B),r.config.chart.dropShadow.enabled&&new gi(this.ctx).dropShadow(B,r.config.chart.dropShadow,v)}this.pathArr.push(O);var D=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:_,barWidth:w});D&&E.add(D),g=O.y,f=O.x,P>0&&y.push(f+w/2),p.push(g),this.renderSeries(ve(ve({realIndex:v,pathFill:$.color},$.useRangeColor?{lineFill:$.color}:{}),{},{j:P,i:o,columnGroupIndex:x,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:N,elSeries:b,x:f,y:g,series:e,barHeight:Math.abs(O.barHeight?O.barHeight:_),barWidth:Math.abs(O.barWidth?O.barWidth:w),elDataLabelsWrap:k,elGoalsMarkers:E,elBarShadows:T,visibleSeries:this.visibleI,type:"bar"}))}r.globals.seriesXvalues[v]=y,r.globals.seriesYvalues[v]=p,a.add(b)}return a}},{key:"renderSeries",value:function(e){var n=e.realIndex,r=e.pathFill,i=e.lineFill,s=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,d=e.elSeries,h=e.x,f=e.y,g=e.y1,p=e.y2,y=e.series,v=e.barHeight,x=e.barWidth,b=e.barXPosition,_=e.barYPosition,w=e.elDataLabelsWrap,C=e.elGoalsMarkers,A=e.elBarShadows,k=e.visibleSeries,E=e.type,T=e.classes,P=this.w,N=new ue(this.ctx),O=!1;if(!i){var L=typeof P.globals.stroke.colors[n]=="function"?function(z){var W,X=P.config.stroke.colors;return Array.isArray(X)&&X.length>0&&((W=X[z])||(W=""),typeof W=="function")?W({value:P.globals.series[z][s],dataPointIndex:s,w:P}):W}(n):P.globals.stroke.colors[n];i=this.barOptions.distributed?P.globals.stroke.colors[s]:L}var $=new bNe(this).handleBarDataLabels({x:h,y:f,y1:g,y2:p,i:a,j:s,series:y,realIndex:n,columnGroupIndex:o,barHeight:v,barWidth:x,barXPosition:b,barYPosition:_,visibleSeries:k});P.globals.isBarHorizontal||($.dataLabelsPos.dataLabelsX+x<0||$.dataLabelsPos.dataLabelsX-x>P.globals.gridWidth)&&(O=!0),P.config.series[a].data[s]&&P.config.series[a].data[s].strokeColor&&(i=P.config.series[a].data[s].strokeColor),this.isNullValue&&(r="none");var F=s/P.config.chart.animations.animateGradually.delay*(P.config.chart.animations.speed/P.globals.dataPoints)/2.4;if(!O){var B=N.renderPaths({i:a,j:s,realIndex:n,pathFrom:l,pathTo:c,stroke:i,strokeWidth:u,strokeLineCap:P.config.stroke.lineCap,fill:r,animationDelay:F,initialSpeed:P.config.chart.animations.speed,dataChangeSpeed:P.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(E,"-area ").concat(T),chartType:E});B.attr("clip-path","url(#gridRectBarMask".concat(P.globals.cuid,")"));var D=P.config.forecastDataPoints;D.count>0&&s>=P.globals.dataPoints-D.count&&(B.node.setAttribute("stroke-dasharray",D.dashArray),B.node.setAttribute("stroke-width",D.strokeWidth),B.node.setAttribute("fill-opacity",D.fillOpacity)),g!==void 0&&p!==void 0&&(B.attr("data-range-y1",g),B.attr("data-range-y2",p)),new gi(this.ctx).setSelectionFilter(B,n,s),d.add(B),B.attr({cy:$.dataLabelsPos.bcy,cx:$.dataLabelsPos.bcx,j:s,val:P.globals.series[a][s],barHeight:v,barWidth:x}),$.dataLabels!==null&&w.add($.dataLabels),$.totalDataLabels&&w.add($.totalDataLabels),d.add(w),C&&d.add(C),A&&d.add(A)}return d}},{key:"drawBarPaths",value:function(e){var n,r=e.indexes,i=e.barHeight,s=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,d=this.w,h=r.i,f=r.j;if(d.globals.isXNumeric)n=(l=(d.globals.seriesX[h][f]-d.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var g=this.barHelpers.getZeroValueEncounters({i:h,j:f}),p=g.nonZeroColumns,y=g.zeroEncounters;p>0&&(i=this.seriesLen*i/p),n=l+i*this.visibleI,n-=i*y}else n=l+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[h][f],a)-a)/2),o=this.barHelpers.getXForValue(this.series[h][f],a);var v=this.barHelpers.getBarpaths({barYPosition:n,barHeight:i,x1:a,x2:o,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,i:h,j:f,w:d});return d.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:f,i:h,y1:n-i*this.visibleI,y2:i*this.seriesLen,elSeries:u}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,h,f),barYPosition:n,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var n,r=e.indexes,i=e.x,s=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,d=this.w,h=r.realIndex,f=r.translationsIndex,g=r.i,p=r.j,y=r.bc;if(d.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:i,j:p,realIndex:h,barWidth:o});i=v.x,n=v.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var x=this.barHelpers.getZeroValueEncounters({i:g,j:p}),b=x.nonZeroColumns,_=x.zeroEncounters;b>0&&(o=this.seriesLen*o/b),n=i+o*this.visibleI,n-=o*_}else n=i+o*this.visibleI;s=this.barHelpers.getYForValue(this.series[g][p],l,f);var w=this.barHelpers.getColumnPaths({barXPosition:n,barWidth:o,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:h,i:g,j:p,w:d});return d.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:y,j:p,i:g,x1:n-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x:i,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,g,p,f),barXPosition:n,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var n=e.x,r=e.barWidth,i=e.realIndex,s=e.j,a=this.w,o=i;return a.globals.seriesX[i].length||(o=a.globals.maxValsInArrayIndex),G.isNumber(a.globals.seriesX[o][s])&&(n=(a.globals.seriesX[o][s]-a.globals.minX)/this.xRatio-r*this.seriesLen/2),{barXPosition:n+r*this.visibleI,x:n}}},{key:"getPreviousPath",value:function(e,n){for(var r=this.w,i="M 0 0",s=0;s<r.globals.previousPaths.length;s++){var a=r.globals.previousPaths[s];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[s].paths[n]!==void 0&&(i=r.globals.previousPaths[s].paths[n].d)}return i}}]),t}(),O4=function(t){Tb(n,fg);var e=Eb(n);function n(){return Me(this,n),e.apply(this,arguments)}return De(n,[{key:"draw",value:function(r,i){var s=this,a=this.w;this.graphics=new ue(this.ctx),this.bar=new fg(this.ctx,this.xyRatios);var o=new mr(this.ctx,a);r=o.getLogSeries(r),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r),a.config.chart.stackType==="100%"&&(r=a.globals.comboCharts?i.map(function(g){return a.globals.seriesPercent[g]}):a.globals.seriesPercent.slice()),this.series=r,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,d=function(g,p){var y=void 0,v=void 0,x=void 0,b=void 0,_=a.globals.comboCharts?i[g]:g,w=s.barHelpers.getGroupIndex(_),C=w.groupIndex,A=w.columnGroupIndex;s.groupCtx=s[a.globals.seriesGroups[C]];var k=[],E=[],T=0;s.yRatio.length>1&&(s.yaxisIndex=a.globals.seriesYAxisReverseMap[_][0],T=_),s.isReversed=a.config.yaxis[s.yaxisIndex]&&a.config.yaxis[s.yaxisIndex].reversed;var P=s.graphics.group({class:"apexcharts-series",seriesName:G.escapeString(a.globals.seriesNames[_]),rel:g+1,"data:realIndex":_});s.ctx.series.addCollapsedClassToSeries(P,_);var N=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":_}),O=s.graphics.group({class:"apexcharts-bar-goals-markers"}),L=0,$=0,F=s.initialPositions(c,u,y,v,x,b,T);u=F.y,L=F.barHeight,v=F.yDivision,b=F.zeroW,c=F.x,$=F.barWidth,y=F.xDivision,x=F.zeroH,a.globals.barHeight=L,a.globals.barWidth=$,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(_e){return isNaN(_e)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return x}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var B=0;B<a.globals.dataPoints;B++){var D=s.barHelpers.getStrokeWidth(g,B,_),z={indexes:{i:g,j:B,realIndex:_,translationsIndex:T,bc:p},strokeWidth:D,x:c,y:u,elSeries:P,columnGroupIndex:A,seriesGroup:a.globals.seriesGroups[C]},W=null;s.isHorizontal?(W=s.drawStackedBarPaths(ve(ve({},z),{},{zeroW:b,barHeight:L,yDivision:v})),$=s.series[g][B]/s.invertedYRatio):(W=s.drawStackedColumnPaths(ve(ve({},z),{},{xDivision:y,barWidth:$,zeroH:x})),L=s.series[g][B]/s.yRatio[T]);var X=s.barHelpers.drawGoalLine({barXPosition:W.barXPosition,barYPosition:W.barYPosition,goalX:W.goalX,goalY:W.goalY,barHeight:L,barWidth:$});X&&O.add(X),u=W.y,c=W.x,k.push(c),E.push(u);var q=s.barHelpers.getPathFillColor(r,g,B,_),J="",ae=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[_][B]==="bottom"&&a.globals.series[_][B]>0||s.barHelpers.arrBorderRadius[_][B]==="top"&&a.globals.series[_][B]<0)&&(J=ae),P=s.renderSeries(ve(ve({realIndex:_,pathFill:q.color},q.useRangeColor?{lineFill:q.color}:{}),{},{j:B,i:g,columnGroupIndex:A,pathFrom:W.pathFrom,pathTo:W.pathTo,strokeWidth:D,elSeries:P,x:c,y:u,series:r,barHeight:L,barWidth:$,elDataLabelsWrap:N,elGoalsMarkers:O,type:"bar",visibleSeries:A,classes:J}))}a.globals.seriesXvalues[_]=k,a.globals.seriesYvalues[_]=E,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(P)},h=0,f=0;h<r.length;h++,f++)d(h,f);return l}},{key:"initialPositions",value:function(r,i,s,a,o,l,c){var u,d,h=this.w;if(this.isHorizontal){a=h.globals.gridHeight/h.globals.dataPoints;var f=h.config.plotOptions.bar.barHeight;u=String(f).indexOf("%")===-1?parseInt(f,10):a*parseInt(f,10)/100,l=h.globals.padHorizontal+(this.isReversed?h.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(a-u)/2}else{d=s=h.globals.gridWidth/h.globals.dataPoints;var g=h.config.plotOptions.bar.columnWidth;h.globals.isXNumeric&&h.globals.dataPoints>1?d=(s=h.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(g).indexOf("%")===-1?d=parseInt(g,10):d*=parseInt(g,10)/100,o=this.isReversed?this.baseLineY[c]:h.globals.gridHeight-this.baseLineY[c],r=h.globals.padHorizontal+(s-d)/2}var p=h.globals.barGroups.length||1;return{x:r,y:i,yDivision:a,xDivision:s,barHeight:u/p,barWidth:d/p,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(r){for(var i,s=r.indexes,a=r.barHeight,o=r.strokeWidth,l=r.zeroW,c=r.x,u=r.y,d=r.columnGroupIndex,h=r.seriesGroup,f=r.yDivision,g=r.elSeries,p=this.w,y=u+d*a,v=s.i,x=s.j,b=s.realIndex,_=s.translationsIndex,w=0,C=0;C<this.groupCtx.prevXF.length;C++)w+=this.groupCtx.prevXF[C][x];var A=v;if(p.config.series[b].name&&(A=h.indexOf(p.config.series[b].name)),A>0){var k=l;this.groupCtx.prevXVal[A-1][x]<0?k=this.series[v][x]>=0?this.groupCtx.prevX[A-1][x]+w-2*(this.isReversed?w:0):this.groupCtx.prevX[A-1][x]:this.groupCtx.prevXVal[A-1][x]>=0&&(k=this.series[v][x]>=0?this.groupCtx.prevX[A-1][x]:this.groupCtx.prevX[A-1][x]-w+2*(this.isReversed?w:0)),i=k}else i=l;c=this.series[v][x]===null?i:i+this.series[v][x]/this.invertedYRatio-2*(this.isReversed?this.series[v][x]/this.invertedYRatio:0);var E=this.barHelpers.getBarpaths({barYPosition:y,barHeight:a,x1:i,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:h,i:v,j:x,w:p});return this.barHelpers.barBackground({j:x,i:v,y1:y,y2:a,elSeries:g}),u+=f,{pathTo:E.pathTo,pathFrom:E.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,v,x,_),barXPosition:i,barYPosition:y,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(r){var i=r.indexes,s=r.x,a=r.y,o=r.xDivision,l=r.barWidth,c=r.zeroH,u=r.columnGroupIndex,d=r.seriesGroup,h=r.elSeries,f=this.w,g=i.i,p=i.j,y=i.bc,v=i.realIndex,x=i.translationsIndex;if(f.globals.isXNumeric){var b=f.globals.seriesX[v][p];b||(b=0),s=(b-f.globals.minX)/this.xRatio-l/2*f.globals.barGroups.length}for(var _,w=s+u*l,C=0,A=0;A<this.groupCtx.prevYF.length;A++)C+=isNaN(this.groupCtx.prevYF[A][p])?0:this.groupCtx.prevYF[A][p];var k=g;if(d&&(k=d.indexOf(f.globals.seriesNames[v])),k>0&&!f.globals.isXNumeric||k>0&&f.globals.isXNumeric&&f.globals.seriesX[v-1][p]===f.globals.seriesX[v][p]){var E,T,P,N=Math.min(this.yRatio.length+1,v+1);if(this.groupCtx.prevY[k-1]!==void 0&&this.groupCtx.prevY[k-1].length)for(var O=1;O<N;O++){var L;if(!isNaN((L=this.groupCtx.prevY[k-O])===null||L===void 0?void 0:L[p])){P=this.groupCtx.prevY[k-O][p];break}}for(var $=1;$<N;$++){var F,B;if(((F=this.groupCtx.prevYVal[k-$])===null||F===void 0?void 0:F[p])<0){T=this.series[g][p]>=0?P-C+2*(this.isReversed?C:0):P;break}if(((B=this.groupCtx.prevYVal[k-$])===null||B===void 0?void 0:B[p])>=0){T=this.series[g][p]>=0?P:P+C-2*(this.isReversed?C:0);break}}T===void 0&&(T=f.globals.gridHeight),_=(E=this.groupCtx.prevYF[0])!==null&&E!==void 0&&E.every(function(z){return z===0})&&this.groupCtx.prevYF.slice(1,k).every(function(z){return z.every(function(W){return isNaN(W)})})?c:T}else _=c;a=this.series[g][p]?_-this.series[g][p]/this.yRatio[x]+2*(this.isReversed?this.series[g][p]/this.yRatio[x]:0):_;var D=this.barHelpers.getColumnPaths({barXPosition:w,barWidth:l,y1:_,y2:a,yRatio:this.yRatio[x],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:d,realIndex:i.realIndex,i:g,j:p,w:f});return this.barHelpers.barBackground({bc:y,j:p,i:g,x1:w,x2:l,elSeries:h}),{pathTo:D.pathTo,pathFrom:D.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,g,p),barXPosition:w,x:f.globals.isXNumeric?s:s+o,y:a}}}]),n}(),rT=function(t){Tb(n,fg);var e=Eb(n);function n(){return Me(this,n),e.apply(this,arguments)}return De(n,[{key:"draw",value:function(r,i,s){var a=this,o=this.w,l=new ue(this.ctx),c=o.globals.comboCharts?i:o.config.chart.type,u=new lo(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var d=new mr(this.ctx,o);r=d.getLogSeries(r),this.series=r,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r);for(var h=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),f=function(p){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[p].type==="boxPlot";var y,v,x,b,_=void 0,w=void 0,C=[],A=[],k=o.globals.comboCharts?s[p]:p,E=a.barHelpers.getGroupIndex(k).columnGroupIndex,T=l.group({class:"apexcharts-series",seriesName:G.escapeString(o.globals.seriesNames[k]),rel:p+1,"data:realIndex":k});a.ctx.series.addCollapsedClassToSeries(T,k),r[p].length>0&&(a.visibleI=a.visibleI+1);var P,N,O=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[k][0],O=k);var L=a.barHelpers.initialPositions(k);w=L.y,P=L.barHeight,v=L.yDivision,b=L.zeroW,_=L.x,N=L.barWidth,y=L.xDivision,x=L.zeroH,A.push(_+N/2);for(var $=l.group({class:"apexcharts-datalabels","data:realIndex":k}),F=l.group({class:"apexcharts-bar-goals-markers"}),B=function(z){var W=a.barHelpers.getStrokeWidth(p,z,k),X=null,q={indexes:{i:p,j:z,realIndex:k,translationsIndex:O},x:_,y:w,strokeWidth:W,elSeries:T};X=a.isHorizontal?a.drawHorizontalBoxPaths(ve(ve({},q),{},{yDivision:v,barHeight:P,zeroW:b})):a.drawVerticalBoxPaths(ve(ve({},q),{},{xDivision:y,barWidth:N,zeroH:x})),w=X.y,_=X.x;var J=a.barHelpers.drawGoalLine({barXPosition:X.barXPosition,barYPosition:X.barYPosition,goalX:X.goalX,goalY:X.goalY,barHeight:P,barWidth:N});J&&F.add(J),z>0&&A.push(_+N/2),C.push(w),X.pathTo.forEach(function(ae,_e){var K=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?X.color[_e]:o.globals.stroke.colors[p],fe=u.fillPath({seriesNumber:k,dataPointIndex:z,color:X.color[_e],value:r[p][z]});a.renderSeries({realIndex:k,pathFill:fe,lineFill:K,j:z,i:p,pathFrom:X.pathFrom,pathTo:ae,strokeWidth:W,elSeries:T,x:_,y:w,series:r,columnGroupIndex:E,barHeight:P,barWidth:N,elDataLabelsWrap:$,elGoalsMarkers:F,visibleSeries:a.visibleI,type:o.config.chart.type})})},D=0;D<o.globals.dataPoints;D++)B(D);o.globals.seriesXvalues[k]=A,o.globals.seriesYvalues[k]=C,h.add(T)},g=0;g<r.length;g++)f(g);return h}},{key:"drawVerticalBoxPaths",value:function(r){var i=r.indexes,s=r.x;r.y;var a=r.xDivision,o=r.barWidth,l=r.zeroH,c=r.strokeWidth,u=this.w,d=new ue(this.ctx),h=i.i,f=i.j,g=u.config.plotOptions.candlestick.colors,p=this.boxOptions.colors,y=i.realIndex,v=function(D){return Array.isArray(D)?D[y]:D},x=v(g.upward),b=v(g.downward),_=this.yRatio[i.translationsIndex],w=this.getOHLCValue(y,f),C=l,A=l,k=w.o<w.c?[x]:[b];this.isBoxPlot&&(k=[v(p.lower),v(p.upper)]);var E=Math.min(w.o,w.c),T=Math.max(w.o,w.c),P=w.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[y][f]-u.globals.minX)/this.xRatio-o/2);var N=s+o*this.visibleI;this.series[h][f]===void 0||this.series[h][f]===null?(E=l,T=l):(E=l-E/_,T=l-T/_,C=l-w.h/_,A=l-w.l/_,P=l-w.m/_);var O=d.move(N,l),L=d.move(N+o/2,E);if(u.globals.previousPaths.length>0&&(L=this.getPreviousPath(y,f,!0)),this.isOHLC){var $=N+o/2,F=l-w.o/_,B=l-w.c/_;O=[d.move($,C)+d.line($,A)+d.move($,F)+d.line(N,F)+d.move($,B)+d.line(N+o,B)]}else O=this.isBoxPlot?[d.move(N,E)+d.line(N+o/2,E)+d.line(N+o/2,C)+d.line(N+o/4,C)+d.line(N+o-o/4,C)+d.line(N+o/2,C)+d.line(N+o/2,E)+d.line(N+o,E)+d.line(N+o,P)+d.line(N,P)+d.line(N,E+c/2),d.move(N,P)+d.line(N+o,P)+d.line(N+o,T)+d.line(N+o/2,T)+d.line(N+o/2,A)+d.line(N+o-o/4,A)+d.line(N+o/4,A)+d.line(N+o/2,A)+d.line(N+o/2,T)+d.line(N,T)+d.line(N,P)+"z"]:[d.move(N,T)+d.line(N+o/2,T)+d.line(N+o/2,C)+d.line(N+o/2,T)+d.line(N+o,T)+d.line(N+o,E)+d.line(N+o/2,E)+d.line(N+o/2,A)+d.line(N+o/2,E)+d.line(N,E)+d.line(N,T-c/2)];return L+=d.move(N,E),u.globals.isXNumeric||(s+=a),{pathTo:O,pathFrom:L,x:s,y:T,goalY:this.barHelpers.getGoalValues("y",null,l,h,f,i.translationsIndex),barXPosition:N,color:k}}},{key:"drawHorizontalBoxPaths",value:function(r){var i=r.indexes;r.x;var s=r.y,a=r.yDivision,o=r.barHeight,l=r.zeroW,c=r.strokeWidth,u=this.w,d=new ue(this.ctx),h=i.i,f=i.j,g=this.boxOptions.colors.lower;this.isBoxPlot&&(g=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var p=this.invertedYRatio,y=i.realIndex,v=this.getOHLCValue(y,f),x=l,b=l,_=Math.min(v.o,v.c),w=Math.max(v.o,v.c),C=v.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[y][f]-u.globals.minX)/this.invertedXRatio-o/2);var A=s+o*this.visibleI;this.series[h][f]===void 0||this.series[h][f]===null?(_=l,w=l):(_=l+_/p,w=l+w/p,x=l+v.h/p,b=l+v.l/p,C=l+v.m/p);var k=d.move(l,A),E=d.move(_,A+o/2);return u.globals.previousPaths.length>0&&(E=this.getPreviousPath(y,f,!0)),k=[d.move(_,A)+d.line(_,A+o/2)+d.line(x,A+o/2)+d.line(x,A+o/2-o/4)+d.line(x,A+o/2+o/4)+d.line(x,A+o/2)+d.line(_,A+o/2)+d.line(_,A+o)+d.line(C,A+o)+d.line(C,A)+d.line(_+c/2,A),d.move(C,A)+d.line(C,A+o)+d.line(w,A+o)+d.line(w,A+o/2)+d.line(b,A+o/2)+d.line(b,A+o-o/4)+d.line(b,A+o/4)+d.line(b,A+o/2)+d.line(w,A+o/2)+d.line(w,A)+d.line(C,A)+"z"],E+=d.move(_,A),u.globals.isXNumeric||(s+=a),{pathTo:k,pathFrom:E,x:w,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,h,f),barYPosition:A,color:g}}},{key:"getOHLCValue",value:function(r,i){var s=this.w,a=new mr(this.ctx,s),o=a.getLogValAtSeriesIndex(s.globals.seriesCandleH[r][i],r),l=a.getLogValAtSeriesIndex(s.globals.seriesCandleO[r][i],r),c=a.getLogValAtSeriesIndex(s.globals.seriesCandleM[r][i],r),u=a.getLogValAtSeriesIndex(s.globals.seriesCandleC[r][i],r),d=a.getLogValAtSeriesIndex(s.globals.seriesCandleL[r][i],r);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:d,c:this.isBoxPlot?d:u}}}]),n}(),vZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"checkColorRange",value:function(){var e=this.w,n=!1,r=e.config.plotOptions[e.config.chart.type];return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(i,s){i.from<=0&&(n=!0)}),n}},{key:"getShadeColor",value:function(e,n,r,i){var s=this.w,a=1,o=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,n,r);s.globals.hasNegs||i?a=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new G;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var d=u.shadeColor(-1*a,l.color);c=G.hexToRgba(G.isColorHex(d)?d:G.rgb2hex(d),s.config.fill.opacity)}else{var h=u.shadeColor(a,l.color);c=G.hexToRgba(G.isColorHex(h)?h:G.rgb2hex(h),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,n,r){var i=this.w,s=i.globals.series[n][r],a=i.config.plotOptions[e],o=a.colorScale.inverse?r:n;a.distributed&&i.config.chart.type==="treemap"&&(o=r);var l=i.globals.colors[o],c=null,u=Math.min.apply(Math,Wr(i.globals.series[n])),d=Math.max.apply(Math,Wr(i.globals.series[n]));a.distributed||e!=="heatmap"||(u=i.globals.minY,d=i.globals.maxY),a.colorScale.min!==void 0&&(u=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,d=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var h=Math.abs(d)+Math.abs(u),f=100*s/(h===0?h-1e-6:h);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(g,p){if(s>=g.from&&s<=g.to){l=g.color,c=g.foreColor?g.foreColor:null,u=g.from,d=g.to;var y=Math.abs(d)+Math.abs(u);f=100*s/(y===0?y-1e-6:y)}}),{color:l,foreColor:c,percent:f}}},{key:"calculateDataLabels",value:function(e){var n=e.text,r=e.x,i=e.y,s=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new ue(this.ctx),d=new hg(this.ctx),h=null;if(c.enabled){h=u.group({class:"apexcharts-data-labels"});var f=c.offsetX,g=c.offsetY,p=r+f,y=i+parseFloat(c.style.fontSize)/3+g;d.plotDataLabelsText({x:p,y,text:n,i:s,j:a,color:o.foreColor,parent:h,fontSize:l,dataLabelsConfig:c})}return h}},{key:"addListeners",value:function(e){var n=new ue(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e))}}]),t}(),_Ne=function(){function t(e,n){Me(this,t),this.ctx=e,this.w=e.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new vZ(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return De(t,[{key:"draw",value:function(e){var n=this.w,r=new ue(this.ctx),i=r.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")"));var s=n.globals.gridWidth/n.globals.dataPoints,a=n.globals.gridHeight/n.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();n.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var d=r.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:G.escapeString(n.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(d,u),n.config.chart.dropShadow.enabled){var h=n.config.chart.dropShadow;new gi(this.ctx).dropShadow(d,h,u)}for(var f=0,g=n.config.plotOptions.heatmap.shadeIntensity,p=0,y=0;y<n.globals.dataPoints;y++)if(n.globals.seriesX.length&&!n.globals.allSeriesHasEqualX&&n.globals.minX+n.globals.minXDiff*y<n.globals.seriesX[u][p])f+=s;else{if(p>=c[u].length)break;var v=this.helpers.getShadeColor(n.config.chart.type,u,p,this.negRange),x=v.color,b=v.colorProps;n.config.fill.type==="image"&&(x=new lo(this.ctx).fillPath({seriesNumber:u,dataPointIndex:p,opacity:n.globals.hasNegs?b.percent<0?1-(1+b.percent/100):g+b.percent/100:b.percent/100,patternID:G.randomId(),width:n.config.fill.image.width?n.config.fill.image.width:s,height:n.config.fill.image.height?n.config.fill.image.height:a}));var _=this.rectRadius,w=r.drawRect(f,o,s,a,_);if(w.attr({cx:f,cy:o}),w.node.classList.add("apexcharts-heatmap-rect"),d.add(w),w.attr({fill:x,i:u,index:u,j:p,val:e[u][p],"stroke-width":this.strokeWidth,stroke:n.config.plotOptions.heatmap.useFillColorAsStroke?x:n.globals.stroke.colors[0],color:x}),this.helpers.addListeners(w),n.config.chart.animations.enabled&&!n.globals.dataChanged){var C=1;n.globals.resized||(C=n.config.chart.animations.speed),this.animateHeatMap(w,f,o,s,a,C)}if(n.globals.dataChanged){var A=1;if(this.dynamicAnim.enabled&&n.globals.shouldAnimate){A=this.dynamicAnim.speed;var k=n.globals.previousPaths[u]&&n.globals.previousPaths[u][p]&&n.globals.previousPaths[u][p].color;k||(k="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,G.isColorHex(k)?k:G.rgb2hex(k),G.isColorHex(x)?x:G.rgb2hex(x),A)}}var E=(0,n.config.dataLabels.formatter)(n.globals.series[u][p],{value:n.globals.series[u][p],seriesIndex:u,dataPointIndex:p,w:n}),T=this.helpers.calculateDataLabels({text:E,x:f+s/2,y:o+a/2,i:u,j:p,colorProps:b,series:c});T!==null&&d.add(T),f+=s,p++}o+=a,i.add(d)}var P=n.globals.yAxisScale[0].result.slice();return n.config.yaxis[0].reversed?P.unshift(""):P.push(""),n.globals.yAxisScale[0].result=P,i}},{key:"animateHeatMap",value:function(e,n,r,i,s,a){var o=new tm(this.ctx);o.animateRect(e,{x:n+i/2,y:r+s/2,width:0,height:0},{x:n,y:r,width:i,height:s},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,n,r,i){e.attr({fill:n}).animate(i).attr({fill:r})}}]),t}(),xZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"drawYAxisTexts",value:function(e,n,r,i){var s=this.w,a=s.config.yaxis[0],o=s.globals.yLabelFormatters[0];return new ue(this.ctx).drawText({x:e+a.labels.offsetX,y:n+a.labels.offsetY,text:o(i,r),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[r]:a.labels.style.colors})}}]),t}(),bZ=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=n.globals.stroke.colors!==void 0?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,n.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100;var r=n.config.plotOptions.pie.customScale,i=n.globals.gridWidth/2,s=n.globals.gridHeight/2;this.translateX=i-i*r,this.translateY=s-s*r,this.dataLabelsGroup=new ue(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return De(t,[{key:"draw",value:function(e){var n=this,r=this.w,i=new ue(this.ctx),s=i.group({class:"apexcharts-pie"});if(r.globals.noData)return s;for(var a=0,o=0;o<e.length;o++)a+=G.negToZero(e[o]);var l=[],c=i.group();a===0&&(a=1e-5),e.forEach(function(b){n.maxY=Math.max(n.maxY,b)}),r.config.yaxis[0].max&&(this.maxY=r.config.yaxis[0].max),r.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var d=this.fullAngle*G.negToZero(e[u])/a;l.push(d),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(r.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(r.globals.radialSize)}if(r.globals.dataChanged){for(var h,f=0,g=0;g<r.globals.previousPaths.length;g++)f+=G.negToZero(r.globals.previousPaths[g]);for(var p=0;p<r.globals.previousPaths.length;p++)h=this.fullAngle*G.negToZero(r.globals.previousPaths[p])/f,this.prevSectorAngleArr.push(h)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var y=i.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:r.config.plotOptions.pie.donut.background?r.config.plotOptions.pie.donut.background:"transparent"}),c.add(y)}var v=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){v.add(b)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r.config.plotOptions.pie.customScale,")")}),c.add(v),s.add(c),this.donutDataLabels.show){var x=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(x)}return r.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,n){var r=this.w,i=new gi(this.ctx),s=new ue(this.ctx),a=new lo(this.ctx),o=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,d=this.initialAngle;this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0;for(var h=0;h<e.length;h++){var f=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:G.escapeString(r.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});o.add(f),c=d,u=(l=u)+e[h],d=c+this.prevSectorAngleArr[h];var g=u<l?this.fullAngle+u-l:u-l,p=a.fillPath({seriesNumber:h,size:this.sliceSizes[h],value:n[h]}),y=this.getChangedPath(c,d),v=s.drawPath({d:y,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[h]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:r.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(h)});if(v.attr({index:0,j:h}),i.setSelectionFilter(v,0,h),r.config.chart.dropShadow.enabled){var x=r.config.chart.dropShadow;i.dropShadow(v,x,h)}this.addListeners(v,this.donutDataLabels),ue.setAttrs(v.node,{"data:angle":g,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":n[h]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=G.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize/1.25+r.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle):this.chartType==="donut"&&(b=G.polarToCartesian(this.centerX,this.centerY,(r.globals.radialSize+this.donutSize)/2+r.config.plotOptions.pie.dataLabels.offset,(l+g/2)%this.fullAngle)),f.add(v);var _=0;if(!this.initialAnim||r.globals.resized||r.globals.dataChanged?this.animBeginArr.push(0):((_=g/this.fullAngle*r.config.chart.animations.speed)===0&&(_=1),this.animDur=_+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&r.globals.dataChanged?this.animatePaths(v,{size:this.sliceSizes[h],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:d,animateStartingPos:!0,i:h,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:r.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(v,{size:this.sliceSizes[h],endAngle:u,startAngle:l,i:h,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:_}),r.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&v.node.addEventListener("mouseup",this.pieClicked.bind(this,h)),r.globals.selectedDataPoints[0]!==void 0&&r.globals.selectedDataPoints[0].indexOf(h)>-1&&this.pieClicked(h),r.config.dataLabels.enabled){var w=b.x,C=b.y,A=100*g/this.fullAngle+"%";if(g!==0&&r.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[h]){var k=r.config.dataLabels.formatter;k!==void 0&&(A=k(r.globals.seriesPercent[h][0],{seriesIndex:h,w:r}));var E=r.globals.dataLabels.style.colors[h],T=s.group({class:"apexcharts-datalabels"}),P=s.drawText({x:w,y:C,text:A,textAnchor:"middle",fontSize:r.config.dataLabels.style.fontSize,fontFamily:r.config.dataLabels.style.fontFamily,fontWeight:r.config.dataLabels.style.fontWeight,foreColor:E});if(T.add(P),r.config.dataLabels.dropShadow.enabled){var N=r.config.dataLabels.dropShadow;i.dropShadow(P,N)}P.node.classList.add("apexcharts-pie-label"),r.config.chart.animations.animate&&r.globals.resized===!1&&(P.node.classList.add("apexcharts-pie-label-delay"),P.node.style.animationDelay=r.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return o}},{key:"addListeners",value:function(e,n){var r=new ue(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,n)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,n)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,n)))}},{key:"animatePaths",value:function(e,n){var r=this.w,i=n.endAngle<n.startAngle?this.fullAngle+n.endAngle-n.startAngle:n.endAngle-n.startAngle,s=i,a=n.startAngle,o=n.startAngle;n.prevStartAngle!==void 0&&n.prevEndAngle!==void 0&&(a=n.prevEndAngle,s=n.prevEndAngle<n.prevStartAngle?this.fullAngle+n.prevEndAngle-n.prevStartAngle:n.prevEndAngle-n.prevStartAngle),n.i===r.config.series.length-1&&(i+o>this.fullAngle?n.endAngle=n.endAngle-(i+o):i+o<this.fullAngle&&(n.endAngle=n.endAngle+(this.fullAngle-(i+o)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,o,i,s,n)}},{key:"animateArc",value:function(e,n,r,i,s,a){var o,l=this,c=this.w,u=new tm(this.ctx),d=a.size;(isNaN(n)||isNaN(s))&&(n=r,s=i,a.dur=0);var h=i,f=r,g=n<r?this.fullAngle+n-r:n-r;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:d}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(p){h=g+(i-g)*p,a.animateStartingPos&&(h=s+(i-s)*p,f=n-s+(r-(n-s))*p),o=l.getPiePath({me:l,startAngle:f,angle:h,size:d}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:f,angle:i,size:d}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var n,r=this.w,i=this,s=i.sliceSizes[e]+(r.config.plotOptions.pie.expandOnClick?4:0),a=r.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(d){d.setAttribute("data:pieClicked","false");var h=d.getAttribute("data:pathOrig");h&&d.setAttribute("d",h)}),r.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);n=i.getPiePath({me:i,startAngle:l,angle:c,size:s}),c!==360&&a.plot(n)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var u=a.attr("data:pathOrig");a.attr({d:u})}}},{key:"getChangedPath",value:function(e,n){var r="";return this.dynamicAnim&&this.w.globals.dataChanged&&(r=this.getPiePath({me:this,startAngle:e,angle:n-e,size:this.size})),r}},{key:"getPiePath",value:function(e){var n,r=e.me,i=e.startAngle,s=e.angle,a=e.size,o=new ue(this.ctx),l=i,c=Math.PI*(l-90)/180,u=s+i;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var d=Math.PI*(u-90)/180,h=r.centerX+a*Math.cos(c),f=r.centerY+a*Math.sin(c),g=r.centerX+a*Math.cos(d),p=r.centerY+a*Math.sin(d),y=G.polarToCartesian(r.centerX,r.centerY,r.donutSize,u),v=G.polarToCartesian(r.centerX,r.centerY,r.donutSize,l),x=s>180?1:0,b=["M",h,f,"A",a,a,0,x,1,g,p];return n=r.chartType==="donut"?[].concat(b,["L",y.x,y.y,"A",r.donutSize,r.donutSize,0,x,0,v.x,v.y,"L",h,f,"z"]).join(" "):r.chartType==="pie"||r.chartType==="polarArea"?[].concat(b,["L",r.centerX,r.centerY,"L",h,f]).join(" "):[].concat(b).join(" "),o.roundPathCorners(n,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var n=this.w,r=new fZ(this.ctx),i=new ue(this.ctx),s=new xZ(this.ctx),a=i.group(),o=i.group(),l=r.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var d=n.globals.radialSize,h=d/(u-1),f=0;f<u-1;f++){var g=i.drawCircle(d);if(g.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":n.config.plotOptions.polarArea.rings.strokeWidth,stroke:n.config.plotOptions.polarArea.rings.strokeColor}),n.config.yaxis[0].show){var p=s.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(n.config.yaxis[0].labels.style.fontSize,10)/2,f,c[f]);o.add(p)}a.add(g),d-=h}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,n,r){var i=this.w,s=new ue(this.ctx),a=n.total.show;e.node.innerHTML="",e.node.style.opacity=r.opacity;var o,l,c=r.centerX,u=this.donutDataLabels.total.label?r.centerY:r.centerY-r.centerY/6;o=n.name.color===void 0?i.globals.colors[0]:n.name.color;var d=n.name.fontSize,h=n.name.fontFamily,f=n.name.fontWeight;l=n.value.color===void 0?i.config.chart.foreColor:n.value.color;var g=n.value.formatter,p="",y="";if(a?(o=n.total.color,d=n.total.fontSize,h=n.total.fontFamily,f=n.total.fontWeight,y=this.donutDataLabels.total.label?n.total.label:"",p=n.total.formatter(i)):i.globals.series.length===1&&(p=g(i.globals.series[0],i),y=i.globals.seriesNames[0]),y&&(y=n.name.formatter(y,n.total.show,i)),n.name.show){var v=s.drawText({x:c,y:u+parseFloat(n.name.offsetY),text:y,textAnchor:"middle",foreColor:o,fontSize:d,fontWeight:f,fontFamily:h});v.node.classList.add("apexcharts-datalabel-label"),e.add(v)}if(n.value.show){var x=n.name.show?parseFloat(n.value.offsetY)+16:n.value.offsetY,b=s.drawText({x:c,y:u+x,text:p,textAnchor:"middle",foreColor:l,fontWeight:n.value.fontWeight,fontSize:n.value.fontSize,fontFamily:n.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,n,r,i){var s,a=this.w;i?s=e.name.color===void 0?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(s=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");r=(0,e.value.formatter)(r,a),i||typeof e.total.formatter!="function"||(r=e.total.formatter(a));var c=n===e.total.label;n=this.donutDataLabels.total.label?e.name.formatter(n,c,a):"",o!==null&&(o.textContent=n),l!==null&&(l.textContent=r),o!==null&&(o.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,n){var r=this.w,i=e.getAttribute("data:value"),s=r.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];r.globals.series.length>1&&this.printInnerLabels(n,s,i,e);var a=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var n=this,r=this.w,i=new ue(this.ctx),s=r.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var a=[],o=360/r.globals.series.length,l=0;l<r.globals.series.length;l++)a.push(G.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize,r.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,u){var d=i.drawLine(c.x,c.y,n.centerX,n.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(d)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var n=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),r=this.renderInnerDataLabels(n,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(r)}}}]),t}(),SNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new ue(this.ctx),this.lineColorArr=n.globals.stroke.colors!==void 0?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.logBase=n.config.yaxis[0].logBase,this.coreUtils=new mr(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),n.config.plotOptions.radar.size!==void 0&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return De(t,[{key:"draw",value:function(e){var n=this,r=this.w,i=new lo(this.ctx),s=[],a=new hg(this.ctx);e.length&&(this.dataPointsLen=e[r.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=r.globals.gridWidth/2,l=r.globals.gridHeight/2,c=o+r.config.plotOptions.radar.offsetX,u=l+r.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),h=[],f=null,g=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(y,v){var x=y.length===r.globals.dataPoints,b=n.graphics.group().attr({class:"apexcharts-series","data:longestSeries":x,seriesName:G.escapeString(r.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});n.dataRadiusOfPercent[v]=[],n.dataRadius[v]=[],n.angleArr[v]=[],y.forEach(function(O,L){var $=Math.abs(n.maxValue-n.minValue);O-=n.minValue,n.isLog&&(O=n.coreUtils.getLogVal(n.logBase,O,0)),n.dataRadiusOfPercent[v][L]=O/$,n.dataRadius[v][L]=n.dataRadiusOfPercent[v][L]*n.size,n.angleArr[v][L]=L*n.disAngle}),h=n.getDataPointsPos(n.dataRadius[v],n.angleArr[v]);var _=n.createPaths(h,{x:0,y:0});f=n.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),g=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":v}),r.globals.delayedElements.push({el:f.node,index:v});var w={i:v,realIndex:v,animationDelay:v,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:r.globals.stroke.colors[v],strokeLineCap:r.config.stroke.lineCap},C=null;r.globals.previousPaths.length>0&&(C=n.getPreviousPath(v));for(var A=0;A<_.linePathsTo.length;A++){var k=n.graphics.renderPaths(ve(ve({},w),{},{pathFrom:C===null?_.linePathsFrom[A]:C,pathTo:_.linePathsTo[A],strokeWidth:Array.isArray(n.strokeWidth)?n.strokeWidth[v]:n.strokeWidth,fill:"none",drawShadow:!1}));b.add(k);var E=i.fillPath({seriesNumber:v}),T=n.graphics.renderPaths(ve(ve({},w),{},{pathFrom:C===null?_.areaPathsFrom[A]:C,pathTo:_.areaPathsTo[A],strokeWidth:0,fill:E,drawShadow:!1}));if(r.config.chart.dropShadow.enabled){var P=new gi(n.ctx),N=r.config.chart.dropShadow;P.dropShadow(T,Object.assign({},N,{noUserSpaceOnUse:!0}),v)}b.add(T)}y.forEach(function(O,L){var $=new sm(n.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:L}),F=n.graphics.drawMarker(h[L].x,h[L].y,$);F.attr("rel",L),F.attr("j",L),F.attr("index",v),F.node.setAttribute("default-marker-size",$.pSize);var B=n.graphics.group({class:"apexcharts-series-markers"});B&&B.add(F),f.add(B),b.add(f);var D=r.config.dataLabels;if(D.enabled){var z=D.formatter(r.globals.series[v][L],{seriesIndex:v,dataPointIndex:L,w:r});a.plotDataLabelsText({x:h[L].x,y:h[L].y,text:z,textAnchor:"middle",i:v,j:v,parent:g,offsetCorrection:!1,dataLabelsConfig:ve({},D)})}b.add(g)}),s.push(b)}),this.drawPolygons({parent:d}),r.config.xaxis.labels.show){var p=this.drawXAxisTexts();d.add(p)}return s.forEach(function(y){d.add(y)}),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var n=this,r=this.w,i=e.parent,s=new xZ(this.ctx),a=r.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var d=[],h=[];l.forEach(function(f,g){var p=G.getPolygonPos(f,n.dataPointsLen),y="";p.forEach(function(v,x){if(g===0){var b=n.graphics.drawLine(v.x,v.y,0,0,Array.isArray(n.polygons.connectorColors)?n.polygons.connectorColors[x]:n.polygons.connectorColors);h.push(b)}x===0&&n.yaxisLabelsTextsPos.push({x:v.x,y:v.y}),y+=v.x+","+v.y+" "}),d.push(y)}),d.forEach(function(f,g){var p=n.polygons.strokeColors,y=n.polygons.strokeWidth,v=n.graphics.drawPolygon(f,Array.isArray(p)?p[g]:p,Array.isArray(y)?y[g]:y,r.globals.radarPolygons.fill.colors[g]);i.add(v)}),h.forEach(function(f){i.add(f)}),r.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(f,g){var p=s.drawYAxisTexts(f.x,f.y,g,a[g]);n.yaxisLabels.add(p)})}},{key:"drawXAxisTexts",value:function(){var e=this,n=this.w,r=n.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),s=G.getPolygonPos(this.size,this.dataPointsLen);return n.globals.labels.forEach(function(a,o){var l=n.config.xaxis.labels.formatter,c=new hg(e.ctx);if(s[o]){var u=e.getTextPos(s[o],e.size),d=l(a,{seriesIndex:-1,dataPointIndex:o,w:n});c.plotDataLabelsText({x:u.newX,y:u.newY,text:d,textAnchor:u.textAnchor,i:o,j:o,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(r.style.colors)&&r.style.colors[o]?r.style.colors[o]:"#a8a8a8",dataLabelsConfig:ve({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},r),offsetCorrection:!1}).on("click",function(h){if(typeof n.config.chart.events.xAxisLabelClick=="function"){var f=Object.assign({},n,{labelIndex:o});n.config.chart.events.xAxisLabelClick(h,e.ctx,f)}})}}),i}},{key:"createPaths",value:function(e,n){var r=this,i=[],s=[],a=[],o=[];if(e.length){s=[this.graphics.move(n.x,n.y)],o=[this.graphics.move(n.x,n.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,d){l+=r.graphics.line(u.x,u.y),c+=r.graphics.line(u.x,u.y),d===e.length-1&&(l+="Z",c+="Z")}),i.push(l),a.push(c)}return{linePathsFrom:s,linePathsTo:i,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,n){var r="middle",i=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(r="start",i+=10):e.x<0&&(r="end",i-=10):r="middle",Math.abs(e.y)>=n-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:r,newX:i,newY:s}}},{key:"getPreviousPath",value:function(e){for(var n=this.w,r=null,i=0;i<n.globals.previousPaths.length;i++){var s=n.globals.previousPaths[i];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&n.globals.previousPaths[i].paths[0]!==void 0&&(r=n.globals.previousPaths[i].paths[0].d)}return r}},{key:"getDataPointsPos",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],n=n||[];for(var i=[],s=0;s<r;s++){var a={};a.x=e[s]*Math.sin(n[s]),a.y=-e[s]*Math.cos(n[s]),i.push(a)}return i}}]),t}(),ANe=function(t){Tb(n,bZ);var e=Eb(n);function n(r){var i;Me(this,n),(i=e.call(this,r)).ctx=r,i.w=r.w,i.animBeginArr=[0],i.animDur=0;var s=i.w;return i.startAngle=s.config.plotOptions.radialBar.startAngle,i.endAngle=s.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),i.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(RQ(i)),i}return De(n,[{key:"draw",value:function(r){var i=this.w,s=new ue(this.ctx),a=s.group({class:"apexcharts-radialbar"});if(i.globals.noData)return a;var o=s.group(),l=this.defaultSize/2,c=i.globals.gridWidth/2,u=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(u=u-i.config.stroke.width-i.config.chart.dropShadow.blur);var d=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var h=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:d,series:r});o.add(h)}var f=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:d,series:r}),g=360;i.config.plotOptions.radialBar.startAngle<0&&(g=this.totalAngle);var p=(360-g)/360;if(i.globals.radialSize=u-u*p,this.radialDataLabels.value.show){var y=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=y*p}return o.add(f.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(f.g.add(f.elHollow),f.dataLabels&&f.g.add(f.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(r){var i=this.w,s=new ue(this.ctx),a=s.group({class:"apexcharts-tracks"}),o=new gi(this.ctx),l=new lo(this.ctx),c=this.getStrokeWidth(r);r.size=r.size-c/2;for(var u=0;u<r.series.length;u++){var d=s.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(d),d.attr({rel:u+1}),r.size=r.size-c-this.margin;var h=i.config.plotOptions.radialBar.track,f=l.fillPath({seriesNumber:0,size:r.size,fillColors:Array.isArray(h.background)?h.background[u]:h.background,solid:!0}),g=this.trackStartAngle,p=this.trackEndAngle;Math.abs(p)+Math.abs(g)>=360&&(p=360-Math.abs(this.startAngle)-.1);var y=s.drawPath({d:"",stroke:f,strokeWidth:c*parseInt(h.strokeWidth,10)/100,fill:"none",strokeOpacity:h.opacity,classes:"apexcharts-radialbar-area"});if(h.dropShadow.enabled){var v=h.dropShadow;o.dropShadow(y,v)}d.add(y),y.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(y,{centerX:r.centerX,centerY:r.centerY,endAngle:p,startAngle:g,size:r.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(r){var i=this.w,s=new ue(this.ctx),a=new lo(this.ctx),o=new gi(this.ctx),l=s.group(),c=this.getStrokeWidth(r);r.size=r.size-c/2;var u=i.config.plotOptions.radialBar.hollow.background,d=r.size-c*r.series.length-this.margin*r.series.length-c*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,h=d-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(r,l,d,u));var f=this.drawHollow({size:h,centerX:r.centerX,centerY:r.centerY,fill:u||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var g=i.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(f,g)}var p=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(p=0);var y=null;if(this.radialDataLabels.show){var v=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");y=this.renderInnerDataLabels(v,this.radialDataLabels,{hollowSize:d,centerX:r.centerX,centerY:r.centerY,opacity:p})}i.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(f),y&&l.add(y));var x=!1;i.config.plotOptions.radialBar.inverseOrder&&(x=!0);for(var b=x?r.series.length-1:0;x?b>=0:b<r.series.length;x?b--:b++){var _=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:G.escapeString(i.globals.seriesNames[b])});l.add(_),_.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(_,b),r.size=r.size-c-this.margin;var w=a.fillPath({seriesNumber:b,size:r.size,value:r.series[b]}),C=this.startAngle,A=void 0,k=G.negToZero(r.series[b]>100?100:r.series[b])/100,E=Math.round(this.totalAngle*k)+this.startAngle,T=void 0;i.globals.dataChanged&&(A=this.startAngle,T=Math.round(this.totalAngle*G.negToZero(i.globals.previousPaths[b])/100)+A),Math.abs(E)+Math.abs(C)>360&&(E-=.01),Math.abs(T)+Math.abs(A)>360&&(T-=.01);var P=E-C,N=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[b]:i.config.stroke.dashArray,O=s.drawPath({d:"",stroke:w,strokeWidth:c,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:N});if(ue.setAttrs(O.node,{"data:angle":P,"data:value":r.series[b]}),i.config.chart.dropShadow.enabled){var L=i.config.chart.dropShadow;o.dropShadow(O,L,b)}if(o.setSelectionFilter(O,0,b),this.addListeners(O,this.radialDataLabels),_.add(O),O.attr({index:0,j:b}),this.barLabels.enabled){var $=G.polarToCartesian(r.centerX,r.centerY,r.size,C),F=this.barLabels.formatter(i.globals.seriesNames[b],{seriesIndex:b,w:i}),B=["apexcharts-radialbar-label"];this.barLabels.onClick||B.push("apexcharts-no-click");var D=this.barLabels.useSeriesColors?i.globals.colors[b]:i.config.chart.foreColor;D||(D=i.config.chart.foreColor);var z=$.x+this.barLabels.offsetX,W=$.y+this.barLabels.offsetY,X=s.drawText({x:z,y:W,text:F,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:D,cssClass:B.join(" ")});X.on("click",this.onBarLabelClick),X.attr({rel:b+1}),C!==0&&X.attr({"transform-origin":"".concat(z," ").concat(W),transform:"rotate(".concat(C," 0 0)")}),_.add(X)}var q=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(q=i.config.chart.animations.speed),i.globals.dataChanged&&(q=i.config.chart.animations.dynamicAnimation.speed),this.animDur=q/(1.2*r.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(O,{centerX:r.centerX,centerY:r.centerY,endAngle:E,startAngle:C,prevEndAngle:T,prevStartAngle:A,size:r.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:q,shouldSetPrevPaths:!0})}return{g:l,elHollow:f,dataLabels:y}}},{key:"drawHollow",value:function(r){var i=new ue(this.ctx).drawCircle(2*r.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:r.centerX,cy:r.centerY,r:r.size,fill:r.fill}),i}},{key:"drawHollowImage",value:function(r,i,s,a){var o=this.w,l=new lo(this.ctx),c=G.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var d=o.config.plotOptions.radialBar.hollow.imageWidth,h=o.config.plotOptions.radialBar.hollow.imageHeight;if(d===void 0&&h===void 0){var f=o.globals.dom.Paper.image(u,function(p){this.move(r.centerX-p.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-p.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});i.add(f)}else{var g=o.globals.dom.Paper.image(u,function(p){this.move(r.centerX-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(d,h)});i.add(g)}}return a}},{key:"getStrokeWidth",value:function(r){var i=this.w;return r.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(r.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(r){var i=parseInt(r.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,a=this.w;s&&s(a.globals.seriesNames[i],{w:a,seriesIndex:i})}}]),n}(),CNe=function(t){Tb(n,fg);var e=Eb(n);function n(){return Me(this,n),e.apply(this,arguments)}return De(n,[{key:"draw",value:function(r,i){var s=this.w,a=new ue(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=r,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(r);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<r.length;l++){var c,u,d,h,f=void 0,g=void 0,p=s.globals.comboCharts?i[l]:l,y=this.barHelpers.getGroupIndex(p).columnGroupIndex,v=a.group({class:"apexcharts-series",seriesName:G.escapeString(s.globals.seriesNames[p]),rel:l+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(v,p),r[l].length>0&&(this.visibleI=this.visibleI+1);var x=0,b=0,_=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[p][0],_=p);var w=this.barHelpers.initialPositions(p);g=w.y,h=w.zeroW,f=w.x,b=w.barWidth,x=w.barHeight,c=w.xDivision,u=w.yDivision,d=w.zeroH;for(var C=a.group({class:"apexcharts-datalabels","data:realIndex":p}),A=a.group({class:"apexcharts-rangebar-goals-markers"}),k=0;k<s.globals.dataPoints;k++){var E=this.barHelpers.getStrokeWidth(l,k,p),T=this.seriesRangeStart[l][k],P=this.seriesRangeEnd[l][k],N=null,O=null,L=null,$={x:f,y:g,strokeWidth:E,elSeries:v},F=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(F=1),s.config.series[l].data[k]===void 0)break;if(this.isHorizontal){L=g+x*this.visibleI;var B=(u-x*F)/2;if(s.config.series[l].data[k].x){var D=this.detectOverlappingBars({i:l,j:k,barYPosition:L,srty:B,barHeight:x,yDivision:u,initPositions:w});x=D.barHeight,L=D.barYPosition}b=(N=this.drawRangeBarPaths(ve({indexes:{i:l,j:k,realIndex:p},barHeight:x,barYPosition:L,zeroW:h,yDivision:u,y1:T,y2:P},$))).barWidth}else{s.globals.isXNumeric&&(f=(s.globals.seriesX[l][k]-s.globals.minX)/this.xRatio-b/2),O=f+b*this.visibleI;var z=(c-b*F)/2;if(s.config.series[l].data[k].x){var W=this.detectOverlappingBars({i:l,j:k,barXPosition:O,srtx:z,barWidth:b,xDivision:c,initPositions:w});b=W.barWidth,O=W.barXPosition}x=(N=this.drawRangeColumnPaths(ve({indexes:{i:l,j:k,realIndex:p,translationsIndex:_},barWidth:b,barXPosition:O,zeroH:d,xDivision:c},$))).barHeight}var X=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:L,goalX:N.goalX,goalY:N.goalY,barHeight:x,barWidth:b});X&&A.add(X),g=N.y,f=N.x;var q=this.barHelpers.getPathFillColor(r,l,k,p);this.renderSeries({realIndex:p,pathFill:q.color,lineFill:q.useRangeColor?q.color:s.globals.stroke.colors[p],j:k,i:l,x:f,y:g,y1:T,y2:P,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:E,elSeries:v,series:r,barHeight:x,barWidth:b,barXPosition:O,barYPosition:L,columnGroupIndex:y,elDataLabelsWrap:C,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"rangebar"})}o.add(v)}return o}},{key:"detectOverlappingBars",value:function(r){var i=r.i,s=r.j,a=r.barYPosition,o=r.barXPosition,l=r.srty,c=r.srtx,u=r.barHeight,d=r.barWidth,h=r.yDivision,f=r.xDivision,g=r.initPositions,p=this.w,y=[],v=p.config.series[i].data[s].rangeName,x=p.config.series[i].data[s].x,b=Array.isArray(x)?x.join(" "):x,_=p.globals.labels.map(function(C){return Array.isArray(C)?C.join(" "):C}).indexOf(b),w=p.globals.seriesRange[i].findIndex(function(C){return C.x===b&&C.overlaps.length>0});return this.isHorizontal?(a=p.config.plotOptions.bar.rangeBarGroupRows?l+h*_:l+u*this.visibleI+h*_,w>-1&&!p.config.plotOptions.bar.rangeBarOverlap&&(y=p.globals.seriesRange[i][w].overlaps).indexOf(v)>-1&&(a=(u=g.barHeight/y.length)*this.visibleI+h*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+y.indexOf(v))+h*_)):(_>-1&&!p.globals.timescaleLabels.length&&(o=p.config.plotOptions.bar.rangeBarGroupRows?c+f*_:c+d*this.visibleI+f*_),w>-1&&!p.config.plotOptions.bar.rangeBarOverlap&&(y=p.globals.seriesRange[i][w].overlaps).indexOf(v)>-1&&(o=(d=g.barWidth/y.length)*this.visibleI+f*(100-parseInt(this.barOptions.barWidth,10))/100/2+d*(this.visibleI+y.indexOf(v))+f*_)),{barYPosition:a,barXPosition:o,barHeight:u,barWidth:d}}},{key:"drawRangeColumnPaths",value:function(r){var i=r.indexes,s=r.x,a=r.xDivision,o=r.barWidth,l=r.barXPosition,c=r.zeroH,u=this.w,d=i.i,h=i.j,f=i.realIndex,g=i.translationsIndex,p=this.yRatio[g],y=this.getRangeValue(f,h),v=Math.min(y.start,y.end),x=Math.max(y.start,y.end);this.series[d][h]===void 0||this.series[d][h]===null?v=c:(v=c-v/p,x=c-x/p);var b=Math.abs(x-v),_=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:v,y2:x,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f,i:f,j:h,w:u});if(u.globals.isXNumeric){var w=this.getBarXForNumericXAxis({x:s,j:h,realIndex:f,barWidth:o});s=w.x,l=w.barXPosition}else s+=a;return{pathTo:_.pathTo,pathFrom:_.pathFrom,barHeight:b,x:s,y:y.start<0&&y.end<0?v:x,goalY:this.barHelpers.getGoalValues("y",null,c,d,h,g),barXPosition:l}}},{key:"preventBarOverflow",value:function(r){var i=this.w;return r<0&&(r=0),r>i.globals.gridWidth&&(r=i.globals.gridWidth),r}},{key:"drawRangeBarPaths",value:function(r){var i=r.indexes,s=r.y,a=r.y1,o=r.y2,l=r.yDivision,c=r.barHeight,u=r.barYPosition,d=r.zeroW,h=this.w,f=i.realIndex,g=i.j,p=this.preventBarOverflow(d+a/this.invertedYRatio),y=this.preventBarOverflow(d+o/this.invertedYRatio),v=this.getRangeValue(f,g),x=Math.abs(y-p),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:p,x2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f,realIndex:f,j:g,w:h});return h.globals.isXNumeric||(s+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:x,x:v.start<0&&v.end<0?p:y,goalX:this.barHelpers.getGoalValues("x",d,null,f,g),y:s}}},{key:"getRangeValue",value:function(r,i){var s=this.w;return{start:s.globals.seriesRangeStart[r][i],end:s.globals.seriesRangeEnd[r][i]}}}]),n}(),kNe=function(){function t(e){Me(this,t),this.w=e.w,this.lineCtx=e}return De(t,[{key:"sameValueSeriesFix",value:function(e,n){var r=this.w;if((r.config.fill.type==="gradient"||r.config.fill.type[e]==="gradient")&&new mr(this.lineCtx.ctx,r).seriesHaveSameValues(e)){var i=n[e].slice();i[i.length-1]=i[i.length-1]+1e-6,n[e]=i}return n}},{key:"calculatePoints",value:function(e){var n=e.series,r=e.realIndex,i=e.x,s=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,u=[],d=[],h=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(h=(c.globals.seriesX[r][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(h),d.push(G.isNumber(n[a][0])?l+c.config.markers.offsetY:null)),u.push(i+c.config.markers.offsetX),d.push(G.isNumber(n[a][o+1])?s+c.config.markers.offsetY:null),{x:u,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var n=e.pathFromLine,r=e.pathFromArea,i=e.realIndex,s=this.w,a=0;a<s.globals.previousPaths.length;a++){var o=s.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(i,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,n=s.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,r=s.globals.previousPaths[a].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[a].paths[1]&&(n=s.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:n,pathFromArea:r}}},{key:"determineFirstPrevY",value:function(e){var n,r,i,s=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,d=this.w,h=d.config.chart.stacked&&!d.globals.comboCharts||d.config.chart.stacked&&d.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((n=this.w.config.series[a])===null||n===void 0?void 0:n.type)==="bar"||((r=this.w.config.series[a])===null||r===void 0?void 0:r.type)==="column");if(((i=o[s])===null||i===void 0?void 0:i[0])!==void 0)l=(c=h&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-o[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[s][0]/this.lineCtx.yRatio[u]:0);else if(h&&s>0&&o[s][0]===void 0){for(var f=s-1;f>=0;f--)if(o[f][0]!==null&&o[f][0]!==void 0){l=c=this.lineCtx.prevSeriesY[f][0];break}}return{prevY:l,lineYPosition:c}}}]),t}(),ENe=function(t){for(var e,n,r,i,s=function(u){for(var d=[],h=u[0],f=u[1],g=d[0]=iT(h,f),p=1,y=u.length-1;p<y;p++)h=f,f=u[p+1],d[p]=.5*(g+(g=iT(h,f)));return d[p]=g,d}(t),a=t.length-1,o=[],l=0;l<a;l++)r=iT(t[l],t[l+1]),Math.abs(r)<1e-6?s[l]=s[l+1]=0:(i=(e=s[l]/r)*e+(n=s[l+1]/r)*n)>9&&(i=3*r/Math.sqrt(i),s[l]=i*e,s[l+1]=i*n);for(var c=0;c<=a;c++)i=(t[Math.min(a,c+1)][0]-t[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),o.push([i||0,s[c]*i||0]);return o},TNe=function(t){var e=ENe(t),n=t[1],r=t[0],i=[],s=e[1],a=e[0];i.push(r,[r[0]+a[0],r[1]+a[1],n[0]-s[0],n[1]-s[1],n[0],n[1]]);for(var o=2,l=e.length;o<l;o++){var c=t[o],u=e[o];i.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return i},PNe=function(t,e,n){var r=t.slice(e,n);if(e){if(n-e>1&&r[1].length<6){var i=r[0].length;r[1]=[2*r[0][i-2]-r[0][i-4],2*r[0][i-1]-r[0][i-3]].concat(r[1])}r[0]=r[0].slice(-2)}return r};function iT(t,e){return(e[1]-t[1])/(e[0]-t[0])}var sT=function(){function t(e,n,r){Me(this,t),this.ctx=e,this.w=e.w,this.xyRatios=n,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||r,this.scatter=new dZ(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new kNe(this),this.markers=new sm(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return De(t,[{key:"draw",value:function(e,n,r,i){var s,a=this.w,o=new ue(this.ctx),l=a.globals.comboCharts?n:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new mr(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var d=[],h=0;h<e.length;h++){e=this.lineHelpers.sameValueSeriesFix(h,e);var f=a.globals.comboCharts?r[h]:h,g=this.yRatio.length>1?f:0;this._initSerieVariables(e,h,f);var p=[],y=[],v=[],x=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,f),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(x=(a.globals.seriesX[f][0]-a.globals.minX)/this.xRatio),v.push(x);var b,_=x,w=void 0,C=_,A=this.zeroY,k=this.zeroY;A=this.lineHelpers.determineFirstPrevY({i:h,realIndex:f,series:e,prevY:A,lineYPosition:0,translationsIndex:g}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[h][0]===null?p.push(null):p.push(A),b=A,l==="rangeArea"&&(w=k=this.lineHelpers.determineFirstPrevY({i:h,realIndex:f,series:i,prevY:k,lineYPosition:0,translationsIndex:g}).prevY,y.push(p[0]!==null?k:null));var E=this._calculatePathsFrom({type:l,series:e,i:h,realIndex:f,translationsIndex:g,prevX:C,prevY:A,prevY2:k}),T=[p[0]],P=[y[0]],N={type:l,series:e,realIndex:f,translationsIndex:g,i:h,x,y:1,pX:_,pY:b,pathsFrom:E,linePaths:[],areaPaths:[],seriesIndex:r,lineYPosition:0,xArrj:v,yArrj:p,y2Arrj:y,seriesRangeEnd:i},O=this._iterateOverDataPoints(ve(ve({},N),{},{iterations:l==="rangeArea"?e[h].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var L=this._calculatePathsFrom({series:i,i:h,realIndex:f,prevX:C,prevY:k}),$=this._iterateOverDataPoints(ve(ve({},N),{},{series:i,xArrj:[x],yArrj:T,y2Arrj:P,pY:w,areaPaths:O.areaPaths,pathsFrom:L,iterations:i[h].length-1,isRangeStart:!1})),F=O.linePaths.length/2,B=0;B<F;B++)O.linePaths[B]=$.linePaths[B+F]+O.linePaths[B];O.linePaths.splice(F),O.pathFromLine=$.pathFromLine+O.pathFromLine}else O.pathFromArea+="z";this._handlePaths({type:l,realIndex:f,i:h,paths:O}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(((s=a.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&d.sort(function(W,X){return Number(W.node.getAttribute("zIndex"))-Number(X.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var D=d.length-1;D>=0;D--)c.add(d[D]);else for(var z=0;z<d.length;z++)c.add(d[z]);return c}},{key:"_initSerieVariables",value:function(e,n,r){var i=this.w,s=new ue(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[r]:i.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[r],a=r),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[a]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:i.config.series[r].zIndex!==void 0?i.config.series[r].zIndex:r,seriesName:G.escapeString(i.globals.seriesNames[r])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":r}),i.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[i.globals.gridHeight+i.globals.markers.largestSize]},seriesIndex:n,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":r});var l=e[n].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:n+1,"data:realIndex":r}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var n,r,i,s,a=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,d=e.prevX,h=e.prevY,f=e.prevY2,g=this.w,p=new ue(this.ctx);if(o[l][0]===null){for(var y=0;y<o[l].length;y++)if(o[l][y]!==null){d=this.xDivision*y,h=this.zeroY-o[l][y]/this.yRatio[u],n=p.move(d,h),r=p.move(d,this.areaBottomY);break}}else n=p.move(d,h),a==="rangeArea"&&(n=p.move(d,f)+p.line(d,h)),r=p.move(d,this.areaBottomY)+p.line(d,h);if(i=p.move(0,this.areaBottomY)+p.line(0,this.areaBottomY),s=p.move(0,this.areaBottomY)+p.line(0,this.areaBottomY),g.globals.previousPaths.length>0){var v=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:s,realIndex:c});i=v.pathFromLine,s=v.pathFromArea}return{prevX:d,prevY:h,linePath:n,areaPath:r,pathFromLine:i,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var n=e.type,r=e.realIndex,i=e.i,s=e.paths,a=this.w,o=new ue(this.ctx),l=new lo(this.ctx);this.prevSeriesY.push(s.yArrj),a.globals.seriesXvalues[r]=s.xArrj,a.globals.seriesYvalues[r]=s.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&n!=="rangeArea"){var u=a.globals.seriesXvalues[r][a.globals.seriesXvalues[r].length-c.count-1],d=o.drawRect(u,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(d.node);var h=o.drawRect(0,0,u,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(h.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:r});var f={i,realIndex:r,animationDelay:i,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(n)};if(n==="area")for(var g=l.fillPath({seriesNumber:r}),p=0;p<s.areaPaths.length;p++){var y=o.renderPaths(ve(ve({},f),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[p],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:g}));this.elSeries.add(y)}if(a.config.stroke.show&&!this.pointsChart){var v=null;if(n==="line")v=l.fillPath({seriesNumber:r,i});else if(a.config.stroke.fill.type==="solid")v=a.globals.stroke.colors[r];else{var x=a.config.fill;a.config.fill=a.config.stroke.fill,v=l.fillPath({seriesNumber:r,i}),a.config.fill=x}for(var b=0;b<s.linePaths.length;b++){var _=v;n==="rangeArea"&&(_=l.fillPath({seriesNumber:r}));var w=ve(ve({},f),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:n==="rangeArea"?_:"none"}),C=o.renderPaths(w);if(this.elSeries.add(C),C.attr("fill-rule","evenodd"),c.count>0&&n!=="rangeArea"){var A=o.renderPaths(w);A.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&A.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(A),A.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),C.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var n,r,i=this,s=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,d=e.x,h=e.y,f=e.pX,g=e.pY,p=e.pathsFrom,y=e.linePaths,v=e.areaPaths,x=e.seriesIndex,b=e.lineYPosition,_=e.xArrj,w=e.yArrj,C=e.y2Arrj,A=e.isRangeStart,k=e.seriesRangeEnd,E=this.w,T=new ue(this.ctx),P=this.yRatio,N=p.prevY,O=p.linePath,L=p.areaPath,$=p.pathFromLine,F=p.pathFromArea,B=G.isNumber(E.globals.minYArr[l])?E.globals.minYArr[l]:E.globals.minY;o||(o=E.globals.dataPoints>1?E.globals.dataPoints-1:E.globals.dataPoints);var D=function(re,ge){return ge-re/P[c]+2*(i.isReversed?re/P[c]:0)},z=h,W=E.config.chart.stacked&&!E.globals.comboCharts||E.config.chart.stacked&&E.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="bar"||((r=this.w.config.series[l])===null||r===void 0?void 0:r.type)==="column"),X=E.config.stroke.curve;Array.isArray(X)&&(X=Array.isArray(x)?X[x[u]]:X[u]);for(var q,J=0,ae=0;ae<o&&a[u].length!==0;ae++){var _e=a[u][ae+1]===void 0||a[u][ae+1]===null;if(E.globals.isXNumeric){var K=E.globals.seriesX[l][ae+1];E.globals.seriesX[l][ae+1]===void 0&&(K=E.globals.seriesX[l][o-1]),d=(K-E.globals.minX)/this.xRatio}else d+=this.xDivision;W?u>0&&E.globals.collapsedSeries.length<E.config.series.length-1?b=this.prevSeriesY[function(re){for(var ge=re;ge>0;ge--){if(!(E.globals.collapsedSeriesIndices.indexOf((x==null?void 0:x[ge])||ge)>-1))return ge;ge--}return 0}(u-1)][ae+1]:b=this.zeroY:b=this.zeroY,_e?h=D(B,b):(h=D(a[u][ae+1],b),s==="rangeArea"&&(z=D(k[u][ae+1],b))),_.push(a[u][ae+1]===null?null:d),!_e||E.config.stroke.curve!=="smooth"&&E.config.stroke.curve!=="monotoneCubic"?(w.push(h),C.push(z)):(w.push(null),C.push(null));var fe=this.lineHelpers.calculatePoints({series:a,x:d,y:h,realIndex:l,i:u,j:ae,prevY:N}),Ne=this._createPaths({type:s,series:a,i:u,realIndex:l,j:ae,x:d,y:h,y2:z,xArrj:_,yArrj:w,y2Arrj:C,pX:f,pY:g,pathState:J,segmentStartX:q,linePath:O,areaPath:L,linePaths:y,areaPaths:v,curve:X,isRangeStart:A});v=Ne.areaPaths,y=Ne.linePaths,f=Ne.pX,g=Ne.pY,J=Ne.pathState,q=Ne.segmentStartX,L=Ne.areaPath,O=Ne.linePath,!this.appendPathFrom||E.globals.hasNullValues||X==="monotoneCubic"&&s==="rangeArea"||($+=T.line(d,this.areaBottomY),F+=T.line(d,this.areaBottomY)),this.handleNullDataPoints(a,fe,u,ae,l),this._handleMarkersAndLabels({type:s,pointsPos:fe,i:u,j:ae,realIndex:l,isRangeStart:A})}return{yArrj:w,xArrj:_,pathFromArea:F,areaPaths:v,pathFromLine:$,linePaths:y,linePath:O,areaPath:L}}},{key:"_handleMarkersAndLabels",value:function(e){var n=e.type,r=e.pointsPos,i=e.isRangeStart,s=e.i,a=e.j,o=e.realIndex,l=this.w,c=new hg(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:r,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:r,seriesIndex:o,j:a+1});u!==null&&this.elPointsMain.add(u)}var d=c.drawDataLabel({type:n,isRangeStart:i,pos:r,i:o,j:a+1});d!==null&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var n=e.type,r=e.series,i=e.i;e.realIndex;var s,a=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,d=e.y2,h=e.y2Arrj,f=e.pX,g=e.pY,p=e.pathState,y=e.segmentStartX,v=e.linePath,x=e.areaPath,b=e.linePaths,_=e.areaPaths,w=e.curve,C=e.isRangeStart,A=new ue(this.ctx),k=this.areaBottomY,E=n==="rangeArea",T=n==="rangeArea"&&C;switch(w){case"monotoneCubic":var P=C?u:h;switch(p){case 0:if(P[a+1]===null)break;p=1;case 1:if(!(E?c.length===r[i].length:a===r[i].length-2))break;case 2:var N=C?c:c.slice().reverse(),O=C?P:P.slice().reverse(),L=(s=O,N.map(function(K,fe){return[K,s[fe]]}).filter(function(K){return K[1]!==null})),$=L.length>1?TNe(L):L,F=[];E&&(T?_=L:F=_.reverse());var B=0,D=0;if(function(K,fe){for(var Ne=function(se){var et=[],Ge=0;return se.forEach(function(Ot){Ot!==null?Ge++:Ge>0&&(et.push(Ge),Ge=0)}),Ge>0&&et.push(Ge),et}(K),re=[],ge=0,Ae=0;ge<Ne.length;Ae+=Ne[ge++])re[ge]=PNe(fe,Ae,Ae+Ne[ge]);return re}(O,$).forEach(function(K){B++;var fe=function(ge){for(var Ae="",se=0;se<ge.length;se++){var et=ge[se],Ge=et.length;Ge>4?(Ae+="C".concat(et[0],", ").concat(et[1]),Ae+=", ".concat(et[2],", ").concat(et[3]),Ae+=", ".concat(et[4],", ").concat(et[5])):Ge>2&&(Ae+="S".concat(et[0],", ").concat(et[1]),Ae+=", ".concat(et[2],", ").concat(et[3]))}return Ae}(K),Ne=D,re=(D+=K.length)-1;T?v=A.move(L[Ne][0],L[Ne][1])+fe:E?v=A.move(F[Ne][0],F[Ne][1])+A.line(L[Ne][0],L[Ne][1])+fe+A.line(F[re][0],F[re][1]):(v=A.move(L[Ne][0],L[Ne][1])+fe,x=v+A.line(L[re][0],k)+A.line(L[Ne][0],k)+"z",_.push(x)),b.push(v)}),E&&B>1&&!T){var z=b.slice(B).reverse();b.splice(B),z.forEach(function(K){return b.push(K)})}p=0}break;case"smooth":var W=.35*(o-f);if(r[i][a]===null)p=0;else switch(p){case 0:if(y=f,v=T?A.move(f,h[a])+A.line(f,g):A.move(f,g),x=A.move(f,g),r[i][a+1]===null||r[i][a+1]===void 0){b.push(v),_.push(x);break}if(p=1,a<r[i].length-2){var X=A.curve(f+W,g,o-W,l,o,l);v+=X,x+=X;break}case 1:if(r[i][a+1]===null)v+=T?A.line(f,d):A.move(f,g),x+=A.line(f,k)+A.line(y,k)+"z",b.push(v),_.push(x),p=-1;else{var q=A.curve(f+W,g,o-W,l,o,l);v+=q,x+=q,a>=r[i].length-2&&(T&&(v+=A.curve(o,l,o,l,o,d)+A.move(o,d)),x+=A.curve(o,l,o,l,o,k)+A.line(y,k)+"z",b.push(v),_.push(x),p=-1)}}f=o,g=l;break;default:var J=function(K,fe,Ne){var re=[];switch(K){case"stepline":re=A.line(fe,null,"H")+A.line(null,Ne,"V");break;case"linestep":re=A.line(null,Ne,"V")+A.line(fe,null,"H");break;case"straight":re=A.line(fe,Ne)}return re};if(r[i][a]===null)p=0;else switch(p){case 0:if(y=f,v=T?A.move(f,h[a])+A.line(f,g):A.move(f,g),x=A.move(f,g),r[i][a+1]===null||r[i][a+1]===void 0){b.push(v),_.push(x);break}if(p=1,a<r[i].length-2){var ae=J(w,o,l);v+=ae,x+=ae;break}case 1:if(r[i][a+1]===null)v+=T?A.line(f,d):A.move(f,g),x+=A.line(f,k)+A.line(y,k)+"z",b.push(v),_.push(x),p=-1;else{var _e=J(w,o,l);v+=_e,x+=_e,a>=r[i].length-2&&(T&&(v+=A.line(o,d)),x+=A.line(o,k)+A.line(y,k)+"z",b.push(v),_.push(x),p=-1)}}f=o,g=l}return{linePaths:b,areaPaths:_,pX:f,pY:g,pathState:p,segmentStartX:y,linePath:v,areaPath:x}}},{key:"handleNullDataPoints",value:function(e,n,r,i,s){var a=this.w;if(e[r][i]===null&&a.config.markers.showNullDataPoints||e[r].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:s,j:i+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(d){var h,f=[],g=this.xoffset,p=this.yoffset,y=s(d)/this.height,v=s(d)/this.width;if(this.width>=this.height)for(h=0;h<d.length;h++)f.push([g,p,g+y,p+d[h]/y]),p+=d[h]/y;else for(h=0;h<d.length;h++)f.push([g,p,g+d[h]/v,p+v]),g+=d[h]/v;return f},this.cutArea=function(d){var h;if(this.width>=this.height){var f=d/this.height,g=this.width-f;h=new t(this.xoffset+f,this.yoffset,g,this.height)}else{var p=d/this.width,y=this.height-p;h=new t(this.xoffset,this.yoffset+p,this.width,y)}return h}}function e(o,l,c,u,d){u=u===void 0?0:u,d=d===void 0?0:d;var h=n(function(f,g){var p,y=[],v=g/s(f);for(p=0;p<f.length;p++)y[p]=f[p]*v;return y}(o,l*c),[],new t(u,d,l,c),[]);return function(f){var g,p,y=[];for(g=0;g<f.length;g++)for(p=0;p<f[g].length;p++)y.push(f[g][p]);return y}(h)}function n(o,l,c,u){var d,h,f;if(o.length!==0)return d=c.shortestEdge(),function(g,p,y){var v;if(g.length===0)return!0;(v=g.slice()).push(p);var x=r(g,y),b=r(v,y);return x>=b}(l,h=o[0],d)?(l.push(h),n(o.slice(1),l,c,u)):(f=c.cutArea(s(l),u),u.push(c.getCoordinates(l)),n(o,[],f,u)),u;u.push(c.getCoordinates(l))}function r(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),d=s(o);return Math.max(Math.pow(l,2)*u/Math.pow(d,2),Math.pow(d,2)/(Math.pow(l,2)*c))}function i(o){return o&&o.constructor===Array}function s(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(i(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=s(o);return c}return function o(l,c,u,d,h){d=d===void 0?0:d,h=h===void 0?0:h;var f,g,p=[],y=[];if(i(l[0])){for(g=0;g<l.length;g++)p[g]=a(l[g]);for(f=e(p,c,u,d,h),g=0;g<l.length;g++)y.push(o(l[g],f[g][2]-f[g][0],f[g][3]-f[g][1],f[g][0],f[g][1]))}else y=e(l,c,u,d,h);return y}}();var INe=function(){function t(e,n){Me(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new vZ(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return De(t,[{key:"draw",value:function(e){var n=this,r=this.w,i=new ue(this.ctx),s=new lo(this.ctx),a=i.group({class:"apexcharts-treemap"});if(r.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),r.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(n.labels[c])||(n.labels[c]=[]),n.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,r.globals.gridWidth,r.globals.gridHeight).forEach(function(l,c){var u=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:G.escapeString(r.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(r.config.chart.dropShadow.enabled){var d=r.config.chart.dropShadow;new gi(n.ctx).dropShadow(a,d,c)}var h=i.group({class:"apexcharts-data-labels"}),f={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function($,F){var B=$[0],D=$[1],z=$[2],W=$[3];f.xMin=Math.min(f.xMin,B),f.yMin=Math.min(f.yMin,D),f.xMax=Math.max(f.xMax,z),f.yMax=Math.max(f.yMax,W);var X=n.helpers.getShadeColor(r.config.chart.type,c,F,n.negRange),q=X.color,J=s.fillPath({color:q,seriesNumber:c,dataPointIndex:F}),ae=i.drawRect(B,D,z-B,W-D,r.config.plotOptions.treemap.borderRadius,"#fff",1,n.strokeWidth,r.config.plotOptions.treemap.useFillColorAsStroke?q:r.globals.stroke.colors[c]);ae.attr({cx:B,cy:D,index:c,i:c,j:F,width:z-B,height:W-D,fill:J}),ae.node.classList.add("apexcharts-treemap-rect"),n.helpers.addListeners(ae);var _e={x:B+(z-B)/2,y:D+(W-D)/2,width:0,height:0},K={x:B,y:D,width:z-B,height:W-D};if(r.config.chart.animations.enabled&&!r.globals.dataChanged){var fe=1;r.globals.resized||(fe=r.config.chart.animations.speed),n.animateTreemap(ae,_e,K,fe)}if(r.globals.dataChanged){var Ne=1;n.dynamicAnim.enabled&&r.globals.shouldAnimate&&(Ne=n.dynamicAnim.speed,r.globals.previousPaths[c]&&r.globals.previousPaths[c][F]&&r.globals.previousPaths[c][F].rect&&(_e=r.globals.previousPaths[c][F].rect),n.animateTreemap(ae,_e,K,Ne))}var re=n.getFontSize($),ge=r.config.dataLabels.formatter(n.labels[c][F],{value:r.globals.series[c][F],seriesIndex:c,dataPointIndex:F,w:r});r.config.plotOptions.treemap.dataLabels.format==="truncate"&&(re=parseInt(r.config.dataLabels.style.fontSize,10),ge=n.truncateLabels(ge,re,B,D,z,W));var Ae=null;r.globals.series[c][F]&&(Ae=n.helpers.calculateDataLabels({text:ge,x:(B+z)/2,y:(D+W)/2+n.strokeWidth/2+re/3,i:c,j:F,colorProps:X,fontSize:re,series:e})),r.config.dataLabels.enabled&&Ae&&n.rotateToFitLabel(Ae,re,ge,B,D,z,W),u.add(ae),Ae!==null&&u.add(Ae)});var g=r.config.plotOptions.treemap.seriesTitle;if(r.config.series.length>1&&g&&g.show){var p=r.config.series[c].name||"";if(p&&f.xMin<1/0&&f.yMin<1/0){var y=g.offsetX,v=g.offsetY,x=g.borderColor,b=g.borderWidth,_=g.borderRadius,w=g.style,C=w.color||r.config.chart.foreColor,A={left:w.padding.left,right:w.padding.right,top:w.padding.top,bottom:w.padding.bottom},k=i.getTextRects(p,w.fontSize,w.fontFamily),E=k.width+A.left+A.right,T=k.height+A.top+A.bottom,P=f.xMin+(y||0),N=f.yMin+(v||0),O=i.drawRect(P,N,E,T,_,w.background,1,b,x),L=i.drawText({x:P+A.left,y:N+A.top+.75*k.height,text:p,fontSize:w.fontSize,fontFamily:w.fontFamily,fontWeight:w.fontWeight,foreColor:C,cssClass:w.cssClass||""});u.add(O),u.add(L)}}u.add(h),a.add(u)}),a}},{key:"getFontSize",value:function(e){var n=this.w,r=function i(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=i(s[a]);else for(a=0;a<s.length;a++)o+=s[a].length;return o}(this.labels)/function i(s){var a,o=0;if(Array.isArray(s[0]))for(a=0;a<s.length;a++)o+=i(s[a]);else for(a=0;a<s.length;a++)o+=1;return o}(this.labels);return function(i,s){var a=i*s,o=Math.pow(a,.5);return Math.min(o/r,parseInt(n.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,n,r,i,s,a,o){var l=new ue(this.ctx),c=l.getTextRects(r,n);if(c.width+this.w.config.stroke.width+5>a-i&&c.width<=o-s){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,n,r,i,s,a){var o=new ue(this.ctx),l=o.getTextRects(e,n).width+this.w.config.stroke.width+5>s-r&&a-i>s-r?a-i:s-r,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:n});return e.length!==c.length&&l/n<5?"":c}},{key:"animateTreemap",value:function(e,n,r,i){var s=new tm(this.ctx);s.animateRect(e,n,r,i,function(){s.animationCompleted(e)})}}]),t}(),wZ=86400,ONe=10/wZ,NNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return De(t,[{key:"calculateTimeScaleTicks",value:function(e,n){var r=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var s=new hi(this.ctx),a=(n-e)/864e5;this.determineInterval(a),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,a<ONe?i.globals.disableZoomIn=!0:a>5e4&&(i.globals.disableZoomOut=!0);var o=s.getTimeUnitsfromTimestamp(e,n,this.utc),l=i.globals.gridWidth/a,c=l/24,u=c/60,d=u/60,h=Math.floor(24*a),f=Math.floor(1440*a),g=Math.floor(a*wZ),p=Math.floor(a),y=Math.floor(a/30),v=Math.floor(a/365),x={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:x,currentMillisecond:x.minMillisecond,currentSecond:x.minSecond,currentMinute:x.minMinute,currentHour:x.minHour,currentMonthDate:x.minDate,currentDate:x.minDate,currentMonth:x.minMonth,currentYear:x.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:d,numberOfSeconds:g,numberOfMinutes:f,numberOfHours:h,numberOfDays:p,numberOfMonths:y,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var _=this.timeScaleArray.map(function(w){var C={position:w.position,unit:w.unit,year:w.year,day:w.day?w.day:1,hour:w.hour?w.hour:0,month:w.month+1};return w.unit==="month"?ve(ve({},C),{},{day:1,value:w.value+1}):w.unit==="day"||w.unit==="hour"?ve(ve({},C),{},{value:w.value}):w.unit==="minute"?ve(ve({},C),{},{value:w.value,minute:w.value}):w.unit==="second"?ve(ve({},C),{},{value:w.value,minute:w.minute,second:w.second}):w});return _.filter(function(w){var C=1,A=Math.ceil(i.globals.gridWidth/120),k=w.value;i.config.xaxis.tickAmount!==void 0&&(A=i.config.xaxis.tickAmount),_.length>A&&(C=Math.floor(_.length/A));var E=!1,T=!1;switch(r.tickInterval){case"years":w.unit==="year"&&(E=!0);break;case"half_year":C=7,w.unit==="year"&&(E=!0);break;case"months":C=1,w.unit==="year"&&(E=!0);break;case"months_fortnight":C=15,w.unit!=="year"&&w.unit!=="month"||(E=!0),k===30&&(T=!0);break;case"months_days":C=10,w.unit==="month"&&(E=!0),k===30&&(T=!0);break;case"week_days":C=8,w.unit==="month"&&(E=!0);break;case"days":C=1,w.unit==="month"&&(E=!0);break;case"hours":w.unit==="day"&&(E=!0);break;case"minutes_fives":case"seconds_fives":k%5!=0&&(T=!0);break;case"seconds_tens":k%10!=0&&(T=!0)}if(r.tickInterval==="hours"||r.tickInterval==="minutes_fives"||r.tickInterval==="seconds_tens"||r.tickInterval==="seconds_fives"){if(!T)return!0}else if((k%C==0||E)&&!T)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,n){var r=this.w,i=this.formatDates(e),s=this.removeOverlappingTS(i);r.globals.timescaleLabels=s.slice(),new V1(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var n=24*e,r=60*n;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case n>2.4:this.tickInterval="hours";break;case r>15:this.tickInterval="minutes_fives";break;case r>5:this.tickInterval="minutes";break;case r>1:this.tickInterval="seconds_tens";break;case 60*r>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var n=e.firstVal,r=e.currentMonth,i=e.currentYear,s=e.daysWidthOnXAxis,a=e.numberOfYears,o=n.minYear,l=0,c=new hi(this.ctx),u="year";if(n.minDate>1||n.minMonth>0){var d=c.determineRemainingDaysOfYear(n.minYear,n.minMonth,n.minDate);l=(c.determineDaysOfYear(n.minYear)-d+1)*s,o=n.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:G.monthMod(r+1)})}else n.minDate===1&&n.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:i,month:G.monthMod(r+1)});for(var h=o,f=l,g=0;g<a;g++)h++,f=c.determineDaysOfYear(h-1)*s+f,this.timeScaleArray.push({position:f,value:h,unit:u,year:h,month:1})}},{key:"generateMonthScale",value:function(e){var n=e.firstVal,r=e.currentMonthDate,i=e.currentMonth,s=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=i,c=0,u=new hi(this.ctx),d="month",h=0;if(n.minDate>1){c=(u.determineDaysOfMonths(i+1,n.minYear)-r+1)*a,l=G.monthMod(i+1);var f=s+h,g=G.monthMod(l),p=l;l===0&&(d="year",p=f,g=1,f+=h+=1),this.timeScaleArray.push({position:c,value:p,unit:d,year:f,month:g})}else this.timeScaleArray.push({position:c,value:l,unit:d,year:s,month:G.monthMod(i)});for(var y=l+1,v=c,x=0,b=1;x<o;x++,b++){(y=G.monthMod(y))===0?(d="year",h+=1):d="month";var _=this._getYear(s,y,h);v=u.determineDaysOfMonths(y,_)*a+v;var w=y===0?_:y;this.timeScaleArray.push({position:v,value:w,unit:d,year:_,month:y===0?1:y}),y++}}},{key:"generateDayScale",value:function(e){var n=e.firstVal,r=e.currentMonth,i=e.currentYear,s=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new hi(this.ctx),l="day",c=n.minDate+1,u=c,d=function(b,_,w){return b>o.determineDaysOfMonths(_+1,w)&&(u=1,l="month",f=_+=1),_},h=(24-n.minHour)*s,f=c,g=d(u,r,i);n.minHour===0&&n.minDate===1?(h=0,f=G.monthMod(n.minMonth),l="month",u=n.minDate):n.minDate!==1&&n.minHour===0&&n.minMinute===0&&(h=0,c=n.minDate,f=c,g=d(u=c,r,i),f!==1&&(l="day")),this.timeScaleArray.push({position:h,value:f,unit:l,year:this._getYear(i,g,0),month:G.monthMod(g),day:u});for(var p=h,y=0;y<a;y++){l="day",g=d(u+=1,g,this._getYear(i,g,0));var v=this._getYear(i,g,0);p=24*s+p;var x=u===1?G.monthMod(g):u;this.timeScaleArray.push({position:p,value:x,unit:l,year:v,month:G.monthMod(g),day:x})}}},{key:"generateHourScale",value:function(e){var n=e.firstVal,r=e.currentDate,i=e.currentMonth,s=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new hi(this.ctx),c="hour",u=function(C,A){return C>l.determineDaysOfMonths(A+1,s)&&(y=1,A+=1),{month:A,date:y}},d=function(C,A){return C>l.determineDaysOfMonths(A+1,s)?A+=1:A},h=60-(n.minMinute+n.minSecond/60),f=h*a,g=n.minHour+1,p=g;h===60&&(f=0,p=g=n.minHour);var y=r;p>=24&&(p=0,c="day",g=y+=1);var v=u(y,i).month;v=d(y,v),g>31&&(g=y=1),this.timeScaleArray.push({position:f,value:g,unit:c,day:y,hour:p,year:s,month:G.monthMod(v)}),p++;for(var x=f,b=0;b<o;b++){c="hour",p>=24&&(p=0,c="day",v=u(y+=1,v).month,v=d(y,v));var _=this._getYear(s,v,0);x=60*a+x;var w=p===0?y:p;this.timeScaleArray.push({position:x,value:w,unit:c,hour:p,day:y,year:_,month:G.monthMod(v)}),p++}}},{key:"generateMinuteScale",value:function(e){for(var n=e.currentMillisecond,r=e.currentSecond,i=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,d=e.numberOfMinutes,h=i+1,f=a,g=o,p=l,y=s,v=(60-r-n/1e3)*u,x=0;x<d;x++)h>=60&&(h=0,(y+=1)===24&&(y=0)),this.timeScaleArray.push({position:v,value:h,unit:"minute",hour:y,minute:h,day:f,year:this._getYear(p,g,0),month:G.monthMod(g)}),v+=c,h++}},{key:"generateSecondScale",value:function(e){for(var n=e.currentMillisecond,r=e.currentSecond,i=e.currentMinute,s=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,d=r+1,h=i,f=a,g=o,p=l,y=s,v=(1e3-n)/1e3*c,x=0;x<u;x++)d>=60&&(d=0,++h>=60&&(h=0,++y===24&&(y=0))),this.timeScaleArray.push({position:v,value:d,unit:"second",hour:y,minute:h,second:d,day:f,year:this._getYear(p,g,0),month:G.monthMod(g)}),v+=c,d++}},{key:"createRawDateString",value:function(e,n){var r=e.year;return e.month===0&&(e.month=1),r+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?r+=e.unit==="day"?"-"+("0"+n).slice(-2):"-01":r+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?r+=e.unit==="hour"?"T"+("0"+n).slice(-2):"T00":r+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?r+=":"+("0"+n).slice(-2):r+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?r+=":"+("0"+n).slice(-2):r+=":00",this.utc&&(r+=".000Z"),r}},{key:"formatDates",value:function(e){var n=this,r=this.w;return e.map(function(i){var s=i.value.toString(),a=new hi(n.ctx),o=n.createRawDateString(i,s),l=a.getDate(a.parseDate(o));if(n.utc||(l=a.getDate(a.parseDateWithTimezone(o))),r.config.xaxis.labels.format===void 0){var c="dd MMM",u=r.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(c=u.year),i.unit==="month"&&(c=u.month),i.unit==="day"&&(c=u.day),i.unit==="hour"&&(c=u.hour),i.unit==="minute"&&(c=u.minute),i.unit==="second"&&(c=u.second),s=a.formatDate(l,c)}else s=a.formatDate(l,r.config.xaxis.labels.format);return{dateString:o,position:i.position,value:s,unit:i.unit,year:i.year,month:i.month}})}},{key:"removeOverlappingTS",value:function(e){var n,r=this,i=new ue(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,n=i.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&r.w.config.xaxis.labels.hideOverlappingLabels){var u=s?n:i.getTextRects(e[a].value).width,d=e[a].position;return l.position>d+u+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,n,r){return e+Math.floor(n/12)+r}}]),t}(),RNe=function(){function t(e,n){Me(this,t),this.ctx=n,this.w=n.w,this.el=e}return De(t,[{key:"setupElements",value:function(){var e=this.w,n=e.globals,r=e.config,i=r.chart.type;n.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),n.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),n.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&r.plotOptions.bar.horizontal,n.chartClass=".apexcharts".concat(n.chartID),n.dom.baseEl=this.el,n.dom.elWrap=document.createElement("div"),ue.setAttrs(n.dom.elWrap,{id:n.chartClass.substring(1),class:"apexcharts-canvas ".concat(n.chartClass.substring(1))}),this.el.appendChild(n.dom.elWrap),n.dom.Paper=window.SVG().addTo(n.dom.elWrap),n.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(r.chart.offsetX,", ").concat(r.chart.offsetY,")")}),n.dom.Paper.node.style.background=r.theme.mode!=="dark"||r.chart.background?r.theme.mode!=="light"||r.chart.background?r.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),n.dom.elLegendForeign=document.createElementNS(n.SVGNS,"foreignObject"),ue.setAttrs(n.dom.elLegendForeign,{x:0,y:0,width:n.svgWidth,height:n.svgHeight}),n.dom.elLegendWrap=document.createElement("div"),n.dom.elLegendWrap.classList.add("apexcharts-legend"),n.dom.elWrap.appendChild(n.dom.elLegendWrap),n.dom.Paper.node.appendChild(n.dom.elLegendForeign),n.dom.elGraphical=n.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),n.dom.elDefs=n.dom.Paper.defs(),n.dom.Paper.add(n.dom.elGraphical),n.dom.elGraphical.add(n.dom.elDefs)}},{key:"plotChartType",value:function(e,n){var r=this.w,i=this.ctx,s=r.config,a=r.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,u=0;a.series.forEach(function(C,A){var k=e[A].type==="column"?"bar":e[A].type||(l==="column"?"bar":l);o[k]?(k==="rangeArea"?(o[k].series.push(a.seriesRangeStart[A]),o[k].seriesRangeEnd.push(a.seriesRangeEnd[A])):o[k].series.push(C),o[k].i.push(A),k==="bar"&&(r.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(k)?c=k:console.warn("You have specified an unrecognized series type (".concat(k,").")),l!==k&&k!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&s.plotOptions.bar.horizontal&&(u-=o.bar.series.length,o.bar={series:[],i:[]},r.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=u>0);var d=new sT(i,n),h=new rT(i,n);i.pie=new bZ(i);var f=new ANe(i);i.rangeBar=new CNe(i,n);var g=new SNe(i),p=[];if(a.comboCharts){var y,v,x=new mr(i);if(o.area.series.length>0&&(y=p).push.apply(y,Wr(x.drawSeriesByGroup(o.area,a.areaGroups,"area",d))),o.bar.series.length>0)if(s.chart.stacked){var b=new O4(i,n);p.push(b.draw(o.bar.series,o.bar.i))}else i.bar=new fg(i,n),p.push(i.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&p.push(d.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(v=p).push.apply(v,Wr(x.drawSeriesByGroup(o.line,a.lineGroups,"line",d))),o.candlestick.series.length>0&&p.push(h.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&p.push(h.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&p.push(i.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var _=new sT(i,n,!0);p.push(_.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var w=new sT(i,n,!0);p.push(w.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(s.chart.type){case"line":p=d.draw(a.series,"line");break;case"area":p=d.draw(a.series,"area");break;case"bar":s.chart.stacked?p=new O4(i,n).draw(a.series):(i.bar=new fg(i,n),p=i.bar.draw(a.series));break;case"candlestick":p=new rT(i,n).draw(a.series,"candlestick");break;case"boxPlot":p=new rT(i,n).draw(a.series,s.chart.type);break;case"rangeBar":p=i.rangeBar.draw(a.series);break;case"rangeArea":p=d.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":p=new _Ne(i,n).draw(a.series);break;case"treemap":p=new INe(i,n).draw(a.series);break;case"pie":case"donut":case"polarArea":p=i.pie.draw(a.series);break;case"radialBar":p=f.draw(a.series);break;case"radar":p=g.draw(a.series);break;default:p=d.draw(a.series)}return p}},{key:"setSVGDimensions",value:function(){var e=this.w,n=e.globals,r=e.config;r.chart.width=r.chart.width||"100%",r.chart.height=r.chart.height||"auto",n.svgWidth=r.chart.width,n.svgHeight=r.chart.height;var i=G.getDimensions(this.el),s=r.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?G.isNumber(i[0])&&(i[0].width===0&&(i=G.getDimensions(this.el.parentNode)),n.svgWidth=i[0]*parseInt(r.chart.width,10)/100):s!=="px"&&s!==""||(n.svgWidth=parseInt(r.chart.width,10));var a=String(r.chart.height).toString().split(/[0-9]+/g).pop();if(n.svgHeight!=="auto"&&n.svgHeight!=="")if(a==="%"){var o=G.getDimensions(this.el.parentNode);n.svgHeight=o[1]*parseInt(r.chart.height,10)/100}else n.svgHeight=parseInt(r.chart.height,10);else n.svgHeight=n.axisCharts?n.svgWidth/1.61:n.svgWidth/1.2;if(n.svgWidth=Math.max(n.svgWidth,0),n.svgHeight=Math.max(n.svgHeight,0),ue.setAttrs(n.dom.Paper.node,{width:n.svgWidth,height:n.svgHeight}),a!=="%"){var l=r.chart.sparkline.enabled?0:n.axisCharts?r.chart.parentHeightOffset:0;n.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(n.svgHeight+l,"px")}n.dom.elWrap.style.width="".concat(n.svgWidth,"px"),n.dom.elWrap.style.height="".concat(n.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,n=e.translateY,r=e.translateX;ue.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(r,", ").concat(n,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,n=e.globals,r=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(r=new pZ(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=G.getBoundingClientRect(s);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+n.translateY+r+i);n.dom.elLegendForeign&&n.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(n.dom.elWrap.style.height="".concat(c,"px"),ue.setAttrs(n.dom.Paper.node,{height:c}),n.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new pO(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,n=function(){return e.w.config.series.map(function(){return[]})},r=new uZ,i=this.w.globals;r.initGlobalVars(i),i.seriesXvalues=n(),i.seriesYvalues=n()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,n=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new gO(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new gO(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new NNe(this.ctx);var r=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?r=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(r=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(r)}n=new mr(this.ctx).getCalculatedRatios()}return n}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,n=this.ctx,r=this.w;if(r.config.chart.brush.enabled&&typeof r.config.chart.events.selection!="function"){var i=Array.isArray(r.config.chart.brush.targets)?r.config.chart.brush.targets:[r.config.chart.brush.target];i.forEach(function(s){var a=n.constructor.getChartByID(s);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),r.config.chart.events.selection=function(s,a){i.forEach(function(o){n.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),MNe=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"_updateOptions",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[n.ctx];s&&(l=n.ctx.getSyncedCharts()),n.ctx.w.globals.isExecCalled&&(l=[n.ctx],n.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var d=c.w;if(d.globals.shouldAnimate=i,r||(d.globals.resized=!0,d.globals.dataChanged=!0,i&&c.series.getPreviousPaths()),e&&dg(e)==="object"&&(c.config=new ox(e),e=mr.extendArrayProps(c.config,e,d),c.w.globals.chartID!==n.ctx.w.globals.chartID&&delete e.series,d.config=G.extend(d.config,e),a&&(d.globals.lastXAxis=e.xaxis?G.clone(e.xaxis):[],d.globals.lastYAxis=e.yaxis?G.clone(e.yaxis):[],d.globals.initialConfig=G.extend({},d.config),d.globals.initialSeries=G.clone(d.config.series),e.series))){for(var h=0;h<d.globals.collapsedSeriesIndices.length;h++){var f=d.config.series[d.globals.collapsedSeriesIndices[h]];d.globals.collapsedSeries[h].data=d.globals.axisCharts?f.data.slice():f}for(var g=0;g<d.globals.ancillaryCollapsedSeriesIndices.length;g++){var p=d.config.series[d.globals.ancillaryCollapsedSeriesIndices[g]];d.globals.ancillaryCollapsedSeries[g].data=d.globals.axisCharts?p.data.slice():p}c.series.emptyCollapsedSeries(d.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var a,o=r.w;return o.globals.shouldAnimate=n,o.globals.dataChanged=!0,n&&r.ctx.series.getPreviousPaths(),o.globals.axisCharts?((a=e.map(function(l,c){return r._extendSeries(l,c)})).length===0&&(a=[{data:[]}]),o.config.series=a):o.config.series=e.slice(),i&&(o.globals.initialConfig.series=G.clone(o.config.series),o.globals.initialSeries=G.clone(o.config.series)),r.ctx.update().then(function(){s(r.ctx)})})}},{key:"_extendSeries",value:function(e,n){var r=this.w,i=r.config.series[n];return ve(ve({},r.config.series[n]),{},{name:e.name?e.name:i==null?void 0:i.name,color:e.color?e.color:i==null?void 0:i.color,type:e.type?e.type:i==null?void 0:i.type,group:e.group?e.group:i==null?void 0:i.group,hidden:e.hidden!==void 0?e.hidden:i==null?void 0:i.hidden,data:e.data?e.data:i==null?void 0:i.data,zIndex:e.zIndex!==void 0?e.zIndex:n})}},{key:"toggleDataPointSelection",value:function(e,n){var r=this.w,i=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return r.globals.axisCharts?i=r.globals.dom.Paper.findOne("".concat(s," path[j='").concat(n,"'], ").concat(s," circle[j='").concat(n,"'], ").concat(s," rect[j='").concat(n,"']")):n===void 0&&(i=r.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),r.config.chart.type!=="pie"&&r.config.chart.type!=="polarArea"&&r.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new ue(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var n=this.w;if(["min","max"].forEach(function(i){e.xaxis[i]!==void 0&&(n.config.xaxis[i]=e.xaxis[i],n.globals.lastXAxis[i]=e.xaxis[i])}),e.xaxis.categories&&e.xaxis.categories.length&&(n.config.xaxis.categories=e.xaxis.categories),n.config.xaxis.convertedCatToNumeric){var r=new ax(e);e=r.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(n,r){e.yaxis[r].min=0,e.yaxis[r].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var n=this,r=this.w,i=r.globals.lastXAxis,s=r.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(s=e.yaxis),r.config.xaxis.min=i.min,r.config.xaxis.max=i.max;var a=function(o){s[o]!==void 0&&(r.config.yaxis[o].min=s[o].min,r.config.yaxis[o].max=s[o].max)};r.config.yaxis.map(function(o,l){r.globals.zoomed||s[l]!==void 0?a(l):n.ctx.opts.yaxis[l]!==void 0&&(o.min=n.ctx.opts.yaxis[l].min,o.max=n.ctx.opts.yaxis[l].max)})}}]),t}();(function(){function t(){for(var s=arguments.length>0&&arguments[0]!==d?arguments[0]:[],a=arguments.length>1?arguments[1]:d,o=arguments.length>2?arguments[2]:d,l=arguments.length>3?arguments[3]:d,c=arguments.length>4?arguments[4]:d,u=arguments.length>5?arguments[5]:d,d=arguments.length>6?arguments[6]:d,h=s.slice(a,o||d),f=l.slice(c,u||d),g=0,p={pos:[0,0],start:[0,0]},y={pos:[0,0],start:[0,0]};h[g]=e.call(p,h[g]),f[g]=e.call(y,f[g]),h[g][0]!=f[g][0]||h[g][0]=="M"||h[g][0]=="A"&&(h[g][4]!=f[g][4]||h[g][5]!=f[g][5])?(Array.prototype.splice.apply(h,[g,1].concat(r.call(p,h[g]))),Array.prototype.splice.apply(f,[g,1].concat(r.call(y,f[g])))):(h[g]=n.call(p,h[g]),f[g]=n.call(y,f[g])),!(++g==h.length&&g==f.length);)g==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),g==f.length&&f.push(["C",y.pos[0],y.pos[1],y.pos[0],y.pos[1],y.pos[0],y.pos[1]]);return{start:h,dest:f}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function n(s){var a=s.length;return this.pos=[s[a-2],s[a-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[a-4],2*this.pos[1]-s[a-3]]),s}function r(s){var a=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],a;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":a=function(o,l){var c,u,d,h,f,g,p,y,v,x,b,_,w,C,A,k,E,T,P,N,O,L,$,F,B,D,z=Math.abs(l[1]),W=Math.abs(l[2]),X=l[3]%360,q=l[4],J=l[5],ae=l[6],_e=l[7],K=new nn(o),fe=new nn(ae,_e),Ne=[];if(z===0||W===0||K.x===fe.x&&K.y===fe.y)return[["C",K.x,K.y,fe.x,fe.y,fe.x,fe.y]];for(c=new nn((K.x-fe.x)/2,(K.y-fe.y)/2).transform(new Ke().rotate(X)),u=c.x*c.x/(z*z)+c.y*c.y/(W*W),u>1&&(z*=u=Math.sqrt(u),W*=u),d=new Ke().rotate(X).scale(1/z,1/W).rotate(-X),K=K.transform(d),fe=fe.transform(d),h=[fe.x-K.x,fe.y-K.y],g=h[0]*h[0]+h[1]*h[1],f=Math.sqrt(g),h[0]/=f,h[1]/=f,p=g<4?Math.sqrt(1-g/4):0,q===J&&(p*=-1),y=new nn((fe.x+K.x)/2+p*-h[1],(fe.y+K.y)/2+p*h[0]),v=new nn(K.x-y.x,K.y-y.y),x=new nn(fe.x-y.x,fe.y-y.y),b=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(b*=-1),_=Math.acos(x.x/Math.sqrt(x.x*x.x+x.y*x.y)),x.y<0&&(_*=-1),J&&b>_&&(_+=2*Math.PI),!J&&b<_&&(_-=2*Math.PI),C=Math.ceil(2*Math.abs(b-_)/Math.PI),k=[],E=b,w=(_-b)/C,A=4*Math.tan(w/4)/3,O=0;O<=C;O++)P=Math.cos(E),T=Math.sin(E),N=new nn(y.x+P,y.y+T),k[O]=[new nn(N.x+A*T,N.y-A*P),N,new nn(N.x-A*T,N.y+A*P)],E+=w;for(k[0][0]=k[0][1].clone(),k[k.length-1][2]=k[k.length-1][1].clone(),d=new Ke().rotate(X).scale(z,W).rotate(-X),O=0,L=k.length;O<L;O++)k[O][0]=k[O][0].transform(d),k[O][1]=k[O][1].transform(d),k[O][2]=k[O][2].transform(d);for(O=1,L=k.length;O<L;O++)$=(N=k[O-1][2]).x,F=N.y,B=(N=k[O][0]).x,D=N.y,ae=(N=k[O][1]).x,_e=N.y,Ne.push(["C",$,F,B,D,ae,_e]);return Ne}(this.pos,s),s=a[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],a}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=s.length;o<l;++o)if(s[o][0]=="M")return o;return!1}nt(Za,{morph:function(s,a,o,l,c){for(var u=this.parse(s),d=this.parse(a),h=0,f=0,g=!1,p=!1;h!==!1||f!==!1;){var y;g=i(u,h!==!1&&h+1),p=i(d,f!==!1&&f+1),h===!1&&(h=(y=new Za(v.start).bbox()).height==0||y.width==0?u.push(u[0])-1:u.push(["M",y.x+y.width/2,y.y+y.height/2])-1),f===!1&&(f=(y=new Za(v.dest).bbox()).height==0||y.width==0?d.push(d[0])-1:d.push(["M",y.x+y.width/2,y.y+y.height/2])-1);var v=t(u,h,g,d,f,p);u=u.slice(0,h).concat(v.start,g===!1?[]:u.slice(g)),d=d.slice(0,f).concat(v.dest,p===!1?[]:d.slice(p)),h=g!==!1&&h+v.start.length,f=p!==!1&&f+v.dest.length}this._array=u,this.destination=new Za,this.destination._array=d;var x=this.fromArray(u.map(function(b,_){var w=d[_].map(function(C,A){return A===0?C:l.step(b[A],d[_][A],o,c[_],c)});return w}));return x}})})();const N4=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class DNe{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const n=!e.type.indexOf("mouse");if(n&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(N4(e));const r=(n?"mouseup":"touchend")+".drag";Il(window,(n?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Il(window,r,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:n,lastClick:r}=this,i=this.el.point(N4(e)),s=i.x-r.x,a=i.y-r.y;if(!s&&!a)return n;const o=n.x+s,l=n.y+a;this.box=new pr(o,l,n.w,n.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,n){this.el.type==="svg"?Au.prototype.move.call(this.el,e,n):this.el.move(e,n)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),ha(window,"mousemove.drag"),ha(window,"touchmove.drag"),ha(window,"mouseup.drag"),ha(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function mO(t,e,n,r=null){return function(i){i.preventDefault(),i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(t,{x:s,y:a,event:i,index:r,points:n})}}function yO([t,e],{a:n,b:r,c:i,d:s,e:a,f:o}){return[t*n+e*i+a,t*r+e*s+o]}nt(wi,{draggable(t=!0){return(this.remember("_draggable")||new DNe(this)).init(t),this}});let _Z=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Au,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Pb();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,n)=>{const r=this.order[e];this.createHandle.call(this,this.selection,t,e,n,r),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",mO(r,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,n,r){const i=r.at(n-1),s=r[(n+1)%r.length],a=e,o=[a[0]-i[0],a[1]-i[1]],l=[a[0]-s[0],a[1]-s[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=[o[0]/c,o[1]/c],h=[l[0]/u,l[1]/u],f=[a[0]-10*d[0],a[1]-10*d[1]],g=[a[0]-10*h[0],a[1]-10*h[1]];t.plot([f,a,g])}updateResizeHandles(){this.handlePoints.forEach((t,e,n)=>{const r=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,n,r)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const n=this.getPoint("t");t.get(0).plot(n[0],n[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",mO("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(n=>yO(n,e)),this.rotationPoint=yO(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:n,y2:r,cx:i,cy:s}=this.el.bbox()){return[[t,n],[i,n],[e,n],[e,s],[e,r],[i,r],[t,r],[t,s]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const R4=t=>function(e=!0,n={}){typeof e=="object"&&(n=e,e=!0);let r=this.remember("_"+t.name);return r||(e.prototype instanceof _Z?(r=new e(this),e=!0):r=new t(this),this.remember("_"+t.name,r)),r.active(e,n),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function vO(t,e,n,r=null){return function(i){i.preventDefault(),i.stopPropagation();var s=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(t,{x:s,y:a,event:i,index:r,points:n})}}function xO([t,e],{a:n,b:r,c:i,d:s,e:a,f:o}){return[t*n+e*i+a,t*r+e*s+o]}nt(wi,{select:R4(_Z)}),nt([Ld,Fd,jd],{pointSelect:R4(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new Au,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Pb();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,n)=>{this.createHandle.call(this,this.selection,t,e,n),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",mO("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,n)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,n)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>yO(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class SZ{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Au,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const n=Pb();this.observer=new n.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,n){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(n)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,n,r)=>{const i=this.order[n];this.createHandle.call(this,this.selection,e,n,r,i),this.selection.get(n+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",vO(i,this.el,this.handlePoints,n))})}createHandleFn(e){e.polyline()}updateHandleFn(e,n,r,i){const s=i.at(r-1),a=i[(r+1)%i.length],o=n,l=[o[0]-s[0],o[1]-s[1]],c=[o[0]-a[0],o[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=[l[0]/u,l[1]/u],f=[c[0]/d,c[1]/d],g=[o[0]-10*h[0],o[1]-10*h[1]],p=[o[0]-10*f[0],o[1]-10*f[1]];e.plot([g,o,p])}updateResizeHandles(){this.handlePoints.forEach((e,n,r)=>{const i=this.order[n];this.updateHandle.call(this,this.selection.get(n+1),e,n,r,i)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,n){const r=this.getPoint("t");e.get(0).plot(r[0],r[1],n[0],n[1]),e.get(1).center(n[0],n[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",vO("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(r=>xO(r,n)),this.rotationPoint=xO(this.getRotationPoint(e),n)}getHandlePoints({x:e,x2:n,y:r,y2:i,cx:s,cy:a}=this.el.bbox()){return[[e,r],[s,r],[n,r],[n,a],[n,i],[s,i],[e,i],[e,a]]}getRotationPoint({y:e,cx:n}=this.el.bbox()){return[n,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const M4=t=>function(e=!0,n={}){typeof e=="object"&&(n=e,e=!0);let r=this.remember("_"+t.name);return r||(e.prototype instanceof SZ?(r=new e(this),e=!0):r=new t(this),this.remember("_"+t.name,r)),r.active(e,n),this};nt(wi,{select:M4(SZ)}),nt([Ld,Fd,jd],{pointSelect:M4(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new Au,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Pb();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,n)=>{this.createHandle.call(this,this.selection,t,e,n),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",vO("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,n)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,n)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>xO(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const tw=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),D4=t=>{let e=1/0,n=1/0,r=-1/0,i=-1/0;for(let s=0;s<t.length;s++){const a=t[s];e=Math.min(e,a[0]),n=Math.min(n,a[1]),r=Math.max(r,a[0]),i=Math.max(i,a[1])}return new pr(e,n,r-e,i-n)};class j4{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,n){this.preserveAspectRatio=n.preserveAspectRatio??!1,this.aroundCenter=n.aroundCenter??!1,this.grid=n.grid??0,this.degree=n.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:n,index:r,points:i}=e.detail,s=!n.type.indexOf("mouse");if(s&&(n.which||n.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(tw(n)),this.index=r,this.points=i.slice();const a=(s?"mousemove":"touchmove")+".resize",o=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Il(window,a,this.movePoint):e.type==="rot"?Il(window,a,this.rotate):Il(window,a,this.resize),Il(window,o,this.endResize)}resize(e){this.lastEvent=e;const n=this.snapToGrid(this.el.point(tw(e)));let r=n.x-this.startPoint.x,i=n.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(r*=2,i*=2);const s=this.box.x+r,a=this.box.y+i,o=this.box.x2+r,l=this.box.y2+i;let c=new pr(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,d=c.height/this.box.height,h=["lt","t","rt","r","rb","b","lb","l"],f=(h.indexOf(this.eventType)+4)%h.length,g=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[f];let p=this.eventType.includes("t")||this.eventType.includes("b")?d:u;p=this.eventType.length===2?Math.max(u,d):p,c=function(y,v,x){const b=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]].map(([_,w])=>{const C=_-v[0],A=(w-v[1])*x;return[C*x+v[0],A+v[1]]});return D4(b)}(this.box,g,p)}this.el.dispatch("resize",{box:new pr(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:n,y:r}=this.snapToGrid(this.el.point(tw(e))),i=this.el.array().slice();i[this.index]=[n,r],this.el.dispatch("resize",{box:D4(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const n=this.startPoint,r=this.el.point(tw(e)),{cx:i,cy:s}=this.box,a=n.x-i,o=n.y-s,l=r.x-i,c=r.y-s,u=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let d=Math.acos((a*l+o*c)/u)/Math.PI*180;if(!d)return;r.x<n.x&&(d=-d);const h=new Ke(this.el),{x:f,y:g}=new nn(i,s).transformO(h),{rotate:p}=h.decompose(),y=this.snapToAngle(p+d)-p;this.el.dispatch("resize",{box:this.box,angle:y,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(h.rotateO(y,f,g))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",ha(window,"mousemove.resize touchmove.resize"),ha(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}nt(wi,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let n=this.remember("_ResizeHandler");return n||(t.prototype instanceof j4?(n=new t(this),t=!0):n=new j4(this),this.remember("_resizeHandler",n)),n.active(t,e),this}}),window.SVG===void 0&&(window.SVG=KOe),window.Apex===void 0&&(window.Apex={});var L4=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new tm(this.ctx),this.ctx.axes=new aNe(this.ctx),this.ctx.core=new RNe(this.ctx.el,this.ctx),this.ctx.config=new ox({}),this.ctx.data=new _D(this.ctx),this.ctx.grid=new hZ(this.ctx),this.ctx.graphics=new ue(this.ctx),this.ctx.coreUtils=new mr(this.ctx),this.ctx.crosshairs=new gO(this.ctx),this.ctx.events=new iNe(this.ctx),this.ctx.exports=new sv(this.ctx),this.ctx.fill=new lo(this.ctx),this.ctx.localization=new sNe(this.ctx),this.ctx.options=new Cd,this.ctx.responsive=new oNe(this.ctx),this.ctx.series=new ma(this.ctx),this.ctx.theme=new lNe(this.ctx),this.ctx.formatters=new Nb(this.ctx),this.ctx.titleSubtitle=new cNe(this.ctx),this.ctx.legend=new pZ(this.ctx),this.ctx.toolbar=new gZ(this.ctx),this.ctx.tooltip=new I4(this.ctx),this.ctx.dimensions=new V1(this.ctx),this.ctx.updateHelpers=new MNe(this.ctx),this.ctx.zoomPanSelection=new gNe(this.ctx),this.ctx.w.globals.tooltip=new I4(this.ctx)}}]),t}(),F4=function(){function t(e){Me(this,t),this.ctx=e,this.w=e.w}return De(t,[{key:"clear",value:function(e){var n=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:n})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var n=this,r=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!r&&(i.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(o){s.removeEventListener(o,n.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),t}(),aT=new WeakMap,jNe=function(){function t(e,n){Me(this,t),this.opts=n,this.ctx=this,this.w=new rNe(n).init(),this.el=e,this.w.globals.cuid=G.randomId(),this.w.globals.chartID=this.w.config.chart.id?G.escapeString(this.w.config.chart.id):this.w.globals.cuid,new L4(this).initModules(),this.lastUpdateOptions=null,this.create=G.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return De(t,[{key:"render",value:function(){var e=this;return new Promise(function(n,r){if(G.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(h,f){var g=!1;if(h.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var p=h.getBoundingClientRect();h.style.display!=="none"&&p.width!==0||(g=!0)}var y=new ResizeObserver(function(v){g&&f.call(h,v),g=!0});h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(h.children).forEach(function(v){return y.observe(v)}):y.observe(h),aT.set(f,y)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),a=G.is("ShadowRoot",s),o=e.el.ownerDocument,l=a?s.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),a?s.prepend(l):o.head.appendChild(l)}var d=e.create(e.w.config.series,{});if(!d)return n(e);e.mount(d).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),n(d)}).catch(function(h){r(h)})}else r(new Error("Element not found"))})}},{key:"create",value:function(e,n){var r=this,i=this.w;new L4(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!G.elementExists(this.el)||(this.responsive.checkResponsiveConfig(n),i.config.xaxis.convertedCatToNumeric&&new ax(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),s.svgWidth===0))return s.animationEnded=!0,null;var a=e;e.forEach(function(h,f){h.hidden&&(a=r.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:f}))});var o=mr.checkComboSeries(a,i.config.chart.type);s.comboCharts=o.comboCharts,s.comboBarCount=o.comboBarCount;var l=a.every(function(h){return h.data&&h.data.length===0});(a.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new sm(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new mr(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(a,c),d=new hg(this);return d.bringForward(),i.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),i.globals.dataPoints>50&&i.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:c,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this,i=r.w;return new Promise(function(s,a){if(r.el===null)return a(new Error("Not enough data to display or target element not found"));(n===null||i.globals.allSeriesCollapsed)&&r.series.handleNoData(),r.grid=new hZ(r);var o,l,c=r.grid.drawGrid();if(r.annotations=new nNe(r),r.annotations.drawImageAnnos(),r.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(n.elGraph))for(var u=0;u<n.elGraph.length;u++)i.globals.dom.elGraphical.add(n.elGraph[u]);else i.globals.dom.elGraphical.add(n.elGraph);i.config.grid.position==="front"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&r.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&r.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&r.axes.drawAxis(i.config.chart.type,c);var d=new lx(e.ctx,c),h=new SD(e.ctx,c);if(c!==null&&(d.xAxisLabelCorrections(c.xAxisTickWidth),h.setYAxisTextAlignments(),i.config.yaxis.map(function(g,p){i.globals.ignoreYAxisIndexes.indexOf(p)===-1&&h.yAxisTitleRotate(p,g.opposite)})),r.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&r.w.globals.tooltip.drawTooltip(n.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&r.zoomPanSelection.init({xyRatios:n.xyRatios});else{var f=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(g){f[g]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&r.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(g){g.method(g.params,!1,g.context)}),i.globals.axisCharts||i.globals.noData||r.core.resizeNonAxisCharts(),s(r)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(n,r){var i=aT.get(r);i&&(i.disconnect(),aT.delete(r))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(n,r){n.id===G.escapeString(e)&&Apex._chartInstances.splice(r,1)}),new F4(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(this.lastUpdateOptions=G.clone(e),e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return n.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,r,i,s,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,n,r)}},{key:"appendSeries",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,n,r)}},{key:"appendData",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this;r.w.globals.dataChanged=!0,r.series.getPreviousPaths();for(var i=r.w.config.series.slice(),s=0;s<i.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var a=0;a<e[s].data.length;a++)i[s].data.push(e[s].data[a]);return r.w.config.series=i,n&&(r.w.globals.initialSeries=G.clone(r.w.config.series)),this.update()}},{key:"update",value:function(e){var n=this;return new Promise(function(r,i){if(n.lastUpdateOptions&&JSON.stringify(n.lastUpdateOptions)===JSON.stringify(e))return r(n);n.lastUpdateOptions=G.clone(e),new F4(n.ctx).clear({isUpdating:!0});var s=n.create(n.w.config.series,e);if(!s)return r(n);n.mount(s).then(function(){typeof n.w.config.chart.events.updated=="function"&&n.w.config.chart.events.updated(n,n.w),n.events.fireEvent("updated",[n,n.w]),n.w.globals.isDirty=!0,r(n)}).catch(function(a){i(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),n=[this];return e.length&&(n=[],e.forEach(function(r){n.push(r)})),n}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(n){if(n.group)return!0}).map(function(n){return e.w.config.chart.group===n.group?n.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,n){return this.series.toggleSeriesOnHover(e,n)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,n)}},{key:"addEventListener",value:function(e,n){this.events.addEventListener(e,n)}},{key:"removeEventListener",value:function(e,n){this.events.removeEventListener(e,n)}},{key:"addXaxisAnnotation",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;r&&(i=r),i.annotations.addXaxisAnnotationExternal(e,n,i)}},{key:"addYaxisAnnotation",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;r&&(i=r),i.annotations.addYaxisAnnotationExternal(e,n,i)}},{key:"addPointAnnotation",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;r&&(i=r),i.annotations.addPointAnnotationExternal(e,n,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=this;e&&(n=e),n.annotations.clearAnnotations(n)}},{key:"removeAnnotation",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=this;n&&(r=n),r.annotations.removeAnnotation(r,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,n){return this.coreUtils.getSeriesTotalsXRange(e,n)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new pO(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new pO(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,n){return this.updateHelpers.toggleDataPointSelection(e,n)}},{key:"zoomX",value:function(e,n){this.ctx.toolbar.zoomUpdateOptions(e,n)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new sv(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new sv(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new sv(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var n=G.escapeString(e);if(Apex._chartInstances){var r=Apex._chartInstances.filter(function(i){return i.id===n})[0];return r&&r.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),n=0;n<e.length;n++)new t(e[n],JSON.parse(e[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,n){var r=this.getChartByID(e);if(r){r.w.globals.isExecCalled=!0;var i=null;if(r.publicMethods.indexOf(n)!==-1){for(var s=arguments.length,a=new Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];i=r[n].apply(r,a)}return i}}},{key:"merge",value:function(e,n){return G.extend(e,n)}}]),t}();const LNe=Object.freeze(Object.defineProperty({__proto__:null,default:jNe},Symbol.toStringTag,{value:"Module"})),FNe=Rne(LNe);var AZ={exports:{}},$Ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BNe=$Ne,zNe=BNe;function CZ(){}function kZ(){}kZ.resetWarningCache=CZ;var VNe=function(){function t(r,i,s,a,o,l){if(l!==zNe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kZ,resetWarningCache:CZ};return n.PropTypes=n,n};AZ.exports=VNe();var EZ=AZ.exports;const ln=vn(EZ);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var e=o(I),n=s(FNe),r=s(EZ),i=["type","width","height","series","options"];function s(_){return _&&_.__esModule?_:{default:_}}function a(_){var w,C;return typeof WeakMap!="function"?null:(w=new WeakMap,C=new WeakMap,(a=function(A){return A?C:w})(_))}function o(_,w){if(!w&&_&&_.__esModule)return _;if(_===null||d(_)!="object"&&typeof _!="function")return{default:_};if(w=a(w),w&&w.has(_))return w.get(_);var C,A,k={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in _)C!=="default"&&{}.hasOwnProperty.call(_,C)&&((A=E?Object.getOwnPropertyDescriptor(_,C):null)&&(A.get||A.set)?Object.defineProperty(k,C,A):k[C]=_[C]);return k.default=_,w&&w.set(_,k),k}function l(){return(l=Object.assign?Object.assign.bind():function(_){for(var w=1;w<arguments.length;w++){var C,A=arguments[w];for(C in A)!{}.hasOwnProperty.call(A,C)||(_[C]=A[C])}return _}).apply(null,arguments)}function c(_,w){if(_==null)return{};var C,A=u(_,w);if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(_),E=0;E<k.length;E++)C=k[E],w.includes(C)||{}.propertyIsEnumerable.call(_,C)&&(A[C]=_[C]);return A}function u(_,w){if(_==null)return{};var C,A={};for(C in _)if({}.hasOwnProperty.call(_,C)){if(w.includes(C))continue;A[C]=_[C]}return A}function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}function h(_,w){var C,A=Object.keys(_);return Object.getOwnPropertySymbols&&(C=Object.getOwnPropertySymbols(_),w&&(C=C.filter(function(k){return Object.getOwnPropertyDescriptor(_,k).enumerable})),A.push.apply(A,C)),A}function f(_){for(var w=1;w<arguments.length;w++){var C=arguments[w]!=null?arguments[w]:{};w%2?h(Object(C),!0).forEach(function(A){g(_,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):h(Object(C)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(C,A))})}return _}function g(_,w,C){return(w=p(w))in _?Object.defineProperty(_,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[w]=C,_}function p(_){return _=y(_,"string"),d(_)=="symbol"?_:_+""}function y(_,w){if(d(_)!="object"||!_)return _;var C=_[Symbol.toPrimitive];if(C===void 0)return(w==="string"?String:Number)(_);if(C=C.call(_,w),d(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}function v(_,w){var C=f({},_);return w.forEach(function(A){delete C[A]}),C}function x(_,w){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(_!==w){if(d(_)!=="object"||_===null||d(w)!=="object"||w===null)return!1;if(!C.has(_)&&!C.has(w)){C.add(_),C.add(w);var A=Object.keys(_),k=Object.keys(w);if(A.length!==k.length)return!1;for(var E=0,T=A;E<T.length;E++){var P=T[E];if(!k.includes(P)||!x(_[P],w[P],C))return!1}}}return!0}function b(B){function w(D){return D&&d(D)==="object"&&!Array.isArray(D)}var P=B.type,C=P===void 0?"line":P,P=B.width,A=P===void 0?"100%":P,P=B.height,k=P===void 0?"auto":P,E=B.series,T=B.options,P=c(B,i),N=(0,e.useRef)(null),O=(0,e.useRef)(null),L=(0,e.useRef)(),$=((0,e.useEffect)(function(){L.current=T;var D=N.current;return O.current=new n.default(D,$()),O.current.render(),function(){O.current&&typeof O.current.destroy=="function"&&O.current.destroy()}},[]),(0,e.useEffect)(function(){var D=!x(O.current.w.config.series,E),z=!x(L.current,T)||k!==O.current.opts.chart.height||A!==O.current.opts.chart.width;(D||z)&&(!D||z?O.current.updateOptions($()):O.current.updateSeries(E)),L.current=T},[T,E,k,A]),function(){return F(T,{chart:{type:C,height:k,width:A},series:E})}),F=function(D,z){var W=f({},D);return w(D)&&w(z)&&Object.keys(z).forEach(function(X){w(z[X])&&X in D?W[X]=F(D[X],z[X]):Object.assign(W,g({},X,z[X]))}),W},B=v(P,Object.keys(b.propTypes));return e.default.createElement("div",l({ref:N},B))}b.propTypes={type:r.default.string.isRequired,series:r.default.array.isRequired,options:r.default.object.isRequired,width:r.default.oneOfType([r.default.string,r.default.number]),height:r.default.oneOfType([r.default.string,r.default.number])}})(NQ);const UNe=vn(NQ),$4={rookie:{name:"Rookie",features:["Basic card tracking","Market value updates","Basic analytics"],price:{monthly:0,annual:0}},star:{name:"Star",features:["Everything in Rookie","Advanced analytics","Price predictions","Grading recommendations","Priority support"],price:{monthly:9.99,annual:99}},veteran:{name:"Veteran",features:["Everything in Star","Bulk card management","Custom reports","API access","Dedicated support"],price:{monthly:19.99,annual:199}}};function TZ(){const{user:t}=jn(),[e,n]=I.useState("rookie"),[r,i]=I.useState(!1),[s,a]=I.useState(!0),[o,l]=I.useState(null);I.useEffect(()=>{if(!t){a(!1),i(!1);return}const u=Ie(de,"users",t.uid),d=eg(u,h=>{if(h.exists()){const f=h.data();n(f.subscriptionTier||"rookie"),i(!!f.isAdmin)}else n("rookie"),i(!1);a(!1)},h=>{console.error("Error fetching subscription:",h),l("Failed to load subscription data"),a(!1)});return()=>d()},[t]);const c=$4[e]||$4.rookie;return{user:t,tier:e,currentTier:c,loading:s,error:o,isSubscribed:e!=="rookie",isAdmin:r}}let B4=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const PZ=I.createContext({cardsA:[],cardsB:[],addCardToTrade:()=>{},removeCardFromTrade:()=>{},clearTradeCards:()=>{}}),IZ=()=>I.useContext(PZ),WNe=({children:t})=>{const[e,n]=I.useState([]),[r,i]=I.useState([]),l={cardsA:e,cardsB:r,addCardToTrade:(c,u)=>{u==="A"?e.some(d=>d.id===c.id)||n(d=>[...d,c]):r.some(d=>d.id===c.id)||i(d=>[...d,c])},removeCardFromTrade:(c,u)=>{u==="A"?n(d=>d.filter(h=>h.id!==c)):i(d=>d.filter(h=>h.id!==c))},clearTradeCards:c=>{(!c||c==="A")&&n([]),(!c||c==="B")&&i([])}};return m.jsx(PZ.Provider,{value:l,children:t})};function HNe(){const[t,e]=I.useState(!1);return t?null:m.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-lg shadow-md mb-6",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"mr-4 mt-1",children:m.jsx(pxe,{className:"h-6 w-6 text-yellow-300"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center",children:[m.jsx("span",{children:"Enhanced Market Data"}),m.jsx("span",{className:"bg-yellow-400 text-indigo-900 text-xs font-semibold ml-2 px-2 py-0.5 rounded",children:"NEW"})]}),m.jsx("p",{className:"mt-1 text-blue-50",children:"We now store historical sales data for popular cards, offering faster, more accurate market analysis!"}),m.jsxs("div",{className:"mt-3 flex space-x-6 text-sm",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(sG,{className:"h-4 w-4 mr-1 text-blue-200"}),m.jsx("span",{children:"Pre-cached analytics"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(wu,{className:"h-4 w-4 mr-1 text-blue-200"}),m.jsx("span",{children:"Historical trends"})]})]})]})]}),m.jsx("button",{onClick:()=>e(!0),className:"text-white hover:text-gray-200","aria-label":"Dismiss notification",children:m.jsx(vb,{className:"h-5 w-5"})})]})})}var YNe={compareTwoStrings:OZ,findBestMatch:XNe};function OZ(t,e){if(t=t.replace(/\s+/g,""),e=e.replace(/\s+/g,""),t===e)return 1;if(t.length<2||e.length<2)return 0;let n=new Map;for(let i=0;i<t.length-1;i++){const s=t.substring(i,i+2),a=n.has(s)?n.get(s)+1:1;n.set(s,a)}let r=0;for(let i=0;i<e.length-1;i++){const s=e.substring(i,i+2),a=n.has(s)?n.get(s):0;a>0&&(n.set(s,a-1),r++)}return 2*r/(t.length+e.length-2)}function XNe(t,e){if(!GNe(t,e))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const n=[];let r=0;for(let s=0;s<e.length;s++){const a=e[s],o=OZ(t,a);n.push({target:a,rating:o}),o>n[r].rating&&(r=s)}const i=n[r];return{ratings:n,bestMatch:i,bestMatchIndex:r}}function GNe(t,e){return!(typeof t!="string"||!Array.isArray(e)||!e.length||e.find(function(n){return typeof n!="string"}))}function z4(t){return t.replace(/[^a-zA-Z0-9 ]/g,"").toLowerCase()}function qNe(t,e){const n=z4(t.title||""),r=[e.playerName,e.year,e.cardSet,e.variation||"",e.grade||""].filter(Boolean),i=z4(r.join(" "));return YNe.compareTwoStrings(n,i)*100>=85}function KNe(t,e){const n=[];for(const r of t)qNe(r,e)&&n.push({...r,grade:e.grade,variation:e.variation,totalPrice:(r.price||0)+(r.shipping||0)});return n.sort((r,i)=>{const s=new Date(r.date||0);return new Date(i.date||0).getTime()-s.getTime()})}function QNe(t){const e=t.filter(f=>(f.totalPrice||f.price||0)>0);if(!e.length)return{volatility:0,trend:50,demand:0,averagePrice:0,minPrice:0,maxPrice:0,priceRange:0,salesCount:0,recentTrend:0};const n=e.map(f=>{const g=f.totalPrice||f.price||0;return isNaN(g)?0:g}).filter(f=>f>0);if(!n.length)return{volatility:0,trend:50,demand:0,averagePrice:0,minPrice:0,maxPrice:0,priceRange:0,salesCount:0,recentTrend:0};const r=n.reduce((f,g)=>f+g,0)/n.length,i=Math.min(...n),s=Math.max(...n),a=s-i,o=n.reduce((f,g)=>f+Math.pow(g-r,2),0)/n.length,l=Math.sqrt(o);let c=0;l>0&&(c=l/Math.max(.01,r)*100,c=Math.min(100,Math.max(0,c*.75))),e.length===1?c=Math.max(c,5):c===0&&(c=3);const u=c;let d=50,h=0;try{if(e.length>=3){const f=[...e].sort((_,w)=>{const C=new Date(_.date||0);return new Date(w.date||0).getTime()-C.getTime()}),g=Math.floor(f.length/2),p=f.slice(0,g),y=f.slice(g),v=p.length>0?p.reduce((_,w)=>_+(w.totalPrice||w.price||0),0)/p.length:0,x=y.length>0?y.reduce((_,w)=>_+(w.totalPrice||w.price||0),0)/y.length:0;if(x>0){const _=(v-x)/x*100;d=Math.min(100,Math.max(0,50+_*2))}const b=f.slice(0,3);if(b.length===3){const _=b[0].totalPrice||b[0].price||0,w=b[2].totalPrice||b[2].price||0;w>0&&(h=(_-w)/w*100)}}}catch(f){console.error("Error calculating trend:",f),d=50,h=0}return{volatility:Math.round(u),trend:Math.round(d),demand:ZNe(e),averagePrice:r,minPrice:i,maxPrice:s,priceRange:a,salesCount:e.length,recentTrend:h}}function ZNe(t){if(t.length<2)return 0;try{const e=t.map(l=>{var c;return((c=l.date)==null?void 0:c.split("T")[0])||""}).filter(Boolean);if(e.length<2)return 0;const n=new Set(e),r=e.map(l=>new Date(l)).filter(l=>!isNaN(l.getTime())).sort((l,c)=>l.getTime()-c.getTime());if(r.length<2)return 0;const i=r[0],s=r[r.length-1],a=Math.max(1,Math.ceil((s.getTime()-i.getTime())/(1e3*60*60*24))),o=t.length/a;return Math.min(100,Math.round(o*25*100))}catch(e){return console.error("Error calculating demand:",e),0}}function JNe(t,e,n=!1){if(!e||isNaN(e)||e<=0)return console.log("Invalid current price for prediction:",e),{days30:0,days60:0,days90:0};try{if(n)return{days30:e*(1+.0025),days60:e*(1+.0025*1.8),days90:e*(1+.0025*2.4)};if(!t||t.length<3)return{days30:e*(1+.01),days60:e*(1+.01*2),days90:e*(1+.01*3)};const r=[];if(t.forEach(b=>{if(!b.dateSold&&!b.date||!b.price&&!b.totalPrice)return;let _=b.dateSold||b.date||"";if(!_)return;if(typeof _!="string")try{_=_.toString()}catch{return}let w;try{if(w=new Date(_),isNaN(w.getTime()))return}catch{return}const C=b.totalPrice||b.price;!C||C<=0||r.push({date:w,price:C})}),r.sort((b,_)=>b.date.getTime()-_.date.getTime()),r.length<3){const b=n?.0025:.01;return{days30:e*(1+b),days60:e*(1+b*2),days90:e*(1+b*3)}}let i=0,s=0,a=0,o=0;const l=r[0].date.getTime();r.forEach(b=>{const _=(b.date.getTime()-l)/864e5,w=b.price;i+=_,s+=w,a+=_*w,o+=_*_});const c=r.length,u=c*o-i*i,d=u!==0?(c*a-i*s)/u:0,h=c!==0?(s-d*i)/c:e;if(isNaN(d)||isNaN(h)||!isFinite(d)||!isFinite(h)){console.log("Invalid regression results:",{slope:d,intercept:h});const b=n?.0025:.01;return{days30:e*(1+b),days60:e*(1+b*2),days90:e*(1+b*3)}}const f=n?d*.3:d;let g=h+f*30,p=h+f*60,y=h+f*90;g=Math.max(.01,isNaN(g)?e:g),p=Math.max(.01,isNaN(p)?e:p),y=Math.max(.01,isNaN(y)?e:y);let v=n?1.1:1.3,x=n?.95:.8;return{days30:Math.max(e*x,Math.min(e*v,g)),days60:Math.max(e*(x*.98),Math.min(e*v*1.05,p)),days90:Math.max(e*(x*.95),Math.min(e*v*1.1,y))}}catch(r){console.error("Error predicting prices:",r);const i=n?.002:.005;return{days30:e*(1+i),days60:e*(1+i*1.5),days90:e*(1+i*2)}}}function NZ(t){if(!t)return 50;const{volatility:e,trend:n,demand:r}=t,i={trend:.5,demand:.3,volatility:.2},s=100-e,a=n*i.trend+r*i.demand+s*i.volatility;return Math.round(Math.max(0,Math.min(100,a)))}function eRe(t,e=0){if(!t)return{action:"WATCH",reason:"Insufficient data to make a recommendation.",details:"Consider researching this card further before making investment decisions."};const{trend:n,volatility:r,demand:i}=t;NZ(t);let s="HOLD",a="",o="";return n>70&&i>60&&r<50?(s="BUY",a="Strong positive trend with good demand and stable prices.",o=`The market for this card is showing excellent growth potential (trend: ${n}%) with healthy demand (${i}%) and relatively stable pricing (volatility: ${r}%). This combination typically indicates a card that may continue to appreciate in value.`):n>60&&i>50?(s="BUY",a="Positive trend with decent demand shows growth potential.",o=`This card shows promising growth (trend: ${n}%) with adequate market activity (demand: ${i}%). While volatility is at ${r}%, the positive indicators suggest this could be a good addition to your collection.`):n<30&&r>60?(s="SELL",a="Downward trend with high price volatility suggests declining value.",o=`This card is showing concerning market signals with a downward trend (${n}%) and high price instability (volatility: ${r}%). These conditions often precede further price drops.`):n<40&&i<50?(s="SELL",a="Market appears to be cooling with decreasing demand.",o=`With a weak market trend (${n}%) and decreasing demand (${i}%), this may indicate the market is cooling. Consider your position carefully.`):r>70&&i<40?(s="WATCH",a="High volatility with low demand indicates an unstable market.",o=`The combination of high price fluctuations (volatility: ${r}%) and weak buying interest (demand: ${i}%) suggests waiting for the market to stabilize before making decisions.`):i<30?(s="WATCH",a="Very low demand may make it difficult to sell.",o=`With minimal market activity (demand: ${i}%), this card may be difficult to sell at a fair price. Consider waiting for increased collector interest.`):n>50&&i>40?(s="HOLD",a="Positive price trend suggests continued growth potential.",o=`This card is showing good market metrics (trend: ${n}%, demand: ${i}%) with a positive price trajectory. If you own it, holding may be the best strategy to capture continued appreciation.`):(s="HOLD",a="Stable market conditions with no strong indicators either way.",o=`This card is showing balanced market metrics (trend: ${n}%, demand: ${i}%, volatility: ${r}%) without any strong buy or sell signals. If you own it, holding may be best until clearer trends emerge.`),e>50&&s!=="SELL"?(s="CONSIDER SELLING",a="You have a significant ROI that may be worth securing.",o=`With your excellent ROI of ${e.toFixed(1)}%, you might consider taking profits, especially if this card represents a significant portion of your collection value.`):e<-20&&s!=="BUY"&&(s="CONSIDER CUTTING LOSSES",a="Significant negative ROI with no strong recovery indicators.",o=`Your current loss of ${Math.abs(e).toFixed(1)}% combined with market metrics (trend: ${n}%, demand: ${i}%) suggests considering whether to reallocate your investment to more promising cards.`),{action:s,reason:a,details:o}}const V4=t=>{if(!t||typeof t!="string")return"";try{if(t.endsWith(".webp")&&(t=t.replace(".webp",".jpg")),t.startsWith("http:")&&!t.includes("localhost:3001")&&(t=t.replace("http:","https:")),t.startsWith("/")&&(t.startsWith("/images/")?t=`${Wa}${t}`:t=`https://www.ebay.com${t}`),t.includes("i.ebayimg.com")&&(t=t.replace("s-l64","s-l500").replace("s-l96","s-l500").replace("s-l140","s-l500").replace("s-l225","s-l500").replace("s-l300","s-l500")),t=t.replace(/\?.*$/,""),!t.includes("localhost:3001/images/")){const e=Date.now();t=`${t}?t=${e}`}return t}catch(e){return console.error("Error enhancing image URL:",e),t}},tRe=({src:t,alt:e,className:n=""})=>{var b;const[r,i]=I.useState(!1),[s,a]=I.useState(!1),[o,l]=I.useState(0),[c,u]=I.useState(V4(t)),h=(e||"").toLowerCase().includes("jefferson"),f=e!=null&&e.includes("PSA ")||e!=null&&e.includes("BGS ")||e!=null&&e.includes("SGC ")?(b=e.match(/(PSA|BGS|SGC)\s+(10|9\.5|9|8\.5|8)/i))==null?void 0:b[0]:null,g=()=>f?f.includes("PSA 10")?"bg-red-50 border-red-200":f.includes("PSA 9")?"bg-orange-50 border-orange-200":f.includes("BGS")?"bg-blue-50 border-blue-200":f.includes("SGC")?"bg-gray-50 border-gray-200":"bg-gray-50 border-gray-100":"bg-gray-100",p=()=>f?f.includes("PSA 10")?"text-red-600":f.includes("PSA 9")?"text-orange-600":f.includes("BGS")?"text-blue-600":(f.includes("SGC"),"text-gray-600"):"text-gray-400",v=(()=>{const _=[];return h&&(f==="PSA 10"?_.push("https://i.ebayimg.com/images/g/mVwAAOSwsjVkTBkq/s-l1600.jpg?t="+Date.now()):f==="PSA 9"?_.push("https://i.ebayimg.com/images/g/YkIAAOSwK3VkoBj3/s-l1600.jpg?t="+Date.now()):_.push("https://i.ebayimg.com/images/g/EkoAAOSwasFll1PQ/s-l1600.jpg?t="+Date.now())),_.push(`https://placehold.co/400x600/f1f1f1/333333?text=${encodeURIComponent(e||"Card")}`),_.filter(Boolean)})();if(I.useEffect(()=>{t&&t!==c.replace(/\?t=\d+$/,"")?(u(V4(t)),i(!1),a(!1),l(0)):t||i(!0)},[t]),h){let _="Raw";return f&&(_=f),m.jsx(nRe,{title:e,grade:_,className:n})}const x=()=>{if(console.error("Error loading image:",c),o<1){l(o+1);const C=`?t=${Date.now()}`,A=c.includes("?")?`${c.split("?")[0]}${C}`:`${c}${C}`;u(A);return}const _=v.findIndex(C=>C.replace(/\?t=\d+$/,"")===c.replace(/\?t=\d+$/,"")),w=_===-1?0:_+1;w<v.length?(console.log(`Trying fallback image ${w+1}/${v.length}`),u(v[w]),l(0)):i(!0)};return!c&&!v.length||r&&o>=v.length?m.jsxs("div",{className:`relative overflow-hidden rounded-lg ${g()} ${n}`,children:[m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100",children:[m.jsx(zve,{className:"h-10 w-10 text-gray-400 mb-2"}),m.jsx("span",{className:"text-sm text-gray-500 text-center px-2",children:e||"Image Unavailable"})]}),m.jsx("img",{src:v[v.length-1],alt:e||"Card Image",className:"w-full h-full object-cover opacity-60",loading:"eager"}),f&&m.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-white/80 backdrop-blur-sm shadow-sm",children:m.jsx("span",{className:`text-xs font-bold ${p()}`,children:f.toUpperCase()})})]}):m.jsxs("div",{className:`relative overflow-hidden rounded-lg ${g()} ${n}`,children:[!s&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:m.jsx(jl,{className:"h-8 w-8 animate-spin text-gray-400"})}),m.jsx("img",{src:c,"data-src":t,alt:e||"Card",className:`w-full h-full object-cover transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:x,loading:"eager"}),f&&m.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-white/80 backdrop-blur-sm shadow-sm",children:m.jsx("span",{className:`text-xs font-bold ${p()}`,children:f.toUpperCase()})})]})},nRe=({title:t,grade:e,className:n=""})=>{const r=iRe(t,e),i=()=>e?e.includes("PSA 10")?"bg-red-50 border-red-300":e.includes("PSA 9")?"bg-orange-50 border-orange-300":e.includes("BGS")?"bg-blue-50 border-blue-300":"":"";return m.jsxs("div",{className:`relative overflow-hidden rounded-lg border ${i()} ${n}`,style:{minHeight:"200px"},children:[m.jsx("div",{style:{backgroundImage:`url(${r})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"100%",minHeight:"240px"}}),e&&m.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-white shadow-sm",children:m.jsx("span",{className:`text-xs font-bold ${e==="PSA 10"?"text-red-600":e==="PSA 9"?"text-orange-600":"text-gray-600"}`,children:e})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 p-1 text-white text-xs",children:t||"Card"})]})};function rRe(t){if(!t||t.length===0)return[];const e=t[0];if(!e)return[];let n=[];return e&&"listings"in e&&Array.isArray(e.listings)?n=e.listings:Array.isArray(e)&&(n=e),n.length===0?[]:n.map(i=>{var s;return{date:i.dateSold||((s=i.date)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],price:i.totalPrice||i.price||0}}).filter(i=>i.price>0).sort((i,s)=>new Date(i.date).getTime()-new Date(s.date).getTime())}function nw(t){if(!t)return"Raw";const e=t.match(/\b(PSA|BGS|SGC|CGC|CSG|HGA)\s*(?:GEM\s*(?:MINT|MT|-?MT)?\s*)?(\d{1,2}(?:\.5)?)\b/i);if(e)return`${e[1].toUpperCase()} ${e[2]}`;const n=t.match(/\b(PSA|BGS|SGC|CGC|CSG|HGA)[^0-9]{0,6}(10|9(?:\.5)?|8(?:\.5)?)\b/i);return n?`${n[1].toUpperCase()} ${n[2]}`:(/RAW|UN ?GRADED/i.test(t),"Raw")}const iRe=(t="",e="")=>{const n=t.toLowerCase(),r=i=>i?i.includes("/api/image-proxy")||i.includes("ebayimg.com")?i:`${Wa}/api/image-proxy?url=${encodeURIComponent(i)}`:"";return n.includes("jefferson")?e==="PSA 10"||n.includes("psa 10")?r("https://i.ebayimg.com/images/g/mVwAAOSwsjVkTBkq/s-l1600.jpg"):e==="PSA 9"||n.includes("psa 9")?r("https://i.ebayimg.com/images/g/YkIAAOSwK3VkoBj3/s-l1600.jpg"):n.includes("silver")?r("https://i.ebayimg.com/images/g/JToAAOSwAiVncY-S/s-l1600.jpg"):n.includes("red white blue")||n.includes("rwb")?r("https://i.ebayimg.com/images/g/PQMAAOSwwSRnEP2H/s-l1600.jpg"):n.includes("blue")?r("https://i.ebayimg.com/images/g/HpAAAOSwr8VjNSBx/s-l1600.jpg"):r("https://i.ebayimg.com/images/g/EkoAAOSwasFll1PQ/s-l1600.jpg"):"https://placehold.co/400x600/f1f1f1/333333?text=Card+Image"};function sRe(){var rd,wm,uf,id,Oa,_m,Sm,df,hf;const{user:t}=jn();TZ(),Qh();const e=Aa(),n=lc(),[r,i]=I.useState(""),[s,a]=I.useState(null),{addCardToTrade:o}=IZ(),[l,c]=I.useState(""),[u,d]=I.useState(""),[h,f]=I.useState(""),[g,p]=I.useState(""),[y,v]=I.useState(""),[x,b]=I.useState("any"),[_,w]=I.useState(!1),[C,A]=I.useState(!1),[k,E]=I.useState(!1),[T,P]=I.useState(""),[N,O]=I.useState([]),[L,$]=I.useState(null),[F,B]=I.useState([]),[D,z]=I.useState({volatility:0,trend:0,demand:0}),[W,X]=I.useState({days30:0,days60:0,days90:0}),[q,J]=I.useState(""),[ae,_e]=I.useState("30d"),[K,fe]=I.useState(null),Ne=I.useRef([]),[re,ge]=I.useState("search"),[Ae,se]=I.useState([]),[et,Ge]=I.useState([]),[Ot,rn]=I.useState("All"),[hn,Pn]=I.useState(null),[bn,H]=I.useState(50),[Z,ee]=I.useState(null),[Se,we]=I.useState(null),[he,Pe]=I.useState(null),[rt,Tt]=I.useState(!1),[In,_i]=I.useState(null),[Gr,Si]=I.useState(null),[wo,Is]=I.useState(!1),[Cn,ea]=I.useState(null),[gc,Os]=I.useState(""),[ta,of]=I.useState(null);I.useEffect(()=>{if(!Ae||Ae.length===0)return;let ie=!1;const me=Ae.map(je=>{var St;if(je.imageUrl&&!je.imageUrl.includes("placehold.co"))return je;const qe=(St=je.listings)==null?void 0:St.find(Ze=>Ze.imageUrl&&Ze.imageUrl.trim()!==""&&!Ze.imageUrl.includes("placehold.co"));return qe!=null&&qe.imageUrl?(ie=!0,{...je,imageUrl:qe.imageUrl}):je});ie&&se(me)},[Ae]);const Pa=(ie,me)=>{if(Ne.current=ie,console.log(`Processing ${ie.length} scraped listings`),!ie||ie.length===0){console.log("No listings to process"),O([]),w(!1),A(!0),ge("search"),Pn("No listings found for your search criteria. Try broadening your search.");return}const je=ie.map(Ce=>{const xt=typeof Ce.price=="number"?Ce.price:typeof Ce.price=="string"?parseFloat(Ce.price):0,Ut=typeof Ce.shipping=="number"?Ce.shipping:typeof Ce.shipping=="string"?parseFloat(Ce.shipping):0,At=xt+Ut;if(Ce.date)try{if(typeof Ce.date=="object"){const Wt=new Date(Ce.date);isNaN(Wt.getTime())||(Ce.date=Wt.toISOString())}if(typeof Ce.date=="string"&&Ce.date.includes("T")){const Wt=Ce.date.split("T")[0];Ce.date=Wt}}catch{Ce.date=new Date().toISOString().split("T")[0]}else Ce.date=new Date().toISOString().split("T")[0];return Ce.dateSold||(Ce.dateSold=typeof Ce.date=="string"?Ce.date.split("T")[0]:new Date().toISOString().split("T")[0]),{...Ce,price:isNaN(xt)?0:xt,shipping:isNaN(Ut)?0:Ut,totalPrice:isNaN(At)?xt:At,date:Ce.date||new Date().toISOString(),dateSold:Ce.dateSold||(Ce.date?Ce.date.toString().split("T")[0]:new Date().toISOString().split("T")[0])}}),Re=yc(je);console.log(`Grouped into ${Re.length} variations`);const qe=Ce=>!Ce||Ce.length===0?0:Ce.reduce((Ut,At)=>Ut+(At.totalPrice||At.price||0),0)/Ce.length,St=Ce=>{if(!Ce||!Ce.title)return"Unknown Card";if("variation"in Ce&&typeof Ce.variation=="string")return Ce.variation;let xt="";if("cardNumber"in Ce&&typeof Ce.cardNumber=="string")xt=Ce.cardNumber;else{const Hi=Ce.title.toLowerCase().match(/#?(\d{2,4})(?:[^\d]|$)/);xt=Hi?Hi[1]:""}let Ut="Raw";"grade"in Ce&&typeof Ce.grade=="string"?Ut=Ce.grade:Ut=nw(Ce.title);const At=Ce.title.toLowerCase();let Wt="Base";At.includes("silver")||At.includes("refractor")?Wt="Silver/Refractor":At.includes("prizm")&&(At.includes("red")||At.includes("blue")||At.includes("green")||At.includes("purple")||At.includes("gold"))?Wt="Color Parallel":(At.includes("auto")||At.includes("autograph"))&&(Wt="Autograph");let Ln="";return Wt!=="Base"?Ln=Wt:Ln="Base Card",xt&&(Ln+=` #${xt}`),Ut!=="Raw"&&(Ln+=` ${Ut}`),Ln},Ze=(Ce,xt)=>Ce?Ce.length<=xt?Ce:Ce.substring(0,xt)+"...":"",an=Re.map((Ce,xt)=>{var Hi,Rr;const Ut=qe(Ce),At=((Hi=Ce[0])==null?void 0:Hi.title)||"Unknown Card";let Wt=St(Ce[0]);Wt||(Wt=Ze(At,60));const Ln=Ns(Ce);return{id:`variation-${xt}`,title:Wt,originalTitle:At,imageUrl:Ln||((Rr=Ce[0])==null?void 0:Rr.imageUrl)||"",count:Ce.length,averagePrice:Ut,sample:Ce.slice(0,5),minPrice:Math.min(...Ce.map(Kr=>Kr.totalPrice||Kr.price||0)),maxPrice:Math.max(...Ce.map(Kr=>Kr.totalPrice||Kr.price||0)),listings:Ce}}).sort((Ce,xt)=>xt.count-Ce.count),on=(Ce=>{const xt=new Map;return Ce.forEach(Ut=>{const At=Ut.title.trim().toLowerCase();if(!xt.has(At))xt.set(At,{...Ut});else{const Wt=xt.get(At),Ln=[...Wt.sample,...Ut.sample],Hi=[...Wt.listings,...Ut.listings],Rr=Wt.count+Ut.count,Kr=Math.min(Wt.minPrice,Ut.minPrice),vc=Math.max(Wt.maxPrice,Ut.maxPrice),ff=qe(Hi);xt.set(At,{...Wt,count:Rr,averagePrice:ff,sample:Ln.slice(0,5),listings:Hi,minPrice:Kr,maxPrice:vc})}}),Array.from(xt.values())})(an);return console.log("Setting cardVariations and analysis step to 'validate'"),se(on),w(!1),A(!0),ge("validate"),on},mc=(ie,me)=>{if(!ie||!me)return!1;const je=on=>on.toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g," ").trim(),Re=je(ie),qe=je(me),St=Re.split(" ").filter(on=>on.length>2),Ze=qe.split(" ").filter(on=>on.length>2);if(St.length<4||Ze.length<4)return Re===qe;const st=St.filter(on=>Ze.includes(on)).length,an=st/St.length,Zn=st/Ze.length;return an>=.7&&Zn>=.7},yc=ie=>{if(!ie||ie.length===0)return[];const me=ie.filter(wt=>(wt.totalPrice||wt.price||0)>0);if(me.length===0)return[];const je=(wt,pt)=>{if(wt.length===0)return 0;const Qr=[...wt].sort((So,gt)=>So-gt),si=Math.max(0,Math.floor(Qr.length*pt/100)-1);return Qr[si]},Re=me.map(wt=>wt.totalPrice||wt.price||0),qe=je(Re,10),St=je(Re,90),Ze=St-qe,st=Math.max(5,qe-1.5*Ze),an=Math.min(2e3,St+1.5*Ze);console.log(`Price outlier bounds: $${st.toFixed(2)} to $${an.toFixed(2)}`);const Zn=me.filter(wt=>{const pt=wt.totalPrice||wt.price||0;return pt>=st&&pt<=an});if(console.log(`Filtered from ${me.length} to ${Zn.length} listings after removing price outliers`),Zn.length===0)return[];const on=[],Ce=[],xt=[],Ut=[];Zn.forEach(wt=>{wt.title.toLowerCase();const pt=wt.grade||nw(wt.title);pt==="PSA 10"?on.push(wt):pt==="PSA 9"?Ce.push(wt):pt!=="Raw"?xt.push(wt):Ut.push(wt)});const At=wt=>{var si;const Qr=(((si=wt.title)==null?void 0:si.toLowerCase())||"").match(/#?(\d{2,4})(?:[^\d]|$)/);return Qr?Qr[1]:""},Wt=wt=>{const pt=wt.toLowerCase();return pt.includes("silver")||pt.includes("gold")||pt.includes("blue")||pt.includes("red")||pt.includes("green")||pt.includes("purple")||pt.includes("black")||pt.includes("orange")||pt.includes("pink")||pt.includes("aqua")||pt.includes("refractor")||pt.includes("prizm")&&(pt.includes("color")||pt.includes("parallel"))},Ln=wt=>{if(wt.length===0)return[];const pt=[],Qr=[];wt.forEach(Gt=>{Wt(Gt.title)?pt.push(Gt):Qr.push(Gt)});const si={};Qr.forEach(Gt=>{const Mr=At(Gt);Mr&&(si[Mr]||(si[Mr]=[]),si[Mr].push(Gt))});const So=Qr.filter(Gt=>!At(Gt)),gt=[];if(Object.values(si).forEach(Gt=>{if(Gt.length>=3){const Mr=Gt.map(sd=>sd.totalPrice||sd.price||0),Jn=je(Mr,50),er=Jn>100?.4:.3,Wb=Gt.filter(sd=>{const Hb=sd.totalPrice||sd.price||0;return Hb>=Jn*(1-er)&&Hb<=Jn*(1+er)});gt.push(Wb)}else gt.push(Gt)}),So.length>0){const Gt=[];for(const Mr of So){let Jn=!1;for(const er of Gt)if(er.length>0&&mc(Mr.title,er[0].title)){er.push(Mr),Jn=!0;break}Jn||Gt.push([Mr])}gt.push(...Gt)}if(pt.length>0){const Gt={};pt.forEach(Mr=>{const Jn=Mr.title.toLowerCase();let er="";Jn.includes("silver")?er="silver":Jn.includes("gold")?er="gold":Jn.includes("blue")?er="blue":Jn.includes("red")?er="red":Jn.includes("green")?er="green":Jn.includes("purple")?er="purple":Jn.includes("black")?er="black":Jn.includes("orange")?er="orange":Jn.includes("pink")?er="pink":Jn.includes("refractor")?er="refractor":er="other-parallel",Gt[er]||(Gt[er]=[]),Gt[er].push(Mr)}),gt.push(...Object.values(Gt))}return gt},Hi=Ln(on),Rr=Ln(Ce),Kr=Ln(xt),vc=Ln(Ut);return[...Hi,...Rr,...Kr,...vc].filter(wt=>wt.length>0)},Je=ie=>!ie||ie.length===0?0:ie.reduce((je,Re)=>je+(Re.totalPrice||Re.price||0),0)/ie.length,Kn=ie=>{const me=new Map;return ie.forEach(je=>{const Re=je.title.trim().toLowerCase();if(!me.has(Re))me.set(Re,{...je});else{const qe=me.get(Re),St=[...qe.sample,...je.sample],Ze=qe.count+je.count,st=Math.min(qe.minPrice,je.minPrice),an=Math.max(qe.maxPrice,je.maxPrice),Zn=Je(St);me.set(Re,{...qe,count:Ze,averagePrice:Zn,sample:St.slice(0,5),minPrice:st,maxPrice:an})}}),Array.from(me.values())},Qn=(ie,me)=>ie?ie.length<=me?ie:ie.substring(0,me)+"...":"";I.useEffect(()=>{if(C&&L&&K){const ie={playerName:L.playerName,year:L.year,cardSet:L.cardSet,variation:L.variation,grade:L.grade};if(Ne.current.length>0){const me=KNe(Ne.current,ie),je=rRe(me);B(je)}}},[ae,C,L,K]),I.useEffect(()=>{var ie;if(L&&K){console.log("Force rendering price history chart with available data");const me=((ie=L.listings)==null?void 0:ie.filter(je=>je.price>0))||[];if(me.length>0){const je=[];me.forEach((Re,qe)=>{const St=new Date,Ze=qe*3,st=new Date(St);st.setDate(St.getDate()-Ze);const an=st.toISOString().split("T")[0],Zn=Re.totalPrice||Re.price||0;Zn>0&&je.push({date:an,price:Zn})}),je.length>0&&(console.log(`Generated ${je.length} forced data points for chart`),B(je))}}},[L,K]);const qr=()=>{A(!1),O([]),$(null),se([]),B([]),fe(null),z({volatility:0,trend:0,demand:0}),X({days30:0,days60:0,days90:0}),ge("search")},Ns=ie=>{const me="https://placehold.co/500x700/e1e1f1/4a4a4a?text=No+Image+Available";if(!ie||!Array.isArray(ie)||ie.length===0)return console.log("No listings provided to findBestImage"),me;try{const je=ie.find(Ze=>typeof Ze.imageUrl=="string"&&Ze.imageUrl.startsWith("/images/"));if(je)return`${Wa}${je.imageUrl}`;const Re=ie[0],qe=(Re==null?void 0:Re.title)||"",St=(Re==null?void 0:Re.grade)||nw(qe);if(qe.toLowerCase().includes("jefferson"))return St==="PSA 10"||qe.toLowerCase().includes("psa 10")?"https://i.ebayimg.com/images/g/mVwAAOSwsjVkTBkq/s-l1600.jpg":St==="PSA 9"||qe.toLowerCase().includes("psa 9")?"https://i.ebayimg.com/images/g/YkIAAOSwK3VkoBj3/s-l1600.jpg":"https://i.ebayimg.com/images/g/EkoAAOSwasFll1PQ/s-l1600.jpg";for(const Ze of ie)if(Ze!=null&&Ze.imageUrl&&typeof Ze.imageUrl=="string"&&Ze.imageUrl.trim()!=="")return Ze.imageUrl.startsWith("/images/")?`${Wa}${Ze.imageUrl}`:Ze.imageUrl;return me}catch(je){return console.error("Error in findBestImage:",je),me}},lr=async ie=>{if(ie.preventDefault(),!T.trim()){ce.error("Please enter a search query");return}c(T.split(" ")[0]),w(!0),Pn(null),ge("loading"),O([]),se([]),fe(null),B([]),of(null),$(null),Os("");try{console.log(`Searching for: ${T}`);const me="https://backend-15mfn77fw-jordan-linfords-projects.vercel.app";console.log(`Sending request to ${me}/api/text-search with query: ${T}`);const je=await fetch(`${me}/api/text-search`,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:T,limit:80})});if(console.log(`Response status: ${je.status}`),!je.ok)throw new Error(`Server returned ${je.status}`);const Re=await je.json();if(!Re||!Re.listings||Re.listings.length===0){console.log("No results found"),O([]),Pn(Re.message||"No listings found for that search. Try a different search term."),ge("search");return}console.log(`Found ${Re.listings.length} listings`),Ne.current=Re.listings;const qe={playerName:T,year:u,cardSet:h,variation:g||"",grade:x};Os("eBay Data"),Pa(Re.listings,qe)}catch(me){console.error("Error fetching data:",me),w(!1),Pn(`Error searching: ${me.message}`),ge("search")}},sn=(ie,me,je)=>{console.log("Extracting price history with improved handling",{listingCount:ie.length,isRaw:me});const Re=2;if(!ie||ie.length<Re){console.log("Insufficient listings for price history"),B([]);return}try{const qe=Ze=>{if(!Ze)return new Date().toISOString().split("T")[0];try{if(typeof Ze=="string"){if(Ze.includes("T"))return Ze.split("T")[0];const st=new Date(Ze);if(!isNaN(st.getTime()))return st.toISOString().split("T")[0]}return Ze instanceof Date?Ze.toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}catch(st){return console.warn("Date parsing error:",st),new Date().toISOString().split("T")[0]}};let St=[];for(const Ze of ie){const st=Ze.totalPrice||Ze.price||0;if(st<=0)continue;const an=qe(Ze.dateSold)||qe(Ze.date)||new Date().toISOString().split("T")[0];St.push({date:an,price:st})}St.length>=Re?(St.sort((Ze,st)=>{const an=new Date(Ze.date).getTime(),Zn=new Date(st.date).getTime();return an-Zn}),console.log(`Using ${St.length} real data points for price history`),B(St)):(console.log("Not enough valid price points after filtering"),B([]))}catch(qe){console.error("Error processing price history:",qe),B([])}},_o=ie=>{var Hi;E(!0),Pn(null);const me=Ae.find(Rr=>Rr.id===ie);if(!me){console.error("Selected variation not found:",ie),Pn("Error loading variation data"),E(!1);return}console.log("Analyzing variation:",me.title);const je=Rr=>{if(!Rr||Rr.length<5)return Rr;const Kr=Rr.map(gt=>gt.totalPrice||gt.price||0).filter(gt=>gt>0);Kr.sort((gt,Gt)=>gt-Gt);const vc=Math.floor(Kr.length*.25),ff=Math.floor(Kr.length*.75),wt=Kr[vc],pt=Kr[ff],Qr=pt-wt,si=Math.max(5,wt-1.5*Qr),So=pt+1.5*Qr;return console.log(`Price filter - Q1: $${wt.toFixed(2)}, Q3: $${pt.toFixed(2)}, IQR: $${Qr.toFixed(2)}`),console.log(`Price filter - Bounds: $${si.toFixed(2)} to $${So.toFixed(2)}`),Rr.filter(gt=>{const Gt=gt.totalPrice||gt.price||0;return Gt>=si&&Gt<=So})},Re=me.listings||[],qe=je(Re);console.log(`Filtered from ${Re.length} to ${qe.length} listings after removing outliers`);let St=me.imageUrl;me.title.toLowerCase().includes("jefferson")&&(me.title.includes("PSA 10")?St="https://i.ebayimg.com/images/g/mVwAAOSwsjVkTBkq/s-l1600.jpg":me.title.includes("PSA 9")?St="https://i.ebayimg.com/images/g/YkIAAOSwK3VkoBj3/s-l1600.jpg":St="https://i.ebayimg.com/images/g/EkoAAOSwasFll1PQ/s-l1600.jpg");const st=me.title.includes("PSA 10")?"PSA 10":me.title.includes("PSA 9")?"PSA 9":"Raw",an={id:B4(),playerName:T,year:u||Or(me.title),cardSet:h||Nr(me.title),grade:st,condition:st==="Raw"?"raw":"graded",variation:me.title,averagePrice:Je(qe),lastSold:((Hi=qe[0])==null?void 0:Hi.dateSold)||new Date().toISOString().split("T")[0],listings:qe,imageUrl:St,title:me.title};$(an),sn(qe,st==="Raw",an.averagePrice);const on=QNe(qe);fe(on);const Ce=Math.max(0,Math.min(100,100-on.volatility)),xt=Math.max(0,Math.min(100,50+on.trend*50)),Ut=on.salesCount>10?75:on.salesCount>5?50:25;z({volatility:Math.round(Ce),trend:Math.round(xt),demand:Math.round(Ut)});const At=JNe(qe,an.averagePrice);X(At);const Wt=eRe(on);_i(Wt);const Ln=NZ(on);H(Ln),ge("analyze"),E(!1),setTimeout(()=>{var Rr;(Rr=document.getElementById("analysis"))==null||Rr.scrollIntoView({behavior:"smooth"})},100)},Or=ie=>{const me=ie.match(/\b(19|20)\d{2}\b/);return me?me[0]:""},Nr=ie=>{const me=ie.toLowerCase(),je=["prizm","donruss","select","optic","mosaic","chronicles","contenders","origins","revolution","prestige","legacy","score","certified","gold standard","absolute","spectra","illusions","elite","phoenix","playbook","immaculate","flawless","national treasures"];for(const Re of je)if(me.includes(Re))return Re.charAt(0).toUpperCase()+Re.slice(1);return""},lf=async()=>{if(L){Tt(!0),Pe(null);try{const ie={playerName:T,query:`${T} PSA 9 PSA 10`,negKeywords:["lot","reprint","digital","case","break","raw","ungraded"],grade:"PSA 9 PSA 10",limit:80},me=Wa,je=await fetch("/.netlify/functions/text-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!je.ok)throw new Error(`Server responded with ${je.status}`);const Re=await je.json();if(!Re.success)throw new Error(Re.message||"Failed to fetch graded card data");const qe=Re.listings.filter(Wt=>{var Ln;return(Ln=Wt.title)==null?void 0:Ln.toLowerCase().includes("psa 9")}),St=Re.listings.filter(Wt=>{var Ln;return(Ln=Wt.title)==null?void 0:Ln.toLowerCase().includes("psa 10")}),Ze=Je(qe),st=Je(St),an=L.averagePrice,Zn=Ze-an,on=st-an,Ce=30,xt=Zn-Ce,Ut=on-Ce;let At="Based on current market data, ";xt>0&&Ut>0?At+="grading this card could be profitable. The potential return on investment is positive for both PSA 9 and PSA 10 grades.":xt>0?At+="grading this card could be profitable if you expect a PSA 9 grade. PSA 10 grades may not be profitable after grading costs.":Ut>0?At+="grading this card could be profitable if you expect a PSA 10 grade. PSA 9 grades may not be profitable after grading costs.":At+="grading this card may not be profitable at current market prices. Consider holding the raw card or waiting for market conditions to improve.",Pe({rawPrice:an,psa9Price:Ze,psa10Price:st,psa9Profit:Zn,psa10Profit:on,psa9ProfitAfterCosts:xt,psa10ProfitAfterCosts:Ut,recommendation:At})}catch(ie){console.error("Error loading graded versions:",ie),ce.error("Failed to load graded card data. Please try again.")}finally{Tt(!1)}}},Ia=async()=>{if(L){if(!t){ce.error("You need to be logged in to add cards to your collection");return}try{const ie={playerName:L.playerName||T,year:L.year||u||"",cardSet:L.cardSet||h||"",cardNumber:y||"",condition:L.grade||"Raw",imageUrl:L.imageUrl||"",currentValue:L.averagePrice||0,pricePaid:parseFloat(q||"0")||0,variation:L.variation||"",ownerId:t.uid,tags:[]};if(!ie.playerName&&T){const me=T.split(" ");me.length>0&&(ie.playerName=me[0])}if(!ie.playerName||!ie.year||!ie.cardSet){ea(ie),Is(!0);return}await k1.createCard(t.uid,ie),ce.success("Card added to collection successfully!"),n.invalidateQueries({queryKey:["cards",t.uid]}),e("/collection")}catch(ie){console.error("Error adding card to collection:",ie),ce.error("Failed to add card to collection")}}},al=async ie=>{if(ie.preventDefault(),!Gr){Pn("Please choose an image file to search.");return}try{w(!0),Pn(""),O([]),se([]),console.log("Searching by image:",Gr.name);const me=Wa,je=new FormData;je.append("image",Gr);const Re=await fetch(`${me.replace(/\/$/,"")}/api/image-search/upload`,{method:"POST",body:je});if(!Re.ok)throw new Error(`Server responded with ${Re.status}`);const qe=await Re.json();if(!qe.listings||qe.listings.length===0)throw new Error("No listings found for this image");if(Ne.current=qe.listings,qe.groupedListings&&qe.groupedListings.length>0){const St=qe.groupedListings.map((st,an)=>{var on,Ce;let Zn=st.representativeImageUrl;return Zn||(Zn=Ns(st.listings||[])),{id:st.id||`variation-${an}`,title:st.title||`Variation ${an+1}`,originalTitle:st.title||`Variation ${an+1}`,imageUrl:Zn,count:st.count||((on=st.listings)==null?void 0:on.length)||0,averagePrice:st.averagePrice||Je(st.listings||[]),sample:((Ce=st.listings)==null?void 0:Ce.slice(0,5))||[],minPrice:Math.min(...(st.listings||[]).map(xt=>xt.totalPrice||xt.price||0)),maxPrice:Math.max(...(st.listings||[]).map(xt=>xt.totalPrice||xt.price||0))}}),Ze=Kn(St);se(Ze),A(!0),ge("validate")}else Pa(qe.listings,{playerName:"Image Search",year:"",cardSet:"",variation:"",grade:x||"Any"})}catch(me){console.error("Image search error:",me),Pn(me.message||"Failed to search by image")}finally{w(!1)}},ok=async()=>{if(Cn)try{await k1.createCard(t.uid,Cn),ce.success("Card added to collection successfully!"),n.invalidateQueries({queryKey:["cards",t.uid]}),Is(!1),e("/collection")}catch(ie){console.error("Error saving card:",ie),ce.error("Failed to save card")}};I.useEffect(()=>{if(!C)return;const ie=Ne.current||[];if(!ie.length)return;const me=Ot==="All"?ie:ie.filter(je=>nw(je.title||"")===Ot);Pa(me)},[Ot]);const cf=(ie="A")=>{if(!L)return;const me={id:B4(),playerName:L.playerName||"",year:L.year||"",cardSet:L.cardSet||"",cardNumber:L.variation||"",variation:L.variation||"",condition:L.grade||L.condition||"Raw",price:L.averagePrice||0,currentValue:L.averagePrice||0,imageUrl:L.imageUrl||"",source:"MarketAnalyzer",ownerId:(t==null?void 0:t.uid)||"anonymous",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[]};o(me,ie),ce.success(`Added ${L.playerName} to Trade Analyzer (Side ${ie})`),e("/trade-analyzer")};return m.jsxs("div",{className:"container py-6",children:[m.jsx(HNe,{}),m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Market Analyzer"}),m.jsxs(Cr,{className:"mb-6",children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(R0,{className:"h-5 w-5"}),"Search for Cards"]}),m.jsx(es,{children:"Search eBay sold listings for sports card market data"})]}),m.jsx(ui,{children:m.jsxs("form",{onSubmit:lr,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"searchQuery",children:"Card Search"}),m.jsx(tn,{id:"searchQuery",value:T,onChange:ie=>P(ie.target.value),placeholder:"e.g. Justin Jefferson 2020 Prizm #398 PSA 10"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Enter a complete search like player name, year, card set, card number, and grade"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"imageUpload",children:"Or search by card image"}),m.jsx(tn,{id:"imageUpload",type:"file",accept:"image/*",capture:"environment",onChange:ie=>{var me;return Si(((me=ie.target.files)==null?void 0:me[0])||null)}}),m.jsx(xe,{type:"button",variant:"secondary",disabled:!Gr||_,onClick:al,children:_?m.jsxs(m.Fragment,{children:[m.jsx(Od,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):m.jsxs(m.Fragment,{children:[" ",m.jsx(R0,{className:"mr-2 h-4 w-4"}),"Search by Image"]})})]}),m.jsx(xe,{type:"submit",disabled:_,children:_?m.jsxs(m.Fragment,{children:[m.jsx(Od,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):m.jsxs(m.Fragment,{children:[m.jsx(R0,{className:"mr-2 h-4 w-4"}),"Search"]})}),hn&&m.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:m.jsx("p",{children:hn})})]})})]}),C&&re==="validate"&&m.jsx("div",{className:"space-y-6",children:m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(cE,{className:"h-5 w-5"}),"Step 1: Select Correct Card Variation"]}),m.jsx(es,{children:Ae.length>0?`Found ${Ae.length} different card variations. Select the correct one to analyze.`:"No card variations found. Try a different search."})]}),m.jsx(ui,{children:_?m.jsxs("div",{className:"flex justify-center items-center py-10",children:[m.jsx(Od,{className:"h-6 w-6 animate-spin"}),m.jsx("span",{className:"ml-2",children:"Loading variations..."})]}):Ae.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(ie=>{const me=ie.title.includes("PSA 10"),je=ie.title.includes("PSA 9");let Re=ie.imageUrl||"";return Re.startsWith("/images/")?Re=`${Wa}${Re}`:Re&&Re.startsWith("images/")&&(Re=`${Wa}/${Re}`),Re||(ie.title.toLowerCase().includes("jefferson")?me?Re="https://i.imgur.com/oKGYBmz.jpg":je?Re="https://i.imgur.com/UDYJvtG.jpg":ie.title.toLowerCase().includes("silver")||ie.title.toLowerCase().includes("refractor")?Re="https://i.imgur.com/o2tDNVY.jpg":ie.title.toLowerCase().includes("parallel")||ie.title.toLowerCase().includes("color")?Re="https://i.imgur.com/DuJpib4.jpg":Re="https://i.imgur.com/V4Hiipt.jpg":Re=`https://placehold.co/400x600/f4f4f7/222222?text=${encodeURIComponent(ie.title)}`),m.jsxs("div",{onClick:()=>_o(ie.id),style:{border:"2px solid #e2e8f0",borderRadius:"8px",padding:"12px",margin:"8px",cursor:"pointer",backgroundColor:me?"#ffebee":je?"#fff3e0":"#f5f5f5"},children:[m.jsx("div",{style:{height:"240px",width:"100%",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",marginBottom:"8px"},children:m.jsx("img",{src:Re,alt:ie.title,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"},onError:qe=>{console.error("Error loading variation image:",Re),qe.currentTarget.src="https://placehold.co/400x600/f4f4f7/222222?text=Card+Image"}})}),m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:ie.title}),m.jsxs("div",{style:{backgroundColor:"#e0f7fa",color:"#00838f",borderRadius:"9999px",padding:"2px 8px",display:"inline-block",fontSize:"12px",marginBottom:"8px"},children:[ie.count," sales"]}),m.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:m.jsxs("span",{style:{fontSize:"20px",fontWeight:"bold"},children:["$",ie.averagePrice.toFixed(2)]})}),m.jsxs("div",{style:{textAlign:"center",fontSize:"12px",color:"#666",marginTop:"4px"},children:["Range: $",(ie.minPrice??0).toFixed(2)," - $",(ie.maxPrice??0).toFixed(2)]})]}),m.jsx("button",{style:{width:"100%",marginTop:"12px",padding:"8px",backgroundColor:"#f5f5f5",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"14px"},onClick:qe=>{qe.stopPropagation(),_o(ie.id)},children:"Select & Analyze"})]},ie.id)})}):m.jsxs("div",{className:"text-center p-10",children:[m.jsx("p",{className:"text-gray-500",children:"No cards found matching your criteria."}),m.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search parameters or using broader terms."})]})})]})}),C&&re==="analyze"&&L&&K&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(cE,{className:"h-5 w-5"}),Qn(L.title||"",80)]}),m.jsxs(es,{children:["Analyzing ",L.listings.length," sales for this card"]})]}),m.jsx(ui,{children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[m.jsx("div",{className:"md:w-1/5",children:m.jsx("div",{className:"aspect-w-3 aspect-h-4 mb-3",children:m.jsx(tRe,{src:L.imageUrl||"",alt:L.title||"Card",className:"h-full w-full"})})}),m.jsxs("div",{className:"md:w-4/5",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[L.grade&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Grade"}),m.jsx("p",{className:"font-medium",children:L.grade})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Average Price"}),m.jsxs("p",{className:"font-bold text-lg",children:["$",K.averagePrice.toFixed(2)]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Last Sold"}),m.jsx("p",{className:"font-medium",children:(rd=L.lastSold)==null?void 0:rd.split("T")[0]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Sales Count"}),m.jsx("p",{className:"font-medium",children:L.listings.length})]})]}),m.jsx(xe,{variant:"outline",className:"mt-4",onClick:()=>{ge("validate"),$(null),B([]),fe(null),z({volatility:0,trend:0,demand:0}),X({days30:0,days60:0,days90:0})},children:"Back to Variations"})]})]})})]}),m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(Sve,{className:"h-5 w-5"}),"Price History"]}),m.jsx(es,{children:F.length>0?`${F.length} sales over the past ${F.length>30?"90":F.length} days`:"No price history available"})]}),m.jsx(ui,{children:m.jsx("div",{className:"h-64",children:F.length>1?m.jsx(UNe,{options:{chart:{type:"line",zoom:{enabled:!1},animations:{enabled:!0},toolbar:{show:!1},fontFamily:"inherit"},stroke:{curve:"smooth",width:3},xaxis:{type:"datetime",labels:{datetimeUTC:!1,format:"MMM dd",formatter:function(ie){try{const me=new Date(ie);return isNaN(me.getTime())?"":me.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}}},tooltip:{enabled:!0}},yaxis:{labels:{formatter:ie=>`$${ie.toFixed(2)}`},forceNiceScale:!0,min:function(){if(F.length===0)return 0;const ie=Math.min(...F.map(me=>me.price));return Math.floor(ie*.9)}(),max:function(){if(F.length===0)return 100;const ie=Math.max(...F.map(me=>me.price));return Math.ceil(ie*1.1)}()},dataLabels:{enabled:!1},markers:{size:5,hover:{size:7,sizeOffset:3},strokeWidth:0,discrete:[],shape:"circle"},grid:{show:!0,borderColor:"#f1f1f1",row:{colors:["transparent","transparent"],opacity:.5}},tooltip:{x:{format:"MMM dd, yyyy"},y:{formatter:function(ie){return`$${ie.toFixed(2)}`}},marker:{show:!0}},theme:{mode:"light"}},series:[{name:"Price",data:F.map(ie=>{try{const me=new Date(ie.date).getTime()||Date.now(),je=ie.price>0?ie.price:(K==null?void 0:K.averagePrice)||0;return{x:me,y:je}}catch{return{x:Date.now()-Math.random()*7776e6,y:(K==null?void 0:K.averagePrice)||0}}})}],type:"line",height:250,width:"100%"}):m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(sG,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No price data"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Not enough sales data available for this card."})]})})})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(Cr,{children:[m.jsx(Fr,{children:m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(cE,{className:"h-5 w-5"}),"Market Metrics"]})}),m.jsxs(ui,{children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Volatility"}),m.jsxs("span",{className:"text-sm font-medium",children:[(D==null?void 0:D.volatility)||0,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${Math.min(100,(D==null?void 0:D.volatility)||0)}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Trend"}),m.jsxs("span",{className:"text-sm font-medium",children:[(D==null?void 0:D.trend)||0,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:`h-2 rounded-full ${((D==null?void 0:D.trend)||0)>50?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(100,(D==null?void 0:D.trend)||0)}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Demand"}),m.jsxs("span",{className:"text-sm font-medium",children:[(D==null?void 0:D.demand)||0,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(100,(D==null?void 0:D.demand)||0)}%`}})})]})]}),m.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-2 text-center",children:[m.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Avg. Price"}),m.jsxs("p",{className:"text-lg font-bold",children:["$",((wm=K==null?void 0:K.averagePrice)==null?void 0:wm.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Sales Count"}),m.jsx("p",{className:"text-lg font-bold",children:(K==null?void 0:K.salesCount)||0})]}),m.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Min Price"}),m.jsxs("p",{className:"text-lg font-bold",children:["$",((uf=K==null?void 0:K.minPrice)==null?void 0:uf.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Max Price"}),m.jsxs("p",{className:"text-lg font-bold",children:["$",((id=K==null?void 0:K.maxPrice)==null?void 0:id.toFixed(2))||"0.00"]})]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsxs(xe,{onClick:()=>cf("A"),className:"w-full",variant:"outline",children:[m.jsx(oE,{className:"mr-2 h-4 w-4"}),"Add to Trade (You Give)"]}),m.jsxs(xe,{onClick:()=>cf("B"),className:"w-full",variant:"outline",children:[m.jsx(oE,{className:"mr-2 h-4 w-4"}),"Add to Trade (You Receive)"]})]})})]})]}),m.jsxs(Cr,{children:[m.jsx(Fr,{children:m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(wu,{className:"h-5 w-5"}),"Price Prediction"]})}),m.jsx(ui,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-gray-50 p-3 rounded",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-sm",children:"Current Price"}),m.jsxs("p",{className:"font-bold",children:["$",((Oa=K==null?void 0:K.averagePrice)==null?void 0:Oa.toFixed(2))||"0.00"]})]})}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("p",{className:"text-sm",children:"30 Days"}),m.jsxs("p",{className:"font-bold",children:["$",((_m=W==null?void 0:W.days30)==null?void 0:_m.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsx("span",{children:"Estimate"}),m.jsxs("span",{className:((W==null?void 0:W.days30)||0)>((K==null?void 0:K.averagePrice)||0)?"text-green-600":"text-red-600",children:[((W==null?void 0:W.days30)||0)>((K==null?void 0:K.averagePrice)||0)?"↑":"↓",Math.abs((((W==null?void 0:W.days30)||0)/Math.max(.01,(K==null?void 0:K.averagePrice)||1)-1)*100).toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("p",{className:"text-sm",children:"60 Days"}),m.jsxs("p",{className:"font-bold",children:["$",((Sm=W==null?void 0:W.days60)==null?void 0:Sm.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsx("span",{children:"Estimate"}),m.jsxs("span",{className:((W==null?void 0:W.days60)||0)>((K==null?void 0:K.averagePrice)||0)?"text-green-600":"text-red-600",children:[((W==null?void 0:W.days60)||0)>((K==null?void 0:K.averagePrice)||0)?"↑":"↓",Math.abs((((W==null?void 0:W.days60)||0)/Math.max(.01,(K==null?void 0:K.averagePrice)||1)-1)*100).toFixed(1),"%"]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("p",{className:"text-sm",children:"90 Days"}),m.jsxs("p",{className:"font-bold",children:["$",((df=W==null?void 0:W.days90)==null?void 0:df.toFixed(2))||"0.00"]})]}),m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsx("span",{children:"Estimate"}),m.jsxs("span",{className:((W==null?void 0:W.days90)||0)>((K==null?void 0:K.averagePrice)||0)?"text-green-600":"text-red-600",children:[((W==null?void 0:W.days90)||0)>((K==null?void 0:K.averagePrice)||0)?"↑":"↓",Math.abs((((W==null?void 0:W.days90)||0)/Math.max(.01,(K==null?void 0:K.averagePrice)||1)-1)*100).toFixed(1),"%"]})]})]})]})})]}),m.jsxs(Cr,{children:[m.jsx(Fr,{children:m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(vB,{className:"h-5 w-5"}),"ROI Calculator"]})}),m.jsx(ui,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"pricePaid",children:"Price Paid"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"mr-2 text-gray-600 font-medium",children:"$"}),m.jsx(tn,{id:"pricePaid",value:q,onChange:ie=>{const me=ie.target.value;/^(\d*\.?\d{0,2})?$/.test(me)&&J(me)},placeholder:"0.00",type:"text",inputMode:"decimal","aria-label":"Price paid (dollars)"})]})]}),m.jsx("div",{className:"bg-gray-50 p-3 rounded",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-sm",children:"Current Market Value"}),m.jsxs("p",{className:"font-bold",children:["$",((hf=K==null?void 0:K.averagePrice)==null?void 0:hf.toFixed(2))||"0.00"]})]})}),q&&!isNaN(parseFloat(q))&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"bg-gray-50 p-3 rounded",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-sm",children:"Current Return"}),m.jsxs("p",{className:`font-bold ${(K==null?void 0:K.averagePrice)>parseFloat(q)?"text-green-600":"text-red-600"}`,children:["$",((K==null?void 0:K.averagePrice)-parseFloat(q)).toFixed(2)]})]})}),m.jsx("div",{className:"bg-gray-50 p-3 rounded",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-sm",children:"ROI %"}),m.jsxs("p",{className:`font-bold ${(K==null?void 0:K.averagePrice)>parseFloat(q)?"text-green-600":"text-red-600"}`,children:[(((K==null?void 0:K.averagePrice)/parseFloat(q)-1)*100).toFixed(1),"%"]})]})}),m.jsx("div",{className:"bg-gray-50 p-3 rounded",children:m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-sm",children:"90-Day Projected ROI"}),m.jsx("p",{className:`font-bold ${((W==null?void 0:W.days90)||0)>parseFloat(q||"0")?"text-green-600":"text-red-600"}`,children:(()=>{const ie=Math.max(.01,parseFloat(q||"0")),je=(((W==null?void 0:W.days90)||0)/ie-1)*100;return isNaN(je)||!isFinite(je)||ie<=.01?"N/A":`${je>0?"+":""}${je.toFixed(1)}%`})()})]})})]})]})})]})]}),C&&re==="analyze"&&L&&K&&m.jsxs(Cr,{className:"mt-6 mb-6",children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(vB,{className:"h-5 w-5"}),"Grading Profit Calculator"]}),m.jsx(es,{children:he?"Estimated profits if this raw card was graded":"See potential value if this raw card was professionally graded"})]}),m.jsx(ui,{children:!he&&!rt?m.jsxs("div",{className:"text-center p-6",children:[m.jsx(xe,{onClick:lf,children:"Check Grading Profit Potential"}),m.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"This will fetch data on PSA 9 and PSA 10 graded versions of this card to estimate potential profits"})]}):rt?m.jsxs("div",{className:"flex justify-center p-6",children:[m.jsx(Od,{className:"h-8 w-8 animate-spin"}),m.jsx("span",{className:"ml-2",children:"Loading graded card data..."})]}):he?m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:"Current Raw Price"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Ungraded market value"})]}),m.jsxs("span",{className:"text-lg font-bold",children:["$",he.rawPrice.toFixed(2)]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:"PSA 9 Value"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Average sale price"})]}),m.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[m.jsxs("span",{className:"text-lg font-bold",children:["$",he.psa9Price.toFixed(2)]}),m.jsxs("span",{className:`text-sm ${he.psa9Profit>0?"text-green-600":"text-red-600"}`,children:[he.psa9Profit>0?"+":"",he.psa9Profit.toFixed(2)]})]}),m.jsx("div",{className:"mt-1",children:m.jsxs("p",{className:"text-xs text-gray-500",children:["Profit after grading: $",he.psa9ProfitAfterCosts.toFixed(2)]})})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:"PSA 10 Value"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Average sale price"})]}),m.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[m.jsxs("span",{className:"text-lg font-bold",children:["$",he.psa10Price.toFixed(2)]}),m.jsxs("span",{className:`text-sm ${he.psa10Profit>0?"text-green-600":"text-red-600"}`,children:[he.psa10Profit>0?"+":"",he.psa10Profit.toFixed(2)]})]}),m.jsx("div",{className:"mt-1",children:m.jsxs("p",{className:"text-xs text-gray-500",children:["Profit after grading: $",he.psa10ProfitAfterCosts.toFixed(2)]})})]})]}),m.jsx("div",{className:"mt-4 bg-blue-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(uE,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:"Grading Recommendation"}),m.jsx("p",{className:"text-sm mt-1",children:he.recommendation}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Assumptions: PSA grading cost $30, 60% chance of PSA 9, 20% chance of PSA 10"})]})]})})]}):null})]}),m.jsxs(Cr,{children:[m.jsx(Fr,{children:m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(wu,{className:"h-5 w-5"}),"Recommendation"]})}),m.jsx(ui,{children:In?m.jsx("div",{className:"space-y-4",children:m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"mr-4",children:In.action==="Buy"?m.jsx("div",{className:"bg-green-100 text-green-800 h-10 w-10 rounded-full flex items-center justify-center",children:m.jsx(wu,{className:"h-5 w-5"})}):In.action==="Sell"?m.jsx("div",{className:"bg-red-100 text-red-800 h-10 w-10 rounded-full flex items-center justify-center",children:m.jsx(cG,{className:"h-5 w-5"})}):m.jsx("div",{className:"bg-blue-100 text-blue-800 h-10 w-10 rounded-full flex items-center justify-center",children:m.jsx(Jve,{className:"h-5 w-5"})})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:In.action}),m.jsx("p",{className:"text-sm mt-1",children:In.reason}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:In.details})]})]})})}):m.jsx("div",{className:"text-center p-6 text-gray-500",children:m.jsx("p",{children:"Recommendation will appear here after analysis"})})})]}),r&&m.jsxs("div",{className:"text-xs text-muted-foreground mt-2 mb-4 flex items-center gap-1",children:[m.jsx(uE,{className:"h-3 w-3"}),r.includes("firebase")?m.jsxs("span",{children:["Using cached data",s?` (updated ${s.toLocaleDateString()})`:""]}):r==="ebay_direct"?m.jsx("span",{children:"Fresh data from eBay"}):r==="ebay_broader"?m.jsx("span",{children:"Data from related eBay listings"}):r==="fallback"?m.jsx("span",{children:"Using sample data - results may not be current"}):m.jsxs("span",{children:["Data source: ",r]})]}),C&&re==="analyze"&&L&&m.jsxs(Cr,{className:"mt-6 mb-6",children:[m.jsxs(Fr,{children:[m.jsxs($r,{className:"flex items-center gap-2",children:[m.jsx(oE,{className:"h-5 w-5"}),"Add to Trade Analyzer"]}),m.jsx(es,{children:"Add this card to evaluate it in a trade"})]}),m.jsx(ui,{children:m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[m.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Ready to analyze this card in a trade?"}),m.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Add this card to either side of your trade analysis"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[m.jsx(xe,{onClick:()=>cf("A"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Add to Side A (You Give)"}),m.jsx(xe,{onClick:()=>cf("B"),className:"flex-1 bg-green-600 hover:bg-green-700",children:"Add to Side B (You Receive)"})]})]})})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[m.jsxs(xe,{className:"flex-1",onClick:Ia,children:[m.jsx(rxe,{className:"mr-2 h-4 w-4"}),"Add Card to Collection"]}),m.jsxs(xe,{variant:"outline",className:"flex-1",onClick:()=>{qr(),c(""),d(""),f(""),p(""),v(""),b("any")},children:[m.jsx(R0,{className:"mr-2 h-4 w-4"}),"New Search"]})]})]}),m.jsx(Xo,{open:wo,onOpenChange:Is,children:m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsx(ao,{children:m.jsx(oo,{children:"Complete card details"})}),Cn&&m.jsxs("div",{className:"space-y-4 py-2",children:[m.jsxs("div",{children:[m.jsx(zn,{children:"Player Name *"}),m.jsx(tn,{value:Cn.playerName||"",onChange:ie=>ea({...Cn,playerName:ie.target.value})})]}),m.jsxs("div",{children:[m.jsx(zn,{children:"Year *"}),m.jsx(tn,{value:Cn.year||"",onChange:ie=>ea({...Cn,year:ie.target.value})})]}),m.jsxs("div",{children:[m.jsx(zn,{children:"Card Set *"}),m.jsx(tn,{value:Cn.cardSet||"",onChange:ie=>ea({...Cn,cardSet:ie.target.value})})]})]}),m.jsxs(Go,{children:[m.jsx(xe,{variant:"outline",onClick:()=>Is(!1),children:"Cancel"}),m.jsx(xe,{onClick:ok,disabled:!(Cn!=null&&Cn.playerName)||!(Cn!=null&&Cn.year)||!(Cn!=null&&Cn.cardSet),children:"Save"})]})]})}),gc&&m.jsxs("div",{className:"text-xs text-muted-foreground mb-4 flex items-center",children:[m.jsx(uE,{className:"h-3 w-3 mr-1"}),m.jsxs("span",{children:["Source: ",gc]})]})]})}async function U4(t){var e;try{if(t.currentValue)return t;const n=await aRe(t);if(n.length===0)return t.currentValue=t.price||0,t;const i=n.reduce((s,a)=>s+a.totalPrice,0)/n.length;if(t.currentValue=i,!t.imageUrl&&((e=n[0])!=null&&e.imageUrl)){let s=n[0].imageUrl;s.includes("ebayimg.com")&&(s=`/api/image-proxy?url=${encodeURIComponent(s)}`),t.imageUrl=s}return t}catch(n){return console.error("Error updating card value:",n),t.currentValue=t.price||0,t}}async function aRe(t){try{const e=oRe(t),n=await fetch(`/api/ebay-search?q=${encodeURIComponent(e)}`);if(!n.ok)throw new Error("Failed to fetch eBay data");return((await n.json()).listings||[]).map(s=>(s.imageUrl&&s.imageUrl.includes("ebayimg.com")&&(s.imageUrl=`/api/image-proxy?url=${encodeURIComponent(s.imageUrl)}`),s))}catch(e){return console.error("Error fetching eBay data:",e),[]}}function oRe(t){return[t.playerName,t.year,t.cardSet,t.cardNumber&&`#${t.cardNumber}`,t.condition,"card"].filter(Boolean).join(" ")}async function lRe(t,e){const[n,r]=await Promise.all([Promise.all(t.map(U4)),Promise.all(e.map(U4))]),i=n.reduce((d,h)=>d+(h.currentValue||0),0),s=r.reduce((d,h)=>d+(h.currentValue||0),0),a=i-s,o=i>0?a/i*100:s>0?-100:0;let l="Fair Trade";Math.abs(o)<5?l="Fair Trade":a>0?l="Decline":l="Accept";const c=cRe(n,r),u={sideA:W4(n),sideB:W4(r)};return{valueSideA:i,valueSideB:s,difference:a,percentageDifference:o,recommendation:l,riskLevel:c,potentialGrowth:u}}function cRe(t,e){const n=t.length+e.length,r=t.reduce((i,s)=>i+(s.currentValue||0),0)+e.reduce((i,s)=>i+(s.currentValue||0),0);return n>5||r>1e3?"High":n>2||r>250?"Medium":"Low"}function W4(t){return t.length===0?0:t.reduce((n,r)=>{if(r.price&&r.currentValue&&r.currentValue>r.price){const i=(r.currentValue-r.price)/r.price;return n+i*.5*r.currentValue}return n+(r.currentValue||0)*.05},0)}function $d(t){return t.currentValue&&t.currentValue>0?t.currentValue:t.price&&t.price>0?t.price:t.pricePaid&&t.pricePaid>0?t.pricePaid:0}function uRe(t,e,n,r){const i=AD(),s={id:hRe(),name:t,date:new Date().toISOString(),cardsA:e,cardsB:n,result:r};return i.push(s),localStorage.setItem("savedTrades",JSON.stringify(i)),s}function AD(){const t=localStorage.getItem("savedTrades");if(!t)return[];try{return JSON.parse(t)}catch(e){return console.error("Error parsing saved trades",e),[]}}function dRe(t){const e=AD(),n=e.filter(r=>r.id!==t);return n.length===e.length?!1:(localStorage.setItem("savedTrades",JSON.stringify(n)),!0)}function hRe(){return`trade-${Date.now()}-${Math.floor(Math.random()*1e4)}`}function H4({side:t,label:e,selectedCards:n,onUpdate:r}){const[i,s]=I.useState(!1),{data:a=[],isLoading:o}=Qh(),l=e||(t==="A"?"You Give":"You Receive"),c=n.reduce((h,f)=>h+$d(f),0),u=h=>{n.some(f=>f.id===h.id)||r([...n,h])},d=h=>{r(n.filter(f=>f.id!==h))};return m.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:l}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-sm text-gray-500",children:"Total Value"}),m.jsxs("div",{className:"font-bold text-lg",children:["$",c.toFixed(2)]})]})]}),m.jsx("div",{className:"mb-4",children:n.length===0?m.jsx("div",{className:"text-center py-8 text-gray-400 border border-dashed rounded-lg",children:"No cards selected"}):m.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(h=>m.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[m.jsxs("div",{className:"flex items-center",children:[h.imageUrl&&m.jsx("img",{src:h.imageUrl,alt:h.playerName,className:"w-12 h-16 object-cover rounded mr-3",onError:f=>{f.target.src="https://via.placeholder.com/100?text=No+Image"}}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:h.playerName}),m.jsxs("div",{className:"text-sm text-gray-600",children:[h.year," ",h.cardSet," ",h.cardNumber&&`#${h.cardNumber}`]}),m.jsxs("div",{className:"text-sm text-gray-600",children:[h.condition||"Raw",h.source==="eBay"&&" • from eBay"]})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"mr-3 text-right",children:m.jsxs("div",{className:"font-medium",children:["$",$d(h).toFixed(2)]})}),m.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>d(h.id),className:"h-8 w-8",children:m.jsx(vb,{className:"h-4 w-4"})})]})]},h.id))})}),m.jsx("div",{className:"mt-4 space-y-2",children:i?m.jsxs("div",{className:"border rounded-lg p-3 mb-3 max-h-80 overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-medium",children:"Select from your collection"}),m.jsx(xe,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:"Done"})]}),o?m.jsx("div",{className:"text-center py-4",children:"Loading your cards..."}):a.length===0?m.jsx("div",{className:"text-center py-4 text-gray-500",children:"No cards in your collection"}):m.jsx("div",{className:"grid grid-cols-1 gap-2",children:a.map(h=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer hover:bg-gray-50
                      ${n.some(f=>f.id===h.id)?"opacity-50":""}`,onClick:()=>!n.some(f=>f.id===h.id)&&u(h),children:[m.jsxs("div",{className:"flex items-center",children:[h.imageUrl&&m.jsx("img",{src:h.imageUrl,alt:h.playerName,className:"w-10 h-14 object-cover rounded mr-3"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:h.playerName}),m.jsxs("div",{className:"text-sm text-gray-600",children:[h.year," ",h.cardSet," ",h.cardNumber&&`#${h.cardNumber}`]})]})]}),m.jsxs("div",{children:["$",$d(h).toFixed(2)]})]},h.id))})]}):m.jsxs(m.Fragment,{children:[m.jsx(xe,{variant:"outline",onClick:()=>s(!0),className:"w-full",children:"Add Cards from Collection"}),m.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[m.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"Need to find a card that's not in your collection?"}),m.jsx("p",{className:"text-xs text-blue-700 mb-2",children:"Use the Market Analyzer to evaluate cards and add them directly to this trade."}),m.jsx(xs,{to:"/market-analyzer",children:m.jsxs(xe,{variant:"outline",size:"sm",className:"w-full bg-white",children:[m.jsx("span",{children:"Go to Market Analyzer"}),m.jsx(s1,{className:"h-4 w-4 ml-2"})]})})]})]})})]})}var fRe=Array.isArray,Ps=fRe,pRe=typeof t0=="object"&&t0&&t0.Object===Object&&t0,RZ=pRe,gRe=RZ,mRe=typeof self=="object"&&self&&self.Object===Object&&self,yRe=gRe||mRe||Function("return this")(),sl=yRe,vRe=sl,xRe=vRe.Symbol,Rb=xRe,Y4=Rb,MZ=Object.prototype,bRe=MZ.hasOwnProperty,wRe=MZ.toString,Qm=Y4?Y4.toStringTag:void 0;function _Re(t){var e=bRe.call(t,Qm),n=t[Qm];try{t[Qm]=void 0;var r=!0}catch{}var i=wRe.call(t);return r&&(e?t[Qm]=n:delete t[Qm]),i}var SRe=_Re,ARe=Object.prototype,CRe=ARe.toString;function kRe(t){return CRe.call(t)}var ERe=kRe,X4=Rb,TRe=SRe,PRe=ERe,IRe="[object Null]",ORe="[object Undefined]",G4=X4?X4.toStringTag:void 0;function NRe(t){return t==null?t===void 0?ORe:IRe:G4&&G4 in Object(t)?TRe(t):PRe(t)}var hc=NRe;function RRe(t){return t!=null&&typeof t=="object"}var fc=RRe,MRe=hc,DRe=fc,jRe="[object Symbol]";function LRe(t){return typeof t=="symbol"||DRe(t)&&MRe(t)==jRe}var am=LRe,FRe=Ps,$Re=am,BRe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zRe=/^\w*$/;function VRe(t,e){if(FRe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$Re(t)?!0:zRe.test(t)||!BRe.test(t)||e!=null&&t in Object(e)}var CD=VRe;function URe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Qu=URe;const om=vn(Qu);var WRe=hc,HRe=Qu,YRe="[object AsyncFunction]",XRe="[object Function]",GRe="[object GeneratorFunction]",qRe="[object Proxy]";function KRe(t){if(!HRe(t))return!1;var e=WRe(t);return e==XRe||e==GRe||e==YRe||e==qRe}var kD=KRe;const kt=vn(kD);var QRe=sl,ZRe=QRe["__core-js_shared__"],JRe=ZRe,oT=JRe,q4=function(){var t=/[^.]+$/.exec(oT&&oT.keys&&oT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function e2e(t){return!!q4&&q4 in t}var t2e=e2e,n2e=Function.prototype,r2e=n2e.toString;function i2e(t){if(t!=null){try{return r2e.call(t)}catch{}try{return t+""}catch{}}return""}var DZ=i2e,s2e=kD,a2e=t2e,o2e=Qu,l2e=DZ,c2e=/[\\^$.*+?()[\]{}|]/g,u2e=/^\[object .+?Constructor\]$/,d2e=Function.prototype,h2e=Object.prototype,f2e=d2e.toString,p2e=h2e.hasOwnProperty,g2e=RegExp("^"+f2e.call(p2e).replace(c2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m2e(t){if(!o2e(t)||a2e(t))return!1;var e=s2e(t)?g2e:u2e;return e.test(l2e(t))}var y2e=m2e;function v2e(t,e){return t==null?void 0:t[e]}var x2e=v2e,b2e=y2e,w2e=x2e;function _2e(t,e){var n=w2e(t,e);return b2e(n)?n:void 0}var nf=_2e,S2e=nf,A2e=S2e(Object,"create"),vC=A2e,K4=vC;function C2e(){this.__data__=K4?K4(null):{},this.size=0}var k2e=C2e;function E2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var T2e=E2e,P2e=vC,I2e="__lodash_hash_undefined__",O2e=Object.prototype,N2e=O2e.hasOwnProperty;function R2e(t){var e=this.__data__;if(P2e){var n=e[t];return n===I2e?void 0:n}return N2e.call(e,t)?e[t]:void 0}var M2e=R2e,D2e=vC,j2e=Object.prototype,L2e=j2e.hasOwnProperty;function F2e(t){var e=this.__data__;return D2e?e[t]!==void 0:L2e.call(e,t)}var $2e=F2e,B2e=vC,z2e="__lodash_hash_undefined__";function V2e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=B2e&&e===void 0?z2e:e,this}var U2e=V2e,W2e=k2e,H2e=T2e,Y2e=M2e,X2e=$2e,G2e=U2e;function lm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lm.prototype.clear=W2e;lm.prototype.delete=H2e;lm.prototype.get=Y2e;lm.prototype.has=X2e;lm.prototype.set=G2e;var q2e=lm;function K2e(){this.__data__=[],this.size=0}var Q2e=K2e;function Z2e(t,e){return t===e||t!==t&&e!==e}var ED=Z2e,J2e=ED;function eMe(t,e){for(var n=t.length;n--;)if(J2e(t[n][0],e))return n;return-1}var xC=eMe,tMe=xC,nMe=Array.prototype,rMe=nMe.splice;function iMe(t){var e=this.__data__,n=tMe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rMe.call(e,n,1),--this.size,!0}var sMe=iMe,aMe=xC;function oMe(t){var e=this.__data__,n=aMe(e,t);return n<0?void 0:e[n][1]}var lMe=oMe,cMe=xC;function uMe(t){return cMe(this.__data__,t)>-1}var dMe=uMe,hMe=xC;function fMe(t,e){var n=this.__data__,r=hMe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var pMe=fMe,gMe=Q2e,mMe=sMe,yMe=lMe,vMe=dMe,xMe=pMe;function cm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cm.prototype.clear=gMe;cm.prototype.delete=mMe;cm.prototype.get=yMe;cm.prototype.has=vMe;cm.prototype.set=xMe;var bC=cm,bMe=nf,wMe=sl,_Me=bMe(wMe,"Map"),TD=_Me,Q4=q2e,SMe=bC,AMe=TD;function CMe(){this.size=0,this.__data__={hash:new Q4,map:new(AMe||SMe),string:new Q4}}var kMe=CMe;function EMe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var TMe=EMe,PMe=TMe;function IMe(t,e){var n=t.__data__;return PMe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var wC=IMe,OMe=wC;function NMe(t){var e=OMe(this,t).delete(t);return this.size-=e?1:0,e}var RMe=NMe,MMe=wC;function DMe(t){return MMe(this,t).get(t)}var jMe=DMe,LMe=wC;function FMe(t){return LMe(this,t).has(t)}var $Me=FMe,BMe=wC;function zMe(t,e){var n=BMe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var VMe=zMe,UMe=kMe,WMe=RMe,HMe=jMe,YMe=$Me,XMe=VMe;function um(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}um.prototype.clear=UMe;um.prototype.delete=WMe;um.prototype.get=HMe;um.prototype.has=YMe;um.prototype.set=XMe;var PD=um,jZ=PD,GMe="Expected a function";function ID(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(GMe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(ID.Cache||jZ),n}ID.Cache=jZ;var LZ=ID;const qMe=vn(LZ);var KMe=LZ,QMe=500;function ZMe(t){var e=KMe(t,function(r){return n.size===QMe&&n.clear(),r}),n=e.cache;return e}var JMe=ZMe,eDe=JMe,tDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nDe=/\\(\\)?/g,rDe=eDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tDe,function(n,r,i,s){e.push(i?s.replace(nDe,"$1"):r||n)}),e}),iDe=rDe;function sDe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var OD=sDe,Z4=Rb,aDe=OD,oDe=Ps,lDe=am,J4=Z4?Z4.prototype:void 0,e5=J4?J4.toString:void 0;function FZ(t){if(typeof t=="string")return t;if(oDe(t))return aDe(t,FZ)+"";if(lDe(t))return e5?e5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cDe=FZ,uDe=cDe;function dDe(t){return t==null?"":uDe(t)}var $Z=dDe,hDe=Ps,fDe=CD,pDe=iDe,gDe=$Z;function mDe(t,e){return hDe(t)?t:fDe(t,e)?[t]:pDe(gDe(t))}var BZ=mDe,yDe=am;function vDe(t){if(typeof t=="string"||yDe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _C=vDe,xDe=BZ,bDe=_C;function wDe(t,e){e=xDe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bDe(e[n++])];return n&&n==r?t:void 0}var ND=wDe,_De=ND;function SDe(t,e,n){var r=t==null?void 0:_De(t,e);return r===void 0?n:r}var zZ=SDe;const ya=vn(zZ);function ADe(t){return t==null}var CDe=ADe;const Mt=vn(CDe);var kDe=hc,EDe=Ps,TDe=fc,PDe="[object String]";function IDe(t){return typeof t=="string"||!EDe(t)&&TDe(t)&&kDe(t)==PDe}var ODe=IDe;const Dh=vn(ODe);var VZ={exports:{}},xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD=Symbol.for("react.element"),MD=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),AC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),EC=Symbol.for("react.context"),NDe=Symbol.for("react.server_context"),TC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),IC=Symbol.for("react.suspense_list"),OC=Symbol.for("react.memo"),NC=Symbol.for("react.lazy"),RDe=Symbol.for("react.offscreen"),UZ;UZ=Symbol.for("react.module.reference");function Ea(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RD:switch(t=t.type,t){case SC:case CC:case AC:case PC:case IC:return t;default:switch(t=t&&t.$$typeof,t){case NDe:case EC:case TC:case NC:case OC:case kC:return t;default:return e}}case MD:return e}}}xn.ContextConsumer=EC;xn.ContextProvider=kC;xn.Element=RD;xn.ForwardRef=TC;xn.Fragment=SC;xn.Lazy=NC;xn.Memo=OC;xn.Portal=MD;xn.Profiler=CC;xn.StrictMode=AC;xn.Suspense=PC;xn.SuspenseList=IC;xn.isAsyncMode=function(){return!1};xn.isConcurrentMode=function(){return!1};xn.isContextConsumer=function(t){return Ea(t)===EC};xn.isContextProvider=function(t){return Ea(t)===kC};xn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RD};xn.isForwardRef=function(t){return Ea(t)===TC};xn.isFragment=function(t){return Ea(t)===SC};xn.isLazy=function(t){return Ea(t)===NC};xn.isMemo=function(t){return Ea(t)===OC};xn.isPortal=function(t){return Ea(t)===MD};xn.isProfiler=function(t){return Ea(t)===CC};xn.isStrictMode=function(t){return Ea(t)===AC};xn.isSuspense=function(t){return Ea(t)===PC};xn.isSuspenseList=function(t){return Ea(t)===IC};xn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===SC||t===CC||t===AC||t===PC||t===IC||t===RDe||typeof t=="object"&&t!==null&&(t.$$typeof===NC||t.$$typeof===OC||t.$$typeof===kC||t.$$typeof===EC||t.$$typeof===TC||t.$$typeof===UZ||t.getModuleId!==void 0)};xn.typeOf=Ea;VZ.exports=xn;var MDe=VZ.exports,DDe=hc,jDe=fc,LDe="[object Number]";function FDe(t){return typeof t=="number"||jDe(t)&&DDe(t)==LDe}var WZ=FDe;const $De=vn(WZ);var BDe=WZ;function zDe(t){return BDe(t)&&t!=+t}var VDe=zDe;const Mb=vn(VDe);var eo=function(e){return e===0?0:e>0?1:-1},Bd=function(e){return Dh(e)&&e.indexOf("%")===e.length-1},Te=function(e){return $De(e)&&!Mb(e)},Hr=function(e){return Te(e)||Dh(e)},UDe=0,Db=function(e){var n=++UDe;return"".concat(e||"").concat(n)},jh=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!Dh(e))return r;var s;if(Bd(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Mb(s)&&(s=r),i&&s>n&&(s=n),s},Bc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},WDe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ya=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function U1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ya(r,e))===n})}var HDe=function(e,n){return Te(e)&&Te(n)?e-n:Dh(e)&&Dh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function bp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bO(t){"@babel/helpers - typeof";return bO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bO(t)}var YDe=["viewBox","children"],XDe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t5=["points","pathLength"],lT={svg:YDe,polygon:t5,polyline:t5},DD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],W1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),!om(r))return null;var i={};return Object.keys(r).forEach(function(s){DD.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},GDe=function(e,n,r){return function(i){return e(n,r,i),null}},H1=function(e,n,r){if(!om(e)||bO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];DD.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=GDe(a,n,r))}),i},qDe=["children"],KDe=["children"];function n5(t,e){if(t==null)return{};var n=QDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wO(t){"@babel/helpers - typeof";return wO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wO(t)}var r5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},i5=null,cT=null,jD=function t(e){if(e===i5&&Array.isArray(cT))return cT;var n=[];return I.Children.forEach(e,function(r){Mt(r)||(MDe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cT=n,i5=e,n};function va(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Fl(i)}):r=[Fl(e)],jD(t).forEach(function(i){var s=ya(i,"type.displayName")||ya(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Fs(t,e){var n=va(t,e);return n&&n[0]}var s5=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},ZDe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],JDe=function(e){return e&&e.type&&Dh(e.type)&&ZDe.indexOf(e.type)>=0},eje=function(e){return e&&wO(e)==="object"&&"clipDot"in e},tje=function(e,n,r,i){var s,a=(s=lT==null?void 0:lT[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!kt(e)&&(i&&a.includes(n)||XDe.includes(n))||r&&DD.includes(n)},Ft=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(I.isValidElement(e)&&(i=e.props),!om(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;tje((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},_O=function t(e,n){if(e===n)return!0;var r=I.Children.count(e);if(r!==I.Children.count(n))return!1;if(r===0)return!0;if(r===1)return a5(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!a5(s,a))return!1}return!0},a5=function(e,n){if(Mt(e)&&Mt(n))return!0;if(!Mt(e)&&!Mt(n)){var r=e.props||{},i=r.children,s=n5(r,qDe),a=n.props||{},o=a.children,l=n5(a,KDe);return i&&o?bp(s,l)&&_O(i,o):!i&&!o?bp(s,l):!1}return!1},o5=function(e,n){var r=[],i={};return jD(e).forEach(function(s,a){if(JDe(s))r.push(s);else if(s){var o=Fl(s.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(s,o,a);r.push(d),i[o]=!0}}}),r},nje=function(e){var n=e&&e.type;return n&&r5[n]?r5[n]:null},rje=function(e,n){return jD(n).indexOf(e)},ije=["children","width","height","viewBox","className","style","title","desc"];function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SO.apply(this,arguments)}function sje(t,e){if(t==null)return{};var n=aje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=sje(t,ije),u=i||{width:n,height:r,x:0,y:0},d=zt("recharts-surface",s);return U.createElement("svg",SO({},Ft(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),U.createElement("title",null,o),U.createElement("desc",null,l),e)}var oje=["children","className"];function CO(){return CO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CO.apply(this,arguments)}function lje(t,e){if(t==null)return{};var n=cje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xr=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=lje(t,oje),s=zt("recharts-layer",r);return U.createElement("g",CO({className:s},Ft(i,!0),{ref:e}),n)}),$l=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function uje(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var dje=uje,hje=dje;function fje(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hje(t,e,n)}var pje=fje,gje="\\ud800-\\udfff",mje="\\u0300-\\u036f",yje="\\ufe20-\\ufe2f",vje="\\u20d0-\\u20ff",xje=mje+yje+vje,bje="\\ufe0e\\ufe0f",wje="\\u200d",_je=RegExp("["+wje+gje+xje+bje+"]");function Sje(t){return _je.test(t)}var HZ=Sje;function Aje(t){return t.split("")}var Cje=Aje,YZ="\\ud800-\\udfff",kje="\\u0300-\\u036f",Eje="\\ufe20-\\ufe2f",Tje="\\u20d0-\\u20ff",Pje=kje+Eje+Tje,Ije="\\ufe0e\\ufe0f",Oje="["+YZ+"]",kO="["+Pje+"]",EO="\\ud83c[\\udffb-\\udfff]",Nje="(?:"+kO+"|"+EO+")",XZ="[^"+YZ+"]",GZ="(?:\\ud83c[\\udde6-\\uddff]){2}",qZ="[\\ud800-\\udbff][\\udc00-\\udfff]",Rje="\\u200d",KZ=Nje+"?",QZ="["+Ije+"]?",Mje="(?:"+Rje+"(?:"+[XZ,GZ,qZ].join("|")+")"+QZ+KZ+")*",Dje=QZ+KZ+Mje,jje="(?:"+[XZ+kO+"?",kO,GZ,qZ,Oje].join("|")+")",Lje=RegExp(EO+"(?="+EO+")|"+jje+Dje,"g");function Fje(t){return t.match(Lje)||[]}var $je=Fje,Bje=Cje,zje=HZ,Vje=$je;function Uje(t){return zje(t)?Vje(t):Bje(t)}var Wje=Uje,Hje=pje,Yje=HZ,Xje=Wje,Gje=$Z;function qje(t){return function(e){e=Gje(e);var n=Yje(e)?Xje(e):void 0,r=n?n[0]:e.charAt(0),i=n?Hje(n,1).join(""):e.slice(1);return r[t]()+i}}var Kje=qje,Qje=Kje,Zje=Qje("toUpperCase"),Jje=Zje;const RC=vn(Jje);function Nn(t){return function(){return t}}const ZZ=Math.cos,Y1=Math.sin,bo=Math.sqrt,X1=Math.PI,MC=2*X1,TO=Math.PI,PO=2*TO,_d=1e-6,eLe=PO-_d;function JZ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tLe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JZ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nLe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JZ:tLe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_d)if(!(Math.abs(d*l-c*u)>_d)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-a,g=i-o,p=l*l+c*c,y=f*f+g*g,v=Math.sqrt(p),x=Math.sqrt(h),b=s*Math.tan((TO-Math.acos((p+h-y)/(2*v*x)))/2),_=b/x,w=b/v;Math.abs(_-1)>_d&&this._append`L${e+_*u},${n+_*d}`,this._append`A${s},${s},0,0,${+(d*f>u*g)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_d||Math.abs(this._y1-u)>_d)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%PO+PO),h>eLe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>_d&&this._append`A${r},${r},0,${+(h>=TO)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nLe(e)}function FD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eJ(t){this._context=t}eJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function DC(t){return new eJ(t)}function tJ(t){return t[0]}function nJ(t){return t[1]}function rJ(t,e){var n=Nn(!0),r=null,i=DC,s=null,a=LD(o);t=typeof t=="function"?t:t===void 0?tJ:Nn(t),e=typeof e=="function"?e:e===void 0?nJ:Nn(e);function o(l){var c,u=(l=FD(l)).length,d,h=!1,f;for(r==null&&(s=i(f=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function rw(t,e,n){var r=null,i=Nn(!0),s=null,a=DC,o=null,l=LD(c);t=typeof t=="function"?t:t===void 0?tJ:Nn(+t),e=typeof e=="function"?e:Nn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nJ:Nn(+n);function c(d){var h,f,g,p=(d=FD(d)).length,y,v=!1,x,b=new Array(p),_=new Array(p);for(s==null&&(o=a(x=l())),h=0;h<=p;++h){if(!(h<p&&i(y=d[h],h,d))===v)if(v=!v)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=f;--g)o.point(b[g],_[g]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+t(y,h,d),_[h]=+e(y,h,d),o.point(r?+r(y,h,d):b[h],n?+n(y,h,d):_[h]))}if(x)return o=null,x+""||null}function u(){return rJ().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Nn(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Nn(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Nn(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Nn(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Nn(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Nn(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Nn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class iJ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rLe(t){return new iJ(t,!0)}function iLe(t){return new iJ(t,!1)}const $D={draw(t,e){const n=bo(e/X1);t.moveTo(n,0),t.arc(0,0,n,0,MC)}},sLe={draw(t,e){const n=bo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sJ=bo(1/3),aLe=sJ*2,oLe={draw(t,e){const n=bo(e/aLe),r=n*sJ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lLe={draw(t,e){const n=bo(e),r=-n/2;t.rect(r,r,n,n)}},cLe=.8908130915292852,aJ=Y1(X1/10)/Y1(7*X1/10),uLe=Y1(MC/10)*aJ,dLe=-ZZ(MC/10)*aJ,hLe={draw(t,e){const n=bo(e*cLe),r=uLe*n,i=dLe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=MC*s/5,o=ZZ(a),l=Y1(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},uT=bo(3),fLe={draw(t,e){const n=-bo(e/(uT*3));t.moveTo(0,n*2),t.lineTo(-uT*n,-n),t.lineTo(uT*n,-n),t.closePath()}},ia=-.5,sa=bo(3)/2,IO=1/bo(12),pLe=(IO/2+1)*3,gLe={draw(t,e){const n=bo(e/pLe),r=n/2,i=n*IO,s=r,a=n*IO+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(ia*r-sa*i,sa*r+ia*i),t.lineTo(ia*s-sa*a,sa*s+ia*a),t.lineTo(ia*o-sa*l,sa*o+ia*l),t.lineTo(ia*r+sa*i,ia*i-sa*r),t.lineTo(ia*s+sa*a,ia*a-sa*s),t.lineTo(ia*o+sa*l,ia*l-sa*o),t.closePath()}};function mLe(t,e){let n=null,r=LD(i);t=typeof t=="function"?t:Nn(t||$D),e=typeof e=="function"?e:Nn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Nn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function G1(){}function q1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oJ(t){this._context=t}oJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yLe(t){return new oJ(t)}function lJ(t){this._context=t}lJ.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:q1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vLe(t){return new lJ(t)}function cJ(t){this._context=t}cJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:q1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xLe(t){return new cJ(t)}function uJ(t){this._context=t}uJ.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bLe(t){return new uJ(t)}function l5(t){return t<0?-1:1}function c5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(l5(s)+l5(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function u5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function K1(t){this._context=t}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dT(this,this._t0,u5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dT(this,u5(this,n=c5(this,t,e)),n);break;default:dT(this,this._t0,n=c5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function dJ(t){this._context=new hJ(t)}(dJ.prototype=Object.create(K1.prototype)).point=function(t,e){K1.prototype.point.call(this,e,t)};function hJ(t){this._context=t}hJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function wLe(t){return new K1(t)}function _Le(t){return new dJ(t)}function fJ(t){this._context=t}fJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=d5(t),i=d5(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function d5(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function SLe(t){return new fJ(t)}function jC(t,e){this._context=t,this._t=e}jC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ALe(t){return new jC(t,.5)}function CLe(t){return new jC(t,0)}function kLe(t){return new jC(t,1)}function pg(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ELe(t,e){return t[e]}function TLe(t){const e=[];return e.key=t,e}function PLe(){var t=Nn([]),e=OO,n=pg,r=ELe;function i(s){var a=Array.from(t.apply(this,arguments),TLe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,u=FD(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Nn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Nn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?OO:typeof s=="function"?s:Nn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??pg,i):n},i}function ILe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}pg(t,e)}}function OLe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}pg(t,e)}}function NLe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,f=(d-h)/2,g=0;g<o;++g){var p=t[e[g]],y=p[r][1]||0,v=p[r-1][1]||0;f+=y-v}l+=d,c+=f*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,pg(t,e)}}function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}var RLe=["type","size","sizeType"];function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NO.apply(this,arguments)}function h5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(n),!0).forEach(function(r){MLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MLe(t,e,n){return e=DLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DLe(t){var e=jLe(t,"string");return cx(e)=="symbol"?e:e+""}function jLe(t,e){if(cx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LLe(t,e){if(t==null)return{};var n=FLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pJ={symbolCircle:$D,symbolCross:sLe,symbolDiamond:oLe,symbolSquare:lLe,symbolStar:hLe,symbolTriangle:fLe,symbolWye:gLe},$Le=Math.PI/180,BLe=function(e){var n="symbol".concat(RC(e));return pJ[n]||$D},zLe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$Le;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VLe=function(e,n){pJ["symbol".concat(RC(e))]=n},BD=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=LLe(e,RLe),c=f5(f5({},l),{},{type:r,size:s,sizeType:o}),u=function(){var y=BLe(r),v=mLe().type(y).size(zLe(s,o,r));return v()},d=c.className,h=c.cx,f=c.cy,g=Ft(c,!0);return h===+h&&f===+f&&s===+s?U.createElement("path",NO({},g,{className:zt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};BD.registerSymbol=VLe;function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function RO(){return RO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RO.apply(this,arguments)}function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ULe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mJ(r.key),r)}}function YLe(t,e,n){return e&&HLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XLe(t,e,n){return e=Q1(e),GLe(t,gJ()?Reflect.construct(e,n||[],Q1(t).constructor):e.apply(t,n))}function GLe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qLe(t)}function qLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q1(t)}function KLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MO(t,e)}function MO(t,e){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MO(t,e)}function ux(t,e,n){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=QLe(t,"string");return gg(e)=="symbol"?e:e+""}function QLe(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ma=32,zD=function(t){function e(){return WLe(this,e),XLe(this,e,arguments)}return KLe(e,t),YLe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Ma/2,a=Ma/6,o=Ma/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Ma,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Ma,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ma/8,"h").concat(Ma,"v").concat(Ma*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var c=ULe({},r);return delete c.legendIcon,U.cloneElement(r.legendIcon,c)}return U.createElement(BD,{fill:l,cx:s,cy:s,size:Ma,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ma,height:Ma},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var p=f.formatter||l,y=zt(ux(ux({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var v=kt(f.value)?null:f.value;$l(!kt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?c:f.color;return U.createElement("li",RO({className:y,style:d,key:"legend-item-".concat(g)},H1(r.props,f,g)),U.createElement(AO,{width:a,height:a,viewBox:u,style:h},r.renderIcon(f)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(v,f,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(I.PureComponent);ux(zD,"displayName","Legend");ux(zD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZLe=bC;function JLe(){this.__data__=new ZLe,this.size=0}var eFe=JLe;function tFe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nFe=tFe;function rFe(t){return this.__data__.get(t)}var iFe=rFe;function sFe(t){return this.__data__.has(t)}var aFe=sFe,oFe=bC,lFe=TD,cFe=PD,uFe=200;function dFe(t,e){var n=this.__data__;if(n instanceof oFe){var r=n.__data__;if(!lFe||r.length<uFe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cFe(r)}return n.set(t,e),this.size=n.size,this}var hFe=dFe,fFe=bC,pFe=eFe,gFe=nFe,mFe=iFe,yFe=aFe,vFe=hFe;function dm(t){var e=this.__data__=new fFe(t);this.size=e.size}dm.prototype.clear=pFe;dm.prototype.delete=gFe;dm.prototype.get=mFe;dm.prototype.has=yFe;dm.prototype.set=vFe;var yJ=dm,xFe="__lodash_hash_undefined__";function bFe(t){return this.__data__.set(t,xFe),this}var wFe=bFe;function _Fe(t){return this.__data__.has(t)}var SFe=_Fe,AFe=PD,CFe=wFe,kFe=SFe;function Z1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new AFe;++e<n;)this.add(t[e])}Z1.prototype.add=Z1.prototype.push=CFe;Z1.prototype.has=kFe;var vJ=Z1;function EFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var xJ=EFe;function TFe(t,e){return t.has(e)}var bJ=TFe,PFe=vJ,IFe=xJ,OFe=bJ,NFe=1,RFe=2;function MFe(t,e,n,r,i,s){var a=n&NFe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&RFe?new PFe:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var g=t[d],p=e[d];if(r)var y=a?r(p,g,d,e,t,s):r(g,p,d,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!IFe(e,function(v,x){if(!OFe(f,x)&&(g===v||i(g,v,n,r,s)))return f.push(x)})){h=!1;break}}else if(!(g===p||i(g,p,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var wJ=MFe,DFe=sl,jFe=DFe.Uint8Array,LFe=jFe;function FFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $Fe=FFe;function BFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var VD=BFe,g5=Rb,m5=LFe,zFe=ED,VFe=wJ,UFe=$Fe,WFe=VD,HFe=1,YFe=2,XFe="[object Boolean]",GFe="[object Date]",qFe="[object Error]",KFe="[object Map]",QFe="[object Number]",ZFe="[object RegExp]",JFe="[object Set]",e$e="[object String]",t$e="[object Symbol]",n$e="[object ArrayBuffer]",r$e="[object DataView]",y5=g5?g5.prototype:void 0,hT=y5?y5.valueOf:void 0;function i$e(t,e,n,r,i,s,a){switch(n){case r$e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case n$e:return!(t.byteLength!=e.byteLength||!s(new m5(t),new m5(e)));case XFe:case GFe:case QFe:return zFe(+t,+e);case qFe:return t.name==e.name&&t.message==e.message;case ZFe:case e$e:return t==e+"";case KFe:var o=UFe;case JFe:var l=r&HFe;if(o||(o=WFe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=YFe,a.set(t,e);var u=VFe(o(t),o(e),r,i,s,a);return a.delete(t),u;case t$e:if(hT)return hT.call(t)==hT.call(e)}return!1}var s$e=i$e;function a$e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _J=a$e,o$e=_J,l$e=Ps;function c$e(t,e,n){var r=e(t);return l$e(t)?r:o$e(r,n(t))}var u$e=c$e;function d$e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var h$e=d$e;function f$e(){return[]}var p$e=f$e,g$e=h$e,m$e=p$e,y$e=Object.prototype,v$e=y$e.propertyIsEnumerable,v5=Object.getOwnPropertySymbols,x$e=v5?function(t){return t==null?[]:(t=Object(t),g$e(v5(t),function(e){return v$e.call(t,e)}))}:m$e,b$e=x$e;function w$e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _$e=w$e,S$e=hc,A$e=fc,C$e="[object Arguments]";function k$e(t){return A$e(t)&&S$e(t)==C$e}var E$e=k$e,x5=E$e,T$e=fc,SJ=Object.prototype,P$e=SJ.hasOwnProperty,I$e=SJ.propertyIsEnumerable,O$e=x5(function(){return arguments}())?x5:function(t){return T$e(t)&&P$e.call(t,"callee")&&!I$e.call(t,"callee")},UD=O$e,J1={exports:{}};function N$e(){return!1}var R$e=N$e;J1.exports;(function(t,e){var n=sl,r=R$e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(J1,J1.exports);var AJ=J1.exports,M$e=9007199254740991,D$e=/^(?:0|[1-9]\d*)$/;function j$e(t,e){var n=typeof t;return e=e??M$e,!!e&&(n=="number"||n!="symbol"&&D$e.test(t))&&t>-1&&t%1==0&&t<e}var WD=j$e,L$e=9007199254740991;function F$e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=L$e}var HD=F$e,$$e=hc,B$e=HD,z$e=fc,V$e="[object Arguments]",U$e="[object Array]",W$e="[object Boolean]",H$e="[object Date]",Y$e="[object Error]",X$e="[object Function]",G$e="[object Map]",q$e="[object Number]",K$e="[object Object]",Q$e="[object RegExp]",Z$e="[object Set]",J$e="[object String]",eBe="[object WeakMap]",tBe="[object ArrayBuffer]",nBe="[object DataView]",rBe="[object Float32Array]",iBe="[object Float64Array]",sBe="[object Int8Array]",aBe="[object Int16Array]",oBe="[object Int32Array]",lBe="[object Uint8Array]",cBe="[object Uint8ClampedArray]",uBe="[object Uint16Array]",dBe="[object Uint32Array]",$n={};$n[rBe]=$n[iBe]=$n[sBe]=$n[aBe]=$n[oBe]=$n[lBe]=$n[cBe]=$n[uBe]=$n[dBe]=!0;$n[V$e]=$n[U$e]=$n[tBe]=$n[W$e]=$n[nBe]=$n[H$e]=$n[Y$e]=$n[X$e]=$n[G$e]=$n[q$e]=$n[K$e]=$n[Q$e]=$n[Z$e]=$n[J$e]=$n[eBe]=!1;function hBe(t){return z$e(t)&&B$e(t.length)&&!!$n[$$e(t)]}var fBe=hBe;function pBe(t){return function(e){return t(e)}}var CJ=pBe,eS={exports:{}};eS.exports;(function(t,e){var n=RZ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(eS,eS.exports);var gBe=eS.exports,mBe=fBe,yBe=CJ,b5=gBe,w5=b5&&b5.isTypedArray,vBe=w5?yBe(w5):mBe,kJ=vBe,xBe=_$e,bBe=UD,wBe=Ps,_Be=AJ,SBe=WD,ABe=kJ,CBe=Object.prototype,kBe=CBe.hasOwnProperty;function EBe(t,e){var n=wBe(t),r=!n&&bBe(t),i=!n&&!r&&_Be(t),s=!n&&!r&&!i&&ABe(t),a=n||r||i||s,o=a?xBe(t.length,String):[],l=o.length;for(var c in t)(e||kBe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||SBe(c,l)))&&o.push(c);return o}var TBe=EBe,PBe=Object.prototype;function IBe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||PBe;return t===n}var OBe=IBe;function NBe(t,e){return function(n){return t(e(n))}}var EJ=NBe,RBe=EJ,MBe=RBe(Object.keys,Object),DBe=MBe,jBe=OBe,LBe=DBe,FBe=Object.prototype,$Be=FBe.hasOwnProperty;function BBe(t){if(!jBe(t))return LBe(t);var e=[];for(var n in Object(t))$Be.call(t,n)&&n!="constructor"&&e.push(n);return e}var zBe=BBe,VBe=kD,UBe=HD;function WBe(t){return t!=null&&UBe(t.length)&&!VBe(t)}var jb=WBe,HBe=TBe,YBe=zBe,XBe=jb;function GBe(t){return XBe(t)?HBe(t):YBe(t)}var LC=GBe,qBe=u$e,KBe=b$e,QBe=LC;function ZBe(t){return qBe(t,QBe,KBe)}var JBe=ZBe,_5=JBe,eze=1,tze=Object.prototype,nze=tze.hasOwnProperty;function rze(t,e,n,r,i,s){var a=n&eze,o=_5(t),l=o.length,c=_5(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:nze.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var p=!0;s.set(t,e),s.set(e,t);for(var y=a;++d<l;){h=o[d];var v=t[h],x=e[h];if(r)var b=a?r(x,v,h,e,t,s):r(v,x,h,t,e,s);if(!(b===void 0?v===x||i(v,x,n,r,s):b)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(p=!1)}return s.delete(t),s.delete(e),p}var ize=rze,sze=nf,aze=sl,oze=sze(aze,"DataView"),lze=oze,cze=nf,uze=sl,dze=cze(uze,"Promise"),hze=dze,fze=nf,pze=sl,gze=fze(pze,"Set"),TJ=gze,mze=nf,yze=sl,vze=mze(yze,"WeakMap"),xze=vze,DO=lze,jO=TD,LO=hze,FO=TJ,$O=xze,PJ=hc,hm=DZ,S5="[object Map]",bze="[object Object]",A5="[object Promise]",C5="[object Set]",k5="[object WeakMap]",E5="[object DataView]",wze=hm(DO),_ze=hm(jO),Sze=hm(LO),Aze=hm(FO),Cze=hm($O),Sd=PJ;(DO&&Sd(new DO(new ArrayBuffer(1)))!=E5||jO&&Sd(new jO)!=S5||LO&&Sd(LO.resolve())!=A5||FO&&Sd(new FO)!=C5||$O&&Sd(new $O)!=k5)&&(Sd=function(t){var e=PJ(t),n=e==bze?t.constructor:void 0,r=n?hm(n):"";if(r)switch(r){case wze:return E5;case _ze:return S5;case Sze:return A5;case Aze:return C5;case Cze:return k5}return e});var kze=Sd,fT=yJ,Eze=wJ,Tze=s$e,Pze=ize,T5=kze,P5=Ps,I5=AJ,Ize=kJ,Oze=1,O5="[object Arguments]",N5="[object Array]",iw="[object Object]",Nze=Object.prototype,R5=Nze.hasOwnProperty;function Rze(t,e,n,r,i,s){var a=P5(t),o=P5(e),l=a?N5:T5(t),c=o?N5:T5(e);l=l==O5?iw:l,c=c==O5?iw:c;var u=l==iw,d=c==iw,h=l==c;if(h&&I5(t)){if(!I5(e))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new fT),a||Ize(t)?Eze(t,e,n,r,i,s):Tze(t,e,l,n,r,i,s);if(!(n&Oze)){var f=u&&R5.call(t,"__wrapped__"),g=d&&R5.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,y=g?e.value():e;return s||(s=new fT),i(p,y,n,r,s)}}return h?(s||(s=new fT),Pze(t,e,n,r,i,s)):!1}var Mze=Rze,Dze=Mze,M5=fc;function IJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!M5(t)&&!M5(e)?t!==t&&e!==e:Dze(t,e,n,r,IJ,i)}var YD=IJ,jze=yJ,Lze=YD,Fze=1,$ze=2;function Bze(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new jze;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Lze(u,c,Fze|$ze,r,d):h))return!1}}return!0}var zze=Bze,Vze=Qu;function Uze(t){return t===t&&!Vze(t)}var OJ=Uze,Wze=OJ,Hze=LC;function Yze(t){for(var e=Hze(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wze(i)]}return e}var Xze=Yze;function Gze(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var NJ=Gze,qze=zze,Kze=Xze,Qze=NJ;function Zze(t){var e=Kze(t);return e.length==1&&e[0][2]?Qze(e[0][0],e[0][1]):function(n){return n===t||qze(n,t,e)}}var Jze=Zze;function eVe(t,e){return t!=null&&e in Object(t)}var tVe=eVe,nVe=BZ,rVe=UD,iVe=Ps,sVe=WD,aVe=HD,oVe=_C;function lVe(t,e,n){e=nVe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=oVe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&aVe(i)&&sVe(a,i)&&(iVe(t)||rVe(t)))}var cVe=lVe,uVe=tVe,dVe=cVe;function hVe(t,e){return t!=null&&dVe(t,e,uVe)}var fVe=hVe,pVe=YD,gVe=zZ,mVe=fVe,yVe=CD,vVe=OJ,xVe=NJ,bVe=_C,wVe=1,_Ve=2;function SVe(t,e){return yVe(t)&&vVe(e)?xVe(bVe(t),e):function(n){var r=gVe(n,t);return r===void 0&&r===e?mVe(n,t):pVe(e,r,wVe|_Ve)}}var AVe=SVe;function CVe(t){return t}var fm=CVe;function kVe(t){return function(e){return e==null?void 0:e[t]}}var EVe=kVe,TVe=ND;function PVe(t){return function(e){return TVe(e,t)}}var IVe=PVe,OVe=EVe,NVe=IVe,RVe=CD,MVe=_C;function DVe(t){return RVe(t)?OVe(MVe(t)):NVe(t)}var jVe=DVe,LVe=Jze,FVe=AVe,$Ve=fm,BVe=Ps,zVe=jVe;function VVe(t){return typeof t=="function"?t:t==null?$Ve:typeof t=="object"?BVe(t)?FVe(t[0],t[1]):LVe(t):zVe(t)}var Zu=VVe;function UVe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var RJ=UVe;function WVe(t){return t!==t}var HVe=WVe;function YVe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var XVe=YVe,GVe=RJ,qVe=HVe,KVe=XVe;function QVe(t,e,n){return e===e?KVe(t,e,n):GVe(t,qVe,n)}var ZVe=QVe,JVe=ZVe;function e4e(t,e){var n=t==null?0:t.length;return!!n&&JVe(t,e,0)>-1}var t4e=e4e;function n4e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var r4e=n4e;function i4e(){}var s4e=i4e,pT=TJ,a4e=s4e,o4e=VD,l4e=1/0,c4e=pT&&1/o4e(new pT([,-0]))[1]==l4e?function(t){return new pT(t)}:a4e,u4e=c4e,d4e=vJ,h4e=t4e,f4e=r4e,p4e=bJ,g4e=u4e,m4e=VD,y4e=200;function v4e(t,e,n){var r=-1,i=h4e,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=f4e;else if(s>=y4e){var c=e?null:g4e(t);if(c)return m4e(c);a=!1,i=p4e,l=new d4e}else l=e?[]:o;e:for(;++r<s;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var x4e=v4e,b4e=Zu,w4e=x4e;function _4e(t,e){return t&&t.length?w4e(t,b4e(e)):[]}var S4e=_4e;const D5=vn(S4e);function MJ(t,e,n){return e===!0?D5(t,n):kt(e)?D5(t,e):t}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}var A4e=["ref"];function j5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(n),!0).forEach(function(r){FC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jJ(r.key),r)}}function k4e(t,e,n){return e&&L5(t.prototype,e),n&&L5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E4e(t,e,n){return e=tS(e),T4e(t,DJ()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function T4e(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P4e(t)}function P4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DJ=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function I4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BO(t,e)}function BO(t,e){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BO(t,e)}function FC(t,e,n){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=O4e(t,"string");return mg(e)=="symbol"?e:e+""}function O4e(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N4e(t,e){if(t==null)return{};var n=R4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M4e(t){return t.value}function D4e(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=N4e(e,A4e);return U.createElement(zD,n)}var F5=1,wp=function(t){function e(){var n;C4e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=E4e(this,e,[].concat(i)),FC(n,"lastBoundingBox",{width:-1,height:-1}),n}return I4e(e,t),k4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>F5||Math.abs(i.height-this.lastBoundingBox.height)>F5)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return dl(dl({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=dl(dl({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},D4e(s,dl(dl({},this.props),{},{payload:MJ(u,c,M4e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=dl(dl({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Te(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(I.PureComponent);FC(wp,"displayName","Legend");FC(wp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $5=Rb,j4e=UD,L4e=Ps,B5=$5?$5.isConcatSpreadable:void 0;function F4e(t){return L4e(t)||j4e(t)||!!(B5&&t&&t[B5])}var $4e=F4e,B4e=_J,z4e=$4e;function LJ(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=z4e),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?LJ(o,e-1,n,r,i):B4e(i,o):r||(i[i.length]=o)}return i}var FJ=LJ;function V4e(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var U4e=V4e,W4e=U4e,H4e=W4e(),Y4e=H4e,X4e=Y4e,G4e=LC;function q4e(t,e){return t&&X4e(t,e,G4e)}var $J=q4e,K4e=jb;function Q4e(t,e){return function(n,r){if(n==null)return n;if(!K4e(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var Z4e=Q4e,J4e=$J,e5e=Z4e,t5e=e5e(J4e),XD=t5e,n5e=XD,r5e=jb;function i5e(t,e){var n=-1,r=r5e(t)?Array(t.length):[];return n5e(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var BJ=i5e;function s5e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var a5e=s5e,z5=am;function o5e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=z5(t),a=e!==void 0,o=e===null,l=e===e,c=z5(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var l5e=o5e,c5e=l5e;function u5e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=c5e(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var d5e=u5e,gT=OD,h5e=ND,f5e=Zu,p5e=BJ,g5e=a5e,m5e=CJ,y5e=d5e,v5e=fm,x5e=Ps;function b5e(t,e,n){e.length?e=gT(e,function(s){return x5e(s)?function(a){return h5e(a,s.length===1?s[0]:s)}:s}):e=[v5e];var r=-1;e=gT(e,m5e(f5e));var i=p5e(t,function(s,a,o){var l=gT(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return g5e(i,function(s,a){return y5e(s,a,n)})}var w5e=b5e;function _5e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S5e=_5e,A5e=S5e,V5=Math.max;function C5e(t,e,n){return e=V5(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=V5(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),A5e(t,this,o)}}var k5e=C5e;function E5e(t){return function(){return t}}var T5e=E5e,P5e=nf,I5e=function(){try{var t=P5e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),zJ=I5e,O5e=T5e,U5=zJ,N5e=fm,R5e=U5?function(t,e){return U5(t,"toString",{configurable:!0,enumerable:!1,value:O5e(e),writable:!0})}:N5e,M5e=R5e,D5e=800,j5e=16,L5e=Date.now;function F5e(t){var e=0,n=0;return function(){var r=L5e(),i=j5e-(r-n);if(n=r,i>0){if(++e>=D5e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $5e=F5e,B5e=M5e,z5e=$5e,V5e=z5e(B5e),U5e=V5e,W5e=fm,H5e=k5e,Y5e=U5e;function X5e(t,e){return Y5e(H5e(t,e,W5e),t+"")}var G5e=X5e,q5e=ED,K5e=jb,Q5e=WD,Z5e=Qu;function J5e(t,e,n){if(!Z5e(n))return!1;var r=typeof e;return(r=="number"?K5e(n)&&Q5e(e,n.length):r=="string"&&e in n)?q5e(n[e],t):!1}var $C=J5e,eUe=FJ,tUe=w5e,nUe=G5e,W5=$C,rUe=nUe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&W5(t,e[0],e[1])?e=[]:n>2&&W5(e[0],e[1],e[2])&&(e=[e[0]]),tUe(t,eUe(e,1),[])}),iUe=rUe;const GD=vn(iUe);function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function zO(){return zO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zO.apply(this,arguments)}function sUe(t,e){return cUe(t)||lUe(t,e)||oUe(t,e)||aUe()}function aUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oUe(t,e){if(t){if(typeof t=="string")return H5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H5(t,e)}}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function cUe(t){if(Array.isArray(t))return t}function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(r){uUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uUe(t,e,n){return e=dUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dUe(t){var e=hUe(t,"string");return dx(e)=="symbol"?e:e+""}function hUe(t,e){if(dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fUe(t){return Array.isArray(t)&&Hr(t[0])&&Hr(t[1])?t.join(" ~ "):t}var pUe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,p=e.label,y=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?GD(u,h):u).map(function(L,$){if(L.type==="none")return null;var F=mT({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},o),B=L.formatter||d||fUe,D=L.value,z=L.name,W=D,X=z;if(B&&W!=null&&X!=null){var q=B(D,z,L,$,u);if(Array.isArray(q)){var J=sUe(q,2);W=J[0],X=J[1]}else W=q}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:F},Hr(X)?U.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Hr(X)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},W),U.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},_=mT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=mT({margin:0},c),C=!Mt(p),A=C?p:"",k=zt("recharts-default-tooltip",f),E=zt("recharts-tooltip-label",g);C&&y&&u!==void 0&&u!==null&&(A=y(p,u));var T=x?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",zO({className:k,style:_},T),U.createElement("p",{className:E,style:w},U.isValidElement(A)?A:"".concat(A)),b())};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function sw(t,e,n){return e=gUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gUe(t){var e=mUe(t,"string");return hx(e)=="symbol"?e:e+""}function mUe(t,e){if(hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zm="recharts-tooltip-wrapper",yUe={visibility:"hidden"};function vUe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return zt(Zm,sw(sw(sw(sw({},"".concat(Zm,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(Zm,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(Zm,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(Zm,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function X5(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&Te(s[r]))return s[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return a[r]?u:d;if(a[r]){var h=u,f=l[r];return h<f?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,p=l[r]+c;return g>p?Math.max(u,l[r]):Math.max(d,l[r])}function xUe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bUe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=X5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=X5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=xUe({translateX:u,translateY:d,useTranslate3d:o})):c=yUe,{cssProperties:c,cssClasses:vUe({translateX:u,translateY:d,coordinate:n})}}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){UO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UJ(r.key),r)}}function SUe(t,e,n){return e&&_Ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AUe(t,e,n){return e=nS(e),CUe(t,VJ()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function CUe(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kUe(t)}function kUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VJ=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function EUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VO(t,e)}function VO(t,e){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VO(t,e)}function UO(t,e,n){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UJ(t){var e=TUe(t,"string");return yg(e)=="symbol"?e:e+""}function TUe(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K5=1,PUe=function(t){function e(){var n;wUe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=AUe(this,e,[].concat(i)),UO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UO(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return EUe(e,t),SUe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>K5||Math.abs(r.height-this.state.lastBoundingBox.height)>K5)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,g=i.position,p=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=bUe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),_=b.cssClasses,w=b.cssProperties,C=q5(q5({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return U.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(k){r.wrapperNode=k}},c)}}])}(I.PureComponent),IUe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pm={isSsr:IUe()};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){qD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HJ(r.key),r)}}function RUe(t,e,n){return e&&NUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MUe(t,e,n){return e=rS(e),DUe(t,WJ()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function DUe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(t)}function jUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function LUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WO(t,e)}function WO(t,e){return WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WO(t,e)}function qD(t,e,n){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HJ(t){var e=FUe(t,"string");return vg(e)=="symbol"?e:e+""}function FUe(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $Ue(t){return t.dataKey}function BUe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(pUe,e)}var Ba=function(t){function e(){return OUe(this,e),MUe(this,e,arguments)}return LUe(e,t),RUe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,g=i.payload,p=i.payloadUniqBy,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=g??[];d&&w.length&&(w=MJ(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),p,$Ue));var C=w.length>0;return U.createElement(PUe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:C,offset:f,position:y,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},BUe(c,Z5(Z5({},this.props),{},{payload:w})))}}])}(I.PureComponent);qD(Ba,"displayName","Tooltip");qD(Ba,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zUe=sl,VUe=function(){return zUe.Date.now()},UUe=VUe,WUe=/\s/;function HUe(t){for(var e=t.length;e--&&WUe.test(t.charAt(e)););return e}var YUe=HUe,XUe=YUe,GUe=/^\s+/;function qUe(t){return t&&t.slice(0,XUe(t)+1).replace(GUe,"")}var KUe=qUe,QUe=KUe,J5=Qu,ZUe=am,eU=NaN,JUe=/^[-+]0x[0-9a-f]+$/i,e3e=/^0b[01]+$/i,t3e=/^0o[0-7]+$/i,n3e=parseInt;function r3e(t){if(typeof t=="number")return t;if(ZUe(t))return eU;if(J5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=J5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QUe(t);var n=e3e.test(t);return n||t3e.test(t)?n3e(t.slice(2),n?2:8):JUe.test(t)?eU:+t}var YJ=r3e,i3e=Qu,yT=UUe,tU=YJ,s3e="Expected a function",a3e=Math.max,o3e=Math.min;function l3e(t,e,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(s3e);e=tU(e)||0,i3e(n)&&(u=!!n.leading,d="maxWait"in n,s=d?a3e(tU(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function f(C){var A=r,k=i;return r=i=void 0,c=C,a=t.apply(k,A),a}function g(C){return c=C,o=setTimeout(v,e),u?f(C):a}function p(C){var A=C-l,k=C-c,E=e-A;return d?o3e(E,s-k):E}function y(C){var A=C-l,k=C-c;return l===void 0||A>=e||A<0||d&&k>=s}function v(){var C=yT();if(y(C))return x(C);o=setTimeout(v,p(C))}function x(C){return o=void 0,h&&r?f(C):(r=i=void 0,a)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?a:x(yT())}function w(){var C=yT(),A=y(C);if(r=arguments,i=this,l=C,A){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(v,e),f(l)}return o===void 0&&(o=setTimeout(v,e)),a}return w.cancel=b,w.flush=_,w}var c3e=l3e,u3e=c3e,d3e=Qu,h3e="Expected a function";function f3e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(h3e);return d3e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),u3e(t,e,{leading:r,maxWait:e,trailing:i})}var p3e=f3e;const XJ=vn(p3e);function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){g3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g3e(t,e,n){return e=m3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3e(t){var e=y3e(t,"string");return fx(e)=="symbol"?e:e+""}function y3e(t,e){if(fx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v3e(t,e){return _3e(t)||w3e(t,e)||b3e(t,e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t,e){if(t){if(typeof t=="string")return rU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rU(t,e)}}function rU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function _3e(t){if(Array.isArray(t))return t}var GJ=I.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,p=g===void 0?0:g,y=t.id,v=t.className,x=t.onResize,b=t.style,_=b===void 0?{}:b,w=I.useRef(null),C=I.useRef();C.current=x,I.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=I.useState({containerWidth:i.width,containerHeight:i.height}),k=v3e(A,2),E=k[0],T=k[1],P=I.useCallback(function(O,L){T(function($){var F=Math.round(O),B=Math.round(L);return $.containerWidth===F&&$.containerHeight===B?$:{containerWidth:F,containerHeight:B}})},[]);I.useEffect(function(){var O=function(z){var W,X=z[0].contentRect,q=X.width,J=X.height;P(q,J),(W=C.current)===null||W===void 0||W.call(C,q,J)};p>0&&(O=XJ(O,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),$=w.current.getBoundingClientRect(),F=$.width,B=$.height;return P(F,B),L.observe(w.current),function(){L.disconnect()}},[P,p]);var N=I.useMemo(function(){var O=E.containerWidth,L=E.containerHeight;if(O<0||L<0)return null;$l(Bd(a)||Bd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),$l(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Bd(a)?O:a,F=Bd(l)?L:l;n&&n>0&&($?F=$/n:F&&($=F*n),h&&F>h&&(F=h)),$l($>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,F,a,l,u,d,n);var B=!Array.isArray(f)&&Fl(f.type).endsWith("Chart");return U.Children.map(f,function(D){return U.isValidElement(D)?I.cloneElement(D,aw({width:$,height:F},B?{style:aw({height:"100%",width:"100%",maxHeight:F,maxWidth:$},D.props.style)}:{})):D})},[n,f,l,h,d,u,E,a]);return U.createElement("div",{id:y?"".concat(y):void 0,className:zt("recharts-responsive-container",v),style:aw(aw({},_),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:w},N)}),qJ=function(e){return null};qJ.displayName="Cell";function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){S3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S3e(t,e,n){return e=A3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3e(t){var e=C3e(t,"string");return px(e)=="symbol"?e:e+""}function C3e(t,e){if(px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Of={widthCache:{},cacheCount:0},k3e=2e3,E3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sU="recharts_measurement_span";function T3e(t){var e=HO({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var av=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pm.isSsr)return{width:0,height:0};var r=T3e(n),i=JSON.stringify({text:e,copyStyle:r});if(Of.widthCache[i])return Of.widthCache[i];try{var s=document.getElementById(sU);s||(s=document.createElement("span"),s.setAttribute("id",sU),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=HO(HO({},E3e),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Of.widthCache[i]=l,++Of.cacheCount>k3e&&(Of.cacheCount=0,Of.widthCache={}),l}catch{return{width:0,height:0}}},P3e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function iS(t,e){return R3e(t)||N3e(t,e)||O3e(t,e)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(t,e){if(t){if(typeof t=="string")return aU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aU(t,e)}}function aU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function R3e(t){if(Array.isArray(t))return t}function M3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j3e(r.key),r)}}function D3e(t,e,n){return e&&oU(t.prototype,e),n&&oU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j3e(t){var e=L3e(t,"string");return gx(e)=="symbol"?e:e+""}function L3e(t,e){if(gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B3e=Object.keys(KJ),ep="NaN";function z3e(t,e){return t*KJ[e]}var ow=function(){function t(e,n){M3e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!F3e.test(n)&&(this.num=NaN,this.unit=""),B3e.includes(n)&&(this.num=z3e(e,n),this.unit="px")}return D3e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$3e.exec(n))!==null&&r!==void 0?r:[],s=iS(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function QJ(t){if(t.includes(ep))return ep;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=lU.exec(e))!==null&&n!==void 0?n:[],i=iS(r,4),s=i[1],a=i[2],o=i[3],l=ow.parse(s??""),c=ow.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ep;e=e.replace(lU,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=cU.exec(e))!==null&&d!==void 0?d:[],f=iS(h,4),g=f[1],p=f[2],y=f[3],v=ow.parse(g??""),x=ow.parse(y??""),b=p==="+"?v.add(x):v.subtract(x);if(b.isNaN())return ep;e=e.replace(cU,b.toString())}return e}var uU=/\(([^()]*)\)/;function V3e(t){for(var e=t;e.includes("(");){var n=uU.exec(e),r=iS(n,2),i=r[1];e=e.replace(uU,QJ(i))}return e}function U3e(t){var e=t.replace(/\s+/g,"");return e=V3e(e),e=QJ(e),e}function W3e(t){try{return U3e(t)}catch{return ep}}function vT(t){var e=W3e(t.slice(5,-1));return e===ep?"":e}var H3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y3e=["dx","dy","angle","className","breakAll"];function YO(){return YO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YO.apply(this,arguments)}function dU(t,e){if(t==null)return{};var n=X3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hU(t,e){return Q3e(t)||K3e(t,e)||q3e(t,e)||G3e()}function G3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3e(t,e){if(t){if(typeof t=="string")return fU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fU(t,e)}}function fU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Q3e(t){if(Array.isArray(t))return t}var ZJ=/[ \f\n\r\t\v\u2028\u2029]+/,JJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Mt(n)||(r?s=n.toString().split(""):s=n.toString().split(ZJ));var a=s.map(function(l){return{word:l,width:av(l,i).width}}),o=r?0:av(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Z3e=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Te(a),d=o,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(F,B){var D=B.word,z=B.width,W=F[F.length-1];if(W&&(i==null||s||W.width+z+r<Number(i)))W.words.push(D),W.width+=z+r;else{var X={words:[D],width:z};F.push(X)}return F},[])},f=h(n),g=function($){return $.reduce(function(F,B){return F.width>B.width?F:B})};if(!u)return f;for(var p="…",y=function($){var F=d.slice(0,$),B=JJ({breakAll:c,style:l,children:F+p}).wordsWithComputedWidth,D=h(B),z=D.length>a||g(D).width>Number(i);return[z,D]},v=0,x=d.length-1,b=0,_;v<=x&&b<=d.length-1;){var w=Math.floor((v+x)/2),C=w-1,A=y(C),k=hU(A,2),E=k[0],T=k[1],P=y(w),N=hU(P,1),O=N[0];if(!E&&!O&&(v=w+1),E&&O&&(x=w-1),!E&&O){_=T;break}b++}return _||f},pU=function(e){var n=Mt(e)?[]:e.toString().split(ZJ);return[{words:n}]},J3e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!pm.isSsr){var l,c,u=JJ({breakAll:a,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return pU(i);return Z3e({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return pU(i)},gU="#808080",sS=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,p=g===void 0?"end":g,y=e.fill,v=y===void 0?gU:y,x=dU(e,H3e),b=I.useMemo(function(){return J3e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),_=x.dx,w=x.dy,C=x.angle,A=x.className,k=x.breakAll,E=dU(x,Y3e);if(!Hr(r)||!Hr(s))return null;var T=r+(Te(_)?_:0),P=s+(Te(w)?w:0),N;switch(p){case"start":N=vT("calc(".concat(c,")"));break;case"middle":N=vT("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=vT("calc(".concat(b.length-1," * -").concat(o,")"));break}var O=[];if(d){var L=b[0].width,$=x.width;O.push("scale(".concat((Te($)?$/L:1)/L,")"))}return C&&O.push("rotate(".concat(C,", ").concat(T,", ").concat(P,")")),O.length&&(E.transform=O.join(" ")),U.createElement("text",YO({},Ft(E,!0),{x:T,y:P,className:zt("recharts-text",A),textAnchor:f,fill:v.includes("url")?gU:v}),b.map(function(F,B){var D=F.words.join(k?"":" ");return U.createElement("tspan",{x:T,dy:B===0?N:o,key:"".concat(D,"-").concat(B)},D)}))};function Cu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eWe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KD(t){let e,n,r;t.length!==2?(e=Cu,n=(o,l)=>Cu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Cu||t===eWe?t:tWe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function tWe(){return 0}function eee(t){return t===null?NaN:+t}function*nWe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rWe=KD(Cu),Lb=rWe.right;KD(eee).center;class mU extends Map{constructor(e,n=aWe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yU(this,e))}has(e){return super.has(yU(this,e))}set(e,n){return super.set(iWe(this,e),n)}delete(e){return super.delete(sWe(this,e))}}function yU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iWe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sWe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aWe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oWe(t=Cu){if(t===Cu)return tee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function tee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lWe=Math.sqrt(50),cWe=Math.sqrt(10),uWe=Math.sqrt(2);function aS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=lWe?10:s>=cWe?5:s>=uWe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?aS(t,e,n*2):[o,l,c]}function XO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?aS(e,t,n):aS(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function GO(t,e,n){return e=+e,t=+t,n=+n,aS(t,e,n)[2]}function qO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?GO(e,t,n):GO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vU(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xU(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function nee(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?tee:oWe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));nee(t,e,f,g,i)}const s=t[e];let a=n,o=r;for(Jm(t,n,e),i(t[r],s)>0&&Jm(t,n,r);a<o;){for(Jm(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Jm(t,n,o):(++o,Jm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Jm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dWe(t,e,n){if(t=Float64Array.from(nWe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xU(t);if(e>=1)return vU(t);var r,i=(r-1)*e,s=Math.floor(i),a=vU(nee(t,s).subarray(0,s+1)),o=xU(t.subarray(s+1));return a+(o-a)*(i-s)}}function hWe(t,e,n=eee){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function fWe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ta(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const KO=Symbol("implicit");function QD(){var t=new mU,e=[],n=[],r=KO;function i(s){let a=t.get(s);if(a===void 0){if(r!==KO)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new mU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return QD(e,n).unknown(r)},Ta.apply(i,arguments),i}function mx(){var t=QD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,f=i<r,g=f?i:r,p=f?r:i;s=(p-g)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),g+=(p-g-s*(h-l))*u,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var y=fWe(h).map(function(v){return g+s*v});return n(f?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return mx(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ta.apply(d(),arguments)}function ree(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ree(e())},t}function ov(){return ree(mx.apply(null,arguments).paddingInner(1))}function ZD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fb(){}var yx=.7,oS=1/yx,_p="\\s*([+-]?\\d+)\\s*",vx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pWe=/^#([0-9a-f]{3,8})$/,gWe=new RegExp(`^rgb\\(${_p},${_p},${_p}\\)$`),mWe=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),yWe=new RegExp(`^rgba\\(${_p},${_p},${_p},${vx}\\)$`),vWe=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${vx}\\)$`),xWe=new RegExp(`^hsl\\(${vx},${Ko},${Ko}\\)$`),bWe=new RegExp(`^hsla\\(${vx},${Ko},${Ko},${vx}\\)$`),bU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZD(Fb,xx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wU,formatHex:wU,formatHex8:wWe,formatHsl:_We,formatRgb:_U,toString:_U});function wU(){return this.rgb().formatHex()}function wWe(){return this.rgb().formatHex8()}function _We(){return see(this).formatHsl()}function _U(){return this.rgb().formatRgb()}function xx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pWe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SU(e):n===3?new ws(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gWe.exec(t))?new ws(e[1],e[2],e[3],1):(e=mWe.exec(t))?new ws(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yWe.exec(t))?lw(e[1],e[2],e[3],e[4]):(e=vWe.exec(t))?lw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xWe.exec(t))?kU(e[1],e[2]/100,e[3]/100,1):(e=bWe.exec(t))?kU(e[1],e[2]/100,e[3]/100,e[4]):bU.hasOwnProperty(t)?SU(bU[t]):t==="transparent"?new ws(NaN,NaN,NaN,0):null}function SU(t){return new ws(t>>16&255,t>>8&255,t&255,1)}function lw(t,e,n,r){return r<=0&&(t=e=n=NaN),new ws(t,e,n,r)}function SWe(t){return t instanceof Fb||(t=xx(t)),t?(t=t.rgb(),new ws(t.r,t.g,t.b,t.opacity)):new ws}function QO(t,e,n,r){return arguments.length===1?SWe(t):new ws(t,e,n,r??1)}function ws(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZD(ws,QO,iee(Fb,{brighter(t){return t=t==null?oS:Math.pow(oS,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yx:Math.pow(yx,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ws(ah(this.r),ah(this.g),ah(this.b),lS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AU,formatHex:AU,formatHex8:AWe,formatRgb:CU,toString:CU}));function AU(){return`#${zd(this.r)}${zd(this.g)}${zd(this.b)}`}function AWe(){return`#${zd(this.r)}${zd(this.g)}${zd(this.b)}${zd((isNaN(this.opacity)?1:this.opacity)*255)}`}function CU(){const t=lS(this.opacity);return`${t===1?"rgb(":"rgba("}${ah(this.r)}, ${ah(this.g)}, ${ah(this.b)}${t===1?")":`, ${t})`}`}function lS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ah(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zd(t){return t=ah(t),(t<16?"0":"")+t.toString(16)}function kU(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qa(t,e,n,r)}function see(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);if(t instanceof Fb||(t=xx(t)),!t)return new qa;if(t instanceof qa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new qa(a,o,l,t.opacity)}function CWe(t,e,n,r){return arguments.length===1?see(t):new qa(t,e,n,r??1)}function qa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZD(qa,CWe,iee(Fb,{brighter(t){return t=t==null?oS:Math.pow(oS,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yx:Math.pow(yx,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ws(xT(t>=240?t-240:t+120,i,r),xT(t,i,r),xT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qa(EU(this.h),cw(this.s),cw(this.l),lS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lS(this.opacity);return`${t===1?"hsl(":"hsla("}${EU(this.h)}, ${cw(this.s)*100}%, ${cw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function EU(t){return t=(t||0)%360,t<0?t+360:t}function cw(t){return Math.max(0,Math.min(1,t||0))}function xT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JD=t=>()=>t;function kWe(t,e){return function(n){return t+n*e}}function EWe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function TWe(t){return(t=+t)==1?aee:function(e,n){return n-e?EWe(e,n,t):JD(isNaN(e)?n:e)}}function aee(t,e){var n=e-t;return n?kWe(t,n):JD(isNaN(t)?e:t)}const TU=function t(e){var n=TWe(e);function r(i,s){var a=n((i=QO(i)).r,(s=QO(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=aee(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function PWe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function IWe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OWe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=gm(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function NWe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function RWe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ZO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bT=new RegExp(ZO.source,"g");function MWe(t){return function(){return t}}function DWe(t){return function(e){return t(e)+""}}function jWe(t,e){var n=ZO.lastIndex=bT.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ZO.exec(t))&&(i=bT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:cS(r,i)})),n=bT.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?DWe(l[0].x):MWe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function gm(t,e){var n=typeof e,r;return e==null||n==="boolean"?JD(e):(n==="number"?cS:n==="string"?(r=xx(e))?(e=r,TU):jWe:e instanceof xx?TU:e instanceof Date?NWe:IWe(e)?PWe:Array.isArray(e)?OWe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RWe:cS)(t,e)}function ej(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LWe(t,e){e===void 0&&(e=t,t=gm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function FWe(t){return function(){return t}}function uS(t){return+t}var PU=[0,1];function ns(t){return t}function JO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FWe(isNaN(e)?NaN:.5)}function $We(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BWe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=JO(i,r),s=n(a,s)):(r=JO(r,i),s=n(s,a)),function(o){return s(r(o))}}function zWe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=JO(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Lb(t,o,1,r)-1;return s[l](i[l](o))}}function $b(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function BC(){var t=PU,e=PU,n=gm,r,i,s,a=ns,o,l,c;function u(){var h=Math.min(t.length,e.length);return a!==ns&&(a=$We(t[0],t[h-1])),o=h>2?zWe:BWe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,t.map(r),cS)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,uS),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=ej,u()},d.clamp=function(h){return arguments.length?(a=h?!0:ns,u()):a!==ns},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return r=h,i=f,u()}}function tj(){return BC()(ns,ns)}function VWe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xg(t){return t=dS(Math.abs(t)),t?t[1]:NaN}function UWe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function WWe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HWe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bx(t){if(!(e=HWe.exec(t)))throw new Error("invalid format: "+t);var e;return new nj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bx.prototype=nj.prototype;function nj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YWe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var oee;function XWe(t,e){var n=dS(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(oee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dS(t,Math.max(0,e+s-1))[0]}function IU(t,e){var n=dS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VWe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IU(t*100,e),r:IU,s:XWe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NU(t){return t}var RU=Array.prototype.map,MU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GWe(t){var e=t.grouping===void 0||t.thousands===void 0?NU:UWe(RU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?NU:WWe(RU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=bx(d);var h=d.fill,f=d.align,g=d.sign,p=d.symbol,y=d.zero,v=d.width,x=d.comma,b=d.precision,_=d.trim,w=d.type;w==="n"?(x=!0,w="g"):OU[w]||(b===void 0&&(b=12),_=!0,w="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var C=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=p==="$"?r:/[%p]/.test(w)?a:"",k=OU[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(P){var N=C,O=A,L,$,F;if(w==="c")O=k(P)+O,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:k(Math.abs(P),b),_&&(P=YWe(P)),B&&+P==0&&g!=="+"&&(B=!1),N=(B?g==="("?g:o:g==="-"||g==="("?"":g)+N,O=(w==="s"?MU[8+oee/3]:"")+O+(B&&g==="("?")":""),E){for(L=-1,$=P.length;++L<$;)if(F=P.charCodeAt(L),48>F||F>57){O=(F===46?i+P.slice(L+1):P.slice(L))+O,P=P.slice(0,L);break}}}x&&!y&&(P=e(P,1/0));var D=N.length+P.length+O.length,z=D<v?new Array(v-D+1).join(h):"";switch(x&&y&&(P=e(z+P,z.length?v-O.length:1/0),z=""),f){case"<":P=N+P+O+z;break;case"=":P=N+z+P+O;break;case"^":P=z.slice(0,D=z.length>>1)+N+P+O+z.slice(D);break;default:P=z+N+P+O;break}return s(P)}return T.toString=function(){return d+""},T}function u(d,h){var f=c((d=bx(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(xg(h)/3)))*3,p=Math.pow(10,-g),y=MU[8+g/3];return function(v){return f(p*v)+y}}return{format:c,formatPrefix:u}}var uw,rj,lee;qWe({thousands:",",grouping:[3],currency:["$",""]});function qWe(t){return uw=GWe(t),rj=uw.format,lee=uw.formatPrefix,uw}function KWe(t){return Math.max(0,-xg(Math.abs(t)))}function QWe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xg(e)/3)))*3-xg(Math.abs(t)))}function ZWe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xg(e)-xg(t))+1}function cee(t,e,n,r){var i=qO(t,e,n),s;switch(r=bx(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=QWe(i,a))&&(r.precision=s),lee(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ZWe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=KWe(i))&&(r.precision=s-(r.type==="%")*2);break}}return rj(r)}function Ju(t){var e=t.domain;return t.ticks=function(n){var r=e();return XO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return cee(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=GO(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function hS(){var t=tj();return t.copy=function(){return $b(t,hS())},Ta.apply(t,arguments),Ju(t)}function uee(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,uS),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return uee(t).unknown(e)},t=arguments.length?Array.from(t,uS):[0,1],Ju(n)}function dee(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function DU(t){return Math.log(t)}function jU(t){return Math.exp(t)}function JWe(t){return-Math.log(-t)}function eHe(t){return-Math.exp(-t)}function tHe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nHe(t){return t===10?tHe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rHe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LU(t){return(e,n)=>-t(-e,n)}function ij(t){const e=t(DU,jU),n=e.domain;let r=10,i,s;function a(){return i=rHe(r),s=nHe(r),n()[0]<0?(i=LU(i),s=LU(s),t(JWe,eHe)):t(DU,jU),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),g,p;const y=o==null?10:+o;let v=[];if(!(r%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(g=1;g<r;++g)if(p=h<0?g/s(-h):g*s(h),!(p<c)){if(p>u)break;v.push(p)}}else for(;h<=f;++h)for(g=r-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<c)){if(p>u)break;v.push(p)}v.length*2<y&&(v=XO(c,u,y))}else v=XO(h,f,Math.min(f-h,y)).map(s);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bx(l)).precision==null&&(l.trim=!0),l=rj(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(dee(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function hee(){const t=ij(BC()).domain([1,10]);return t.copy=()=>$b(t,hee()).base(t.base()),Ta.apply(t,arguments),t}function FU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $U(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sj(t){var e=1,n=t(FU(e),$U(e));return n.constant=function(r){return arguments.length?t(FU(e=+r),$U(e)):e},Ju(n)}function fee(){var t=sj(BC());return t.copy=function(){return $b(t,fee()).constant(t.constant())},Ta.apply(t,arguments)}function BU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iHe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sHe(t){return t<0?-t*t:t*t}function aj(t){var e=t(ns,ns),n=1;function r(){return n===1?t(ns,ns):n===.5?t(iHe,sHe):t(BU(n),BU(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ju(e)}function oj(){var t=aj(BC());return t.copy=function(){return $b(t,oj()).exponent(t.exponent())},Ta.apply(t,arguments),t}function aHe(){return oj.apply(null,arguments).exponent(.5)}function zU(t){return Math.sign(t)*t*t}function oHe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pee(){var t=tj(),e=[0,1],n=!1,r;function i(s){var a=oHe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(zU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,uS)).map(zU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return pee(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ta.apply(i,arguments),Ju(i)}function gee(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=hWe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Lb(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Cu),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return gee().domain(t).range(e).unknown(r)},Ta.apply(s,arguments)}function mee(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Lb(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return mee().domain([t,e]).range(i).unknown(s)},Ta.apply(Ju(a),arguments)}function yee(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Lb(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yee().domain(t).range(e).unknown(n)},Ta.apply(i,arguments)}const wT=new Date,_T=new Date;function Xr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Xr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(wT.setTime(+s),_T.setTime(+a),t(wT),t(_T),Math.floor(n(wT,_T))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const fS=Xr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fS);fS.range;const Ol=1e3,fa=Ol*60,Nl=fa*60,ec=Nl*24,lj=ec*7,VU=ec*30,ST=ec*365,Vd=Xr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ol)},(t,e)=>(e-t)/Ol,t=>t.getUTCSeconds());Vd.range;const cj=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ol)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getMinutes());cj.range;const uj=Xr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCMinutes());uj.range;const dj=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ol-t.getMinutes()*fa)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getHours());dj.range;const hj=Xr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCHours());hj.range;const Bb=Xr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fa)/ec,t=>t.getDate()-1);Bb.range;const zC=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ec,t=>t.getUTCDate()-1);zC.range;const vee=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ec,t=>Math.floor(t/ec));vee.range;function rf(t){return Xr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fa)/lj)}const VC=rf(0),pS=rf(1),lHe=rf(2),cHe=rf(3),bg=rf(4),uHe=rf(5),dHe=rf(6);VC.range;pS.range;lHe.range;cHe.range;bg.range;uHe.range;dHe.range;function sf(t){return Xr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lj)}const UC=sf(0),gS=sf(1),hHe=sf(2),fHe=sf(3),wg=sf(4),pHe=sf(5),gHe=sf(6);UC.range;gS.range;hHe.range;fHe.range;wg.range;pHe.range;gHe.range;const fj=Xr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fj.range;const pj=Xr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pj.range;const tc=Xr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());tc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});tc.range;const nc=Xr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});nc.range;function xee(t,e,n,r,i,s){const a=[[Vd,1,Ol],[Vd,5,5*Ol],[Vd,15,15*Ol],[Vd,30,30*Ol],[s,1,fa],[s,5,5*fa],[s,15,15*fa],[s,30,30*fa],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[r,1,ec],[r,2,2*ec],[n,1,lj],[e,1,VU],[e,3,3*VU],[t,1,ST]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),g=f?f.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,f=KD(([,,y])=>y).right(a,h);if(f===a.length)return t.every(qO(c/ST,u/ST,d));if(f===0)return fS.every(Math.max(qO(c,u,d),1));const[g,p]=a[h/a[f-1][2]<a[f][2]/h?f-1:f];return g.every(p)}return[o,l]}const[mHe,yHe]=xee(nc,pj,UC,vee,hj,uj),[vHe,xHe]=xee(tc,fj,VC,Bb,dj,cj);function AT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ey(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bHe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=ty(i),u=ny(i),d=ty(s),h=ny(s),f=ty(a),g=ny(a),p=ty(o),y=ny(o),v=ty(l),x=ny(l),b={a:B,A:D,b:z,B:W,c:null,d:GU,e:GU,f:UHe,g:JHe,G:t6e,H:BHe,I:zHe,j:VHe,L:bee,m:WHe,M:HHe,p:X,q,Q:QU,s:ZU,S:YHe,u:XHe,U:GHe,V:qHe,w:KHe,W:QHe,x:null,X:null,y:ZHe,Y:e6e,Z:n6e,"%":KU},_={a:J,A:ae,b:_e,B:K,c:null,d:qU,e:qU,f:a6e,g:m6e,G:v6e,H:r6e,I:i6e,j:s6e,L:_ee,m:o6e,M:l6e,p:fe,q:Ne,Q:QU,s:ZU,S:c6e,u:u6e,U:d6e,V:h6e,w:f6e,W:p6e,x:null,X:null,y:g6e,Y:y6e,Z:x6e,"%":KU},w={a:T,A:P,b:N,B:O,c:L,d:YU,e:YU,f:jHe,g:HU,G:WU,H:XU,I:XU,j:NHe,L:DHe,m:OHe,M:RHe,p:E,q:IHe,Q:FHe,s:$He,S:MHe,u:CHe,U:kHe,V:EHe,w:AHe,W:THe,x:$,X:F,y:HU,Y:WU,Z:PHe,"%":LHe};b.x=C(n,b),b.X=C(r,b),b.c=C(e,b),_.x=C(n,_),_.X=C(r,_),_.c=C(e,_);function C(re,ge){return function(Ae){var se=[],et=-1,Ge=0,Ot=re.length,rn,hn,Pn;for(Ae instanceof Date||(Ae=new Date(+Ae));++et<Ot;)re.charCodeAt(et)===37&&(se.push(re.slice(Ge,et)),(hn=UU[rn=re.charAt(++et)])!=null?rn=re.charAt(++et):hn=rn==="e"?" ":"0",(Pn=ge[rn])&&(rn=Pn(Ae,hn)),se.push(rn),Ge=et+1);return se.push(re.slice(Ge,et)),se.join("")}}function A(re,ge){return function(Ae){var se=ey(1900,void 0,1),et=k(se,re,Ae+="",0),Ge,Ot;if(et!=Ae.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ge&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ge=CT(ey(se.y,0,1)),Ot=Ge.getUTCDay(),Ge=Ot>4||Ot===0?gS.ceil(Ge):gS(Ge),Ge=zC.offset(Ge,(se.V-1)*7),se.y=Ge.getUTCFullYear(),se.m=Ge.getUTCMonth(),se.d=Ge.getUTCDate()+(se.w+6)%7):(Ge=AT(ey(se.y,0,1)),Ot=Ge.getDay(),Ge=Ot>4||Ot===0?pS.ceil(Ge):pS(Ge),Ge=Bb.offset(Ge,(se.V-1)*7),se.y=Ge.getFullYear(),se.m=Ge.getMonth(),se.d=Ge.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ot="Z"in se?CT(ey(se.y,0,1)).getUTCDay():AT(ey(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ot+5)%7:se.w+se.U*7-(Ot+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,CT(se)):AT(se)}}function k(re,ge,Ae,se){for(var et=0,Ge=ge.length,Ot=Ae.length,rn,hn;et<Ge;){if(se>=Ot)return-1;if(rn=ge.charCodeAt(et++),rn===37){if(rn=ge.charAt(et++),hn=w[rn in UU?ge.charAt(et++):rn],!hn||(se=hn(re,Ae,se))<0)return-1}else if(rn!=Ae.charCodeAt(se++))return-1}return se}function E(re,ge,Ae){var se=c.exec(ge.slice(Ae));return se?(re.p=u.get(se[0].toLowerCase()),Ae+se[0].length):-1}function T(re,ge,Ae){var se=f.exec(ge.slice(Ae));return se?(re.w=g.get(se[0].toLowerCase()),Ae+se[0].length):-1}function P(re,ge,Ae){var se=d.exec(ge.slice(Ae));return se?(re.w=h.get(se[0].toLowerCase()),Ae+se[0].length):-1}function N(re,ge,Ae){var se=v.exec(ge.slice(Ae));return se?(re.m=x.get(se[0].toLowerCase()),Ae+se[0].length):-1}function O(re,ge,Ae){var se=p.exec(ge.slice(Ae));return se?(re.m=y.get(se[0].toLowerCase()),Ae+se[0].length):-1}function L(re,ge,Ae){return k(re,e,ge,Ae)}function $(re,ge,Ae){return k(re,n,ge,Ae)}function F(re,ge,Ae){return k(re,r,ge,Ae)}function B(re){return a[re.getDay()]}function D(re){return s[re.getDay()]}function z(re){return l[re.getMonth()]}function W(re){return o[re.getMonth()]}function X(re){return i[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function J(re){return a[re.getUTCDay()]}function ae(re){return s[re.getUTCDay()]}function _e(re){return l[re.getUTCMonth()]}function K(re){return o[re.getUTCMonth()]}function fe(re){return i[+(re.getUTCHours()>=12)]}function Ne(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ge=C(re+="",b);return ge.toString=function(){return re},ge},parse:function(re){var ge=A(re+="",!1);return ge.toString=function(){return re},ge},utcFormat:function(re){var ge=C(re+="",_);return ge.toString=function(){return re},ge},utcParse:function(re){var ge=A(re+="",!0);return ge.toString=function(){return re},ge}}}var UU={"-":"",_:" ",0:"0"},ii=/^\s*\d+/,wHe=/^%/,_He=/[\\^$*+?|[\]().{}]/g;function en(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function SHe(t){return t.replace(_He,"\\$&")}function ty(t){return new RegExp("^(?:"+t.map(SHe).join("|")+")","i")}function ny(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function AHe(t,e,n){var r=ii.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function CHe(t,e,n){var r=ii.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kHe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function EHe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function THe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function WU(t,e,n){var r=ii.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HU(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PHe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IHe(t,e,n){var r=ii.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function OHe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function YU(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function NHe(t,e,n){var r=ii.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function XU(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function RHe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function MHe(t,e,n){var r=ii.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function DHe(t,e,n){var r=ii.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function jHe(t,e,n){var r=ii.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LHe(t,e,n){var r=wHe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function FHe(t,e,n){var r=ii.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $He(t,e,n){var r=ii.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function GU(t,e){return en(t.getDate(),e,2)}function BHe(t,e){return en(t.getHours(),e,2)}function zHe(t,e){return en(t.getHours()%12||12,e,2)}function VHe(t,e){return en(1+Bb.count(tc(t),t),e,3)}function bee(t,e){return en(t.getMilliseconds(),e,3)}function UHe(t,e){return bee(t,e)+"000"}function WHe(t,e){return en(t.getMonth()+1,e,2)}function HHe(t,e){return en(t.getMinutes(),e,2)}function YHe(t,e){return en(t.getSeconds(),e,2)}function XHe(t){var e=t.getDay();return e===0?7:e}function GHe(t,e){return en(VC.count(tc(t)-1,t),e,2)}function wee(t){var e=t.getDay();return e>=4||e===0?bg(t):bg.ceil(t)}function qHe(t,e){return t=wee(t),en(bg.count(tc(t),t)+(tc(t).getDay()===4),e,2)}function KHe(t){return t.getDay()}function QHe(t,e){return en(pS.count(tc(t)-1,t),e,2)}function ZHe(t,e){return en(t.getFullYear()%100,e,2)}function JHe(t,e){return t=wee(t),en(t.getFullYear()%100,e,2)}function e6e(t,e){return en(t.getFullYear()%1e4,e,4)}function t6e(t,e){var n=t.getDay();return t=n>=4||n===0?bg(t):bg.ceil(t),en(t.getFullYear()%1e4,e,4)}function n6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+en(e/60|0,"0",2)+en(e%60,"0",2)}function qU(t,e){return en(t.getUTCDate(),e,2)}function r6e(t,e){return en(t.getUTCHours(),e,2)}function i6e(t,e){return en(t.getUTCHours()%12||12,e,2)}function s6e(t,e){return en(1+zC.count(nc(t),t),e,3)}function _ee(t,e){return en(t.getUTCMilliseconds(),e,3)}function a6e(t,e){return _ee(t,e)+"000"}function o6e(t,e){return en(t.getUTCMonth()+1,e,2)}function l6e(t,e){return en(t.getUTCMinutes(),e,2)}function c6e(t,e){return en(t.getUTCSeconds(),e,2)}function u6e(t){var e=t.getUTCDay();return e===0?7:e}function d6e(t,e){return en(UC.count(nc(t)-1,t),e,2)}function See(t){var e=t.getUTCDay();return e>=4||e===0?wg(t):wg.ceil(t)}function h6e(t,e){return t=See(t),en(wg.count(nc(t),t)+(nc(t).getUTCDay()===4),e,2)}function f6e(t){return t.getUTCDay()}function p6e(t,e){return en(gS.count(nc(t)-1,t),e,2)}function g6e(t,e){return en(t.getUTCFullYear()%100,e,2)}function m6e(t,e){return t=See(t),en(t.getUTCFullYear()%100,e,2)}function y6e(t,e){return en(t.getUTCFullYear()%1e4,e,4)}function v6e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wg(t):wg.ceil(t),en(t.getUTCFullYear()%1e4,e,4)}function x6e(){return"+0000"}function KU(){return"%"}function QU(t){return+t}function ZU(t){return Math.floor(+t/1e3)}var Nf,Aee,Cee;b6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b6e(t){return Nf=bHe(t),Aee=Nf.format,Nf.parse,Cee=Nf.utcFormat,Nf.utcParse,Nf}function w6e(t){return new Date(t)}function _6e(t){return t instanceof Date?+t:+new Date(+t)}function gj(t,e,n,r,i,s,a,o,l,c){var u=tj(),d=u.invert,h=u.domain,f=c(".%L"),g=c(":%S"),p=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),x=c("%b %d"),b=c("%B"),_=c("%Y");function w(C){return(l(C)<C?f:o(C)<C?g:a(C)<C?p:s(C)<C?y:r(C)<C?i(C)<C?v:x:n(C)<C?b:_)(C)}return u.invert=function(C){return new Date(d(C))},u.domain=function(C){return arguments.length?h(Array.from(C,_6e)):h().map(w6e)},u.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},u.tickFormat=function(C,A){return A==null?w:c(A)},u.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(dee(A,C)):u},u.copy=function(){return $b(u,gj(t,e,n,r,i,s,a,o,l,c))},u}function S6e(){return Ta.apply(gj(vHe,xHe,tc,fj,VC,Bb,dj,cj,Vd,Aee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function A6e(){return Ta.apply(gj(mHe,yHe,nc,pj,UC,zC,hj,uj,Vd,Cee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function WC(){var t=0,e=1,n,r,i,s,a=ns,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var f,g;return arguments.length?([f,g]=h,a=d(f,g),c):[a(0),a(1)]}}return c.range=u(gm),c.rangeRound=u(ej),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function ed(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kee(){var t=Ju(WC()(ns));return t.copy=function(){return ed(t,kee())},pc.apply(t,arguments)}function Eee(){var t=ij(WC()).domain([1,10]);return t.copy=function(){return ed(t,Eee()).base(t.base())},pc.apply(t,arguments)}function Tee(){var t=sj(WC());return t.copy=function(){return ed(t,Tee()).constant(t.constant())},pc.apply(t,arguments)}function mj(){var t=aj(WC());return t.copy=function(){return ed(t,mj()).exponent(t.exponent())},pc.apply(t,arguments)}function C6e(){return mj.apply(null,arguments).exponent(.5)}function Pee(){var t=[],e=ns;function n(r){if(r!=null&&!isNaN(r=+r))return e((Lb(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>dWe(t,s/r))},n.copy=function(){return Pee(e).domain(t)},pc.apply(n,arguments)}function HC(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=ns,u,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-s)*(r*p<r*s?o:l),c(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,n]=p,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,f):[t,e,n]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(c=p,f):c};function g(p){return function(y){var v,x,b;return arguments.length?([v,x,b]=y,c=LWe(p,[v,x,b]),f):[c(0),c(.5),c(1)]}}return f.range=g(gm),f.rangeRound=g(ej),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return u=p,i=p(t),s=p(e),a=p(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,f}}function Iee(){var t=Ju(HC()(ns));return t.copy=function(){return ed(t,Iee())},pc.apply(t,arguments)}function Oee(){var t=ij(HC()).domain([.1,1,10]);return t.copy=function(){return ed(t,Oee()).base(t.base())},pc.apply(t,arguments)}function Nee(){var t=sj(HC());return t.copy=function(){return ed(t,Nee()).constant(t.constant())},pc.apply(t,arguments)}function yj(){var t=aj(HC());return t.copy=function(){return ed(t,yj()).exponent(t.exponent())},pc.apply(t,arguments)}function k6e(){return yj.apply(null,arguments).exponent(.5)}const JU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mx,scaleDiverging:Iee,scaleDivergingLog:Oee,scaleDivergingPow:yj,scaleDivergingSqrt:k6e,scaleDivergingSymlog:Nee,scaleIdentity:uee,scaleImplicit:KO,scaleLinear:hS,scaleLog:hee,scaleOrdinal:QD,scalePoint:ov,scalePow:oj,scaleQuantile:gee,scaleQuantize:mee,scaleRadial:pee,scaleSequential:kee,scaleSequentialLog:Eee,scaleSequentialPow:mj,scaleSequentialQuantile:Pee,scaleSequentialSqrt:C6e,scaleSequentialSymlog:Tee,scaleSqrt:aHe,scaleSymlog:fee,scaleThreshold:yee,scaleTime:S6e,scaleUtc:A6e,tickFormat:cee},Symbol.toStringTag,{value:"Module"}));var E6e=am;function T6e(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!E6e(a):n(a,o)))var o=a,l=s}return l}var Ree=T6e;function P6e(t,e){return t>e}var I6e=P6e,O6e=Ree,N6e=I6e,R6e=fm;function M6e(t){return t&&t.length?O6e(t,R6e,N6e):void 0}var D6e=M6e;const YC=vn(D6e);function j6e(t,e){return t<e}var L6e=j6e,F6e=Ree,$6e=L6e,B6e=fm;function z6e(t){return t&&t.length?F6e(t,B6e,$6e):void 0}var V6e=z6e;const XC=vn(V6e);var U6e=OD,W6e=Zu,H6e=BJ,Y6e=Ps;function X6e(t,e){var n=Y6e(t)?U6e:H6e;return n(t,W6e(e))}var G6e=X6e,q6e=FJ,K6e=G6e;function Q6e(t,e){return q6e(K6e(t,e),1)}var Z6e=Q6e;const J6e=vn(Z6e);var e9e=YD;function t9e(t,e){return e9e(t,e)}var n9e=t9e;const GC=vn(n9e);var mm=1e9,r9e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xj,qn=!0,Sa="[DecimalError] ",oh=Sa+"Invalid argument: ",vj=Sa+"Exponent out of range: ",ym=Math.floor,Ad=Math.pow,i9e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zs,Jr=1e7,Bn=7,Mee=9007199254740991,mS=ym(Mee/Bn),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(t){return Bl(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,n=e.constructor;return Tn(Bl(e,new n(t),0,1),n.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return Ir(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zs))throw Error(Sa+"NaN");if(n.s<1)throw Error(Sa+(n.s?"NaN":"-Infinity"));return n.eq(zs)?new r(0):(qn=!1,e=Bl(wx(n,s),wx(t,s),s),qn=!0,Tn(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lee(e,t):Dee(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Sa+"NaN");return n.s?(qn=!1,e=Bl(n,t,0,1).times(t),qn=!0,n.minus(e)):Tn(new r(n),i)};Be.naturalExponential=Be.exp=function(){return jee(this)};Be.naturalLogarithm=Be.ln=function(){return wx(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Dee(e,t):Lee(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oh+t);if(e=Ir(i)+1,r=i.d.length-1,n=r*Bn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Be.squareRoot=Be.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Sa+"NaN")}for(t=Ir(o),qn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Fo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ym((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Bl(o,s,a+2)).times(.5),Fo(s.d).slice(0,a)===(e=Fo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Tn(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return qn=!0,Tn(r,n)};Be.times=Be.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,d=u.constructor,h=u.d,f=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+f[r]*h[i-r-1]+e,s[i--]=o%Jr|0,e=o/Jr|0;s[i]=(s[i]+e)%Jr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,qn?Tn(t,d.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(rl(t,0,mm),e===void 0?e=r.rounding:rl(e,0,8),Tn(n,t+Ir(n)+1,e))};Be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Lh(r,!0):(rl(t,0,mm),e===void 0?e=i.rounding:rl(e,0,8),r=Tn(new i(r),t+1,e),n=Lh(r,!0,t+1)),n};Be.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Lh(i):(rl(t,0,mm),e===void 0?e=s.rounding:rl(e,0,8),r=Tn(new s(i),t+Ir(i)+1,e),n=Lh(r.abs(),!1,t+Ir(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return Tn(new e(t),Ir(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(zs);if(o=new l(o),!o.s){if(t.s<1)throw Error(Sa+"Infinity");return o}if(o.eq(zs))return o;if(r=l.precision,t.eq(zs))return Tn(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=Mee){for(i=new l(zs),e=Math.ceil(r/Bn+4),qn=!1;n%2&&(i=i.times(o),t3(i.d,e)),n=ym(n/2),n!==0;)o=o.times(o),t3(o.d,e);return qn=!0,t.s<0?new l(zs).div(i):Tn(i,r)}}else if(s<0)throw Error(Sa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,qn=!1,i=t.times(wx(o,r+c)),qn=!0,i=jee(i),i.s=s,i};Be.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ir(i),r=Lh(i,n<=s.toExpNeg||n>=s.toExpPos)):(rl(t,1,mm),e===void 0?e=s.rounding:rl(e,0,8),i=Tn(new s(i),t,e),n=Ir(i),r=Lh(i,t<=n||n<=s.toExpNeg,t)),r};Be.toSignificantDigits=Be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(rl(t,1,mm),e===void 0?e=r.rounding:rl(e,0,8)),Tn(new r(n),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ir(t),n=t.constructor;return Lh(t,e<=n.toExpNeg||e>=n.toExpPos)};function Dee(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),qn?Tn(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/Bn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Jr|0,l[s]%=Jr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,qn?Tn(e,d):e}function rl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(oh+t)}function Fo(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Bn-r.length,n&&(s+=Oc(n)),s+=r;a=t[e],r=a+"",n=Bn-r.length,n&&(s+=Oc(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Bl=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Jr|0,a=s/Jr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Jr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,d,h,f,g,p,y,v,x,b,_,w,C,A,k,E=r.constructor,T=r.s==i.s?1:-1,P=r.d,N=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(Sa+"Division by zero");for(l=r.e-i.e,A=N.length,w=P.length,f=new E(T),g=f.d=[],c=0;N[c]==(P[c]||0);)++c;if(N[c]>(P[c]||0)&&--l,s==null?x=s=E.precision:a?x=s+(Ir(r)-Ir(i))+1:x=s,x<0)return new E(0);if(x=x/Bn+2|0,c=0,A==1)for(u=0,N=N[0],x++;(c<w||u)&&x--;c++)b=u*Jr+(P[c]||0),g[c]=b/N|0,u=b%N|0;else{for(u=Jr/(N[0]+1)|0,u>1&&(N=t(N,u),P=t(P,u),A=N.length,w=P.length),_=A,p=P.slice(0,A),y=p.length;y<A;)p[y++]=0;k=N.slice(),k.unshift(0),C=N[0],N[1]>=Jr/2&&++C;do u=0,o=e(N,p,A,y),o<0?(v=p[0],A!=y&&(v=v*Jr+(p[1]||0)),u=v/C|0,u>1?(u>=Jr&&(u=Jr-1),d=t(N,u),h=d.length,y=p.length,o=e(d,p,h,y),o==1&&(u--,n(d,A<h?k:N,h))):(u==0&&(o=u=1),d=N.slice()),h=d.length,h<y&&d.unshift(0),n(p,d,y),o==-1&&(y=p.length,o=e(N,p,A,y),o<1&&(u++,n(p,A<y?k:N,y))),y=p.length):o===0&&(u++,p=[0]),g[c++]=u,o&&p[0]?p[y++]=P[_]||0:(p=[P[_]],y=1);while((_++<w||p[0]!==void 0)&&x--)}return g[0]||g.shift(),f.e=l,Tn(f,a?s+Ir(f)+1:s)}}();function jee(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(Ir(t)>16)throw Error(vj+Ir(t));if(!t.s)return new u(zs);for(qn=!1,o=d,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Ad(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(zs),u.precision=o;;){if(i=Tn(i.times(t),o),n=n.times(++l),a=s.plus(Bl(i,n,o)),Fo(a.d).slice(0,o)===Fo(s.d).slice(0,o)){for(;c--;)s=Tn(s.times(s),o);return u.precision=d,e==null?(qn=!0,Tn(s,d)):s}s=a}}function Ir(t){for(var e=t.e*Bn,n=t.d[0];n>=10;n/=10)e++;return e}function kT(t,e,n){if(e>t.LN10.sd())throw qn=!0,n&&(t.precision=n),Error(Sa+"LN10 precision limit exceeded");return Tn(new t(t.LN10),e)}function Oc(t){for(var e="";t--;)e+="0";return e}function wx(t,e){var n,r,i,s,a,o,l,c,u,d=1,h=10,f=t,g=f.d,p=f.constructor,y=p.precision;if(f.s<1)throw Error(Sa+(f.s?"NaN":"-Infinity"));if(f.eq(zs))return new p(0);if(e==null?(qn=!1,c=y):c=e,f.eq(10))return e==null&&(qn=!0),kT(p,c);if(c+=h,p.precision=c,n=Fo(g),r=n.charAt(0),s=Ir(f),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(t),n=Fo(f.d),r=n.charAt(0),d++;s=Ir(f),r>1?(f=new p("0."+n),s++):f=new p(r+"."+n.slice(1))}else return l=kT(p,c+2,y).times(s+""),f=wx(new p(r+"."+n.slice(1)),c-h).plus(l),p.precision=y,e==null?(qn=!0,Tn(f,y)):f;for(o=a=f=Bl(f.minus(zs),f.plus(zs),c),u=Tn(f.times(f),c),i=3;;){if(a=Tn(a.times(u),c),l=o.plus(Bl(a,new p(i),c)),Fo(l.d).slice(0,c)===Fo(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(kT(p,c+2,y).times(s+""))),o=Bl(o,new p(d),c),p.precision=y,e==null?(qn=!0,Tn(o,y)):o;o=l,i+=2}}function e3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ym(n/Bn),t.d=[],r=(n+1)%Bn,n<0&&(r+=Bn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bn;r<i;)t.d.push(+e.slice(r,r+=Bn));e=e.slice(r),r=Bn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qn&&(t.e>mS||t.e<-mS))throw Error(vj+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tn(t,e,n){var r,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Bn,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Bn),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;r%=Bn,i=r-Bn+a}if(n!==void 0&&(s=Ad(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Ad(10,a-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=Ir(t),d.length=1,e=e-s-1,d[0]=Ad(10,(Bn-e%Bn)%Bn),t.e=ym(-e/Bn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,s=1,u--):(d.length=u+1,s=Ad(10,Bn-r),d[u]=i>0?(c/Ad(10,a-i)%Ad(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==Jr&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Jr)break;d[u--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(qn&&(t.e>mS||t.e<-mS))throw Error(vj+Ir(t));return t}function Lee(t,e){var n,r,i,s,a,o,l,c,u,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),qn?Tn(e,f):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(f/Bn),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Jr-1;--l[s],l[i]+=Jr}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,qn?Tn(e,f):e):new h(0)}function Lh(t,e,n){var r,i=Ir(t),s=Fo(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Oc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Oc(-i-1)+s,n&&(r=n-a)>0&&(s+=Oc(r))):i>=a?(s+=Oc(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Oc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Oc(r))),t.s<0?"-"+s:s}function t3(t,e){if(t.length>e)return t.length=e,!0}function Fee(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(oh+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return e3(a,s.toString())}else if(typeof s!="string")throw Error(oh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,i9e.test(s))e3(a,s);else throw Error(oh+s)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Fee,i.config=i.set=s9e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function s9e(t){if(!t||typeof t!="object")throw Error(Sa+"Object expected");var e,n,r,i=["precision",1,mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ym(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(oh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oh+n+": "+r);return this}var xj=Fee(r9e);zs=new xj(1);const _n=xj;function a9e(t){return u9e(t)||c9e(t)||l9e(t)||o9e()}function o9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9e(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function c9e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function u9e(t){if(Array.isArray(t))return eN(t)}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d9e=function(e){return e},$ee={},Bee=function(e){return e===$ee},n3=function(e){return function n(){return arguments.length===0||arguments.length===1&&Bee(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},h9e=function t(e,n){return e===1?n:n3(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==$ee}).length;return a>=e?n.apply(void 0,i):t(e-a,n3(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return Bee(d)?l.shift():d});return n.apply(void 0,a9e(u).concat(l))}))})},qC=function(e){return h9e(e.length,e)},tN=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},f9e=qC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),p9e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return d9e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},nN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zee=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function g9e(t){var e;return t===0?e=1:e=Math.floor(new _n(t).abs().log(10).toNumber())+1,e}function m9e(t,e,n){for(var r=new _n(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var y9e=qC(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),v9e=qC(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),x9e=qC(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const KC={rangeStep:m9e,getDigitCount:g9e,interpolateNumber:y9e,uninterpolateNumber:v9e,uninterpolateTruncation:x9e};function rN(t){return _9e(t)||w9e(t)||Vee(t)||b9e()}function b9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _9e(t){if(Array.isArray(t))return iN(t)}function _x(t,e){return C9e(t)||A9e(t,e)||Vee(t,e)||S9e()}function S9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A9e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function C9e(t){if(Array.isArray(t))return t}function Uee(t){var e=_x(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Wee(t,e,n){if(t.lte(0))return new _n(0);var r=KC.getDigitCount(t.toNumber()),i=new _n(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new _n(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new _n(Math.ceil(l))}function k9e(t,e,n){var r=1,i=new _n(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new _n(10).pow(KC.getDigitCount(t)-1),i=new _n(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new _n(Math.floor(t)))}else t===0?i=new _n(Math.floor((e-1)/2)):n||(i=new _n(Math.floor(t)));var a=Math.floor((e-1)/2),o=p9e(f9e(function(l){return i.add(new _n(l-a).mul(r)).toNumber()}),tN);return o(0,e)}function Hee(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _n(0),tickMin:new _n(0),tickMax:new _n(0)};var s=Wee(new _n(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new _n(0):(a=new _n(t).add(e).div(2),a=a.sub(new _n(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new _n(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?Hee(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new _n(o).mul(s)),tickMax:a.add(new _n(l).mul(s))})}function E9e(t){var e=_x(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=Uee([n,r]),l=_x(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(rN(tN(0,i-1).map(function(){return 1/0}))):[].concat(rN(tN(0,i-1).map(function(){return-1/0})),[u]);return n>r?nN(d):d}if(c===u)return k9e(c,i,s);var h=Hee(c,u,a,s),f=h.step,g=h.tickMin,p=h.tickMax,y=KC.rangeStep(g,p.add(new _n(.1).mul(f)),f);return n>r?nN(y):y}function T9e(t,e){var n=_x(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Uee([r,i]),o=_x(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=Wee(new _n(c).sub(l).div(u-1),s,0),h=[].concat(rN(KC.rangeStep(new _n(l),new _n(c).sub(new _n(.99).mul(d)),d)),[c]);return r>i?nN(h):h}var P9e=zee(E9e),I9e=zee(T9e),O9e="Invariant failed";function Fh(t,e){throw new Error(O9e)}var N9e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function R9e(t,e){return L9e(t)||j9e(t,e)||D9e(t,e)||M9e()}function M9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9e(t,e){if(t){if(typeof t=="string")return r3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r3(t,e)}}function r3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function L9e(t){if(Array.isArray(t))return t}function F9e(t,e){if(t==null)return{};var n=$9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gee(r.key),r)}}function V9e(t,e,n){return e&&z9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U9e(t,e,n){return e=vS(e),W9e(t,Yee()?Reflect.construct(e,n||[],vS(t).constructor):e.apply(t,n))}function W9e(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H9e(t)}function H9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(t)}function Y9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sN(t,e)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sN(t,e)}function Xee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=X9e(t,"string");return _g(e)=="symbol"?e:e+""}function X9e(t,e){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zb=function(t){function e(){return B9e(this,e),U9e(this,e,arguments)}return Y9e(e,t),V9e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=F9e(r,N9e),f=Ft(h,!1);this.props.direction==="x"&&u.type!=="number"&&Fh();var g=l.map(function(p){var y=c(p,o),v=y.x,x=y.y,b=y.value,_=y.errorVal;if(!_)return null;var w=[],C,A;if(Array.isArray(_)){var k=R9e(_,2);C=k[0],A=k[1]}else C=A=_;if(s==="vertical"){var E=u.scale,T=x+i,P=T+a,N=T-a,O=E(b-C),L=E(b+A);w.push({x1:L,y1:P,x2:L,y2:N}),w.push({x1:O,y1:T,x2:L,y2:T}),w.push({x1:O,y1:P,x2:O,y2:N})}else if(s==="horizontal"){var $=d.scale,F=v+i,B=F-a,D=F+a,z=$(b-C),W=$(b+A);w.push({x1:B,y1:W,x2:D,y2:W}),w.push({x1:F,y1:z,x2:F,y2:W}),w.push({x1:B,y1:z,x2:D,y2:z})}return U.createElement(xr,yS({className:"recharts-errorBar",key:"bar-".concat(w.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},f),w.map(function(X){return U.createElement("line",yS({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return U.createElement(xr,{className:"recharts-errorBars"},g)}}])}(U.Component);Xee(zb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xee(zb,"displayName","ErrorBar");function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(n),!0).forEach(function(r){G9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G9e(t,e,n){return e=q9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9e(t){var e=K9e(t,"string");return Sx(e)=="symbol"?e:e+""}function K9e(t,e){if(Sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qee=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Fs(n,wp);if(!a)return null;var o=wp.defaultProps,l=o!==void 0?fd(fd({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,f=d.props,g=f.sectors||f.data||[];return u.concat(g.map(function(p){return{type:a.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?fd(fd({},h),d.props):{},g=f.dataKey,p=f.name,y=f.legendType,v=f.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:bj(d),value:p||g,payload:f}}),fd(fd(fd({},l),wp.getWithHeight(a,i)),{},{payload:c,item:a})};function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function s3(t){return eYe(t)||J9e(t)||Z9e(t)||Q9e()}function Q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z9e(t,e){if(t){if(typeof t=="string")return aN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(t,e)}}function J9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eYe(t){if(Array.isArray(t))return aN(t)}function aN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(n),!0).forEach(function(r){Sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sp(t,e,n){return e=tYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tYe(t){var e=nYe(t,"string");return Ax(e)=="symbol"?e:e+""}function nYe(t,e){if(Ax(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ax(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ks(t,e,n){return Mt(t)||Mt(e)?n:Hr(e)?ya(t,e,n):kt(e)?e(t):n}function lv(t,e,n,r){var i=J6e(t,function(o){return Ks(o,e)});if(n==="number"){var s=i.filter(function(o){return Te(o)||parseFloat(o)});return s.length?[XC(s),YC(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Mt(o)}):i;return a.map(function(o){return Hr(o)||o instanceof Date?o:""})}var rYe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(eo(d-u)!==eo(h-d)){var g=[];if(eo(h-d)===eo(l[1]-l[0])){f=h;var p=d+l[1]-l[0];g[0]=Math.min(p,(p+u)/2),g[1]=Math.max(p,(p+u)/2)}else{f=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var x=Math.min(u,h),b=Math.max(u,h);if(e>(x+d)/2&&e<=(b+d)/2){a=i[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){a=r[_].index;break}return a},bj=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},iYe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var g=u[d[h]],p=g.items,y=g.cateAxisId,v=p.filter(function(A){return Fl(A.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?hr(hr({},x),v[0].props):v[0].props,_=b.barSize,w=b[y];a[w]||(a[w]=[]);var C=Mt(_)?n:_;a[w].push({item:v[0],stackList:v.slice(1),barSize:Mt(C)?void 0:jh(C,r,0)})}}return a},sYe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=jh(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,f=i/l,g=a.reduce(function(_,w){return _+w.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&f>0&&(h=!0,f*=.9,g=l*f);var p=(i-g)/2>>0,y={offset:p-c,size:0};u=a.reduce(function(_,w){var C={item:w.item,position:{offset:y.offset+y.size+c,size:h?f:w.barSize}},A=[].concat(s3(_),[C]);return y=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){A.push({item:k,position:y})}),A},d)}else{var v=jh(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var x=(i-2*v-(l-1)*c)/l;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;u=a.reduce(function(_,w,C){var A=[].concat(s3(_),[{item:w.item,position:{offset:v+(x+c)*C+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},d)}return u},aYe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=qee({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,f=c.align,g=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&f!=="center"&&Te(e[f]))return hr(hr({},e),{},Sp({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&g!=="middle"&&Te(e[g]))return hr(hr({},e),{},Sp({},g,e[g]+(h||0)))}return e},oYe=function(e,n,r){return Mt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Kee=function(e,n,r,i,s){var a=n.props.children,o=va(a,zb).filter(function(c){return oYe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Ks(u,r);if(Mt(d))return c;var h=Array.isArray(d)?[XC(d),YC(d)]:[d,d],f=l.reduce(function(g,p){var y=Ks(u,p,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},lYe=function(e,n,r,i,s){var a=n.map(function(o){return Kee(e,o,r,s,i)}).filter(function(o){return!Mt(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Qee=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Kee(e,l,c,i)||lv(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Zee=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Jee=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Rl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?eo(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Mb(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},ET=new WeakMap,dw=function(e,n){if(typeof n!="function")return e;ET.has(e)||ET.set(e,new WeakMap);var r=ET.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},cYe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:mx(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:hS(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ov(),realScaleType:"point"}:s==="category"?{scale:mx(),realScaleType:"band"}:{scale:hS(),realScaleType:"linear"};if(Dh(i)){var l="scale".concat(RC(i));return{scale:(JU[l]||ov)(),realScaleType:JU[l]?l:"point"}}return kt(i)?{scale:i}:{scale:ov(),realScaleType:"point"}},o3=1e-4,uYe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-o3,a=Math.max(i[0],i[1])+o3,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},dYe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hYe=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(s[0]=r),(!Te(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},fYe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Mb(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},pYe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Mb(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},gYe={sign:fYe,expand:ILe,none:pg,silhouette:OLe,wiggle:NLe,positive:pYe},mYe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=gYe[r],a=PLe().keys(i).value(function(o,l){return+Ks(o,l,0)}).order(OO).offset(s);return a(e)},yYe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(d,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,p=g.stackId,y=g.hide;if(y)return d;var v=g[r],x=d[v]||{hasStack:!1,stackGroups:{}};if(Hr(p)){var b=x.stackGroups[p]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[Db("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return hr(hr({},d),{},Sp({},v,x))},l),u={};return Object.keys(c).reduce(function(d,h){var f=c[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,y){var v=f.stackGroups[y];return hr(hr({},p),{},Sp({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:mYe(e,v.items,s)}))},g)}return hr(hr({},d),{},Sp({},h,f))},u)},vYe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=P9e(c,s,o);return e.domain([XC(u),YC(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),h=I9e(d,s,o);return{niceTicks:h}}return null};function l3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Mt(i[e.dataKey])){var o=U1(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Ks(i,Mt(a)?e.dataKey:a);return Mt(l)?null:e.scale(l)}var c3=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Ks(a,n.dataKey,n.domain[o]);return Mt(l)?null:n.scale(l)-s/2+i},xYe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},bYe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Hr(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},wYe=function(e){return e.reduce(function(n,r){return[XC(r.concat([n[0]]).filter(Te)),YC(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},ete=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var d=wYe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},u3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oN=function(e,n,r){if(kt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(u3.test(e[0])){var s=+u3.exec(e[0])[1];i[0]=n[0]-s}else kt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(d3.test(e[1])){var a=+d3.exec(e[1])[1];i[1]=n[1]+a}else kt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},xS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=GD(n,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},h3=function(e,n,r){return!e||!e.length||GC(e,ya(r,"type.defaultProps.domain"))?n:e},tte=function(e,n){var r=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return hr(hr({},Ft(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:bj(e),value:Ks(n,i),type:l,payload:n,chartType:c,hide:u})};function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){_Ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ye(t,e,n){return e=SYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SYe(t){var e=AYe(t,"string");return Cx(e)=="symbol"?e:e+""}function AYe(t,e){if(Cx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bS=Math.PI/180,CYe=function(e){return e*180/Math.PI},mi=function(e,n,r,i){return{x:e+Math.cos(-bS*i)*r,y:n+Math.sin(-bS*i)*r}},kYe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},EYe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=kYe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:CYe(c),angleInRadian:c}},TYe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},PYe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},g3=function(e,n){var r=e.x,i=e.y,s=EYe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=TYe(n),d=u.startAngle,h=u.endAngle,f=o,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?p3(p3({},n),{},{radius:a,angle:PYe(f,n)}):null};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}var IYe=["offset"];function OYe(t){return DYe(t)||MYe(t)||RYe(t)||NYe()}function NYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RYe(t,e){if(t){if(typeof t=="string")return lN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lN(t,e)}}function MYe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DYe(t){if(Array.isArray(t))return lN(t)}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jYe(t,e){if(t==null)return{};var n=LYe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){FYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FYe(t,e,n){return e=$Ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ye(t){var e=BYe(t,"string");return kx(e)=="symbol"?e:e+""}function BYe(t,e){if(kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}var zYe=function(e){var n=e.value,r=e.formatter,i=Mt(e.children)?n:e.children;return kt(r)?r(i):i},VYe=function(e,n){var r=eo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},UYe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,g=l.endAngle,p=l.clockWise,y=(d+h)/2,v=VYe(f,g),x=v>=0?1:-1,b,_;i==="insideStart"?(b=f+x*a,_=p):i==="insideEnd"?(b=g-x*a,_=!p):i==="end"&&(b=g+x*a,_=p),_=v<=0?_:!_;var w=mi(c,u,y,b),C=mi(c,u,y,b+(_?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),k=Mt(e.id)?Db("recharts-radial-line-"):e.id;return U.createElement("text",Ex({},r,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",o)}),U.createElement("defs",null,U.createElement("path",{id:k,d:A})),U.createElement("textPath",{xlinkHref:"#".concat(k)},n))},WYe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,h=(u+d)/2;if(i==="outside"){var f=mi(a,o,c+r,h),g=f.x,p=f.y;return{x:g,y:p,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=mi(a,o,y,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},HYe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,h=d*i,f=d>0?"end":"start",g=d>0?"start":"end",p=c>=0?1:-1,y=p*i,v=p>0?"end":"start",x=p>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return jr(jr({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var _={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return jr(jr({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var w={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return jr(jr({},w),r?{width:Math.max(w.x-r.x,0),height:u}:{})}if(s==="right"){var C={x:o+c+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return jr(jr({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var A=r?{width:c,height:u}:{};return s==="insideLeft"?jr({x:o+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideRight"?jr({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},A):s==="insideTop"?jr({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?jr({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},A):s==="insideTopLeft"?jr({x:o+y,y:l+h,textAnchor:x,verticalAnchor:g},A):s==="insideTopRight"?jr({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},A):s==="insideBottomLeft"?jr({x:o+y,y:l+u-h,textAnchor:x,verticalAnchor:f},A):s==="insideBottomRight"?jr({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:f},A):om(s)&&(Te(s.x)||Bd(s.x))&&(Te(s.y)||Bd(s.y))?jr({x:o+jh(s.x,c),y:l+jh(s.y,u),textAnchor:"end",verticalAnchor:"end"},A):jr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},YYe=function(e){return"cx"in e&&Te(e.cx)};function Li(t){var e=t.offset,n=e===void 0?5:e,r=jYe(t,IYe),i=jr({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!s||Mt(o)&&Mt(l)&&!I.isValidElement(c)&&!kt(c))return null;if(I.isValidElement(c))return I.cloneElement(c,i);var f;if(kt(c)){if(f=I.createElement(c,i),I.isValidElement(f))return f}else f=zYe(i);var g=YYe(s),p=Ft(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return UYe(i,f,p);var y=g?WYe(i):HYe(i);return U.createElement(sS,Ex({className:zt("recharts-label",d)},p,y,{breakAll:h}),f)}Li.displayName="Label";var nte=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,p=e.width,y=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(Te(p)&&Te(y)){if(Te(d)&&Te(h))return{x:d,y:h,width:p,height:y};if(Te(f)&&Te(g))return{x:f,y:g,width:p,height:y}}return Te(d)&&Te(h)?{x:d,y:h,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},XYe=function(e,n){return e?e===!0?U.createElement(Li,{key:"label-implicit",viewBox:n}):Hr(e)?U.createElement(Li,{key:"label-implicit",viewBox:n,value:e}):I.isValidElement(e)?e.type===Li?I.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Li,{key:"label-implicit",content:e,viewBox:n}):kt(e)?U.createElement(Li,{key:"label-implicit",content:e,viewBox:n}):om(e)?U.createElement(Li,Ex({viewBox:n},e,{key:"label-implicit"})):null:null},GYe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=nte(e),a=va(i,Li).map(function(l,c){return I.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=XYe(e.label,n||s);return[o].concat(OYe(a))};Li.parseViewBox=nte;Li.renderCallByParent=GYe;function qYe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var KYe=qYe;const QYe=vn(KYe);function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}var ZYe=["valueAccessor"],JYe=["data","dataKey","clockWise","id","textBreakAll"];function eXe(t){return iXe(t)||rXe(t)||nXe(t)||tXe()}function tXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nXe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function rXe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iXe(t){if(Array.isArray(t))return cN(t)}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){sXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sXe(t,e,n){return e=aXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aXe(t){var e=oXe(t,"string");return Tx(e)=="symbol"?e:e+""}function oXe(t,e){if(Tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3(t,e){if(t==null)return{};var n=lXe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cXe=function(e){return Array.isArray(e.value)?QYe(e.value):e.value};function ku(t){var e=t.valueAccessor,n=e===void 0?cXe:e,r=x3(t,ZYe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=x3(r,JYe);return!i||!i.length?null:U.createElement(xr,{className:"recharts-label-list"},i.map(function(u,d){var h=Mt(s)?n(u,d):Ks(u&&u.payload,s),f=Mt(o)?{}:{id:"".concat(o,"-").concat(d)};return U.createElement(Li,wS({},Ft(u,!0),c,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Li.parseViewBox(Mt(a)?u:v3(v3({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}ku.displayName="LabelList";function uXe(t,e){return t?t===!0?U.createElement(ku,{key:"labelList-implicit",data:e}):U.isValidElement(t)||kt(t)?U.createElement(ku,{key:"labelList-implicit",data:e,content:t}):om(t)?U.createElement(ku,wS({data:e},t,{key:"labelList-implicit"})):null:null}function dXe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=va(r,ku).map(function(a,o){return I.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=uXe(t.label,e);return[s].concat(eXe(i))}ku.renderCallByParent=dXe;function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(this,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){hXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hXe(t,e,n){return e=fXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fXe(t){var e=pXe(t,"string");return Px(e)=="symbol"?e:e+""}function pXe(t,e){if(Px(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Px(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gXe=function(e,n){var r=eo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},hw=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/bS,h=c?s:s+a*d,f=mi(n,r,u,h),g=mi(n,r,i,h),p=c?s-a*d:s,y=mi(n,r,u*Math.cos(d*bS),p);return{center:f,circleTangency:g,lineTangency:y,theta:d}},rte=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=gXe(a,o),c=a+l,u=mi(n,r,s,a),d=mi(n,r,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=mi(n,r,i,a),g=mi(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mXe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=eo(u-c),h=hw({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),f=h.circleTangency,g=h.lineTangency,p=h.theta,y=hw({cx:n,cy:r,radius:s,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=y.circleTangency,x=y.lineTangency,b=y.theta,_=l?Math.abs(c-u):Math.abs(c-u)-p-b;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):rte({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=hw({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=C.circleTangency,k=C.lineTangency,E=C.theta,T=hw({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=T.circleTangency,N=T.lineTangency,O=T.theta,L=l?Math.abs(c-u):Math.abs(c-u)-E-O;if(L<0&&a===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},yXe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ite=function(e){var n=w3(w3({},yXe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(a<s||u===d)return null;var f=zt("recharts-sector",h),g=a-s,p=jh(o,g,0,!0),y;return p>0&&Math.abs(u-d)<360?y=mXe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(p,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=rte({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),U.createElement("path",uN({},Ft(n,!0),{className:f,d:y,role:"img"}))};function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(this,arguments)}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){vXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vXe(t,e,n){return e=xXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xXe(t){var e=bXe(t,"string");return Ix(e)=="symbol"?e:e+""}function bXe(t,e){if(Ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A3={curveBasisClosed:vLe,curveBasisOpen:xLe,curveBasis:yLe,curveBumpX:rLe,curveBumpY:iLe,curveLinearClosed:bLe,curveLinear:DC,curveMonotoneX:wLe,curveMonotoneY:_Le,curveNatural:SLe,curveStep:ALe,curveStepAfter:kLe,curveStepBefore:CLe},fw=function(e){return e.x===+e.x&&e.y===+e.y},ry=function(e){return e.x},iy=function(e){return e.y},wXe=function(e,n){if(kt(e))return e;var r="curve".concat(RC(e));return(r==="curveMonotone"||r==="curveBump")&&n?A3["".concat(r).concat(n==="vertical"?"Y":"X")]:A3[r]||DC},_Xe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=wXe(r,o),d=c?s.filter(function(p){return fw(p)}):s,h;if(Array.isArray(a)){var f=c?a.filter(function(p){return fw(p)}):a,g=d.map(function(p,y){return S3(S3({},p),{},{base:f[y]})});return o==="vertical"?h=rw().y(iy).x1(ry).x0(function(p){return p.base.x}):h=rw().x(ry).y1(iy).y0(function(p){return p.base.y}),h.defined(fw).curve(u),h(g)}return o==="vertical"&&Te(a)?h=rw().y(iy).x1(ry).x0(a):Te(a)?h=rw().x(ry).y1(iy).y0(a):h=rJ().x(ry).y(iy),h.defined(fw).curve(u),h(d)},hN=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?_Xe(e):i;return U.createElement("path",dN({},Ft(e,!1),W1(e),{className:zt("recharts-curve",n),d:a,ref:s}))},SXe=Object.getOwnPropertyNames,AXe=Object.getOwnPropertySymbols,CXe=Object.prototype.hasOwnProperty;function C3(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function pw(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function k3(t){return SXe(t).concat(AXe(t))}var kXe=Object.hasOwn||function(t,e){return CXe.call(t,e)};function af(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var EXe="__v",TXe="__o",PXe="_owner",E3=Object.getOwnPropertyDescriptor,T3=Object.keys;function IXe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function OXe(t,e){return af(t.getTime(),e.getTime())}function NXe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function RXe(t,e){return t===e}function P3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(i[d]){d++;continue}var h=a.value,f=o.value;if(n.equals(h[0],f[0],l,d,t,e,n)&&n.equals(h[1],f[1],h[0],f[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var MXe=af;function DXe(t,e,n){var r=T3(t),i=r.length;if(T3(e).length!==i)return!1;for(;i-- >0;)if(!ste(t,e,n,r[i]))return!1;return!0}function sy(t,e,n){var r=k3(t),i=r.length;if(k3(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!ste(t,e,n,s)||(a=E3(t,s),o=E3(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function jXe(t,e){return af(t.valueOf(),e.valueOf())}function LXe(t,e){return t.source===e.source&&t.flags===e.flags}function I3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function FXe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $Xe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ste(t,e,n,r){return(r===PXe||r===TXe||r===EXe)&&(t.$$typeof||e.$$typeof)?!0:kXe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var BXe="[object Arguments]",zXe="[object Boolean]",VXe="[object Date]",UXe="[object Error]",WXe="[object Map]",HXe="[object Number]",YXe="[object Object]",XXe="[object RegExp]",GXe="[object Set]",qXe="[object String]",KXe="[object URL]",QXe=Array.isArray,O3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,N3=Object.assign,ZXe=Object.prototype.toString.call.bind(Object.prototype.toString);function JXe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,p,y){if(g===p)return!0;if(g==null||p==null)return!1;var v=typeof g;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?a(g,p,y):v==="function"?i(g,p,y):!1;var x=g.constructor;if(x!==p.constructor)return!1;if(x===Object)return o(g,p,y);if(QXe(g))return e(g,p,y);if(O3!=null&&O3(g))return d(g,p,y);if(x===Date)return n(g,p,y);if(x===RegExp)return c(g,p,y);if(x===Map)return s(g,p,y);if(x===Set)return u(g,p,y);var b=ZXe(g);return b===VXe?n(g,p,y):b===XXe?c(g,p,y):b===WXe?s(g,p,y):b===GXe?u(g,p,y):b===YXe?typeof g.then!="function"&&typeof p.then!="function"&&o(g,p,y):b===KXe?h(g,p,y):b===UXe?r(g,p,y):b===BXe?o(g,p,y):b===zXe||b===HXe||b===qXe?l(g,p,y):!1}}function e8e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?sy:IXe,areDatesEqual:OXe,areErrorsEqual:NXe,areFunctionsEqual:RXe,areMapsEqual:r?C3(P3,sy):P3,areNumbersEqual:MXe,areObjectsEqual:r?sy:DXe,arePrimitiveWrappersEqual:jXe,areRegExpsEqual:LXe,areSetsEqual:r?C3(I3,sy):I3,areTypedArraysEqual:r?sy:FXe,areUrlsEqual:$Xe};if(n&&(i=N3({},i,n(i))),e){var s=pw(i.areArraysEqual),a=pw(i.areMapsEqual),o=pw(i.areObjectsEqual),l=pw(i.areSetsEqual);i=N3({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function t8e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function n8e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,f=u.meta;return n(l,c,{cache:h,equals:i,meta:f,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var r8e=td();td({strict:!0});td({circular:!0});td({circular:!0,strict:!0});td({createInternalComparator:function(){return af}});td({strict:!0,createInternalComparator:function(){return af}});td({circular:!0,createInternalComparator:function(){return af}});td({circular:!0,createInternalComparator:function(){return af},strict:!0});function td(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=e8e(t),l=JXe(o),c=r?r(l):t8e(l);return n8e({circular:n,comparator:l,createState:i,equals:c,strict:a})}function i8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function R3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):i8e(i)};requestAnimationFrame(r)}function fN(t){"@babel/helpers - typeof";return fN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fN(t)}function s8e(t){return c8e(t)||l8e(t)||o8e(t)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8e(t,e){if(t){if(typeof t=="string")return M3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M3(t,e)}}function M3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c8e(t){if(Array.isArray(t))return t}function u8e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=s8e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){R3(i.bind(null,c),l);return}i(l),R3(i.bind(null,c));return}fN(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ate(t,e,n){return e=d8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8e(t){var e=h8e(t,"string");return Ox(e)==="symbol"?e:String(e)}function h8e(t,e){if(Ox(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ox(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f8e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},p8e=function(e){return e},g8e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},cv=function(e,n){return Object.keys(n).reduce(function(r,i){return j3(j3({},r),{},ate({},i,e(i,n[i])))},{})},L3=function(e,n,r){return e.map(function(i){return"".concat(g8e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function m8e(t,e){return x8e(t)||v8e(t,e)||ote(t,e)||y8e()}function y8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function x8e(t){if(Array.isArray(t))return t}function b8e(t){return S8e(t)||_8e(t)||ote(t)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(t,e){if(t){if(typeof t=="string")return pN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pN(t,e)}}function _8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S8e(t){if(Array.isArray(t))return pN(t)}function pN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _S=1e-4,lte=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cte=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},F3=function(e,n){return function(r){var i=lte(e,n);return cte(i,r)}},A8e=function(e,n){return function(r){var i=lte(e,n),s=[].concat(b8e(i.map(function(a,o){return a*o}).slice(1)),[0]);return cte(s,r)}},$3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=m8e(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var d=F3(i,a),h=F3(s,o),f=A8e(i,a),g=function(v){return v>1?1:v<0?0:v},p=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var w=d(b)-x,C=f(b);if(Math.abs(w-x)<_S||C<_S)return h(b);b=g(b-w/C)}return h(b)};return p.isStepper=!1,p},C8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,d,h){var f=-(u-d)*r,g=h*s,p=h+(f-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-d)<_S&&Math.abs(p)<_S?[d,0]:[y,p]};return l.isStepper=!0,l.dt=o,l},k8e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $3(i);case"spring":return C8e();default:if(i.split("(")[0]==="cubic-bezier")return $3(i)}return typeof i=="function"?i:null};function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function B3(t){return P8e(t)||T8e(t)||ute(t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P8e(t){if(Array.isArray(t))return mN(t)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){gN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gN(t,e,n){return e=I8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8e(t){var e=O8e(t,"string");return Nx(e)==="symbol"?e:String(e)}function O8e(t,e){if(Nx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N8e(t,e){return D8e(t)||M8e(t,e)||ute(t,e)||R8e()}function R8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return mN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function D8e(t){if(Array.isArray(t))return t}var SS=function(e,n,r){return e+(n-e)*r},yN=function(e){var n=e.from,r=e.to;return n!==r},j8e=function t(e,n,r){var i=cv(function(s,a){if(yN(a)){var o=e(a.from,a.to,a.velocity),l=N8e(o,2),c=l[0],u=l[1];return li(li({},a),{},{from:c,velocity:u})}return a},n);return r<1?cv(function(s,a){return yN(a)?li(li({},a),{},{velocity:SS(a.velocity,i[s].velocity,r),from:SS(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const L8e=function(t,e,n,r,i){var s=f8e(t,e),a=s.reduce(function(y,v){return li(li({},y),{},gN({},v,[t[v],e[v]]))},{}),o=s.reduce(function(y,v){return li(li({},y),{},gN({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return cv(function(v,x){return x.from},o)},f=function(){return!Object.values(o).filter(yN).length},g=function(v){c||(c=v);var x=v-c,b=x/n.dt;o=j8e(n,o,b),i(li(li(li({},t),e),h())),c=v,f()||(l=requestAnimationFrame(d))},p=function(v){u||(u=v);var x=(v-u)/r,b=cv(function(w,C){return SS.apply(void 0,B3(C).concat([n(x)]))},a);if(i(li(li(li({},t),e),b)),x<1)l=requestAnimationFrame(d);else{var _=cv(function(w,C){return SS.apply(void 0,B3(C).concat([n(1)]))},a);i(li(li(li({},t),e),_))}};return d=n.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}var F8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $8e(t,e){if(t==null)return{};var n=B8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B8e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TT(t){return W8e(t)||U8e(t)||V8e(t)||z8e()}function z8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8e(t,e){if(t){if(typeof t=="string")return vN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(t,e)}}function U8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W8e(t){if(Array.isArray(t))return vN(t)}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Oy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oy(t,e,n){return e=dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dte(r.key),r)}}function X8e(t,e,n){return e&&Y8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dte(t){var e=G8e(t,"string");return Sg(e)==="symbol"?e:String(e)}function G8e(t,e){if(Sg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xN(t,e)}function xN(t,e){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xN(t,e)}function K8e(t){var e=Q8e();return function(){var r=AS(t),i;if(e){var s=AS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return bN(this,i)}}function bN(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wN(t)}function wN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}var rc=function(t){q8e(n,t);var e=K8e(n);function n(r,i){var s;H8e(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,h=a.children,f=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(wN(s)),s.changeStyle=s.changeStyle.bind(wN(s)),!o||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),bN(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},bN(s);s.state={style:l?Oy({},l,c):c}}else s.state={style:{}};return s}return X8e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,h=this.state.style;if(o){if(!a){var f={style:l?Oy({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(f);return}if(!(r8e(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||c?d:i.to;if(this.state&&h){var y={style:l?Oy({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(y)}this.runAnimation(Da(Da({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=L8e(a,o,k8e(c),l,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,h=d===void 0?0:d,f=function(p,y,v){if(v===0)return p;var x=y.duration,b=y.easing,_=b===void 0?"ease":b,w=y.style,C=y.properties,A=y.onAnimationEnd,k=v>0?a[v-1]:y,E=C||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(TT(p),[s.runJSAnimation.bind(s,{from:k.style,to:w,duration:x,easing:_}),x]);var T=L3(E,x,_),P=Da(Da(Da({},k.style),w),{},{transition:T});return[].concat(TT(p),[P,x,A]).filter(p8e)};return this.manager.start([l].concat(TT(a.reduce(f,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=u8e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=o?Oy({},o,l):l,y=L3(Object.keys(p),a,c);g.start([u,s,Da(Da({},p),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$8e(i,F8e),c=I.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var d=function(f){var g=f.props,p=g.style,y=p===void 0?{}:p,v=g.className,x=I.cloneElement(f,Da(Da({},l),{},{style:Da(Da({},y),u),className:v}));return x};return c===1?d(I.Children.only(s)):U.createElement("div",null,I.Children.map(s,function(h){return d(h)}))}}]),n}(I.PureComponent);rc.displayName="Animate";rc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rc.propTypes={from:ln.oneOfType([ln.object,ln.string]),to:ln.oneOfType([ln.object,ln.string]),attributeName:ln.string,duration:ln.number,begin:ln.number,easing:ln.oneOfType([ln.string,ln.func]),steps:ln.arrayOf(ln.shape({duration:ln.number.isRequired,style:ln.object.isRequired,easing:ln.oneOfType([ln.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ln.func]),properties:ln.arrayOf("string"),onAnimationEnd:ln.func})),children:ln.oneOfType([ln.node,ln.func]),isActive:ln.bool,canBegin:ln.bool,onAnimationEnd:ln.func,shouldReAnimate:ln.bool,onAnimationStart:ln.func,onAnimationReStart:ln.func};function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(this,arguments)}function Z8e(t,e){return nGe(t)||tGe(t,e)||eGe(t,e)||J8e()}function J8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eGe(t,e){if(t){if(typeof t=="string")return U3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U3(t,e)}}function U3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function nGe(t){if(Array.isArray(t))return t}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){rGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rGe(t,e,n){return e=iGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iGe(t){var e=sGe(t,"string");return Rx(e)=="symbol"?e:e+""}function sGe(t,e){if(Rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y3=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>a?a:s[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},aGe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},oGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wj=function(e){var n=H3(H3({},oGe),e),r=I.useRef(),i=I.useState(-1),s=Z8e(i,2),a=s[0],o=s[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,f=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=zt("recharts-rectangle",f);return x?U.createElement(rc,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:p,animationEasing:g,isActive:x},function(_){var w=_.width,C=_.height,A=_.x,k=_.y;return U.createElement(rc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:v,easing:g},U.createElement("path",CS({},Ft(n,!0),{className:b,d:Y3(A,k,w,C,h),ref:r})))}):U.createElement("path",CS({},Ft(n,!0),{className:b,d:Y3(l,c,u,d,h)}))};function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_N.apply(this,arguments)}var _j=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=zt("recharts-dot",s);return n===+n&&r===+r&&i===+i?U.createElement("circle",_N({},Ft(e,!1),W1(e),{className:a,cx:n,cy:r,r:i})):null};function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}var lGe=["x","y","top","left","width","height","className"];function SN(){return SN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SN.apply(this,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cGe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){uGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uGe(t,e,n){return e=dGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dGe(t){var e=hGe(t,"string");return Mx(e)=="symbol"?e:e+""}function hGe(t,e){if(Mx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fGe(t,e){if(t==null)return{};var n=pGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gGe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},mGe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,f=h===void 0?0:h,g=e.className,p=fGe(e,lGe),y=cGe({x:r,y:s,top:o,left:c,width:d,height:f},p);return!Te(r)||!Te(s)||!Te(d)||!Te(f)||!Te(o)||!Te(c)?null:U.createElement("path",SN({},Ft(y,!0),{className:zt("recharts-cross",g),d:gGe(r,s,d,f,o,c)}))},yGe=EJ,vGe=yGe(Object.getPrototypeOf,Object),xGe=vGe,bGe=hc,wGe=xGe,_Ge=fc,SGe="[object Object]",AGe=Function.prototype,CGe=Object.prototype,hte=AGe.toString,kGe=CGe.hasOwnProperty,EGe=hte.call(Object);function TGe(t){if(!_Ge(t)||bGe(t)!=SGe)return!1;var e=wGe(t);if(e===null)return!0;var n=kGe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hte.call(n)==EGe}var PGe=TGe;const IGe=vn(PGe);var OGe=hc,NGe=fc,RGe="[object Boolean]";function MGe(t){return t===!0||t===!1||NGe(t)&&OGe(t)==RGe}var DGe=MGe;const jGe=vn(DGe);function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function LGe(t,e){return zGe(t)||BGe(t,e)||$Ge(t,e)||FGe()}function FGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ge(t,e){if(t){if(typeof t=="string")return G3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(t,e)}}function G3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zGe(t){if(Array.isArray(t))return t}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){VGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VGe(t,e,n){return e=UGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UGe(t){var e=WGe(t,"string");return Dx(e)=="symbol"?e:e+""}function WGe(t,e){if(Dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},HGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YGe=function(e){var n=K3(K3({},HGe),e),r=I.useRef(),i=I.useState(-1),s=LGe(i,2),a=s[0],o=s[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,f=n.className,g=n.animationEasing,p=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=zt("recharts-trapezoid",f);return v?U.createElement(rc,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:p,animationEasing:g,isActive:v},function(b){var _=b.upperWidth,w=b.lowerWidth,C=b.height,A=b.x,k=b.y;return U.createElement(rc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},U.createElement("path",kS({},Ft(n,!0),{className:x,d:Q3(A,k,_,w,C),ref:r})))}):U.createElement("g",null,U.createElement("path",kS({},Ft(n,!0),{className:x,d:Q3(l,c,u,d,h)})))},XGe=["option","shapeType","propTransformer","activeClassName","isActive"];function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function GGe(t,e){if(t==null)return{};var n=qGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ES(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){KGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KGe(t,e,n){return e=QGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QGe(t){var e=ZGe(t,"string");return jx(e)=="symbol"?e:e+""}function ZGe(t,e){if(jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JGe(t,e){return ES(ES({},e),t)}function eqe(t,e){return t==="symbols"}function J3(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(wj,n);case"trapezoid":return U.createElement(YGe,n);case"sector":return U.createElement(ite,n);case"symbols":if(eqe(e))return U.createElement(BD,n);break;default:return null}}function tqe(t){return I.isValidElement(t)?t.props:t}function nqe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?JGe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=GGe(t,XGe),c;if(I.isValidElement(e))c=I.cloneElement(e,ES(ES({},l),tqe(e)));else if(kt(e))c=e(l);else if(IGe(e)&&!jGe(e)){var u=i(e,l);c=U.createElement(J3,{shapeType:n,elementProps:u})}else{var d=l;c=U.createElement(J3,{shapeType:n,elementProps:d})}return o?U.createElement(xr,{className:a},c):c}function QC(t,e){return e!=null&&"trapezoids"in t.props}function ZC(t,e){return e!=null&&"sectors"in t.props}function Lx(t,e){return e!=null&&"points"in t.props}function rqe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function iqe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function sqe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function aqe(t,e){var n;return QC(t,e)?n=rqe:ZC(t,e)?n=iqe:Lx(t,e)&&(n=sqe),n}function oqe(t,e){var n;return QC(t,e)?n="trapezoids":ZC(t,e)?n="sectors":Lx(t,e)&&(n="points"),n}function lqe(t,e){if(QC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ZC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lx(t,e)?e.payload:{}}function cqe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=oqe(n,e),s=lqe(n,e),a=r.filter(function(l,c){var u=GC(s,l),d=n.props[i].filter(function(g){var p=aqe(n,e);return p(g,e)}),h=n.props[i].indexOf(d[d.length-1]),f=c===h;return u&&f}),o=r.indexOf(a[a.length-1]);return o}var uqe=Math.ceil,dqe=Math.max;function hqe(t,e,n,r){for(var i=-1,s=dqe(uqe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var fqe=hqe,pqe=YJ,gqe=1/0,mqe=17976931348623157e292;function yqe(t){if(!t)return t===0?t:0;if(t=pqe(t),t===gqe||t===-1/0){var e=t<0?-1:1;return e*mqe}return t===t?t:0}var fte=yqe,vqe=fqe,xqe=$C,PT=fte;function bqe(t){return function(e,n,r){return r&&typeof r!="number"&&xqe(e,n,r)&&(n=r=void 0),e=PT(e),n===void 0?(n=e,e=0):n=PT(n),r=r===void 0?e<n?1:-1:PT(r),vqe(e,n,r,t)}}var wqe=bqe,_qe=wqe,Sqe=_qe(),Aqe=Sqe;const TS=vn(Aqe);function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function eW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return e=Cqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cqe(t){var e=kqe(t,"string");return Fx(e)=="symbol"?e:e+""}function kqe(t,e){if(Fx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eqe=["Webkit","Moz","O","ms"],Tqe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Eqe.reduce(function(s,a){return tW(tW({},s),{},pte({},a+r,n))},{});return i[e]=n,i};function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function nW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mte(r.key),r)}}function Iqe(t,e,n){return e&&rW(t.prototype,e),n&&rW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oqe(t,e,n){return e=IS(e),Nqe(t,gte()?Reflect.construct(e,n||[],IS(t).constructor):e.apply(t,n))}function Nqe(t,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rqe(t)}function Rqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!t})()}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IS(t)}function Mqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AN(t,e)}function AN(t,e){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AN(t,e)}function js(t,e,n){return e=mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mte(t){var e=Dqe(t,"string");return Ag(e)=="symbol"?e:e+""}function Dqe(t,e){if(Ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jqe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=ov().domain(TS(0,l)).range([s,s+a-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},iW=function(e){return e.changedTouches&&!!e.changedTouches.length},Cg=function(t){function e(n){var r;return Pqe(this,e),r=Oqe(this,e,[n]),js(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),js(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),js(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),js(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),js(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),js(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),js(r,"handleSlideDragStart",function(i){var s=iW(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mqe(e,t),Iqe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,s),h=Math.max(i,s),f=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:f-f%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Ks(s[r],o,r);return kt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,g=l.onChange,p=r.pageX-s;p>0?p=Math.min(p,c+u-d-o,c+u-d-a):p<0&&(p=Math.max(p,c-a,c-o));var y=this.getIndex({startX:a+p,endX:o+p});(y.startIndex!==h||y.endIndex!==f)&&g&&g(y),this.setState({startX:a+p,endX:o+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=iW(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,p=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-s;x>0?x=Math.min(x,d+h-f-c):x<0&&(x=Math.max(x,d-c)),v[a]=c+x;var b=this.getIndex(v),_=b.startIndex,w=b.endIndex,C=function(){var k=y.length-1;return a==="startX"&&(o>l?_%p===0:w%p===0)||o<l&&w===k||a==="endX"&&(o>l?w%p===0:_%p===0)||o>l&&w===k};this.setState(js(js({},a,c+x),"brushMoveStartX",r.pageX),function(){g&&C()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var f=o[h];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(js({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return U.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=I.Children.only(c);return d?U.cloneElement(d,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,g=l.data,p=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),x=IT(IT({},Ft(this.props,!1)),{},{x:v,y:c,width:u,height:d}),b=f||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[y])===null||a===void 0?void 0:a.name);return U.createElement(xr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:c};return U.createElement(xr,{className:"recharts-brush-texts"},U.createElement(sS,PS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:a+o/2},g),this.getTextOfTick(i)),U.createElement(sS,PS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,f=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!Te(o)||!Te(l)||!Te(c)||!Te(u)||c<=0||u<=0)return null;var b=zt("recharts-brush",s),_=U.Children.count(a)===1,w=Tqe("userSelect","none");return U.createElement(xr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):kt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return IT({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?jqe({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(I.PureComponent);js(Cg,"displayName","Brush");js(Cg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lqe=XD;function Fqe(t,e){var n;return Lqe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var $qe=Fqe,Bqe=xJ,zqe=Zu,Vqe=$qe,Uqe=Ps,Wqe=$C;function Hqe(t,e,n){var r=Uqe(t)?Bqe:Vqe;return n&&Wqe(t,e,n)&&(e=void 0),r(t,zqe(e))}var Yqe=Hqe;const Xqe=vn(Yqe);var Qo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},sW=zJ;function Gqe(t,e,n){e=="__proto__"&&sW?sW(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var qqe=Gqe,Kqe=qqe,Qqe=$J,Zqe=Zu;function Jqe(t,e){var n={};return e=Zqe(e),Qqe(t,function(r,i,s){Kqe(n,i,e(r,i,s))}),n}var e7e=Jqe;const t7e=vn(e7e);function n7e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var r7e=n7e,i7e=XD;function s7e(t,e){var n=!0;return i7e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var a7e=s7e,o7e=r7e,l7e=a7e,c7e=Zu,u7e=Ps,d7e=$C;function h7e(t,e,n){var r=u7e(t)?o7e:l7e;return n&&d7e(t,e,n)&&(e=void 0),r(t,c7e(e))}var f7e=h7e;const yte=vn(f7e);var p7e=["x","y"];function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}function CN(){return CN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CN.apply(this,arguments)}function aW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(n),!0).forEach(function(r){g7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g7e(t,e,n){return e=m7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m7e(t){var e=y7e(t,"string");return $x(e)=="symbol"?e:e+""}function y7e(t,e){if($x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v7e(t,e){if(t==null)return{};var n=x7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b7e(t,e){var n=t.x,r=t.y,i=v7e(t,p7e),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return ay(ay(ay(ay(ay({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function oW(t){return U.createElement(nqe,CN({shapeType:"rectangle",propTransformer:b7e,activeClassName:"recharts-active-bar"},t))}var w7e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Fh(),n)}},_7e=["value","background"],vte;function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function S7e(t,e){if(t==null)return{};var n=A7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){ou(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bte(r.key),r)}}function k7e(t,e,n){return e&&cW(t.prototype,e),n&&cW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E7e(t,e,n){return e=NS(e),T7e(t,xte()?Reflect.construct(e,n||[],NS(t).constructor):e.apply(t,n))}function T7e(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P7e(t)}function P7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xte=function(){return!!t})()}function NS(t){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NS(t)}function I7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kN(t,e)}function kN(t,e){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kN(t,e)}function ou(t,e,n){return e=bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=O7e(t,"string");return kg(e)=="symbol"?e:e+""}function O7e(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vu=function(t){function e(){var n;C7e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=E7e(this,e,[].concat(i)),ou(n,"state",{isAnimationFinished:!1}),ou(n,"id",Db("recharts-bar-")),ou(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ou(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return I7e(e,t),k7e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Ft(this.props,!1);return r&&r.map(function(d,h){var f=h===l,g=f?c:a,p=Ar(Ar(Ar({},u),d),{},{isActive:f,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(xr,OS({className:"recharts-bar-rectangle"},H1(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),U.createElement(oW,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return U.createElement(rc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,p=s.map(function(y,v){var x=h&&h[v];if(x){var b=Ya(x.x,y.x),_=Ya(x.y,y.y),w=Ya(x.width,y.width),C=Ya(x.height,y.height);return Ar(Ar({},y),{},{x:b(g),y:_(g),width:w(g),height:C(g)})}if(a==="horizontal"){var A=Ya(0,y.height),k=A(g);return Ar(Ar({},y),{},{y:y.y+y.height-k,height:k})}var E=Ya(0,y.width),T=E(g);return Ar(Ar({},y),{},{width:T})});return U.createElement(xr,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!GC(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Ft(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,h=S7e(c,_7e);if(!d)return null;var f=Ar(Ar(Ar(Ar(Ar({},h),{},{fill:"#eee"},d),l),H1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return U.createElement(oW,OS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},f))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=va(u,zb);if(!d)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,f=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Ks(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(xr,g,d.map(function(p){return U.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,f=r.isAnimationActive,g=r.background,p=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=zt("recharts-bar",a),x=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,_=x||b,w=Mt(p)?this.id:p;return U.createElement(xr,{className:v},x||b?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:x?c:c-d/2,y:b?u:u-h/2,width:x?d:d*2,height:b?h:h*2}))):null,U.createElement(xr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!f||y)&&ku.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(I.PureComponent);vte=Vu;ou(Vu,"displayName","Bar");ou(Vu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ou(Vu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,f=dYe(r,n);if(!f)return null;var g=e.layout,p=n.type.defaultProps,y=p!==void 0?Ar(Ar({},p),n.props):n.props,v=y.dataKey,x=y.children,b=y.minPointSize,_=g==="horizontal"?a:s,w=c?_.scale.domain():null,C=xYe({numericAxis:_}),A=va(x,qJ),k=d.map(function(E,T){var P,N,O,L,$,F;c?P=hYe(c[u+T],w):(P=Ks(E,v),Array.isArray(P)||(P=[C,P]));var B=w7e(b,vte.defaultProps.minPointSize)(P[1],T);if(g==="horizontal"){var D,z=[a.scale(P[0]),a.scale(P[1])],W=z[0],X=z[1];N=c3({axis:s,ticks:o,bandSize:i,offset:f.offset,entry:E,index:T}),O=(D=X??W)!==null&&D!==void 0?D:void 0,L=f.size;var q=W-X;if($=Number.isNaN(q)?0:q,F={x:N,y:a.y,width:L,height:a.height},Math.abs(B)>0&&Math.abs($)<Math.abs(B)){var J=eo($||B)*(Math.abs(B)-Math.abs($));O-=J,$+=J}}else{var ae=[s.scale(P[0]),s.scale(P[1])],_e=ae[0],K=ae[1];if(N=_e,O=c3({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:E,index:T}),L=K-_e,$=f.size,F={x:s.x,y:O,width:s.width,height:$},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var fe=eo(L||B)*(Math.abs(B)-Math.abs(L));L+=fe}}return Ar(Ar(Ar({},E),{},{x:N,y:O,width:L,height:$,value:c?P:P[1],payload:E,background:F},A&&A[T]&&A[T].props),{},{tooltipPayload:[tte(n,E)],tooltipPosition:{x:N+L/2,y:O+$/2}})});return Ar({data:k,layout:g},h)});function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function N7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wte(r.key),r)}}function R7e(t,e,n){return e&&uW(t.prototype,e),n&&uW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(n),!0).forEach(function(r){JC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JC(t,e,n){return e=wte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=M7e(t,"string");return Bx(e)=="symbol"?e:e+""}function M7e(t,e){if(Bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _te=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Fs(c,Vu);return u.reduce(function(f,g){var p=n[g],y=p.orientation,v=p.domain,x=p.padding,b=x===void 0?{}:x,_=p.mirror,w=p.reversed,C="".concat(y).concat(_?"Mirror":""),A,k,E,T,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var N=v[1]-v[0],O=1/0,L=p.categoricalDomain.sort(HDe);if(L.forEach(function(ae,_e){_e>0&&(O=Math.min((ae||0)-(L[_e-1]||0),O))}),Number.isFinite(O)){var $=O/N,F=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(A=$*F/2),p.padding==="no-gap"){var B=jh(e.barCategoryGap,$*F),D=$*F/2;A=D-B-(D-B)/F*B}}}i==="xAxis"?k=[r.left+(b.left||0)+(A||0),r.left+r.width-(b.right||0)-(A||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(A||0),r.top+r.height-(b.bottom||0)-(A||0)]:k=p.range,w&&(k=[k[1],k[0]]);var z=cYe(p,s,h),W=z.scale,X=z.realScaleType;W.domain(v).range(k),uYe(W);var q=vYe(W,za(za({},p),{},{realScaleType:X}));i==="xAxis"?(P=y==="top"&&!_||y==="bottom"&&_,E=r.left,T=d[C]-P*p.height):i==="yAxis"&&(P=y==="left"&&!_||y==="right"&&_,E=d[C]-P*p.width,T=r.top);var J=za(za(za({},p),q),{},{realScaleType:X,x:E,y:T,scale:W,width:i==="xAxis"?r.width:p.width,height:i==="yAxis"?r.height:p.height});return J.bandSize=xS(J,q),!p.hide&&i==="xAxis"?d[C]+=(P?-1:1)*J.height:p.hide||(d[C]+=(P?-1:1)*J.width),za(za({},f),{},JC({},g,J))},{})},Ste=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},D7e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Ste({x:n,y:r},{x:i,y:s})},Ate=function(){function t(e){N7e(this,t),this.scale=e}return R7e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();JC(Ate,"EPS",1e-4);var Sj=function(e){var n=Object.keys(e).reduce(function(r,i){return za(za({},r),{},JC({},i,Ate.create(e[i])))},{});return za(za({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return t7e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return yte(i,function(s,a){return n[a].isInRange(s)})}})};function j7e(t){return(t%180+180)%180}var L7e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=j7e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},F7e=Zu,$7e=jb,B7e=LC;function z7e(t){return function(e,n,r){var i=Object(e);if(!$7e(e)){var s=F7e(n);e=B7e(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var V7e=z7e,U7e=fte;function W7e(t){var e=U7e(t),n=e%1;return e===e?n?e-n:e:0}var H7e=W7e,Y7e=RJ,X7e=Zu,G7e=H7e,q7e=Math.max;function K7e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:G7e(n);return i<0&&(i=q7e(r+i,0)),Y7e(t,X7e(e),i)}var Q7e=K7e,Z7e=V7e,J7e=Q7e,eKe=Z7e(J7e),tKe=eKe;const nKe=vn(tKe);var rKe=qMe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Aj=I.createContext(void 0),Cj=I.createContext(void 0),Cte=I.createContext(void 0),kte=I.createContext({}),Ete=I.createContext(void 0),Tte=I.createContext(0),Pte=I.createContext(0),hW=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=rKe(s);return U.createElement(Aj.Provider,{value:r},U.createElement(Cj.Provider,{value:i},U.createElement(kte.Provider,{value:s},U.createElement(Cte.Provider,{value:u},U.createElement(Ete.Provider,{value:a},U.createElement(Tte.Provider,{value:c},U.createElement(Pte.Provider,{value:l},o)))))))},iKe=function(){return I.useContext(Ete)},Ite=function(e){var n=I.useContext(Aj);n==null&&Fh();var r=n[e];return r==null&&Fh(),r},sKe=function(){var e=I.useContext(Aj);return Bc(e)},aKe=function(){var e=I.useContext(Cj),n=nKe(e,function(r){return yte(r.domain,Number.isFinite)});return n||Bc(e)},Ote=function(e){var n=I.useContext(Cj);n==null&&Fh();var r=n[e];return r==null&&Fh(),r},oKe=function(){var e=I.useContext(Cte);return e},lKe=function(){return I.useContext(kte)},kj=function(){return I.useContext(Pte)},Ej=function(){return I.useContext(Tte)};function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function cKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rte(r.key),r)}}function dKe(t,e,n){return e&&uKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hKe(t,e,n){return e=RS(e),fKe(t,Nte()?Reflect.construct(e,n||[],RS(t).constructor):e.apply(t,n))}function fKe(t,e){if(e&&(Eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pKe(t)}function pKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nte=function(){return!!t})()}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}function gKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EN(t,e)}function EN(t,e){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EN(t,e)}function fW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(n),!0).forEach(function(r){Tj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tj(t,e,n){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=mKe(t,"string");return Eg(e)=="symbol"?e:e+""}function mKe(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yKe(t,e){return wKe(t)||bKe(t,e)||xKe(t,e)||vKe()}function vKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xKe(t,e){if(t){if(typeof t=="string")return gW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gW(t,e)}}function gW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function wKe(t){if(Array.isArray(t))return t}function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN.apply(this,arguments)}var _Ke=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):kt(e)?r=e(n):r=U.createElement("line",TN({},n,{className:"recharts-reference-line-line"})),r},SKe=function(e,n,r,i,s,a,o,l,c){var u=s.x,d=s.y,h=s.width,f=s.height;if(r){var g=c.y,p=e.y.apply(g,{position:a});if(Qo(c,"discard")&&!e.y.isInRange(p))return null;var y=[{x:u+h,y:p},{x:u,y:p}];return l==="left"?y.reverse():y}if(n){var v=c.x,x=e.x.apply(v,{position:a});if(Qo(c,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:d+f},{x,y:d}];return o==="top"?b.reverse():b}if(i){var _=c.segment,w=_.map(function(C){return e.apply(C,{position:a})});return Qo(c,"discard")&&Xqe(w,function(C){return!e.isInRange(C)})?null:w}return null};function AKe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=iKe(),u=Ite(i),d=Ote(s),h=oKe();if(!c||!h)return null;$l(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sj({x:u.scale,y:d.scale}),g=Hr(e),p=Hr(n),y=r&&r.length===2,v=SKe(f,g,p,y,h,t.position,u.orientation,d.orientation,t);if(!v)return null;var x=yKe(v,2),b=x[0],_=b.x,w=b.y,C=x[1],A=C.x,k=C.y,E=Qo(t,"hidden")?"url(#".concat(c,")"):void 0,T=pW(pW({clipPath:E},Ft(t,!0)),{},{x1:_,y1:w,x2:A,y2:k});return U.createElement(xr,{className:zt("recharts-reference-line",o)},_Ke(a,T),Li.renderCallByParent(t,D7e({x1:_,y1:w,x2:A,y2:k})))}var ek=function(t){function e(){return cKe(this,e),hKe(this,e,arguments)}return gKe(e,t),dKe(e,[{key:"render",value:function(){return U.createElement(AKe,this.props)}}])}(U.Component);Tj(ek,"displayName","ReferenceLine");Tj(ek,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function PN(){return PN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PN.apply(this,arguments)}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function mW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(n),!0).forEach(function(r){tk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dte(r.key),r)}}function EKe(t,e,n){return e&&kKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TKe(t,e,n){return e=MS(e),PKe(t,Mte()?Reflect.construct(e,n||[],MS(t).constructor):e.apply(t,n))}function PKe(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(t)}function IKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!t})()}function MS(t){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MS(t)}function OKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IN(t,e)}function IN(t,e){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IN(t,e)}function tk(t,e,n){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=NKe(t,"string");return Tg(e)=="symbol"?e:e+""}function NKe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RKe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=Sj({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Qo(e,"discard")&&!a.isInRange(o)?null:o},nk=function(t){function e(){return CKe(this,e),TKe(this,e,arguments)}return OKe(e,t),EKe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Hr(i),u=Hr(s);if($l(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=RKe(this.props);if(!d)return null;var h=d.x,f=d.y,g=this.props,p=g.shape,y=g.className,v=Qo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=yW(yW({clipPath:v},Ft(this.props,!0)),{},{cx:h,cy:f});return U.createElement(xr,{className:zt("recharts-reference-dot",y)},e.renderDot(p,x),Li.renderCallByParent(this.props,{x:h-a,y:f-a,width:2*a,height:2*a}))}}])}(U.Component);tk(nk,"displayName","ReferenceDot");tk(nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});tk(nk,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):kt(t)?n=t(e):n=U.createElement(_j,PN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ON.apply(this,arguments)}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function vW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(n),!0).forEach(function(r){rk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lte(r.key),r)}}function jKe(t,e,n){return e&&DKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LKe(t,e,n){return e=DS(e),FKe(t,jte()?Reflect.construct(e,n||[],DS(t).constructor):e.apply(t,n))}function FKe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ke(t)}function $Ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!t})()}function DS(t){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DS(t)}function BKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NN(t,e)}function NN(t,e){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NN(t,e)}function rk(t,e,n){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=zKe(t,"string");return Pg(e)=="symbol"?e:e+""}function zKe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VKe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var h=Sj({x:u.scale,y:d.scale}),f={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Qo(s,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:Ste(f,g)},ik=function(t){function e(){return MKe(this,e),LKe(this,e,arguments)}return BKe(e,t),jKe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;$l(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Hr(i),h=Hr(s),f=Hr(a),g=Hr(o),p=this.props.shape;if(!d&&!h&&!f&&!g&&!p)return null;var y=VKe(d,h,f,g,this.props);if(!y&&!p)return null;var v=Qo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return U.createElement(xr,{className:zt("recharts-reference-area",l)},e.renderRect(p,xW(xW({clipPath:v},Ft(this.props,!0)),y)),Li.renderCallByParent(this.props,y))}}])}(U.Component);rk(ik,"displayName","ReferenceArea");rk(ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rk(ik,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):kt(t)?n=t(e):n=U.createElement(wj,ON({},e,{className:"recharts-reference-area-rect"})),n});function Fte(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function UKe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return L7e(r,n)}function WKe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function jS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function HKe(t,e){return Fte(t,e+1)}function YKe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:Fte(r,c)};var p=l,y,v=function(){return y===void 0&&(y=n(g,p)),y},x=g.coordinate,b=l===0||jS(t,x,v,u,o);b||(l=0,u=a,c+=1),b&&(u=x+t*(v()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}function bW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(n),!0).forEach(function(r){XKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XKe(t,e,n){return e=GKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GKe(t){var e=qKe(t,"string");return zx(e)=="symbol"?e:e+""}function qKe(t,e){if(zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KKe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var f=s[h],g,p=function(){return g===void 0&&(g=n(f,h)),g};if(h===a-1){var y=t*(f.coordinate+t*p()/2-l);s[h]=f=Ri(Ri({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate})}else s[h]=f=Ri(Ri({},f),{},{tickCoord:f.coordinate});var v=jS(t,f.tickCoord,p,o,l);v&&(l=f.tickCoord-t*(p()/2+i),s[h]=Ri(Ri({},f),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function QKe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);a[o-1]=u=Ri(Ri({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=jS(t,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-t*(d/2+i),a[o-1]=Ri(Ri({},u),{},{isShow:!0}))}for(var g=s?o-1:o,p=function(x){var b=a[x],_,w=function(){return _===void 0&&(_=n(b,x)),_};if(x===0){var C=t*(b.coordinate-t*w()/2-l);a[x]=b=Ri(Ri({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else a[x]=b=Ri(Ri({},b),{},{tickCoord:b.coordinate});var A=jS(t,b.tickCoord,w,l,c);A&&(l=b.tickCoord+t*(w()/2+i),a[x]=Ri(Ri({},b),{},{isShow:!0}))},y=0;y<g;y++)p(y);return a}function Pj(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Te(l)||pm.isSsr)return HKe(i,typeof l=="number"&&Te(l)?l:0);var h=[],f=o==="top"||o==="bottom"?"width":"height",g=u&&f==="width"?av(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(b,_){var w=kt(c)?c(b.value,_):b.value;return f==="width"?UKe(av(w,{fontSize:e,letterSpacing:n}),g,d):av(w,{fontSize:e,letterSpacing:n})[f]},y=i.length>=2?eo(i[1].coordinate-i[0].coordinate):1,v=WKe(s,y,f);return l==="equidistantPreserveStart"?YKe(y,v,p,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=QKe(y,v,p,i,a,l==="preserveStartEnd"):h=KKe(y,v,p,i,a),h.filter(function(x){return x.isShow}))}var ZKe=["viewBox"],JKe=["viewBox"],eQe=["ticks"];function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function wW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(n),!0).forEach(function(r){Ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OT(t,e){if(t==null)return{};var n=tQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bte(r.key),r)}}function rQe(t,e,n){return e&&_W(t.prototype,e),n&&_W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iQe(t,e,n){return e=LS(e),sQe(t,$te()?Reflect.construct(e,n||[],LS(t).constructor):e.apply(t,n))}function sQe(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQe(t)}function aQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($te=function(){return!!t})()}function LS(t){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LS(t)}function oQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RN(t,e)}function RN(t,e){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RN(t,e)}function Ij(t,e,n){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=lQe(t,"string");return Ig(e)=="symbol"?e:e+""}function lQe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vm=function(t){function e(n){var r;return nQe(this,e),r=iQe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oQe(e,t),rQe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=OT(r,ZKe),o=this.props,l=o.viewBox,c=OT(o,JKe);return!bp(s,l)||!bp(a,c)||!bp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,f,g,p,y,v,x,b=d?-1:1,_=r.tickSize||u,w=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":f=g=r.coordinate,y=a+ +!d*l,p=y-b*_,x=p-b*h,v=w;break;case"left":p=y=r.coordinate,g=s+ +!d*o,f=g-b*_,v=f-b*h,x=w;break;case"right":p=y=r.coordinate,g=s+ +d*o,f=g+b*_,v=f+b*h,x=w;break;default:f=g=r.coordinate,y=a+ +d*l,p=y+b*_,x=p+b*h,v=w;break}return{line:{x1:f,y1:p,x2:g,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Xi(Xi(Xi({},Ft(this.props,!1)),Ft(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Xi(Xi({},d),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=Xi(Xi({},d),{},{x1:i+f*a,y1:s,x2:i+f*a,y2:s+o})}return U.createElement("line",tp({},d,{className:zt("recharts-cartesian-axis-line",ya(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,f=Pj(Xi(Xi({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=Ft(this.props,!1),v=Ft(u,!1),x=Xi(Xi({},y),{},{fill:"none"},Ft(l,!1)),b=f.map(function(_,w){var C=a.getTickLineCoord(_),A=C.line,k=C.tick,E=Xi(Xi(Xi(Xi({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:c},v),k),{},{index:w,payload:_,visibleTicksCount:f.length,tickFormatter:d});return U.createElement(xr,tp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},H1(a.props,_,w)),l&&U.createElement("line",tp({},x,A,{className:zt("recharts-cartesian-axis-tick-line",ya(l,"className"))})),u&&e.renderTickItem(u,E,"".concat(kt(d)?d(_.value,w):_.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,f=OT(d,eQe),g=h;return kt(l)&&(g=h&&h.length>0?l(this.props):l(f)),a<=0||o<=0||!g||!g.length?null:U.createElement(xr,{className:zt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Li.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return U.isValidElement(r)?a=U.cloneElement(r,i):kt(r)?a=r(i):a=U.createElement(sS,tp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(I.Component);Ij(vm,"displayName","CartesianAxis");Ij(vm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cQe=["x1","y1","x2","y2","key"],uQe=["offset"];function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function SW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SW(Object(n),!0).forEach(function(r){dQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQe(t,e,n){return e=hQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQe(t){var e=fQe(t,"string");return $h(e)=="symbol"?e:e+""}function fQe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function AW(t,e){if(t==null)return{};var n=pQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gQe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return U.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zte(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(kt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=AW(e,cQe),c=Ft(l,!1);c.offset;var u=AW(c,uQe);n=U.createElement("line",Ud({},u,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function mQe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Fi(Fi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return zte(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function yQe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Fi(Fi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return zte(i,c)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function vQe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],p=g?i+a-h:u[f+1]-h;if(p<=0)return null;var y=f%e.length;return U.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:p,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xQe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],p=g?s+o-h:u[f+1]-h;if(p<=0)return null;var y=f%r.length;return U.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bQe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return Jee(Pj(Fi(Fi(Fi({},vm.defaultProps),r),{},{ticks:Rl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},wQe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return Jee(Pj(Fi(Fi(Fi({},vm.defaultProps),r),{},{ticks:Rl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Rf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vte(t){var e,n,r,i,s,a,o=kj(),l=Ej(),c=lKe(),u=Fi(Fi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Rf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Rf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Rf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Rf.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Rf.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Rf.verticalFill,x:Te(t.x)?t.x:c.left,y:Te(t.y)?t.y:c.top,width:Te(t.width)?t.width:c.width,height:Te(t.height)?t.height:c.height}),d=u.x,h=u.y,f=u.width,g=u.height,p=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,x=sKe(),b=aKe();if(!Te(f)||f<=0||!Te(g)||g<=0||!Te(d)||d!==+d||!Te(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||bQe,w=u.horizontalCoordinatesGenerator||wQe,C=u.horizontalPoints,A=u.verticalPoints;if((!C||!C.length)&&kt(w)){var k=y&&y.length,E=w({yAxis:b?Fi(Fi({},b),{},{ticks:k?y:b.ticks}):void 0,width:o,height:l,offset:c},k?!0:p);$l(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($h(E),"]")),Array.isArray(E)&&(C=E)}if((!A||!A.length)&&kt(_)){var T=v&&v.length,P=_({xAxis:x?Fi(Fi({},x),{},{ticks:T?v:x.ticks}):void 0,width:o,height:l,offset:c},T?!0:p);$l(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($h(P),"]")),Array.isArray(P)&&(A=P)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(gQe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),U.createElement(mQe,Ud({},u,{offset:c,horizontalPoints:C,xAxis:x,yAxis:b})),U.createElement(yQe,Ud({},u,{offset:c,verticalPoints:A,xAxis:x,yAxis:b})),U.createElement(vQe,Ud({},u,{horizontalPoints:C})),U.createElement(xQe,Ud({},u,{verticalPoints:A})))}Vte.displayName="CartesianGrid";var _Qe=["type","layout","connectNulls","ref"],SQe=["key"];function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function CW(t,e){if(t==null)return{};var n=AQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}function kW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(n),!0).forEach(function(r){Va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mf(t){return TQe(t)||EQe(t)||kQe(t)||CQe()}function CQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQe(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function EQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TQe(t){if(Array.isArray(t))return MN(t)}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wte(r.key),r)}}function IQe(t,e,n){return e&&EW(t.prototype,e),n&&EW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OQe(t,e,n){return e=FS(e),NQe(t,Ute()?Reflect.construct(e,n||[],FS(t).constructor):e.apply(t,n))}function NQe(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQe(t)}function RQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ute(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!t})()}function FS(t){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FS(t)}function MQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DN(t,e)}function DN(t,e){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DN(t,e)}function Va(t,e,n){return e=Wte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=DQe(t,"string");return Og(e)=="symbol"?e:e+""}function DQe(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vb=function(t){function e(){var n;PQe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=OQe(this,e,[].concat(i)),Va(n,"state",{isAnimationFinished:!0,totalLength:0}),Va(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Va(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(v,x){return v+x});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var u=Math.floor(a/c),d=a%c,h=o-a,f=[],g=0,p=0;g<l.length;p+=l[g],++g)if(p+l[g]>d){f=[].concat(Mf(l.slice(0,g)),[d-p]);break}var y=f.length%2===0?[0,h]:[h];return[].concat(Mf(e.repeat(l,u)),Mf(f),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Va(n,"id",Db("recharts-line-")),Va(n,"pathRef",function(a){n.mainCurve=a}),Va(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Va(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return MQe(e,t),IQe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=va(u,zb);if(!d)return null;var h=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:Ks(p.payload,y)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(xr,f,d.map(function(g){return U.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=Ft(this.props,!1),h=Ft(l,!0),f=c.map(function(p,y){var v=Ms(Ms(Ms({key:"dot-".concat(y),r:3},d),h),{},{index:y,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return U.createElement(xr,uv({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=CW(o,_Qe),h=Ms(Ms(Ms({},Ft(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return U.createElement(hN,uv({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,h=a.animationEasing,f=a.animationId,g=a.animateNewValues,p=a.width,y=a.height,v=this.state,x=v.prevPoints,b=v.totalLength;return U.createElement(rc,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(x){var C=x.length/o.length,A=o.map(function(N,O){var L=Math.floor(O*C);if(x[L]){var $=x[L],F=Ya($.x,N.x),B=Ya($.y,N.y);return Ms(Ms({},N),{},{x:F(w),y:B(w)})}if(g){var D=Ya(p*2,N.x),z=Ya(y/2,N.y);return Ms(Ms({},N),{},{x:D(w),y:z(w)})}return Ms(Ms({},N),{},{x:N.x,y:N.y})});return s.renderCurveStatically(A,r,i)}var k=Ya(0,b),E=k(w),T;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});T=s.getStrokeDasharray(E,b,P)}else T=s.generateSimpleStrokeDasharray(b,E);return s.renderCurveStatically(o,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&a&&a.length&&(!c&&u>0||!GC(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,h=i.left,f=i.width,g=i.height,p=i.isAnimationActive,y=i.id;if(s||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=o.length===1,b=zt("recharts-line",l),_=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,C=_||w,A=Mt(y)?this.id:y,k=(r=Ft(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=k.r,T=E===void 0?3:E,P=k.strokeWidth,N=P===void 0?2:P,O=eje(a)?a:{},L=O.clipDot,$=L===void 0?!0:L,F=T*2+N;return U.createElement(xr,{className:b},_||w?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:_?h:h-f/2,y:w?d:d-g/2,width:_?f:f*2,height:w?g:g*2})),!$&&U.createElement("clipPath",{id:"clipPath-dots-".concat(A)},U.createElement("rect",{x:h-F/2,y:d-F/2,width:f+F,height:g+F}))):null,!x&&this.renderCurve(C,A),this.renderErrorBar(C,A),(x||a)&&this.renderDots(C,$,A),(!p||v)&&ku.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Mf(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Mf(a),Mf(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(U.isValidElement(r))s=U.cloneElement(r,i);else if(kt(r))s=r(i);else{var a=i.key,o=CW(i,SQe),l=zt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=U.createElement(_j,uv({key:a},o,{className:l}))}return s}}])}(I.PureComponent);Va(Vb,"displayName","Line");Va(Vb,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Va(Vb,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(h,f){var g=Ks(h,a);return u==="horizontal"?{x:l3({axis:n,ticks:i,bandSize:o,entry:h,index:f}),y:Mt(g)?null:r.scale(g),value:g,payload:h}:{x:Mt(g)?null:n.scale(g),y:l3({axis:r,ticks:s,bandSize:o,entry:h,index:f}),value:g,payload:h}});return Ms({points:d,layout:u},c)});function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function jQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xte(r.key),r)}}function FQe(t,e,n){return e&&LQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Qe(t,e,n){return e=$S(e),BQe(t,Hte()?Reflect.construct(e,n||[],$S(t).constructor):e.apply(t,n))}function BQe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQe(t)}function zQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!t})()}function $S(t){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$S(t)}function VQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jN(t,e)}function jN(t,e){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jN(t,e)}function Yte(t,e,n){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=UQe(t,"string");return Ng(e)=="symbol"?e:e+""}function UQe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LN.apply(this,arguments)}function WQe(t){var e=t.xAxisId,n=kj(),r=Ej(),i=Ite(e);return i==null?null:U.createElement(vm,LN({},i,{className:zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Rl(a,!0)}}))}var xm=function(t){function e(){return jQe(this,e),$Qe(this,e,arguments)}return VQe(e,t),FQe(e,[{key:"render",value:function(){return U.createElement(WQe,this.props)}}])}(U.Component);Yte(xm,"displayName","XAxis");Yte(xm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function HQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kte(r.key),r)}}function XQe(t,e,n){return e&&YQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQe(t,e,n){return e=BS(e),qQe(t,Gte()?Reflect.construct(e,n||[],BS(t).constructor):e.apply(t,n))}function qQe(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KQe(t)}function KQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gte=function(){return!!t})()}function BS(t){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BS(t)}function QQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FN(t,e)}function FN(t,e){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FN(t,e)}function qte(t,e,n){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=ZQe(t,"string");return Rg(e)=="symbol"?e:e+""}function ZQe(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$N.apply(this,arguments)}var JQe=function(e){var n=e.yAxisId,r=kj(),i=Ej(),s=Ote(n);return s==null?null:U.createElement(vm,$N({},s,{className:zt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Rl(o,!0)}}))},bm=function(t){function e(){return HQe(this,e),GQe(this,e,arguments)}return QQe(e,t),XQe(e,[{key:"render",value:function(){return U.createElement(JQe,this.props)}}])}(U.Component);qte(bm,"displayName","YAxis");qte(bm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TW(t){return rZe(t)||nZe(t)||tZe(t)||eZe()}function eZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZe(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function nZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rZe(t){if(Array.isArray(t))return BN(t)}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zN=function(e,n,r,i,s){var a=va(e,ek),o=va(e,nk),l=[].concat(TW(a),TW(o)),c=va(e,ik),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(p,y){if(y.props[u]===r&&Qo(y.props,"extendDomain")&&Te(y.props[d])){var v=y.props[d];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},h)),c.length){var f="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(p,y){if(y.props[u]===r&&Qo(y.props,"extendDomain")&&Te(y.props[f])&&Te(y.props[g])){var v=y.props[f],x=y.props[g];return[Math.min(p[0],v,x),Math.max(p[1],v,x)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,y){return Te(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},Qte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,f,g){var p=n?n+c:c;if(!this._events[p])return!1;var y=this._events[p],v=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,g),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var _=y.length,w;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,h);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y[b].fn.apply(y[b].context,x)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&a(this,f);else{for(var p=0,y=[],v=g.length;p<v;p++)(g[p].fn!==u||h&&!g[p].once||d&&g[p].context!==d)&&y.push(g[p]);y.length?this._events[f]=y.length===1?y[0]:y:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Qte);var iZe=Qte.exports;const sZe=vn(iZe);var NT=new sZe,RT="recharts.syncMouseEvents";function Vx(t){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(t)}function aZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zte(r.key),r)}}function lZe(t,e,n){return e&&oZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MT(t,e,n){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=cZe(t,"string");return Vx(e)=="symbol"?e:e+""}function cZe(t,e){if(Vx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uZe=function(){function t(){aZe(this,t),MT(this,"activeIndex",0),MT(this,"coordinateList",[]),MT(this,"layout","horizontal")}return lZe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,h=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function dZe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function hZe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Jte(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=mi(e,n,r,i),o=mi(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function fZe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=mi(o,l,c,d),f=mi(o,l,u,d);r=h.x,i=h.y,s=f.x,a=f.y}else return Jte(e);return[{x:r,y:i},{x:s,y:a}]}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function PW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(n),!0).forEach(function(r){pZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZe(t,e,n){return e=gZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZe(t){var e=mZe(t,"string");return Ux(e)=="symbol"?e:e+""}function mZe(t,e){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,p=hN;if(h==="ScatterChart")g=a,p=mGe;else if(h==="BarChart")g=hZe(d,a,l,u),p=wj;else if(d==="radial"){var y=Jte(a),v=y.cx,x=y.cy,b=y.radius,_=y.startAngle,w=y.endAngle;g={cx:v,cy:x,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},p=ite}else g={points:fZe(d,a,l)},p=hN;var C=gw(gw(gw(gw({stroke:"#ccc",pointerEvents:"none"},l),g),Ft(f,!1)),{},{payload:o,payloadIndex:c,className:zt("recharts-tooltip-cursor",f.className)});return I.isValidElement(f)?I.cloneElement(f,C):I.createElement(p,C)}var vZe=["item"],xZe=["children","className","width","height","style","compact","title","desc"];function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function IW(t,e){return _Ze(t)||wZe(t,e)||tne(t,e)||bZe()}function bZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function _Ze(t){if(Array.isArray(t))return t}function OW(t,e){if(t==null)return{};var n=SZe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nne(r.key),r)}}function kZe(t,e,n){return e&&CZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EZe(t,e,n){return e=zS(e),TZe(t,ene()?Reflect.construct(e,n||[],zS(t).constructor):e.apply(t,n))}function TZe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZe(t)}function PZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ene(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ene=function(){return!!t})()}function zS(t){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zS(t)}function IZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VN(t,e)}function Dg(t){return RZe(t)||NZe(t)||tne(t)||OZe()}function OZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(t,e){if(t){if(typeof t=="string")return UN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UN(t,e)}}function NZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RZe(t){if(Array.isArray(t))return UN(t)}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function it(t,e,n){return e=nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=MZe(t,"string");return Mg(e)=="symbol"?e:e+""}function MZe(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DZe={xAxis:["bottom","top"],yAxis:["left","right"]},jZe={width:"100%",height:"100%"},rne={x:0,y:0};function mw(t){return t}var LZe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},FZe=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return oe(oe(oe({},i),mi(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return oe(oe(oe({},i),mi(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return rne},sk=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dg(o),Dg(c)):o},[]);return a.length>0?a:e&&e.length&&Te(i)&&Te(s)?e.slice(i,s+1):[]};function ine(t){return t==="number"?[0,"auto"]:void 0}var WN=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=sk(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var f=d===void 0?o:d;h=U1(f,a.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Dg(l),[tte(c,h)]):l},[])},RW=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=LZe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=rYe(a,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=WN(e,n,u,d),f=FZe(r,o,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},$Ze=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,f=Zee(u,s);return r.reduce(function(g,p){var y,v=p.type.defaultProps!==void 0?oe(oe({},p.type.defaultProps),p.props):p.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,w=v.allowDuplicatedCategory,C=v.scale,A=v.ticks,k=v.includeHidden,E=v[a];if(g[E])return g;var T=sk(e.data,{graphicalItems:i.filter(function(q){var J,ae=a in q.props?q.props[a]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[a];return ae===E}),dataStartIndex:l,dataEndIndex:c}),P=T.length,N,O,L;dZe(v.domain,_,x)&&(N=oN(v.domain,null,_),f&&(x==="number"||C!=="auto")&&(L=lv(T,b,"category")));var $=ine(x);if(!N||N.length===0){var F,B=(F=v.domain)!==null&&F!==void 0?F:$;if(b){if(N=lv(T,b,x),x==="category"&&f){var D=WDe(N);w&&D?(O=N,N=TS(0,P)):w||(N=h3(B,N,p).reduce(function(q,J){return q.indexOf(J)>=0?q:[].concat(Dg(q),[J])},[]))}else if(x==="category")w?N=N.filter(function(q){return q!==""&&!Mt(q)}):N=h3(B,N,p).reduce(function(q,J){return q.indexOf(J)>=0||J===""||Mt(J)?q:[].concat(Dg(q),[J])},[]);else if(x==="number"){var z=lYe(T,i.filter(function(q){var J,ae,_e=a in q.props?q.props[a]:(J=q.type.defaultProps)===null||J===void 0?void 0:J[a],K="hide"in q.props?q.props.hide:(ae=q.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return _e===E&&(k||!K)}),b,s,u);z&&(N=z)}f&&(x==="number"||C!=="auto")&&(L=lv(T,b,"category"))}else f?N=TS(0,P):o&&o[E]&&o[E].hasStack&&x==="number"?N=h==="expand"?[0,1]:ete(o[E].stackGroups,l,c):N=Qee(T,i.filter(function(q){var J=a in q.props?q.props[a]:q.type.defaultProps[a],ae="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return J===E&&(k||!ae)}),x,u,!0);if(x==="number")N=zN(d,N,E,s,A),B&&(N=oN(B,N,_));else if(x==="category"&&B){var W=B,X=N.every(function(q){return W.indexOf(q)>=0});X&&(N=W)}}return oe(oe({},g),{},it({},E,oe(oe({},v),{},{axisType:s,domain:N,categoricalDomain:L,duplicateDomain:O,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:f,layout:u})))},{})},BZe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=sk(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),f=h.length,g=Zee(u,s),p=-1;return r.reduce(function(y,v){var x=v.type.defaultProps!==void 0?oe(oe({},v.type.defaultProps),v.props):v.props,b=x[a],_=ine("number");if(!y[b]){p++;var w;return g?w=TS(0,f):o&&o[b]&&o[b].hasStack?(w=ete(o[b].stackGroups,l,c),w=zN(d,w,b,s)):(w=oN(_,Qee(h,r.filter(function(C){var A,k,E=a in C.props?C.props[a]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[a],T="hide"in C.props?C.props.hide:(k=C.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===b&&!T}),"number",u),i.defaultProps.allowDataOverflow),w=zN(d,w,b,s)),oe(oe({},y),{},it({},b,oe(oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ya(DZe,"".concat(s,".").concat(p%2),null),domain:w,originalDomain:_,isCategorical:g,layout:u})))}return y},{})},zZe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=va(u,s),f={};return h&&h.length?f=$Ze(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(f=BZe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),f},VZe=function(e){var n=Bc(e),r=Rl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:GD(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:xS(n,r)}},MW=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fs(n,Cg),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},UZe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Fl(n&&n.type);return r&&r.indexOf("Bar")>=0})},DW=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WZe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},f=Fs(d,Cg),g=Fs(d,wp),p=Object.keys(l).reduce(function(w,C){var A=l[C],k=A.orientation;return!A.mirror&&!A.hide?oe(oe({},w),{},it({},k,w[k]+A.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(w,C){var A=a[C],k=A.orientation;return!A.mirror&&!A.hide?oe(oe({},w),{},it({},k,ya(w,"".concat(k))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=oe(oe({},y),p),x=v.bottom;f&&(v.bottom+=f.props.height||Cg.defaultProps.height),g&&n&&(v=aYe(v,i,r,n));var b=c-v.left-v.right,_=u-v.top-v.bottom;return oe(oe({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},HZe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sne=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,w=x.offset,C=x.updateId,A=x.dataStartIndex,k=x.dataEndIndex,E=v.barSize,T=v.layout,P=v.barGap,N=v.barCategoryGap,O=v.maxBarSize,L=DW(T),$=L.numericAxisName,F=L.cateAxisName,B=UZe(b),D=[];return b.forEach(function(z,W){var X=sk(v.data,{graphicalItems:[z],dataStartIndex:A,dataEndIndex:k}),q=z.type.defaultProps!==void 0?oe(oe({},z.type.defaultProps),z.props):z.props,J=q.dataKey,ae=q.maxBarSize,_e=q["".concat($,"Id")],K=q["".concat(F,"Id")],fe={},Ne=l.reduce(function(Z,ee){var Se=x["".concat(ee.axisType,"Map")],we=q["".concat(ee.axisType,"Id")];Se&&Se[we]||ee.axisType==="zAxis"||Fh();var he=Se[we];return oe(oe({},Z),{},it(it({},ee.axisType,he),"".concat(ee.axisType,"Ticks"),Rl(he)))},fe),re=Ne[F],ge=Ne["".concat(F,"Ticks")],Ae=_&&_[_e]&&_[_e].hasStack&&bYe(z,_[_e].stackGroups),se=Fl(z.type).indexOf("Bar")>=0,et=xS(re,ge),Ge=[],Ot=B&&iYe({barSize:E,stackGroups:_,totalSize:HZe(Ne,F)});if(se){var rn,hn,Pn=Mt(ae)?O:ae,bn=(rn=(hn=xS(re,ge,!0))!==null&&hn!==void 0?hn:Pn)!==null&&rn!==void 0?rn:0;Ge=sYe({barGap:P,barCategoryGap:N,bandSize:bn!==et?bn:et,sizeList:Ot[K],maxBarSize:Pn}),bn!==et&&(Ge=Ge.map(function(Z){return oe(oe({},Z),{},{position:oe(oe({},Z.position),{},{offset:Z.position.offset-bn/2})})}))}var H=z&&z.type&&z.type.getComposedData;H&&D.push({props:oe(oe({},H(oe(oe({},Ne),{},{displayedData:X,props:v,dataKey:J,item:z,bandSize:et,barPosition:Ge,offset:w,stackedData:Ae,layout:T,dataStartIndex:A,dataEndIndex:k}))),{},it(it(it({key:z.key||"item-".concat(W)},$,Ne[$]),F,Ne[F]),"animationId",C)),childIndex:rje(z,v.children),item:z})}),D},f=function(v,x){var b=v.props,_=v.dataStartIndex,w=v.dataEndIndex,C=v.updateId;if(!s5({props:b}))return null;var A=b.children,k=b.layout,E=b.stackOffset,T=b.data,P=b.reverseStackOrder,N=DW(k),O=N.numericAxisName,L=N.cateAxisName,$=va(A,r),F=yYe(T,$,"".concat(O,"Id"),"".concat(L,"Id"),E,P),B=l.reduce(function(q,J){var ae="".concat(J.axisType,"Map");return oe(oe({},q),{},it({},ae,zZe(b,oe(oe({},J),{},{graphicalItems:$,stackGroups:J.axisType===O&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),D=WZe(oe(oe({},B),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(q){B[q]=u(b,B[q],D,q.replace("Map",""),n)});var z=B["".concat(L,"Map")],W=VZe(z),X=h(b,oe(oe({},B),{},{dataStartIndex:_,dataEndIndex:w,updateId:C,graphicalItems:$,stackGroups:F,offset:D}));return oe(oe({formattedGraphicalItems:X,graphicalItems:$,offset:D,stackGroups:F},W),B)},g=function(y){function v(x){var b,_,w;return AZe(this,v),w=EZe(this,v,[x]),it(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(w,"accessibilityManager",new uZe),it(w,"handleLegendBBoxUpdate",function(C){if(C){var A=w.state,k=A.dataStartIndex,E=A.dataEndIndex,T=A.updateId;w.setState(oe({legendBBox:C},f({props:w.props,dataStartIndex:k,dataEndIndex:E,updateId:T},oe(oe({},w.state),{},{legendBBox:C}))))}}),it(w,"handleReceiveSyncEvent",function(C,A,k){if(w.props.syncId===C){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),it(w,"handleBrushChange",function(C){var A=C.startIndex,k=C.endIndex;if(A!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return oe({dataStartIndex:A,dataEndIndex:k},f({props:w.props,dataStartIndex:A,dataEndIndex:k,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),it(w,"handleMouseEnter",function(C){var A=w.getMouseInfo(C);if(A){var k=oe(oe({},A),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var E=w.props.onMouseEnter;kt(E)&&E(k,C)}}),it(w,"triggeredAfterMouseMove",function(C){var A=w.getMouseInfo(C),k=A?oe(oe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var E=w.props.onMouseMove;kt(E)&&E(k,C)}),it(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),it(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),it(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),it(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var k=w.props.onMouseLeave;kt(k)&&k(A,C)}),it(w,"handleOuterEvent",function(C){var A=nje(C),k=ya(w.props,"".concat(A));if(A&&kt(k)){var E,T;/.*touch.*/i.test(A)?T=w.getMouseInfo(C.changedTouches[0]):T=w.getMouseInfo(C),k((E=T)!==null&&E!==void 0?E:{},C)}}),it(w,"handleClick",function(C){var A=w.getMouseInfo(C);if(A){var k=oe(oe({},A),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var E=w.props.onClick;kt(E)&&E(k,C)}}),it(w,"handleMouseDown",function(C){var A=w.props.onMouseDown;if(kt(A)){var k=w.getMouseInfo(C);A(k,C)}}),it(w,"handleMouseUp",function(C){var A=w.props.onMouseUp;if(kt(A)){var k=w.getMouseInfo(C);A(k,C)}}),it(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),it(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),it(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),it(w,"handleDoubleClick",function(C){var A=w.props.onDoubleClick;if(kt(A)){var k=w.getMouseInfo(C);A(k,C)}}),it(w,"handleContextMenu",function(C){var A=w.props.onContextMenu;if(kt(A)){var k=w.getMouseInfo(C);A(k,C)}}),it(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&NT.emit(RT,w.props.syncId,C,w.eventEmitterSymbol)}),it(w,"applySyncEvent",function(C){var A=w.props,k=A.layout,E=A.syncMethod,T=w.state.updateId,P=C.dataStartIndex,N=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:P,dataEndIndex:N},f({props:w.props,dataStartIndex:P,dataEndIndex:N,updateId:T},w.state)));else if(C.activeTooltipIndex!==void 0){var O=C.chartX,L=C.chartY,$=C.activeTooltipIndex,F=w.state,B=F.offset,D=F.tooltipTicks;if(!B)return;if(typeof E=="function")$=E(D,C);else if(E==="value"){$=-1;for(var z=0;z<D.length;z++)if(D[z].value===C.activeLabel){$=z;break}}var W=oe(oe({},B),{},{x:B.left,y:B.top}),X=Math.min(O,W.x+W.width),q=Math.min(L,W.y+W.height),J=D[$]&&D[$].value,ae=WN(w.state,w.props.data,$),_e=D[$]?{x:k==="horizontal"?D[$].coordinate:X,y:k==="horizontal"?q:D[$].coordinate}:rne;w.setState(oe(oe({},C),{},{activeLabel:J,activeCoordinate:_e,activePayload:ae,activeTooltipIndex:$}))}else w.setState(C)}),it(w,"renderCursor",function(C){var A,k=w.state,E=k.isTooltipActive,T=k.activeCoordinate,P=k.activePayload,N=k.offset,O=k.activeTooltipIndex,L=k.tooltipAxisBandSize,$=w.getTooltipEventType(),F=(A=C.props.active)!==null&&A!==void 0?A:E,B=w.props.layout,D=C.key||"_recharts-cursor";return U.createElement(yZe,{key:D,activeCoordinate:T,activePayload:P,activeTooltipIndex:O,chartName:n,element:C,isActive:F,layout:B,offset:N,tooltipAxisBandSize:L,tooltipEventType:$})}),it(w,"renderPolarAxis",function(C,A,k){var E=ya(C,"type.axisType"),T=ya(w.state,"".concat(E,"Map")),P=C.type.defaultProps,N=P!==void 0?oe(oe({},P),C.props):C.props,O=T&&T[N["".concat(E,"Id")]];return I.cloneElement(C,oe(oe({},O),{},{className:zt(E,O.className),key:C.key||"".concat(A,"-").concat(k),ticks:Rl(O,!0)}))}),it(w,"renderPolarGrid",function(C){var A=C.props,k=A.radialLines,E=A.polarAngles,T=A.polarRadius,P=w.state,N=P.radiusAxisMap,O=P.angleAxisMap,L=Bc(N),$=Bc(O),F=$.cx,B=$.cy,D=$.innerRadius,z=$.outerRadius;return I.cloneElement(C,{polarAngles:Array.isArray(E)?E:Rl($,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(T)?T:Rl(L,!0).map(function(W){return W.coordinate}),cx:F,cy:B,innerRadius:D,outerRadius:z,key:C.key||"polar-grid",radialLines:k})}),it(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,A=w.props,k=A.children,E=A.width,T=A.height,P=w.props.margin||{},N=E-(P.left||0)-(P.right||0),O=qee({children:k,formattedGraphicalItems:C,legendWidth:N,legendContent:c});if(!O)return null;var L=O.item,$=OW(O,vZe);return I.cloneElement(L,oe(oe({},$),{},{chartWidth:E,chartHeight:T,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),it(w,"renderTooltip",function(){var C,A=w.props,k=A.children,E=A.accessibilityLayer,T=Fs(k,Ba);if(!T)return null;var P=w.state,N=P.isTooltipActive,O=P.activeCoordinate,L=P.activePayload,$=P.activeLabel,F=P.offset,B=(C=T.props.active)!==null&&C!==void 0?C:N;return I.cloneElement(T,{viewBox:oe(oe({},F),{},{x:F.left,y:F.top}),active:B,label:$,payload:B?L:[],coordinate:O,accessibilityLayer:E})}),it(w,"renderBrush",function(C){var A=w.props,k=A.margin,E=A.data,T=w.state,P=T.offset,N=T.dataStartIndex,O=T.dataEndIndex,L=T.updateId;return I.cloneElement(C,{key:C.key||"_recharts-brush",onChange:dw(w.handleBrushChange,C.props.onChange),data:E,x:Te(C.props.x)?C.props.x:P.left,y:Te(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:Te(C.props.width)?C.props.width:P.width,startIndex:N,endIndex:O,updateId:"brush-".concat(L)})}),it(w,"renderReferenceElement",function(C,A,k){if(!C)return null;var E=w,T=E.clipPathId,P=w.state,N=P.xAxisMap,O=P.yAxisMap,L=P.offset,$=C.type.defaultProps||{},F=C.props,B=F.xAxisId,D=B===void 0?$.xAxisId:B,z=F.yAxisId,W=z===void 0?$.yAxisId:z;return I.cloneElement(C,{key:C.key||"".concat(A,"-").concat(k),xAxis:N[D],yAxis:O[W],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:T})}),it(w,"renderActivePoints",function(C){var A=C.item,k=C.activePoint,E=C.basePoint,T=C.childIndex,P=C.isRange,N=[],O=A.props.key,L=A.item.type.defaultProps!==void 0?oe(oe({},A.item.type.defaultProps),A.item.props):A.item.props,$=L.activeDot,F=L.dataKey,B=oe(oe({index:T,dataKey:F,cx:k.x,cy:k.y,r:4,fill:bj(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ft($,!1)),W1($));return N.push(v.renderActiveDot($,B,"".concat(O,"-activePoint-").concat(T))),E?N.push(v.renderActiveDot($,oe(oe({},B),{},{cx:E.x,cy:E.y}),"".concat(O,"-basePoint-").concat(T))):P&&N.push(null),N}),it(w,"renderGraphicChild",function(C,A,k){var E=w.filterFormatItem(C,A,k);if(!E)return null;var T=w.getTooltipEventType(),P=w.state,N=P.isTooltipActive,O=P.tooltipAxis,L=P.activeTooltipIndex,$=P.activeLabel,F=w.props.children,B=Fs(F,Ba),D=E.props,z=D.points,W=D.isRange,X=D.baseLine,q=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,J=q.activeDot,ae=q.hide,_e=q.activeBar,K=q.activeShape,fe=!!(!ae&&N&&B&&(J||_e||K)),Ne={};T!=="axis"&&B&&B.props.trigger==="click"?Ne={onClick:dw(w.handleItemMouseEnter,C.props.onClick)}:T!=="axis"&&(Ne={onMouseLeave:dw(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:dw(w.handleItemMouseEnter,C.props.onMouseEnter)});var re=I.cloneElement(C,oe(oe({},E.props),Ne));function ge(ee){return typeof O.dataKey=="function"?O.dataKey(ee.payload):null}if(fe)if(L>=0){var Ae,se;if(O.dataKey&&!O.allowDuplicatedCategory){var et=typeof O.dataKey=="function"?ge:"payload.".concat(O.dataKey.toString());Ae=U1(z,et,$),se=W&&X&&U1(X,et,$)}else Ae=z==null?void 0:z[L],se=W&&X&&X[L];if(K||_e){var Ge=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[I.cloneElement(C,oe(oe(oe({},E.props),Ne),{},{activeIndex:Ge})),null,null]}if(!Mt(Ae))return[re].concat(Dg(w.renderActivePoints({item:E,activePoint:Ae,basePoint:se,childIndex:L,isRange:W})))}else{var Ot,rn=(Ot=w.getItemByXY(w.state.activeCoordinate))!==null&&Ot!==void 0?Ot:{graphicalItem:re},hn=rn.graphicalItem,Pn=hn.item,bn=Pn===void 0?C:Pn,H=hn.childIndex,Z=oe(oe(oe({},E.props),Ne),{},{activeIndex:H});return[I.cloneElement(bn,Z),null,null]}return W?[re,null,null]:[re,null]}),it(w,"renderCustomized",function(C,A,k){return I.cloneElement(C,oe(oe({key:"recharts-customized-".concat(k)},w.props),w.state))}),it(w,"renderMap",{CartesianGrid:{handler:mw,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:mw},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:mw},YAxis:{handler:mw},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Db("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=XJ(w.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return IZe(v,y),kZe(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,C=b.height,A=b.layout,k=Fs(_,Ba);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,P=WN(this.state,w,E,T),N=this.state.tooltipTicks[E].coordinate,O=(this.state.offset.top+C)/2,L=A==="horizontal",$=L?{x:N,y:O}:{y:N,x:O},F=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});F&&($=oe(oe({},$),F.props.points[E].tooltipPosition),P=F.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:T,activePayload:P,activeCoordinate:$};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){_O([Fs(b.children,Ba)],[Fs(this.props.children,Ba)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Fs(this.props.children,Ba);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return o.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),C=P3e(w),A={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},k=w.width/_.offsetWidth||1,E=this.inRange(A.chartX,A.chartY,k);if(!E)return null;var T=this.state,P=T.xAxisMap,N=T.yAxisMap,O=this.getTooltipEventType(),L=RW(this.state,this.props.data,this.props.layout,E);if(O!=="axis"&&P&&N){var $=Bc(P).scale,F=Bc(N).scale,B=$&&$.invert?$.invert(A.chartX):null,D=F&&F.invert?F.invert(A.chartY):null;return oe(oe({},A),{},{xValue:B,yValue:D},L)}return L?oe(oe({},A),L):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=b/w,k=_/w;if(C==="horizontal"||C==="vertical"){var E=this.state.offset,T=A>=E.left&&A<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return T?{x:A,y:k}:null}var P=this.state,N=P.angleAxisMap,O=P.radiusAxisMap;if(N&&O){var L=Bc(N);return g3({x:A,y:k},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Fs(b,Ba),C={};w&&_==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=W1(this.props,this.handleOuterEvent);return oe(oe({},A),C)}},{key:"addListener",value:function(){NT.on(RT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){NT.removeListener(RT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var C=this.state.formattedGraphicalItems,A=0,k=C.length;A<k;A++){var E=C[A];if(E.item===b||E.props.key===b.key||_===Fl(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,C=_.top,A=_.height,k=_.width;return U.createElement("defs",null,U.createElement("clipPath",{id:b},U.createElement("rect",{x:w,y:C,height:A,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var C=IW(w,2),A=C[0],k=C[1];return oe(oe({},_),{},it({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var C=IW(w,2),A=C[0],k=C[1];return oe(oe({},_),{},it({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,C=_.activeItem;if(w&&w.length)for(var A=0,k=w.length;A<k;A++){var E=w[A],T=E.props,P=E.item,N=P.type.defaultProps!==void 0?oe(oe({},P.type.defaultProps),P.props):P.props,O=Fl(P.type);if(O==="Bar"){var L=(T.data||[]).find(function(D){return aGe(b,D)});if(L)return{graphicalItem:E,payload:L}}else if(O==="RadialBar"){var $=(T.data||[]).find(function(D){return g3(b,D)});if($)return{graphicalItem:E,payload:$}}else if(QC(E,C)||ZC(E,C)||Lx(E,C)){var F=cqe({graphicalItem:E,activeTooltipItem:C,itemData:N.data}),B=N.activeIndex===void 0?F:N.activeIndex;return{graphicalItem:oe(oe({},E),{},{childIndex:B}),payload:Lx(E,C)?N.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!s5(this))return null;var _=this.props,w=_.children,C=_.className,A=_.width,k=_.height,E=_.style,T=_.compact,P=_.title,N=_.desc,O=OW(_,xZe),L=Ft(O,!1);if(T)return U.createElement(hW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(AO,np({},L,{width:A,height:k,title:P,desc:N}),this.renderClipPath(),o5(w,this.renderMap)));if(this.props.accessibilityLayer){var $,F;L.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},L.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return U.createElement(hW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",np({className:zt("recharts-wrapper",C),style:oe({position:"relative",cursor:"default",width:A,height:k},E)},B,{ref:function(z){b.container=z}}),U.createElement(AO,np({},L,{width:A,height:k,title:P,desc:N,style:jZe}),this.renderClipPath(),o5(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);it(g,"displayName",n),it(g,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),it(g,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,_=y.children,w=y.width,C=y.height,A=y.layout,k=y.stackOffset,E=y.margin,T=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var N=MW(y);return oe(oe(oe({},N),{},{updateId:0},f(oe(oe({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:A,prevStackOffset:k,prevMargin:E,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||C!==v.prevHeight||A!==v.prevLayout||k!==v.prevStackOffset||!bp(E,v.prevMargin)){var O=MW(y),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=oe(oe({},RW(v,b,A)),{},{updateId:v.updateId+1}),F=oe(oe(oe({},O),L),$);return oe(oe(oe({},F),f(oe({props:y},F),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:A,prevStackOffset:k,prevMargin:E,prevChildren:_})}if(!_O(_,v.prevChildren)){var B,D,z,W,X=Fs(_,Cg),q=X&&(B=(D=X.props)===null||D===void 0?void 0:D.startIndex)!==null&&B!==void 0?B:T,J=X&&(z=(W=X.props)===null||W===void 0?void 0:W.endIndex)!==null&&z!==void 0?z:P,ae=q!==T||J!==P,_e=!Mt(b),K=_e&&!ae?v.updateId:v.updateId+1;return oe(oe({updateId:K},f(oe(oe({props:y},v),{},{updateId:K,dataStartIndex:q,dataEndIndex:J}),v)),{},{prevChildren:_,dataStartIndex:q,dataEndIndex:J})}return null}),it(g,"renderActiveDot",function(y,v,x){var b;return I.isValidElement(y)?b=I.cloneElement(y,v):kt(y)?b=y(v):b=U.createElement(_j,v),U.createElement(xr,{className:"recharts-active-dot",key:x},b)});var p=I.forwardRef(function(v,x){return U.createElement(g,np({},v,{ref:x}))});return p.displayName=g.displayName,p},YZe=sne({chartName:"LineChart",GraphicalChild:Vb,axisComponents:[{axisType:"xAxis",AxisComp:xm},{axisType:"yAxis",AxisComp:bm}],formatAxisMap:_te}),XZe=sne({chartName:"BarChart",GraphicalChild:Vu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xm},{axisType:"yAxis",AxisComp:bm}],formatAxisMap:_te});function ane({result:t,sideALabel:e="You Give",sideBLabel:n="You Receive"}){const{valueSideA:r,valueSideB:i,difference:s,percentageDifference:a,recommendation:o,riskLevel:l,potentialGrowth:c}=t,u=()=>{switch(o){case"Accept":return"text-green-600";case"Decline":return"text-red-600";default:return"text-blue-600"}},d=()=>{switch(o){case"Accept":return m.jsx(oM,{className:"h-5 w-5 text-green-600"});case"Decline":return m.jsx(uG,{className:"h-5 w-5 text-red-600"});default:return m.jsx(s1,{className:"h-5 w-5 text-blue-600"})}},h=v=>`${v>0?"+":""}${v.toFixed(1)}%`,f=c.sideA-r,p=c.sideB-i-f,y=[{name:"Current Value",sideA:r,sideB:i},{name:"Potential Value",sideA:c.sideA+r,sideB:c.sideB+i},{name:"Net Growth",sideA:c.sideA,sideB:c.sideB}];return m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Trade Analysis"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-sm text-gray-500 mb-1",children:e}),m.jsxs("div",{className:"text-lg font-semibold",children:["$",r.toFixed(2)]}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Potential Growth: +$",c.sideA.toFixed(2)]})]}),m.jsx("div",{className:"flex items-center justify-center",children:m.jsx(s1,{className:"h-6 w-6 text-gray-400"})}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-sm text-gray-500 mb-1",children:n}),m.jsxs("div",{className:"text-lg font-semibold",children:["$",i.toFixed(2)]}),m.jsxs("div",{className:"text-xs text-gray-500",children:["Potential Growth: +$",c.sideB.toFixed(2)]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Value Difference"}),m.jsxs("span",{className:`font-medium ${s<0?"text-green-600":s>0?"text-red-600":"text-gray-800"}`,children:[s<0?"+":"",Math.abs(s).toFixed(2),"(",h(Math.abs(a)),")"]})]}),m.jsxs("div",{className:"relative h-2 bg-gray-200 rounded overflow-hidden",children:[m.jsx("div",{className:`absolute top-0 left-0 h-full ${s<0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(Math.abs(a)*2,100)}%`,left:s<0?"50%":`${50-Math.min(Math.abs(a)*2,100)}%`}}),m.jsx("div",{className:"absolute top-0 left-50% w-0.5 h-full bg-gray-400",style:{left:"50%"}})]}),m.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[m.jsxs("span",{children:["Favor ",n]}),m.jsx("span",{children:"Equal"}),m.jsxs("span",{children:["Favor ",e]})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-1",children:[m.jsx(wu,{className:"h-4 w-4"}),"Market Value Comparison"]}),m.jsx("div",{className:"h-64",children:m.jsx(GJ,{width:"100%",height:"100%",children:m.jsxs(XZe,{data:y,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(Vte,{strokeDasharray:"3 3"}),m.jsx(xm,{dataKey:"name"}),m.jsx(bm,{tickFormatter:v=>`$${v}`}),m.jsx(Ba,{formatter:v=>[`$${Number(v).toFixed(2)}`,""]}),m.jsx(ek,{y:0,stroke:"#000"}),m.jsx(Vu,{dataKey:"sideA",name:e,fill:"#93c5fd"}),m.jsx(Vu,{dataKey:"sideB",name:n,fill:"#4ade80"})]})})}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Growth Difference:"}),m.jsxs("div",{className:"flex items-center",children:[p>0?m.jsx(wu,{className:"h-4 w-4 text-green-600 mr-1"}):m.jsx(cG,{className:"h-4 w-4 text-red-600 mr-1"}),m.jsxs("span",{className:`font-medium ${p>0?"text-green-600":"text-red-600"}`,children:[p>0?"+":"",p.toFixed(2),p!==0&&` in favor of ${p>0?n:e}`]})]})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex-1",children:[m.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[m.jsx(wu,{className:"h-4 w-4"}),"Trade Summary"]}),m.jsxs("ul",{className:"text-sm space-y-1",children:[m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Risk Level:"}),m.jsx("span",{className:l==="High"?"text-red-600":l==="Medium"?"text-amber-600":"text-green-600",children:l})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Value Difference:"}),m.jsxs("span",{children:["$",Math.abs(s).toFixed(2)]})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Percentage Difference:"}),m.jsx("span",{children:h(Math.abs(a))})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Growth Potential (Side A):"}),m.jsxs("span",{children:["+$",c.sideA.toFixed(2)]})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Growth Potential (Side B):"}),m.jsxs("span",{children:["+$",c.sideB.toFixed(2)]})]})]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex-1",children:[m.jsx("h4",{className:"font-medium mb-2",children:"Verdict"}),m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d(),m.jsx("span",{className:`font-bold text-lg ${u()}`,children:o})]}),m.jsxs("p",{className:"text-sm text-gray-600",children:[o==="Accept"&&"This trade appears favorable. You're receiving greater value than you're giving.",o==="Decline"&&"This trade appears unfavorable. You're giving up more value than you're receiving.",o==="Fair Trade"&&"This trade is relatively even in value. Consider long-term potential before deciding."]})]})]})]})}var ak="Popover",[one,uet]=cc(ak,[hC]),Ub=hC(),[GZe,nd]=one(ak),lne=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=Ub(e),l=I.useRef(null),[c,u]=I.useState(!1),[d,h]=gb({prop:r,defaultProp:i??!1,onChange:s,caller:ak});return m.jsx(OK,{...o,children:m.jsx(GZe,{scope:e,contentId:bu(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:I.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:I.useCallback(()=>u(!0),[]),onCustomAnchorRemove:I.useCallback(()=>u(!1),[]),modal:a,children:n})})};lne.displayName=ak;var cne="PopoverAnchor",qZe=I.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=nd(cne,n),s=Ub(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return I.useEffect(()=>(a(),()=>o()),[a,o]),m.jsx(tD,{...s,...r,ref:e})});qZe.displayName=cne;var une="PopoverTrigger",dne=I.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=nd(une,n),s=Ub(n),a=Yr(e,i.triggerRef),o=m.jsx(dn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mne(i.open),...r,ref:a,onClick:lt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:m.jsx(tD,{asChild:!0,...s,children:o})});dne.displayName=une;var Oj="PopoverPortal",[KZe,QZe]=one(Oj,{forceMount:void 0}),hne=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=nd(Oj,e);return m.jsx(KZe,{scope:e,forceMount:n,children:m.jsx(yo,{present:n||s.open,children:m.jsx(qA,{asChild:!0,container:i,children:r})})})};hne.displayName=Oj;var jg="PopoverContent",fne=I.forwardRef((t,e)=>{const n=QZe(jg,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=nd(jg,t.__scopePopover);return m.jsx(yo,{present:r||s.open,children:s.modal?m.jsx(JZe,{...i,ref:e}):m.jsx(eJe,{...i,ref:e})})});fne.displayName=jg;var ZZe=Ah("PopoverContent.RemoveScroll"),JZe=I.forwardRef((t,e)=>{const n=nd(jg,t.__scopePopover),r=I.useRef(null),i=Yr(e,r),s=I.useRef(!1);return I.useEffect(()=>{const a=r.current;if(a)return NM(a)},[]),m.jsx(QA,{as:ZZe,allowPinchZoom:!0,children:m.jsx(pne,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:lt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),eJe=I.forwardRef((t,e)=>{const n=nd(jg,t.__scopePopover),r=I.useRef(!1),i=I.useRef(!1);return m.jsx(pne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pne=I.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=nd(jg,n),f=Ub(n);return OM(),m.jsx(GA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(XA,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:m.jsx(NK,{"data-state":mne(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gne="PopoverClose",tJe=I.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=nd(gne,n);return m.jsx(dn.button,{type:"button",...r,ref:e,onClick:lt(t.onClick,()=>i.onOpenChange(!1))})});tJe.displayName=gne;var nJe="PopoverArrow",rJe=I.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ub(n);return m.jsx(RK,{...i,...r,ref:e})});rJe.displayName=nJe;function mne(t){return t?"open":"closed"}var iJe=lne,sJe=dne,aJe=hne,yne=fne;const oJe=iJe,lJe=sJe,vne=I.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>m.jsx(aJe,{children:m.jsx(yne,{ref:i,align:e,sideOffset:n,className:Dt("z-50 w-72 rounded-md border bg-white p-4 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));vne.displayName=yne.displayName;function VS({cards:t,title:e,emptyMessage:n="No cards selected"}){const[r,i]=I.useState(null);if(t.length===0)return m.jsx("div",{className:"text-center py-8 text-gray-400 border border-dashed rounded-lg",children:n});const s=o=>{const l=$d(o),c=.05;return Array.from({length:12},(u,d)=>{const h=11-d,f=1+(Math.random()*c*2-c),p=l*(.9+d*.01)*f;return{month:h,price:p}})},a=o=>{const l=s(o),c=l[0].price;return l[l.length-1].price>c?"up":"down"};return m.jsxs("div",{children:[e&&m.jsx("h3",{className:"font-medium text-lg mb-3",children:e}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 gap-3",children:t.map(o=>m.jsxs(oJe,{children:[m.jsx(lJe,{asChild:!0,children:m.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer",onMouseEnter:()=>i(o),onMouseLeave:()=>i(null),children:[o.imageUrl?m.jsxs("div",{className:"relative aspect-[2/3]",children:[m.jsx("img",{src:o.imageUrl,alt:o.playerName,className:"w-full h-full object-cover",onError:l=>{l.target.src="https://via.placeholder.com/200x300?text=No+Image"}}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:m.jsxs("div",{className:"text-white text-sm font-medium",children:["$",$d(o).toFixed(2)]})}),m.jsx("div",{className:"absolute top-2 right-2 bg-white bg-opacity-90 rounded-full p-1",children:a(o)==="up"?m.jsx(gve,{className:"h-3 w-3 text-green-600"}):m.jsx(cve,{className:"h-3 w-3 text-red-600"})})]}):m.jsx("div",{className:"aspect-[2/3] bg-gray-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center p-2",children:[m.jsx("div",{className:"font-medium",children:o.playerName}),m.jsxs("div",{className:"text-xs text-gray-500",children:["$",$d(o).toFixed(2)]})]})}),m.jsxs("div",{className:"p-2",children:[m.jsx("div",{className:"font-medium text-sm truncate",children:o.playerName}),m.jsxs("div",{className:"text-xs text-gray-600 truncate",children:[o.year," ",o.cardSet," ",o.cardNumber&&`#${o.cardNumber}`]}),m.jsx("div",{className:"text-xs text-gray-600",children:o.condition||"Raw"})]})]})}),m.jsx(vne,{className:"w-80",children:m.jsxs("div",{className:"p-1",children:[m.jsx("h4",{className:"font-medium",children:o.playerName}),m.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[o.year," ",o.cardSet," ",o.cardNumber&&`#${o.cardNumber}`," • ",o.condition||"Raw"]}),m.jsxs("div",{className:"mb-3",children:[m.jsx("div",{className:"text-sm text-gray-500",children:"Current Value"}),m.jsxs("div",{className:"text-lg font-semibold",children:["$",$d(o).toFixed(2)]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Price History (12 Months)"}),m.jsx("div",{className:"h-32",children:m.jsx(GJ,{width:"100%",height:"100%",children:m.jsxs(YZe,{data:s(o),margin:{top:5,right:5,left:0,bottom:5},children:[m.jsx(xm,{dataKey:"month",tickFormatter:l=>l===0?"Now":`${l}m`,tick:{fontSize:10}}),m.jsx(bm,{tickFormatter:l=>`$${l.toFixed(0)}`,tick:{fontSize:10},width:30}),m.jsx(Ba,{formatter:l=>[`$${Number(l).toFixed(2)}`,"Price"],labelFormatter:l=>l===0?"Now":`${l} months ago`}),m.jsx(Vb,{type:"monotone",dataKey:"price",stroke:"#8884d8",dot:!1})]})})})]})]})})]},o.id))})]})}function cJe(){const{cardsA:t,cardsB:e}=IZ(),[n,r]=I.useState([]),[i,s]=I.useState([]),[a,o]=I.useState(null),[l,c]=I.useState(!1),[u,d]=I.useState([]),[h,f]=I.useState(""),[g,p]=I.useState(!1),[y,v]=I.useState(!1),[x,b]=I.useState(!1),[_,w]=I.useState(""),[C,A]=I.useState(!1);I.useEffect(()=>{d(AD())},[]),I.useEffect(()=>{t.length>0&&n.length===0&&r(t),e.length>0&&i.length===0&&s(e)},[t,e,n.length,i.length]),I.useEffect(()=>{if(n.length>0||i.length>0){c(!0);const O=setTimeout(()=>{lRe(n,i).then(L=>{o(L)}).catch(L=>{console.error("Error analyzing trade:",L),ce.error("There was an error analyzing the trade. Please try again.")}).finally(()=>{c(!1)})},500);return()=>clearTimeout(O)}else o(null)},[n,i]);const k=()=>{if(!a||!h.trim())return;const O=uRe(h,n,i,a);d([...u,O]),f(""),p(!1)},E=O=>{r(O.cardsA),s(O.cardsB),o(O.result),v(!1)},T=O=>{dRe(O)&&d(u.filter(L=>L.id!==O))},P=()=>{if(!a)return;const O={date:new Date().toISOString(),cardsA:n.map(D=>({playerName:D.playerName,year:D.year,cardSet:D.cardSet,cardNumber:D.cardNumber,variation:D.variation,condition:D.condition,currentValue:D.currentValue,imageUrl:D.imageUrl})),cardsB:i.map(D=>({playerName:D.playerName,year:D.year,cardSet:D.cardSet,cardNumber:D.cardNumber,variation:D.variation,condition:D.condition,currentValue:D.currentValue,imageUrl:D.imageUrl})),result:a},L=JSON.stringify(O),$=btoa(encodeURIComponent(L)),B=`${window.location.origin}/trade-analyzer/share/${$}`;w(B),b(!0)},N=async()=>{try{await navigator.clipboard.writeText(_),A(!0),ce.success("Share link copied to clipboard"),setTimeout(()=>A(!1),2e3)}catch{ce.error("Failed to copy link")}};return m.jsxs("div",{className:"container mx-auto py-8 px-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Trade Analyzer"}),m.jsx("p",{className:"text-gray-600",children:"Compare cards to evaluate potential trades."})]}),m.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[a&&m.jsxs(m.Fragment,{children:[m.jsxs(Xo,{open:g,onOpenChange:p,children:[m.jsx(n_,{asChild:!0,children:m.jsxs(xe,{variant:"outline",className:"flex items-center gap-1",children:[m.jsx(axe,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Save Trade"})]})}),m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsx(ao,{children:m.jsx(oo,{children:"Save Trade"})}),m.jsxs("div",{className:"py-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trade Name"}),m.jsx(tn,{value:h,onChange:O=>f(O.target.value),placeholder:"Enter a name for this trade"})]}),m.jsxs("div",{className:"text-sm text-gray-600",children:[m.jsxs("p",{children:["Cards from Side A: ",n.length]}),m.jsxs("p",{children:["Cards from Side B: ",i.length]}),m.jsxs("p",{children:["Recommendation:",m.jsxs("span",{className:a.recommendation==="Accept"?"text-green-600":a.recommendation==="Decline"?"text-red-600":"text-blue-600",children:[" ",a.recommendation]})]})]})]}),m.jsxs(Go,{children:[m.jsx(xe,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),m.jsx(xe,{onClick:k,children:"Save"})]})]})]}),m.jsxs(Xo,{open:x,onOpenChange:b,children:[m.jsx(n_,{asChild:!0,children:m.jsxs(xe,{variant:"outline",className:"flex items-center gap-1",onClick:P,children:[m.jsx(lG,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Share Trade"})]})}),m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsx(ao,{children:m.jsx(oo,{children:"Share Trade Analysis"})}),m.jsxs("div",{className:"py-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share this trade analysis with others by copying the link below:"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(tn,{value:_,readOnly:!0,className:"flex-1",onClick:O=>O.target.select()}),m.jsx(xe,{variant:"outline",size:"icon",onClick:N,children:C?m.jsx(Cve,{className:"h-4 w-4"}):m.jsx(Mve,{className:"h-4 w-4"})})]}),m.jsx("div",{className:"mt-4 text-sm text-gray-600",children:m.jsx("p",{children:"This link contains a snapshot of your current trade analysis without requiring access to your collection."})})]}),m.jsx(Go,{children:m.jsx(xe,{variant:"outline",onClick:()=>b(!1),children:"Close"})})]})]})]}),m.jsxs(Xo,{open:y,onOpenChange:v,children:[m.jsx(n_,{asChild:!0,children:m.jsxs(xe,{variant:"outline",className:"flex items-center gap-1",children:[m.jsx(Nve,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:"Load Trade"})]})}),m.jsxs(so,{className:"sm:max-w-[425px]",children:[m.jsx(ao,{children:m.jsx(oo,{children:"Load Saved Trade"})}),m.jsx("div",{className:"py-4",children:u.length===0?m.jsx("p",{className:"text-center text-gray-500 py-4",children:"No saved trades found."}):m.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.map(O=>m.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer relative",onClick:()=>E(O),children:[m.jsx("button",{className:"absolute top-2 right-2 p-1 hover:bg-gray-200 rounded-full",onClick:L=>{L.stopPropagation(),T(O.id)},"aria-label":"Delete trade",children:m.jsx(vb,{className:"h-4 w-4"})}),m.jsx("div",{className:"font-medium",children:O.name}),m.jsx("div",{className:"text-sm text-gray-600",children:new Date(O.date).toLocaleDateString()}),m.jsxs("div",{className:"text-sm",children:[m.jsx("span",{className:O.result.recommendation==="Accept"?"text-green-600":O.result.recommendation==="Decline"?"text-red-600":"text-blue-600",children:O.result.recommendation})," • ","$",O.result.valueSideA.toFixed(2)," vs $",O.result.valueSideB.toFixed(2)]}),m.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[m.jsxs("span",{children:["Cards: ",O.cardsA.length]}),m.jsxs("span",{children:["Cards: ",O.cardsB.length]})]})]},O.id))})}),m.jsx(Go,{children:m.jsx(xe,{variant:"outline",onClick:()=>v(!1),children:"Close"})})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m.jsx(H4,{side:"A",label:"You Give",selectedCards:n,onUpdate:r}),m.jsx(H4,{side:"B",label:"You Receive",selectedCards:i,onUpdate:s})]}),l?m.jsxs("div",{className:"flex items-center justify-center p-8 bg-white rounded-lg shadow mb-8",children:[m.jsx(jl,{className:"h-8 w-8 text-blue-500 animate-spin mr-2"}),m.jsx("span",{className:"text-lg font-medium",children:"Analyzing trade..."})]}):a?m.jsx("div",{className:"mb-8",children:m.jsx(ane,{result:a})}):null,m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.length>0&&m.jsx("div",{children:m.jsx(VS,{cards:n,title:"Cards You Give"})}),i.length>0&&m.jsx("div",{children:m.jsx(VS,{cards:i,title:"Cards You Receive"})})]})]})}function uJe(){const{tradeData:t}=oA(),[e,n]=I.useState(!0),[r,i]=I.useState(null),[s,a]=I.useState(null);if(I.useEffect(()=>{if(!t){i("Invalid trade data"),n(!1);return}try{const h=decodeURIComponent(atob(t)),f=JSON.parse(h),g={...f,cardsA:f.cardsA.map(p=>({...p,id:p.id||`shared-${Math.random().toString(36).substring(2,9)}`,createdAt:p.createdAt||new Date().toISOString(),updatedAt:p.updatedAt||new Date().toISOString(),ownerId:p.ownerId||"shared",tags:p.tags||[]})),cardsB:f.cardsB.map(p=>({...p,id:p.id||`shared-${Math.random().toString(36).substring(2,9)}`,createdAt:p.createdAt||new Date().toISOString(),updatedAt:p.updatedAt||new Date().toISOString(),ownerId:p.ownerId||"shared",tags:p.tags||[]}))};a(g),n(!1)}catch(h){console.error("Error parsing trade data:",h),i("Unable to load trade data. The shared link may be invalid or corrupted."),n(!1)}},[t]),e)return m.jsx("div",{className:"container mx-auto py-8 px-4",children:m.jsxs("div",{className:"flex items-center justify-center p-12",children:[m.jsx(jl,{className:"h-8 w-8 text-blue-500 animate-spin mr-3"}),m.jsx("span",{className:"text-lg",children:"Loading shared trade..."})]})});if(r||!s)return m.jsx("div",{className:"container mx-auto py-8 px-4",children:m.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 rounded-lg flex items-start",children:[m.jsx(uG,{className:"h-6 w-6 text-red-500 mr-3 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Error Loading Trade"}),m.jsx("p",{className:"text-red-700 mt-1",children:r||"Unknown error occurred"}),m.jsx(xs,{to:"/trade-analyzer",children:m.jsxs(xe,{variant:"outline",className:"mt-4",children:[m.jsx(yB,{className:"h-4 w-4 mr-2"}),"Go to Trade Analyzer"]})})]})]})});const{result:o,cardsA:l,cardsB:c,date:u}=s,d=new Date(u).toLocaleDateString();return m.jsxs("div",{className:"container mx-auto py-8 px-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Shared Trade Analysis"}),m.jsxs("p",{className:"text-gray-600",children:["Shared on ",d]})]}),m.jsx("div",{className:"mt-4 sm:mt-0",children:m.jsx(xs,{to:"/trade-analyzer",children:m.jsxs(xe,{variant:"outline",className:"flex items-center gap-2",children:[m.jsx(yB,{className:"h-4 w-4"}),"Go to Trade Analyzer"]})})})]}),m.jsx("div",{className:"mb-8",children:m.jsx(ane,{result:o})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.length>0&&m.jsx("div",{children:m.jsx(VS,{cards:l,title:"Side A Cards"})}),c.length>0&&m.jsx("div",{children:m.jsx(VS,{cards:c,title:"Side B Cards"})})]})]})}function dJe(){return m.jsxs("div",{className:"w-full",children:[m.jsxs("section",{className:"bg-gradient-to-r from-blue-700 to-indigo-900 text-white py-20 px-6 text-center",children:[m.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Welcome to Sports Card Analyzer Pro"}),m.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto mb-6",children:"The most advanced sports card pricing and portfolio platform on the web — totally free to join."}),m.jsx(xs,{to:"/login",children:m.jsxs(xe,{size:"lg",className:"bg-white text-blue-700 font-bold text-lg hover:bg-blue-100",children:["Get Started For Free ",m.jsx(s1,{className:"ml-2 h-5 w-5"})]})})]}),m.jsxs("section",{className:"py-16 px-6 bg-gray-50 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-10",children:"Why Collectors Love Sports Card Analyzer"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[m.jsx(Df,{icon:wu,title:"Accurate Price Forecasting",text:"Leverage real market trends to see where your cards are headed next."}),m.jsx(Df,{icon:bve,title:"Dynamic Profit Calculator",text:"See ROI on every card — raw or graded — in your collection or wishlist."}),m.jsx(Df,{icon:txe,title:"In-Depth Trade Analyzer",text:"Compare any trade scenario and determine real-world fairness instantly."}),m.jsx(Df,{icon:mxe,title:"Digital Display Cases",text:"Show off your collection with sleek, shareable digital cases."}),m.jsx(Df,{icon:Axe,title:"Promos & Giveaways",text:"We regularly reward users with rare cards, swag, and insider perks."}),m.jsx(Df,{icon:Pxe,title:"Social & Content Feed",text:"Watch the latest TikToks, YouTube breakdowns, and card drops — right from your dashboard."})]})]}),m.jsx("section",{className:"bg-white py-16 px-6",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:"Coming Soon: Top Display Cases Contest!"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsx("div",{className:"w-full aspect-video",children:m.jsx("iframe",{width:"100%",height:"100%",className:"rounded-lg",src:"https://www.youtube.com/embed/YOUR_VIDEO_ID",title:"YouTube video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),m.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Coming Soon: Top Display Cases Contest!"}),m.jsx("p",{className:"mb-4 text-gray-700",children:"Show off your best display case for a chance to win exclusive prizes. Stay tuned for details and how to enter!"}),m.jsx(xs,{to:"/display-cases",children:m.jsx(xe,{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Build Your Display Case"})})]})]})]})})]})}function Df({icon:t,title:e,text:n}){return m.jsxs("div",{className:"flex flex-col items-center text-center p-4 bg-white shadow-sm rounded-md",children:[m.jsx(t,{className:"h-10 w-10 text-blue-600 mb-3"}),m.jsx("h3",{className:"text-xl font-semibold mb-1",children:e}),m.jsx("p",{className:"text-gray-600",children:n})]})}const DT=({children:t})=>{const{user:e,loading:n}=jn();return n?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsx("div",{className:"text-center",children:m.jsx("p",{className:"text-lg",children:"Loading..."})})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(Gse,{to:"/login",replace:!0})},hJe="modulepreload",fJe=function(t,e){return new URL(t,e).href},jW={},pJe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=fJe(c,r),c in jW)return;jW[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!r)for(let g=a.length-1;g>=0;g--){const p=a[g];if(p.href===c&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":hJe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function gJe(){var P,N,O,L,$;const{user:t,updateProfile:e,updateEmail:n}=jn(),{tier:r}=TZ(),[i,s]=I.useState(null),[a,o]=I.useState(!1),l=Aa();Ug();const[c,u]=I.useState(""),[d,h]=I.useState(""),[f,g]=I.useState(""),[p,y]=I.useState(""),[v,x]=I.useState(""),[b,_]=I.useState({name:"",email:"",createdAt:null,photoURL:"",subscriptionTier:"rookie",displayCaseCount:0,cardCount:0});I.useEffect(()=>{(async()=>{var B;if(t)try{const D=await Ye(Ie(de,"users",t.uid));if(D.exists()){const z=D.data();_({name:t.displayName||"User",email:t.email||"No email",photoURL:t.photoURL,createdAt:(B=t.metadata)!=null&&B.creationTime?new Date(t.metadata.creationTime):new Date,subscriptionTier:z.subscriptionTier||"rookie",displayCaseCount:z.displayCaseCount||0,cardCount:z.cardCount||0}),u(t.displayName||""),h(t.email||"")}}catch(D){console.error("Error fetching user data:",D),ce.error("Failed to load user data")}})()},[t]);const w=async()=>{if(t){o(!0);try{console.log(`Creating portal session for user: ${t.uid}`);const F=`${Wa}/api/create-portal-session`;console.log(`Using API URL: ${F}`);const B=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.uid})});if(!B.ok){const z=await B.json();console.error("API Error:",z),ce.error(`Failed to create portal session: ${z.message||B.statusText}`),o(!1);return}const D=await B.json();console.log("Portal session created:",D),D.url?setTimeout(()=>{window.location.href=D.url},500):(console.error("No URL in response:",D),ce.error("Failed to create portal session: No URL returned"),o(!1))}catch(F){console.error("Error creating portal session:",F),ce.error(`Failed to create portal session: ${F instanceof Error?F.message:"Unknown error"}`),o(!1)}}},C=async()=>{if(t){if(!c.trim()){ce.error("Username cannot be empty");return}o(!0);try{await e({displayName:c}),await Yt(Ie(de,"users",t.uid),{displayName:c}),ce.success("Username updated successfully")}catch(F){console.error("Error updating username:",F),ce.error(F.message||"Failed to update username")}finally{o(!1)}}},A=async()=>{if(t){if(!d.trim()){ce.error("Email cannot be empty");return}o(!0);try{await n(d),await Yt(Ie(de,"users",t.uid),{email:d}),ce.success("Email updated successfully")}catch(F){console.error("Error updating email:",F),ce.error(F.message||"Failed to update email")}finally{o(!1)}}},k=async()=>{if(t){if(!f||!p||!v){ce.error("All password fields are required");return}if(p!==v){ce.error("New passwords do not match");return}if(p.length<6){ce.error("Password must be at least 6 characters long");return}o(!0);try{const F=Wh.credential(t.email,f);await $le(t,F),await Yle(t,p),ce.success("Password updated successfully"),g(""),y(""),x("")}catch(F){console.error("Error updating password:",F),F.code==="auth/wrong-password"?ce.error("Current password is incorrect"):ce.error(F.message||"Failed to update password")}finally{o(!1)}}},E=async F=>{if(t){o(!0);try{console.log(`Creating checkout session for plan ID: ${F}, userId: ${t.uid}`);const B=`${Wa}/api/create-checkout-session`;console.log(`Using API URL: ${B}`);const D={priceId:F,userId:t.uid,planName:F.includes("star")?"Star Plan":"Veteran Plan",interval:F.includes("annual")?"annual":"monthly"};console.log("Sending request with data:",JSON.stringify(D));const z=await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!z.ok){const X=await z.json();console.error("API Error:",X),ce.error(`Failed to create checkout session: ${X.message||z.statusText}`),o(!1);return}const W=await z.json();console.log("Checkout session created:",W),W.url?setTimeout(()=>{window.location.href=W.url},500):(console.error("No URL in response:",W),ce.error("Failed to create checkout session: No URL returned"),o(!1))}catch(B){console.error("Error creating checkout session:",B),ce.error(`Failed to create checkout session: ${B instanceof Error?B.message:"Unknown error"}`),o(!1)}}},T=F=>{switch(F){case"veteran":return"bg-gold text-black";case"star":return"bg-silver text-black";default:return"bg-gray-500 text-white"}};return t?m.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[m.jsxs(Cr,{children:[m.jsx(Fr,{className:"pb-4",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs(P1,{className:"h-16 w-16",children:[m.jsx(I1,{src:b.photoURL||"",alt:b.name}),m.jsx(O1,{children:((N=(P=b.name)==null?void 0:P[0])==null?void 0:N.toUpperCase())||"U"})]}),m.jsxs("div",{children:[m.jsx($r,{className:"text-2xl",children:b.name}),m.jsx(es,{children:b.email}),m.jsx("div",{className:"mt-1",children:m.jsx(Io,{className:T(r||b.subscriptionTier),children:r==="veteran"?"Veteran Plan":r==="star"?"Star Plan":"Rookie Plan"})})]})]})}),m.jsx(ui,{children:m.jsx("div",{className:"space-y-4",children:m.jsx("div",{children:m.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Member since"}),m.jsx("p",{children:((O=b.createdAt)==null?void 0:O.toLocaleDateString())||"Unknown"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscription"}),m.jsx("p",{children:r==="veteran"?"Veteran Plan":r==="star"?"Star Plan":"Rookie Plan"})]})]})})})})]}),m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsx($r,{children:"Account Settings"}),m.jsx(es,{children:"Update your account information"})]}),m.jsxs(ui,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{children:"Profile Picture"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(P1,{className:"h-20 w-20",children:[m.jsx(I1,{src:b.photoURL||"",alt:b.name}),m.jsx(O1,{children:(($=(L=b.name)==null?void 0:L[0])==null?void 0:$.toUpperCase())||"U"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(tn,{id:"profile-picture",type:"file",accept:"image/*",onChange:async F=>{if(!t||!F.target.files||!F.target.files[0])return;const B=F.target.files[0];o(!0);try{const{getStorage:D,ref:z,uploadBytes:W,getDownloadURL:X}=await pJe(async()=>{const{getStorage:K,ref:fe,uploadBytes:Ne,getDownloadURL:re}=await Promise.resolve().then(()=>hpe);return{getStorage:K,ref:fe,uploadBytes:Ne,getDownloadURL:re}},void 0,import.meta.url),q=D(),J=z(q,`user-profiles/${t.uid}/${B.name}`),ae=await W(J,B),_e=await X(ae.ref);await e({photoURL:_e}),_({...b,photoURL:_e}),ce.success("Profile picture updated successfully")}catch(D){console.error("Error updating profile picture:",D),ce.error(D.message||"Failed to update profile picture")}finally{o(!1)}}}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG or GIF, max 2MB"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"username",children:"Username"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(tn,{id:"username",value:c,onChange:F=>u(F.target.value),placeholder:"Enter new username"}),m.jsx(xe,{onClick:C,disabled:a||!c.trim(),children:"Update"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(zn,{htmlFor:"email",children:"Email"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(tn,{id:"email",type:"email",value:d,onChange:F=>h(F.target.value),placeholder:"Enter new email"}),m.jsx(xe,{onClick:A,disabled:a||!d.trim(),children:"Update"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(zn,{children:"Password"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(tn,{type:"password",value:f,onChange:F=>g(F.target.value),placeholder:"Current password"}),m.jsx(tn,{type:"password",value:p,onChange:F=>y(F.target.value),placeholder:"New password"}),m.jsx(tn,{type:"password",value:v,onChange:F=>x(F.target.value),placeholder:"Confirm new password"}),m.jsx(xe,{onClick:k,disabled:a||!f||!p||!v,children:"Update Password"})]})]})]})]}),m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsx($r,{children:"Subscription Management"}),m.jsx(es,{children:"Upgrade your plan to unlock more features"})]}),m.jsx(ui,{children:r==="rookie"?m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsx($r,{children:"Star Plan"}),m.jsx(es,{children:"Perfect for serious collectors"})]}),m.jsx(ui,{children:m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:"Everything in Rookie Plan"}),m.jsx("li",{children:"Advanced analytics"}),m.jsx("li",{children:"Price predictions"}),m.jsx("li",{children:"Grading recommendations"}),m.jsx("li",{children:"Priority support"})]})}),m.jsxs(Xy,{className:"flex gap-2",children:[m.jsx(xe,{onClick:()=>E("price_1RDB4fGCix0pRkbmlNdsyo7s"),disabled:a,children:"Monthly"}),m.jsx(xe,{onClick:()=>E("price_1RN5uOGCix0pRkbmK2kCjqw4"),disabled:a,children:"Annual"})]})]}),m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsx($r,{children:"Veteran Plan"}),m.jsx(es,{children:"For professional collectors"})]}),m.jsx(ui,{children:m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:"Everything in Star Plan"}),m.jsx("li",{children:"Bulk card management"}),m.jsx("li",{children:"Custom reports"}),m.jsx("li",{children:"API access"}),m.jsx("li",{children:"Dedicated support"})]})}),m.jsxs(Xy,{className:"flex gap-2",children:[m.jsx(xe,{onClick:()=>E("price_1RDB4fGCix0pRkbmmPrBX8FE"),disabled:a,children:"Monthly"}),m.jsx(xe,{onClick:()=>E("price_1RN5vwGCix0pRkbmT65EllS1"),disabled:a,children:"Annual"})]})]})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{children:["You are currently on the ",r," plan."]}),m.jsx(xe,{onClick:w,disabled:a,children:"Manage Subscription"})]})})]})]}):m.jsx("div",{className:"container mx-auto py-8",children:m.jsxs(Cr,{children:[m.jsxs(Fr,{children:[m.jsx($r,{children:"Profile"}),m.jsx(es,{children:"You must be logged in to view your profile"})]}),m.jsx(Xy,{children:m.jsx(xe,{onClick:()=>l("/login"),children:"Login"})})]})})}function mJe(){const{user:t}=jn(),[e,n]=I.useState("monthly"),[r,i]=I.useState(!1),[s,a]=I.useState(null),o=[{id:"free",name:"Free",monthlyPrice:0,annualPrice:0,features:["Basic Card Tracking","5 Display Cases","Limited Collection Size","Community Access"],priceId:{monthly:"price_1RN5t3GCix0pRkbmBX32A7AG",annual:"price_1RN5t3GCix0pRkbmBX32A7AG"}},{id:"star",name:"Star Rookie",monthlyPrice:9.99,annualPrice:99.99,features:["Basic Collection Management","Market Price Tracking","Trade Analyzer Access","25 Display Cases"],priceId:{monthly:"price_1RDB4fGCix0pRkbmlNdsyo7s",annual:"price_1RN5uOGCix0pRkbmK2kCjqw4"}},{id:"veteran",name:"Hall of Fame",monthlyPrice:19.99,annualPrice:199.99,features:["Advanced Collection Management","Real-time Market Analytics","Price Prediction Tools","Unlimited Display Cases","Priority Support"],priceId:{monthly:"price_1RDB4fGCix0pRkbmmPrBX8FE",annual:"price_1RN5vwGCix0pRkbmT65EllS1"},recommended:!0}],l=!1;I.useEffect(()=>{},[l]);const c=async u=>{if(u==="free"){window.location.href="/profile";return}if(!t){window.location.href="/login?redirect=pricing";return}i(!0),a(null);try{const d=o.find(p=>p.id===u);if(!d)throw new Error("Invalid plan selected");const h=d.priceId[e];console.log(`Subscribing to ${d.name} with price ID: ${h}`);const f=await fetch("http://localhost:3001/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:h,userId:t.uid,planName:d.name,interval:e})}),g=await f.json();if(!f.ok){const p=g.message||`Server error: ${f.status}`;console.error("Checkout error:",p),a(`Failed to start checkout process: ${p}`);return}g.url?window.location.href=g.url:a("No checkout URL in response. Please try again or contact support.")}catch(d){console.error("Error creating checkout session:",d);const h=d instanceof Error?d.message:"Unknown error occurred";a(`Failed to start checkout process: ${h}`)}finally{i(!1)}};return m.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-12",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Choose Your Subscription Plan"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get access to premium features and take your sports card collection to the next level"}),s&&m.jsxs("div",{className:"mt-4 p-4 bg-red-100 text-red-800 rounded-md max-w-2xl mx-auto",children:[s,m.jsx("div",{className:"mt-2 text-sm",children:"The server might be offline or there could be an issue with Stripe. Please try again later or contact support."})]}),m.jsxs("div",{className:"flex justify-center mt-8 bg-gray-100 p-1 rounded-lg inline-flex",children:[m.jsx("button",{onClick:()=>n("monthly"),className:`px-4 py-2 rounded-md ${e==="monthly"?"bg-white shadow-sm":"text-gray-600"}`,children:"Monthly"}),m.jsxs("button",{onClick:()=>n("annual"),className:`px-4 py-2 rounded-md ${e==="annual"?"bg-white shadow-sm":"text-gray-600"}`,children:["Annual ",m.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Save 15%"})]})]})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:o.map(u=>m.jsxs(Cr,{className:`overflow-hidden ${u.recommended?"border-blue-500 border-2":""}`,children:[u.recommended&&m.jsx("div",{className:"bg-blue-500 text-white text-center py-1 text-sm font-medium",children:"RECOMMENDED"}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-2xl font-bold",children:u.name}),m.jsxs("div",{className:"mt-4 mb-6",children:[m.jsxs("span",{className:"text-4xl font-bold",children:["$",e==="monthly"?u.monthlyPrice:u.annualPrice]}),m.jsx("span",{className:"text-gray-600",children:u.id==="free"?"":e==="monthly"?"/month":"/year"})]}),m.jsx("ul",{className:"space-y-3 mb-8",children:u.features.map((d,h)=>m.jsxs("li",{className:"flex items-start",children:[m.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m.jsx("span",{children:d})]},h))}),m.jsx(xe,{onClick:()=>c(u.id),disabled:r,className:`w-full py-2 ${u.id==="free"?"bg-gray-500 hover:bg-gray-600":"bg-blue-600 hover:bg-blue-700"}`,children:u.id==="free"?"Start Free":r?"Processing...":"Subscribe Now"}),l]})]},u.id))}),m.jsxs("div",{className:"text-center mt-12 text-gray-600 text-sm",children:[m.jsx("p",{children:"Paid plans include a 7-day free trial. Cancel anytime."}),m.jsx("p",{className:"mt-2",children:"Questions? Contact our support team at support@sportscardanalyzer.com"})]})]})}function yJe(){return I.useEffect(()=>{const t=document.createElement("style");t.id="force-grid-styles",t.innerHTML=`
      /* Display case grid styles */
      .display-case-grid, 
      .display-card-grid {
        display: grid !important;
        grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
        gap: 1rem !important;
        width: 100% !important;
      }

      /* Responsive breakpoints */
      @media (max-width: 1023px) {
        .display-case-grid,
        .display-card-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
        }
      }

      @media (max-width: 767px) {
        .display-case-grid,
        .display-card-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
        }
      }

      @media (max-width: 639px) {
        .display-case-grid,
        .display-card-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
        }
      }

      /* Force grid containers to be full width */
      [class*="container"] {
        max-width: 100% !important;
      }
    `,document.head.appendChild(t);function e(){setTimeout(()=>{const r=document.querySelectorAll(".display-case-grid"),i=document.querySelectorAll(".display-card-grid");console.log("GridFixer: Found",r.length,"display case grids and",i.length,"card grids"),r.forEach(s=>{const a=s;a.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
            gap: 1rem !important;
            width: 100% !important;
          `}),i.forEach(s=>{const a=s;a.style.cssText=`
            display: grid !important;
            grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
            gap: 1rem !important;
            width: 100% !important;
          `})},500)}e();const n=new MutationObserver(r=>{e()});return n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),()=>{n.disconnect();const r=document.getElementById("force-grid-styles");r&&r.remove()}},[]),null}function vJe(){return m.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"About Sports Card Analyzer Pro"}),m.jsx("p",{children:"Sports Card Analyzer Pro is a powerful web application built to help collectors track, value, and analyze sports cards in real time. With tools for market analysis, collection tracking, and trade evaluation, our goal is to make your collecting smarter, easier, and more profitable."}),m.jsx("p",{children:"This project was created by a passionate collector to bridge the gap between raw eBay market data and real-time decision-making tools. Whether you collect vintage, modern, or prospecting cards, this app was made for you."}),m.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"FAQs"}),m.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Is this app free?"})," You can get started for free with limited features. Advanced tools are available through a paid subscription."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Where does the pricing data come from?"})," We scrape eBay data in real-time and apply AI models to analyze it."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Can I export my collection?"})," Yes, you can export your collection to CSV from the dashboard."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"How do I contact support?"})," Email us at ",m.jsx("a",{className:"text-blue-500 underline",href:"mailto:admin@sportsanalyzer.com",children:"admin@sportsanalyzer.com"}),"."]})]}),m.jsx("h2",{className:"text-2xl font-semibold mt-6",children:"Legal"}),m.jsxs("p",{children:["Read our ",m.jsx("a",{href:"/privacy",className:"text-blue-500 underline",children:"Privacy Policy"})," and ",m.jsx("a",{href:"/terms",className:"text-blue-500 underline",children:"Terms & Conditions"})," to understand how your data is used."]}),m.jsxs("section",{className:"mb-8",id:"privacy",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Privacy Policy"}),m.jsx("p",{children:"We do not sell or share your data. We collect only what's necessary to provide you with an optimal user experience. Data such as your collection, account info, and browsing behavior stays private and secure."})]}),m.jsxs("section",{className:"mb-8",id:"terms",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Terms & Conditions"}),m.jsx("p",{children:"By using Sports Card Analyzer, you agree not to misuse the platform for illegal purposes, scraping data, or violating any applicable laws. We reserve the right to revoke access for violations."})]}),m.jsxs("section",{className:"mb-8",id:"cookies",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Cookies"}),m.jsx("p",{children:"We use essential cookies to keep you logged in and to enhance functionality. You can clear cookies in your browser at any time."})]})]})}function xJe(){return m.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),m.jsx("p",{className:"mb-4",children:"At Sports Card Analyzer Pro, we value your privacy. This policy explains how we collect, use, and protect your data."}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"What We Collect"}),m.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[m.jsx("li",{children:"Personal account info (e.g., email address)"}),m.jsx("li",{children:"Card collection and display data you add"}),m.jsx("li",{children:"Basic usage analytics (no sensitive data)"})]}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"How We Use It"}),m.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[m.jsx("li",{children:"To operate your account and collection"}),m.jsx("li",{children:"To improve app performance and experience"}),m.jsx("li",{children:"To contact you with important updates"})]}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Your Rights"}),m.jsxs("p",{className:"mb-4",children:["You can request deletion of your data at any time by emailing ",m.jsx("a",{href:"mailto:admin@sportsanalyzer.com",className:"text-blue-600 underline",children:"admin@sportsanalyzer.com"}),"."]}),m.jsx("p",{className:"text-sm text-gray-600 mt-6",children:"Last updated: May 2025"})]})}function bJe(){return m.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms & Conditions"}),m.jsx("p",{className:"mb-4",children:"Welcome to Sports Card Analyzer Pro. By using our app, you agree to the following terms and conditions. Please read them carefully."}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Use of Service"}),m.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[m.jsx("li",{children:"You must be at least 13 years old to use this app."}),m.jsx("li",{children:"Do not use the app for unlawful or prohibited activities."}),m.jsx("li",{children:"Respect the intellectual property rights of others."})]}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Subscriptions & Payments"}),m.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[m.jsx("li",{children:"Some features require a paid subscription."}),m.jsx("li",{children:"All payments are processed securely. No payment info is stored on our servers."}),m.jsx("li",{children:"Subscriptions can be cancelled at any time from your account settings."})]}),m.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Liability"}),m.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[m.jsx("li",{children:"We do our best to provide accurate data, but we do not guarantee the accuracy or completeness of any information."}),m.jsx("li",{children:"Sports Card Analyzer Pro is not responsible for any losses or damages resulting from use of the app."})]}),m.jsx("p",{className:"text-sm text-gray-600 mt-6",children:"Last updated: May 2025"})]})}const wJe=()=>(console.log("App component rendering..."),m.jsxs(m.Fragment,{children:[m.jsx(vTe,{children:m.jsx(WNe,{children:m.jsxs(Kse,{children:[m.jsx(Pi,{path:"/",element:m.jsx(dJe,{})}),m.jsx(Pi,{path:"/display/:publicId",element:m.jsx(hOe,{})}),m.jsx(Pi,{path:"/dashboard",element:m.jsx(DT,{children:m.jsx(X1e,{})})}),m.jsx(Pi,{path:"/collection",element:m.jsx(DT,{children:m.jsx(fTe,{})})}),m.jsx(Pi,{path:"/market-analyzer",element:m.jsx(sRe,{})}),m.jsx(Pi,{path:"/trade-analyzer",element:m.jsx(DT,{children:m.jsx(cJe,{})})}),m.jsx(Pi,{path:"/trade-analyzer/share/:tradeData",element:m.jsx(uJe,{})}),m.jsx(Pi,{path:"/login",element:m.jsx(gTe,{})}),m.jsx(Pi,{path:"/display-cases",element:m.jsx(mOe,{})}),m.jsx(Pi,{path:"/display-cases/:id",element:m.jsx(bOe,{})}),m.jsx(Pi,{path:"/profile",element:m.jsx(gJe,{})}),m.jsx(Pi,{path:"/pricing",element:m.jsx(mJe,{})}),m.jsx(Pi,{path:"/about",element:m.jsx(vJe,{})}),m.jsx(Pi,{path:"/privacy",element:m.jsx(xJe,{})}),m.jsx(Pi,{path:"/terms",element:m.jsx(bJe,{})})]})})}),m.jsx(Vpe,{position:"top-right"}),m.jsx(yJe,{})]}));console.log("Starting app initialization...");class _Je extends U.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("React Error Boundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?m.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto",fontFamily:"system-ui"},children:[m.jsx("h1",{children:"Something went wrong"}),m.jsx("div",{style:{padding:"10px",background:"#f8f8f8",borderRadius:"4px",marginBottom:"20px"},children:m.jsx("p",{children:this.state.error&&this.state.error.toString()})}),m.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[m.jsx("summary",{children:"Error Details"}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const SJe=()=>{const[t,e]=I.useState(!0);return I.useEffect(()=>{console.log("AppLoader mounted");const n=setTimeout(()=>{e(!1),console.log("Loader timeout reached")},3e3);return()=>clearTimeout(n)},[]),t?m.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontFamily:"system-ui"},children:[m.jsx("h1",{children:"Loading Sports Card Analyzer..."}),m.jsx("p",{children:"If this screen persists, there might be an issue with the application."})]}):m.jsx(_Je,{children:m.jsx(wJe,{})})},AJe=new oge,h_=document.getElementById("root");console.log("Root element:",h_);if(h_)try{Ny.createRoot(h_).render(m.jsx(U.StrictMode,{children:m.jsx(hge,{client:AJe,children:m.jsx(rae,{children:m.jsx(Upe,{children:m.jsx(Hpe,{children:m.jsx(SJe,{})})})})})})),console.log("App rendered successfully")}catch(t){console.error("Error rendering app:",t),Ny.createRoot(h_).render(m.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui"},children:[m.jsx("h1",{children:"Failed to render application"}),m.jsxs("p",{children:["Error: ",t.message]}),m.jsx("pre",{children:t.stack})]}))}else{console.error("Failed to find root element!");const t=document.createElement("div");t.id="root",document.body.appendChild(t),Ny.createRoot(t).render(m.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui"},children:[m.jsx("h1",{children:"Error: Root element not found"}),m.jsx("p",{children:"The application could not find the root element to mount to."})]}))}
